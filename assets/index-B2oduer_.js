function _R(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in r)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(r,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function yS(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Hg={exports:{}},_u={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kE;function wR(){if(kE)return _u;kE=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,i,o){var c=null;if(o!==void 0&&(c=""+o),i.key!==void 0&&(c=""+i.key),"key"in i){o={};for(var f in i)f!=="key"&&(o[f]=i[f])}else o=i;return i=o.ref,{$$typeof:r,type:n,key:c,ref:i!==void 0?i:null,props:o}}return _u.Fragment=e,_u.jsx=t,_u.jsxs=t,_u}var OE;function ER(){return OE||(OE=1,Hg.exports=wR()),Hg.exports}var C=ER(),Fg={exports:{}},Le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PE;function bR(){if(PE)return Le;PE=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function w(O){return O===null||typeof O!="object"?null:(O=_&&O[_]||O["@@iterator"],typeof O=="function"?O:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,L={};function A(O,$,fe){this.props=O,this.context=$,this.refs=L,this.updater=fe||T}A.prototype.isReactComponent={},A.prototype.setState=function(O,$){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,$,"setState")},A.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function B(){}B.prototype=A.prototype;function H(O,$,fe){this.props=O,this.context=$,this.refs=L,this.updater=fe||T}var z=H.prototype=new B;z.constructor=H,I(z,A.prototype),z.isPureReactComponent=!0;var ee=Array.isArray,J={H:null,A:null,T:null,S:null,V:null},re=Object.prototype.hasOwnProperty;function M(O,$,fe,ue,ge,we){return fe=we.ref,{$$typeof:r,type:O,key:$,ref:fe!==void 0?fe:null,props:we}}function D(O,$){return M(O.type,$,void 0,void 0,void 0,O.props)}function x(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function P(O){var $={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(fe){return $[fe]})}var U=/\/+/g;function j(O,$){return typeof O=="object"&&O!==null&&O.key!=null?P(""+O.key):$.toString(36)}function k(){}function Ee(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(k,k):(O.status="pending",O.then(function($){O.status==="pending"&&(O.status="fulfilled",O.value=$)},function($){O.status==="pending"&&(O.status="rejected",O.reason=$)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Se(O,$,fe,ue,ge){var we=typeof O;(we==="undefined"||we==="boolean")&&(O=null);var ye=!1;if(O===null)ye=!0;else switch(we){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(O.$$typeof){case r:case e:ye=!0;break;case y:return ye=O._init,Se(ye(O._payload),$,fe,ue,ge)}}if(ye)return ge=ge(O),ye=ue===""?"."+j(O,0):ue,ee(ge)?(fe="",ye!=null&&(fe=ye.replace(U,"$&/")+"/"),Se(ge,$,fe,"",function(un){return un})):ge!=null&&(x(ge)&&(ge=D(ge,fe+(ge.key==null||O&&O.key===ge.key?"":(""+ge.key).replace(U,"$&/")+"/")+ye)),$.push(ge)),1;ye=0;var et=ue===""?".":ue+":";if(ee(O))for(var Oe=0;Oe<O.length;Oe++)ue=O[Oe],we=et+j(ue,Oe),ye+=Se(ue,$,fe,we,ge);else if(Oe=w(O),typeof Oe=="function")for(O=Oe.call(O),Oe=0;!(ue=O.next()).done;)ue=ue.value,we=et+j(ue,Oe++),ye+=Se(ue,$,fe,we,ge);else if(we==="object"){if(typeof O.then=="function")return Se(Ee(O),$,fe,ue,ge);throw $=String(O),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return ye}function Y(O,$,fe){if(O==null)return O;var ue=[],ge=0;return Se(O,ue,"","",function(we){return $.call(fe,we,ge++)}),ue}function ae(O){if(O._status===-1){var $=O._result;$=$(),$.then(function(fe){(O._status===0||O._status===-1)&&(O._status=1,O._result=fe)},function(fe){(O._status===0||O._status===-1)&&(O._status=2,O._result=fe)}),O._status===-1&&(O._status=0,O._result=$)}if(O._status===1)return O._result.default;throw O._result}var de=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function oe(){}return Le.Children={map:Y,forEach:function(O,$,fe){Y(O,function(){$.apply(this,arguments)},fe)},count:function(O){var $=0;return Y(O,function(){$++}),$},toArray:function(O){return Y(O,function($){return $})||[]},only:function(O){if(!x(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Le.Component=A,Le.Fragment=t,Le.Profiler=i,Le.PureComponent=H,Le.StrictMode=n,Le.Suspense=h,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,Le.__COMPILER_RUNTIME={__proto__:null,c:function(O){return J.H.useMemoCache(O)}},Le.cache=function(O){return function(){return O.apply(null,arguments)}},Le.cloneElement=function(O,$,fe){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ue=I({},O.props),ge=O.key,we=void 0;if($!=null)for(ye in $.ref!==void 0&&(we=void 0),$.key!==void 0&&(ge=""+$.key),$)!re.call($,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&$.ref===void 0||(ue[ye]=$[ye]);var ye=arguments.length-2;if(ye===1)ue.children=fe;else if(1<ye){for(var et=Array(ye),Oe=0;Oe<ye;Oe++)et[Oe]=arguments[Oe+2];ue.children=et}return M(O.type,ge,void 0,void 0,we,ue)},Le.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:o,_context:O},O},Le.createElement=function(O,$,fe){var ue,ge={},we=null;if($!=null)for(ue in $.key!==void 0&&(we=""+$.key),$)re.call($,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(ge[ue]=$[ue]);var ye=arguments.length-2;if(ye===1)ge.children=fe;else if(1<ye){for(var et=Array(ye),Oe=0;Oe<ye;Oe++)et[Oe]=arguments[Oe+2];ge.children=et}if(O&&O.defaultProps)for(ue in ye=O.defaultProps,ye)ge[ue]===void 0&&(ge[ue]=ye[ue]);return M(O,we,void 0,void 0,null,ge)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(O){return{$$typeof:f,render:O}},Le.isValidElement=x,Le.lazy=function(O){return{$$typeof:y,_payload:{_status:-1,_result:O},_init:ae}},Le.memo=function(O,$){return{$$typeof:m,type:O,compare:$===void 0?null:$}},Le.startTransition=function(O){var $=J.T,fe={};J.T=fe;try{var ue=O(),ge=J.S;ge!==null&&ge(fe,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(oe,de)}catch(we){de(we)}finally{J.T=$}},Le.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},Le.use=function(O){return J.H.use(O)},Le.useActionState=function(O,$,fe){return J.H.useActionState(O,$,fe)},Le.useCallback=function(O,$){return J.H.useCallback(O,$)},Le.useContext=function(O){return J.H.useContext(O)},Le.useDebugValue=function(){},Le.useDeferredValue=function(O,$){return J.H.useDeferredValue(O,$)},Le.useEffect=function(O,$,fe){var ue=J.H;if(typeof fe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ue.useEffect(O,$)},Le.useId=function(){return J.H.useId()},Le.useImperativeHandle=function(O,$,fe){return J.H.useImperativeHandle(O,$,fe)},Le.useInsertionEffect=function(O,$){return J.H.useInsertionEffect(O,$)},Le.useLayoutEffect=function(O,$){return J.H.useLayoutEffect(O,$)},Le.useMemo=function(O,$){return J.H.useMemo(O,$)},Le.useOptimistic=function(O,$){return J.H.useOptimistic(O,$)},Le.useReducer=function(O,$,fe){return J.H.useReducer(O,$,fe)},Le.useRef=function(O){return J.H.useRef(O)},Le.useState=function(O){return J.H.useState(O)},Le.useSyncExternalStore=function(O,$,fe){return J.H.useSyncExternalStore(O,$,fe)},Le.useTransition=function(){return J.H.useTransition()},Le.version="19.1.1",Le}var LE;function iv(){return LE||(LE=1,Fg.exports=bR()),Fg.exports}var N=iv();const te=yS(N),vS=_R({__proto__:null,default:te},[N]);var qg={exports:{}},wu={},Yg={exports:{}},zg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VE;function TR(){return VE||(VE=1,(function(r){function e(Y,ae){var de=Y.length;Y.push(ae);e:for(;0<de;){var oe=de-1>>>1,O=Y[oe];if(0<i(O,ae))Y[oe]=ae,Y[de]=O,de=oe;else break e}}function t(Y){return Y.length===0?null:Y[0]}function n(Y){if(Y.length===0)return null;var ae=Y[0],de=Y.pop();if(de!==ae){Y[0]=de;e:for(var oe=0,O=Y.length,$=O>>>1;oe<$;){var fe=2*(oe+1)-1,ue=Y[fe],ge=fe+1,we=Y[ge];if(0>i(ue,de))ge<O&&0>i(we,ue)?(Y[oe]=we,Y[ge]=de,oe=ge):(Y[oe]=ue,Y[fe]=de,oe=fe);else if(ge<O&&0>i(we,de))Y[oe]=we,Y[ge]=de,oe=ge;else break e}}return ae}function i(Y,ae){var de=Y.sortIndex-ae.sortIndex;return de!==0?de:Y.id-ae.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var c=Date,f=c.now();r.unstable_now=function(){return c.now()-f}}var h=[],m=[],y=1,_=null,w=3,T=!1,I=!1,L=!1,A=!1,B=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function ee(Y){for(var ae=t(m);ae!==null;){if(ae.callback===null)n(m);else if(ae.startTime<=Y)n(m),ae.sortIndex=ae.expirationTime,e(h,ae);else break;ae=t(m)}}function J(Y){if(L=!1,ee(Y),!I)if(t(h)!==null)I=!0,re||(re=!0,j());else{var ae=t(m);ae!==null&&Se(J,ae.startTime-Y)}}var re=!1,M=-1,D=5,x=-1;function P(){return A?!0:!(r.unstable_now()-x<D)}function U(){if(A=!1,re){var Y=r.unstable_now();x=Y;var ae=!0;try{e:{I=!1,L&&(L=!1,H(M),M=-1),T=!0;var de=w;try{t:{for(ee(Y),_=t(h);_!==null&&!(_.expirationTime>Y&&P());){var oe=_.callback;if(typeof oe=="function"){_.callback=null,w=_.priorityLevel;var O=oe(_.expirationTime<=Y);if(Y=r.unstable_now(),typeof O=="function"){_.callback=O,ee(Y),ae=!0;break t}_===t(h)&&n(h),ee(Y)}else n(h);_=t(h)}if(_!==null)ae=!0;else{var $=t(m);$!==null&&Se(J,$.startTime-Y),ae=!1}}break e}finally{_=null,w=de,T=!1}ae=void 0}}finally{ae?j():re=!1}}}var j;if(typeof z=="function")j=function(){z(U)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,Ee=k.port2;k.port1.onmessage=U,j=function(){Ee.postMessage(null)}}else j=function(){B(U,0)};function Se(Y,ae){M=B(function(){Y(r.unstable_now())},ae)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(Y){switch(w){case 1:case 2:case 3:var ae=3;break;default:ae=w}var de=w;w=ae;try{return Y()}finally{w=de}},r.unstable_requestPaint=function(){A=!0},r.unstable_runWithPriority=function(Y,ae){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var de=w;w=Y;try{return ae()}finally{w=de}},r.unstable_scheduleCallback=function(Y,ae,de){var oe=r.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?oe+de:oe):de=oe,Y){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=de+O,Y={id:y++,callback:ae,priorityLevel:Y,startTime:de,expirationTime:O,sortIndex:-1},de>oe?(Y.sortIndex=de,e(m,Y),t(h)===null&&Y===t(m)&&(L?(H(M),M=-1):L=!0,Se(J,de-oe))):(Y.sortIndex=O,e(h,Y),I||T||(I=!0,re||(re=!0,j()))),Y},r.unstable_shouldYield=P,r.unstable_wrapCallback=function(Y){var ae=w;return function(){var de=w;w=ae;try{return Y.apply(this,arguments)}finally{w=de}}}})(zg)),zg}var UE;function SR(){return UE||(UE=1,Yg.exports=TR()),Yg.exports}var Gg={exports:{}},Dn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BE;function DR(){if(BE)return Dn;BE=1;var r=iv();function e(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(h,m,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:_==null?null:""+_,children:h,containerInfo:m,implementation:y}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Dn.createPortal=function(h,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(h,m,null,y)},Dn.flushSync=function(h){var m=c.T,y=n.p;try{if(c.T=null,n.p=2,h)return h()}finally{c.T=m,n.p=y,n.d.f()}},Dn.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,n.d.C(h,m))},Dn.prefetchDNS=function(h){typeof h=="string"&&n.d.D(h)},Dn.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var y=m.as,_=f(y,m.crossOrigin),w=typeof m.integrity=="string"?m.integrity:void 0,T=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?n.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:w,fetchPriority:T}):y==="script"&&n.d.X(h,{crossOrigin:_,integrity:w,fetchPriority:T,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Dn.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=f(m.as,m.crossOrigin);n.d.M(h,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&n.d.M(h)},Dn.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,_=f(y,m.crossOrigin);n.d.L(h,y,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Dn.preloadModule=function(h,m){if(typeof h=="string")if(m){var y=f(m.as,m.crossOrigin);n.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else n.d.m(h)},Dn.requestFormReset=function(h){n.d.r(h)},Dn.unstable_batchedUpdates=function(h,m){return h(m)},Dn.useFormState=function(h,m,y){return c.H.useFormState(h,m,y)},Dn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Dn.version="19.1.1",Dn}var jE;function _S(){if(jE)return Gg.exports;jE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Gg.exports=DR(),Gg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HE;function CR(){if(HE)return wu;HE=1;var r=SR(),e=iv(),t=_S();function n(a){var s="https://react.dev/errors/"+a;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var s=a,l=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(l=s.return),a=s.return;while(a)}return s.tag===3?l:null}function c(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function f(a){if(o(a)!==a)throw Error(n(188))}function h(a){var s=a.alternate;if(!s){if(s=o(a),s===null)throw Error(n(188));return s!==a?null:a}for(var l=a,u=s;;){var p=l.return;if(p===null)break;var g=p.alternate;if(g===null){if(u=p.return,u!==null){l=u;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===l)return f(p),a;if(g===u)return f(p),s;g=g.sibling}throw Error(n(188))}if(l.return!==u.return)l=p,u=g;else{for(var b=!1,S=p.child;S;){if(S===l){b=!0,l=p,u=g;break}if(S===u){b=!0,u=p,l=g;break}S=S.sibling}if(!b){for(S=g.child;S;){if(S===l){b=!0,l=g,u=p;break}if(S===u){b=!0,u=g,l=p;break}S=S.sibling}if(!b)throw Error(n(189))}}if(l.alternate!==u)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?a:s}function m(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a;for(a=a.child;a!==null;){if(s=m(a),s!==null)return s;a=a.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),H=Symbol.for("react.consumer"),z=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function j(a){return a===null||typeof a!="object"?null:(a=U&&a[U]||a["@@iterator"],typeof a=="function"?a:null)}var k=Symbol.for("react.client.reference");function Ee(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===k?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case I:return"Fragment";case A:return"Profiler";case L:return"StrictMode";case J:return"Suspense";case re:return"SuspenseList";case x:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case T:return"Portal";case z:return(a.displayName||"Context")+".Provider";case H:return(a._context.displayName||"Context")+".Consumer";case ee:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case M:return s=a.displayName||null,s!==null?s:Ee(a.type)||"Memo";case D:s=a._payload,a=a._init;try{return Ee(a(s))}catch{}}return null}var Se=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},oe=[],O=-1;function $(a){return{current:a}}function fe(a){0>O||(a.current=oe[O],oe[O]=null,O--)}function ue(a,s){O++,oe[O]=a.current,a.current=s}var ge=$(null),we=$(null),ye=$(null),et=$(null);function Oe(a,s){switch(ue(ye,s),ue(we,a),ue(ge,null),s.nodeType){case 9:case 11:a=(a=s.documentElement)&&(a=a.namespaceURI)?oE(a):0;break;default:if(a=s.tagName,s=s.namespaceURI)s=oE(s),a=lE(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}fe(ge),ue(ge,a)}function un(){fe(ge),fe(we),fe(ye)}function Mn(a){a.memoizedState!==null&&ue(et,a);var s=ge.current,l=lE(s,a.type);s!==l&&(ue(we,a),ue(ge,l))}function Gn(a){we.current===a&&(fe(ge),fe(we)),et.current===a&&(fe(et),pu._currentValue=de)}var vt=Object.prototype.hasOwnProperty,Ct=r.unstable_scheduleCallback,jn=r.unstable_cancelCallback,ir=r.unstable_shouldYield,Sr=r.unstable_requestPaint,fn=r.unstable_now,Hp=r.unstable_getCurrentPriorityLevel,dc=r.unstable_ImmediatePriority,No=r.unstable_UserBlockingPriority,Ds=r.unstable_NormalPriority,Fp=r.unstable_LowPriority,ko=r.unstable_IdlePriority,hc=r.log,Cf=r.unstable_setDisableYieldValue,xt=null,lt=null;function Qn(a){if(typeof hc=="function"&&Cf(a),lt&&typeof lt.setStrictMode=="function")try{lt.setStrictMode(xt,a)}catch{}}var Tn=Math.clz32?Math.clz32:Cs,Af=Math.log,qp=Math.LN2;function Cs(a){return a>>>=0,a===0?32:31-(Af(a)/qp|0)|0}var As=256,Rs=4194304;function Dr(a){var s=a&42;if(s!==0)return s;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Oo(a,s,l){var u=a.pendingLanes;if(u===0)return 0;var p=0,g=a.suspendedLanes,b=a.pingedLanes;a=a.warmLanes;var S=u&134217727;return S!==0?(u=S&~g,u!==0?p=Dr(u):(b&=S,b!==0?p=Dr(b):l||(l=S&~a,l!==0&&(p=Dr(l))))):(S=u&~g,S!==0?p=Dr(S):b!==0?p=Dr(b):l||(l=u&~a,l!==0&&(p=Dr(l)))),p===0?0:s!==0&&s!==p&&(s&g)===0&&(g=p&-p,l=s&-s,g>=l||g===32&&(l&4194048)!==0)?s:p}function Is(a,s){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&s)===0}function pc(a,s){switch(a){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mc(){var a=As;return As<<=1,(As&4194048)===0&&(As=256),a}function gc(){var a=Rs;return Rs<<=1,(Rs&62914560)===0&&(Rs=4194304),a}function Da(a){for(var s=[],l=0;31>l;l++)s.push(a);return s}function Ca(a,s){a.pendingLanes|=s,s!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function yc(a,s,l,u,p,g){var b=a.pendingLanes;a.pendingLanes=l,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=l,a.entangledLanes&=l,a.errorRecoveryDisabledLanes&=l,a.shellSuspendCounter=0;var S=a.entanglements,V=a.expirationTimes,W=a.hiddenUpdates;for(l=b&~l;0<l;){var ne=31-Tn(l),le=1<<ne;S[ne]=0,V[ne]=-1;var K=W[ne];if(K!==null)for(W[ne]=null,ne=0;ne<K.length;ne++){var X=K[ne];X!==null&&(X.lane&=-536870913)}l&=~le}u!==0&&jr(a,u,0),g!==0&&p===0&&a.tag!==0&&(a.suspendedLanes|=g&~(b&~s))}function jr(a,s,l){a.pendingLanes|=s,a.suspendedLanes&=~s;var u=31-Tn(s);a.entangledLanes|=s,a.entanglements[u]=a.entanglements[u]|1073741824|l&4194090}function vc(a,s){var l=a.entangledLanes|=s;for(a=a.entanglements;l;){var u=31-Tn(l),p=1<<u;p&s|a[u]&s&&(a[u]|=s),l&=~p}}function Ei(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Po(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function bi(){var a=ae.p;return a!==0?a:(a=window.event,a===void 0?32:AE(a.type))}function Rf(a,s){var l=ae.p;try{return ae.p=a,s()}finally{ae.p=l}}var Tt=Math.random().toString(36).slice(2),Xt="__reactFiber$"+Tt,Yt="__reactProps$"+Tt,sr="__reactContainer$"+Tt,_c="__reactEvents$"+Tt,Yp="__reactListeners$"+Tt,Ti="__reactHandles$"+Tt,If="__reactResources$"+Tt,xs="__reactMarker$"+Tt;function Si(a){delete a[Xt],delete a[Yt],delete a[_c],delete a[Yp],delete a[Ti]}function Aa(a){var s=a[Xt];if(s)return s;for(var l=a.parentNode;l;){if(s=l[sr]||l[Xt]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(a=dE(a);a!==null;){if(l=a[Xt])return l;a=dE(a)}return s}a=l,l=a.parentNode}return null}function Hr(a){if(a=a[Xt]||a[sr]){var s=a.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return a}return null}function Fr(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a.stateNode;throw Error(n(33))}function Nn(a){var s=a[If];return s||(s=a[If]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Lt(a){a[xs]=!0}var wc=new Set,Lo={};function Cr(a,s){Ra(a,s),Ra(a+"Capture",s)}function Ra(a,s){for(Lo[a]=s,a=0;a<s.length;a++)wc.add(s[a])}var xf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mf={},Ms={};function Nf(a){return vt.call(Ms,a)?!0:vt.call(Mf,a)?!1:xf.test(a)?Ms[a]=!0:(Mf[a]=!0,!1)}function Di(a,s,l){if(Nf(s))if(l===null)a.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":a.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){a.removeAttribute(s);return}}a.setAttribute(s,""+l)}}function qr(a,s,l){if(l===null)a.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttribute(s,""+l)}}function dn(a,s,l,u){if(u===null)a.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttributeNS(s,l,""+u)}}var Ns,kf;function Ia(a){if(Ns===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);Ns=s&&s[1]||"",kf=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ns+a+kf}var Vo=!1;function Uo(a,s){if(!a||Vo)return"";Vo=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(X){var K=X}Reflect.construct(a,[],le)}else{try{le.call()}catch(X){K=X}a.call(le.prototype)}}else{try{throw Error()}catch(X){K=X}(le=a())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(X){if(X&&K&&typeof X.stack=="string")return[X.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),b=g[0],S=g[1];if(b&&S){var V=b.split(`
`),W=S.split(`
`);for(p=u=0;u<V.length&&!V[u].includes("DetermineComponentFrameRoot");)u++;for(;p<W.length&&!W[p].includes("DetermineComponentFrameRoot");)p++;if(u===V.length||p===W.length)for(u=V.length-1,p=W.length-1;1<=u&&0<=p&&V[u]!==W[p];)p--;for(;1<=u&&0<=p;u--,p--)if(V[u]!==W[p]){if(u!==1||p!==1)do if(u--,p--,0>p||V[u]!==W[p]){var ne=`
`+V[u].replace(" at new "," at ");return a.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",a.displayName)),ne}while(1<=u&&0<=p);break}}}finally{Vo=!1,Error.prepareStackTrace=l}return(l=a?a.displayName||a.name:"")?Ia(l):""}function Ec(a){switch(a.tag){case 26:case 27:case 5:return Ia(a.type);case 16:return Ia("Lazy");case 13:return Ia("Suspense");case 19:return Ia("SuspenseList");case 0:case 15:return Uo(a.type,!1);case 11:return Uo(a.type.render,!1);case 1:return Uo(a.type,!0);case 31:return Ia("Activity");default:return""}}function Bo(a){try{var s="";do s+=Ec(a),a=a.return;while(a);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function kn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function bc(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function zp(a){var s=bc(a)?"checked":"value",l=Object.getOwnPropertyDescriptor(a.constructor.prototype,s),u=""+a[s];if(!a.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,g=l.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return p.call(this)},set:function(b){u=""+b,g.call(this,b)}}),Object.defineProperty(a,s,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(b){u=""+b},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function jo(a){a._valueTracker||(a._valueTracker=zp(a))}function Tc(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var l=s.getValue(),u="";return a&&(u=bc(a)?a.checked?"true":"false":a.value),a=u,a!==l?(s.setValue(a),!0):!1}function ks(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Gp=/[\n"\\]/g;function zt(a){return a.replace(Gp,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Wn(a,s,l,u,p,g,b,S){a.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?a.type=b:a.removeAttribute("type"),s!=null?b==="number"?(s===0&&a.value===""||a.value!=s)&&(a.value=""+kn(s)):a.value!==""+kn(s)&&(a.value=""+kn(s)):b!=="submit"&&b!=="reset"||a.removeAttribute("value"),s!=null?Ci(a,b,kn(s)):l!=null?Ci(a,b,kn(l)):u!=null&&a.removeAttribute("value"),p==null&&g!=null&&(a.defaultChecked=!!g),p!=null&&(a.checked=p&&typeof p!="function"&&typeof p!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?a.name=""+kn(S):a.removeAttribute("name")}function Os(a,s,l,u,p,g,b,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(a.type=g),s!=null||l!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;l=l!=null?""+kn(l):"",s=s!=null?""+kn(s):l,S||s===a.value||(a.value=s),a.defaultValue=s}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,a.checked=S?a.checked:!!u,a.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(a.name=b)}function Ci(a,s,l){s==="number"&&ks(a.ownerDocument)===a||a.defaultValue===""+l||(a.defaultValue=""+l)}function xa(a,s,l,u){if(a=a.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<a.length;l++)p=s.hasOwnProperty("$"+a[l].value),a[l].selected!==p&&(a[l].selected=p),p&&u&&(a[l].defaultSelected=!0)}else{for(l=""+kn(l),s=null,p=0;p<a.length;p++){if(a[p].value===l){a[p].selected=!0,u&&(a[p].defaultSelected=!0);return}s!==null||a[p].disabled||(s=a[p])}s!==null&&(s.selected=!0)}}function ht(a,s,l){if(s!=null&&(s=""+kn(s),s!==a.value&&(a.value=s),l==null)){a.defaultValue!==s&&(a.defaultValue=s);return}a.defaultValue=l!=null?""+kn(l):""}function Ps(a,s,l,u){if(s==null){if(u!=null){if(l!=null)throw Error(n(92));if(Se(u)){if(1<u.length)throw Error(n(93));u=u[0]}l=u}l==null&&(l=""),s=l}l=kn(s),a.defaultValue=l,u=a.textContent,u===l&&u!==""&&u!==null&&(a.value=u)}function or(a,s){if(s){var l=a.firstChild;if(l&&l===a.lastChild&&l.nodeType===3){l.nodeValue=s;return}}a.textContent=s}var Ls=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Of(a,s,l){var u=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?a.setProperty(s,""):s==="float"?a.cssFloat="":a[s]="":u?a.setProperty(s,l):typeof l!="number"||l===0||Ls.has(s)?s==="float"?a.cssFloat=l:a[s]=(""+l).trim():a[s]=l+"px"}function Sc(a,s,l){if(s!=null&&typeof s!="object")throw Error(n(62));if(a=a.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?a.setProperty(u,""):u==="float"?a.cssFloat="":a[u]="");for(var p in s)u=s[p],s.hasOwnProperty(p)&&l[p]!==u&&Of(a,p,u)}else for(var g in s)s.hasOwnProperty(g)&&Of(a,g,s[g])}function Dc(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ho(a){return Wp.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var Ma=null;function lr(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Na=null,ka=null;function Cc(a){var s=Hr(a);if(s&&(a=s.stateNode)){var l=a[Yt]||null;e:switch(a=s.stateNode,s.type){case"input":if(Wn(a,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=a;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+zt(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var u=l[s];if(u!==a&&u.form===a.form){var p=u[Yt]||null;if(!p)throw Error(n(90));Wn(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<l.length;s++)u=l[s],u.form===a.form&&Tc(u)}break e;case"textarea":ht(a,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&xa(a,!!l.multiple,s,!1)}}}var Yr=!1;function Pf(a,s,l){if(Yr)return a(s,l);Yr=!0;try{var u=a(s);return u}finally{if(Yr=!1,(Na!==null||ka!==null)&&(Rd(),Na&&(s=Na,a=ka,ka=Na=null,Cc(s),a)))for(s=0;s<a.length;s++)Cc(a[s])}}function Vs(a,s){var l=a.stateNode;if(l===null)return null;var u=l[Yt]||null;if(u===null)return null;l=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(a=a.type,u=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!u;break e;default:a=!1}if(a)return null;if(l&&typeof l!="function")throw Error(n(231,s,typeof l));return l}var Ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cr=!1;if(Ar)try{var Us={};Object.defineProperty(Us,"passive",{get:function(){cr=!0}}),window.addEventListener("test",Us,Us),window.removeEventListener("test",Us,Us)}catch{cr=!1}var zr=null,Ai=null,Oa=null;function Ac(){if(Oa)return Oa;var a,s=Ai,l=s.length,u,p="value"in zr?zr.value:zr.textContent,g=p.length;for(a=0;a<l&&s[a]===p[a];a++);var b=l-a;for(u=1;u<=b&&s[l-u]===p[g-u];u++);return Oa=p.slice(a,1<u?1-u:void 0)}function Gr(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function Qr(){return!0}function Rc(){return!1}function rn(a){function s(l,u,p,g,b){this._reactName=l,this._targetInst=p,this.type=u,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var S in a)a.hasOwnProperty(S)&&(l=a[S],this[S]=l?l(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Qr:Rc,this.isPropagationStopped=Rc,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Qr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Qr)},persist:function(){},isPersistent:Qr}),s}var it={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fo=rn(it),Bs=y({},it,{view:0,detail:0}),Lf=rn(Bs),qo,Yo,Wr,js=y({},Bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qs,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Wr&&(Wr&&a.type==="mousemove"?(qo=a.screenX-Wr.screenX,Yo=a.screenY-Wr.screenY):Yo=qo=0,Wr=a),qo)},movementY:function(a){return"movementY"in a?a.movementY:Yo}}),ur=rn(js),Vf=y({},js,{dataTransfer:0}),Kp=rn(Vf),Hs=y({},Bs,{relatedTarget:0}),zo=rn(Hs),Ic=y({},it,{animationName:0,elapsedTime:0,pseudoElement:0}),Go=rn(Ic),Uf=y({},it,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Qo=rn(Uf),$p=y({},it,{data:0}),xc=rn($p),Fs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mc(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=jf[a])?!!s[a]:!1}function qs(){return Mc}var Hf=y({},Bs,{key:function(a){if(a.key){var s=Fs[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=Gr(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Bf[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qs,charCode:function(a){return a.type==="keypress"?Gr(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Gr(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Wo=rn(Hf),Ff=y({},js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nc=rn(Ff),Pa=y({},Bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qs}),qf=rn(Pa),Yf=y({},it,{propertyName:0,elapsedTime:0,pseudoElement:0}),zf=rn(Yf),Gf=y({},js,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Ko=rn(Gf),On=y({},it,{newState:0,oldState:0}),Qf=rn(On),Wf=[9,13,27,32],Kr=Ar&&"CompositionEvent"in window,d=null;Ar&&"documentMode"in document&&(d=document.documentMode);var v=Ar&&"TextEvent"in window&&!d,E=Ar&&(!Kr||d&&8<d&&11>=d),R=" ",G=!1;function Z(a,s){switch(a){case"keyup":return Wf.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var $e=!1;function Zt(a,s){switch(a){case"compositionend":return he(s);case"keypress":return s.which!==32?null:(G=!0,R);case"textInput":return a=s.data,a===R&&G?null:a;default:return null}}function Xe(a,s){if($e)return a==="compositionend"||!Kr&&Z(a,s)?(a=Ac(),Oa=Ai=zr=null,$e=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return E&&s.locale!=="ko"?null:s.data;default:return null}}var an={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jt(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!an[a.type]:s==="textarea"}function La(a,s,l,u){Na?ka?ka.push(u):ka=[u]:Na=u,s=Od(s,"onChange"),0<s.length&&(l=new Fo("onChange","change",null,l,u),a.push({event:l,listeners:s}))}var hn=null,$r=null;function kc(a){nE(a,0)}function Kf(a){var s=Fr(a);if(Tc(s))return a}function T_(a,s){if(a==="change")return s}var S_=!1;if(Ar){var Xp;if(Ar){var Zp="oninput"in document;if(!Zp){var D_=document.createElement("div");D_.setAttribute("oninput","return;"),Zp=typeof D_.oninput=="function"}Xp=Zp}else Xp=!1;S_=Xp&&(!document.documentMode||9<document.documentMode)}function C_(){hn&&(hn.detachEvent("onpropertychange",A_),$r=hn=null)}function A_(a){if(a.propertyName==="value"&&Kf($r)){var s=[];La(s,$r,a,lr(a)),Pf(kc,s)}}function KC(a,s,l){a==="focusin"?(C_(),hn=s,$r=l,hn.attachEvent("onpropertychange",A_)):a==="focusout"&&C_()}function $C(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Kf($r)}function XC(a,s){if(a==="click")return Kf(s)}function ZC(a,s){if(a==="input"||a==="change")return Kf(s)}function JC(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var Kn=typeof Object.is=="function"?Object.is:JC;function Oc(a,s){if(Kn(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var l=Object.keys(a),u=Object.keys(s);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var p=l[u];if(!vt.call(s,p)||!Kn(a[p],s[p]))return!1}return!0}function R_(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function I_(a,s){var l=R_(a);a=0;for(var u;l;){if(l.nodeType===3){if(u=a+l.textContent.length,a<=s&&u>=s)return{node:l,offset:s-a};a=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=R_(l)}}function x_(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?x_(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function M_(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var s=ks(a.document);s instanceof a.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)a=s.contentWindow;else break;s=ks(a.document)}return s}function Jp(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}var eA=Ar&&"documentMode"in document&&11>=document.documentMode,$o=null,em=null,Pc=null,tm=!1;function N_(a,s,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;tm||$o==null||$o!==ks(u)||(u=$o,"selectionStart"in u&&Jp(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Pc&&Oc(Pc,u)||(Pc=u,u=Od(em,"onSelect"),0<u.length&&(s=new Fo("onSelect","select",null,s,l),a.push({event:s,listeners:u}),s.target=$o)))}function Ys(a,s){var l={};return l[a.toLowerCase()]=s.toLowerCase(),l["Webkit"+a]="webkit"+s,l["Moz"+a]="moz"+s,l}var Xo={animationend:Ys("Animation","AnimationEnd"),animationiteration:Ys("Animation","AnimationIteration"),animationstart:Ys("Animation","AnimationStart"),transitionrun:Ys("Transition","TransitionRun"),transitionstart:Ys("Transition","TransitionStart"),transitioncancel:Ys("Transition","TransitionCancel"),transitionend:Ys("Transition","TransitionEnd")},nm={},k_={};Ar&&(k_=document.createElement("div").style,"AnimationEvent"in window||(delete Xo.animationend.animation,delete Xo.animationiteration.animation,delete Xo.animationstart.animation),"TransitionEvent"in window||delete Xo.transitionend.transition);function zs(a){if(nm[a])return nm[a];if(!Xo[a])return a;var s=Xo[a],l;for(l in s)if(s.hasOwnProperty(l)&&l in k_)return nm[a]=s[l];return a}var O_=zs("animationend"),P_=zs("animationiteration"),L_=zs("animationstart"),tA=zs("transitionrun"),nA=zs("transitionstart"),rA=zs("transitioncancel"),V_=zs("transitionend"),U_=new Map,rm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rm.push("scrollEnd");function Rr(a,s){U_.set(a,s),Cr(s,[a])}var B_=new WeakMap;function fr(a,s){if(typeof a=="object"&&a!==null){var l=B_.get(a);return l!==void 0?l:(s={value:a,source:s,stack:Bo(s)},B_.set(a,s),s)}return{value:a,source:s,stack:Bo(s)}}var dr=[],Zo=0,am=0;function $f(){for(var a=Zo,s=am=Zo=0;s<a;){var l=dr[s];dr[s++]=null;var u=dr[s];dr[s++]=null;var p=dr[s];dr[s++]=null;var g=dr[s];if(dr[s++]=null,u!==null&&p!==null){var b=u.pending;b===null?p.next=p:(p.next=b.next,b.next=p),u.pending=p}g!==0&&j_(l,p,g)}}function Xf(a,s,l,u){dr[Zo++]=a,dr[Zo++]=s,dr[Zo++]=l,dr[Zo++]=u,am|=u,a.lanes|=u,a=a.alternate,a!==null&&(a.lanes|=u)}function im(a,s,l,u){return Xf(a,s,l,u),Zf(a)}function Jo(a,s){return Xf(a,null,null,s),Zf(a)}function j_(a,s,l){a.lanes|=l;var u=a.alternate;u!==null&&(u.lanes|=l);for(var p=!1,g=a.return;g!==null;)g.childLanes|=l,u=g.alternate,u!==null&&(u.childLanes|=l),g.tag===22&&(a=g.stateNode,a===null||a._visibility&1||(p=!0)),a=g,g=g.return;return a.tag===3?(g=a.stateNode,p&&s!==null&&(p=31-Tn(l),a=g.hiddenUpdates,u=a[p],u===null?a[p]=[s]:u.push(s),s.lane=l|536870912),g):null}function Zf(a){if(50<su)throw su=0,fg=null,Error(n(185));for(var s=a.return;s!==null;)a=s,s=a.return;return a.tag===3?a.stateNode:null}var el={};function aA(a,s,l,u){this.tag=a,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(a,s,l,u){return new aA(a,s,l,u)}function sm(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Va(a,s){var l=a.alternate;return l===null?(l=$n(a.tag,s,a.key,a.mode),l.elementType=a.elementType,l.type=a.type,l.stateNode=a.stateNode,l.alternate=a,a.alternate=l):(l.pendingProps=s,l.type=a.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=a.flags&65011712,l.childLanes=a.childLanes,l.lanes=a.lanes,l.child=a.child,l.memoizedProps=a.memoizedProps,l.memoizedState=a.memoizedState,l.updateQueue=a.updateQueue,s=a.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=a.sibling,l.index=a.index,l.ref=a.ref,l.refCleanup=a.refCleanup,l}function H_(a,s){a.flags&=65011714;var l=a.alternate;return l===null?(a.childLanes=0,a.lanes=s,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,s=l.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a}function Jf(a,s,l,u,p,g){var b=0;if(u=a,typeof a=="function")sm(a)&&(b=1);else if(typeof a=="string")b=sR(a,l,ge.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case x:return a=$n(31,l,s,p),a.elementType=x,a.lanes=g,a;case I:return Gs(l.children,p,g,s);case L:b=8,p|=24;break;case A:return a=$n(12,l,s,p|2),a.elementType=A,a.lanes=g,a;case J:return a=$n(13,l,s,p),a.elementType=J,a.lanes=g,a;case re:return a=$n(19,l,s,p),a.elementType=re,a.lanes=g,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case B:case z:b=10;break e;case H:b=9;break e;case ee:b=11;break e;case M:b=14;break e;case D:b=16,u=null;break e}b=29,l=Error(n(130,a===null?"null":typeof a,"")),u=null}return s=$n(b,l,s,p),s.elementType=a,s.type=u,s.lanes=g,s}function Gs(a,s,l,u){return a=$n(7,a,u,s),a.lanes=l,a}function om(a,s,l){return a=$n(6,a,null,s),a.lanes=l,a}function lm(a,s,l){return s=$n(4,a.children!==null?a.children:[],a.key,s),s.lanes=l,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}var tl=[],nl=0,ed=null,td=0,hr=[],pr=0,Qs=null,Ua=1,Ba="";function Ws(a,s){tl[nl++]=td,tl[nl++]=ed,ed=a,td=s}function F_(a,s,l){hr[pr++]=Ua,hr[pr++]=Ba,hr[pr++]=Qs,Qs=a;var u=Ua;a=Ba;var p=32-Tn(u)-1;u&=~(1<<p),l+=1;var g=32-Tn(s)+p;if(30<g){var b=p-p%5;g=(u&(1<<b)-1).toString(32),u>>=b,p-=b,Ua=1<<32-Tn(s)+p|l<<p|u,Ba=g+a}else Ua=1<<g|l<<p|u,Ba=a}function cm(a){a.return!==null&&(Ws(a,1),F_(a,1,0))}function um(a){for(;a===ed;)ed=tl[--nl],tl[nl]=null,td=tl[--nl],tl[nl]=null;for(;a===Qs;)Qs=hr[--pr],hr[pr]=null,Ba=hr[--pr],hr[pr]=null,Ua=hr[--pr],hr[pr]=null}var Pn=null,Mt=null,nt=!1,Ks=null,Xr=!1,fm=Error(n(519));function $s(a){var s=Error(n(418,""));throw Uc(fr(s,a)),fm}function q_(a){var s=a.stateNode,l=a.type,u=a.memoizedProps;switch(s[Xt]=a,s[Yt]=u,l){case"dialog":Ye("cancel",s),Ye("close",s);break;case"iframe":case"object":case"embed":Ye("load",s);break;case"video":case"audio":for(l=0;l<lu.length;l++)Ye(lu[l],s);break;case"source":Ye("error",s);break;case"img":case"image":case"link":Ye("error",s),Ye("load",s);break;case"details":Ye("toggle",s);break;case"input":Ye("invalid",s),Os(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),jo(s);break;case"select":Ye("invalid",s);break;case"textarea":Ye("invalid",s),Ps(s,u.value,u.defaultValue,u.children),jo(s)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||u.suppressHydrationWarning===!0||sE(s.textContent,l)?(u.popover!=null&&(Ye("beforetoggle",s),Ye("toggle",s)),u.onScroll!=null&&Ye("scroll",s),u.onScrollEnd!=null&&Ye("scrollend",s),u.onClick!=null&&(s.onclick=Pd),s=!0):s=!1,s||$s(a)}function Y_(a){for(Pn=a.return;Pn;)switch(Pn.tag){case 5:case 13:Xr=!1;return;case 27:case 3:Xr=!0;return;default:Pn=Pn.return}}function Lc(a){if(a!==Pn)return!1;if(!nt)return Y_(a),nt=!0,!1;var s=a.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=a.type,l=!(l!=="form"&&l!=="button")||Ag(a.type,a.memoizedProps)),l=!l),l&&Mt&&$s(a),Y_(a),s===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,s=0;a;){if(a.nodeType===8)if(l=a.data,l==="/$"){if(s===0){Mt=xr(a.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++;a=a.nextSibling}Mt=null}}else s===27?(s=Mt,qi(a.type)?(a=Mg,Mg=null,Mt=a):Mt=s):Mt=Pn?xr(a.stateNode.nextSibling):null;return!0}function Vc(){Mt=Pn=null,nt=!1}function z_(){var a=Ks;return a!==null&&(qn===null?qn=a:qn.push.apply(qn,a),Ks=null),a}function Uc(a){Ks===null?Ks=[a]:Ks.push(a)}var dm=$(null),Xs=null,ja=null;function Ri(a,s,l){ue(dm,s._currentValue),s._currentValue=l}function Ha(a){a._currentValue=dm.current,fe(dm)}function hm(a,s,l){for(;a!==null;){var u=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),a===l)break;a=a.return}}function pm(a,s,l,u){var p=a.child;for(p!==null&&(p.return=a);p!==null;){var g=p.dependencies;if(g!==null){var b=p.child;g=g.firstContext;e:for(;g!==null;){var S=g;g=p;for(var V=0;V<s.length;V++)if(S.context===s[V]){g.lanes|=l,S=g.alternate,S!==null&&(S.lanes|=l),hm(g.return,l,a),u||(b=null);break e}g=S.next}}else if(p.tag===18){if(b=p.return,b===null)throw Error(n(341));b.lanes|=l,g=b.alternate,g!==null&&(g.lanes|=l),hm(b,l,a),b=null}else b=p.child;if(b!==null)b.return=p;else for(b=p;b!==null;){if(b===a){b=null;break}if(p=b.sibling,p!==null){p.return=b.return,b=p;break}b=b.return}p=b}}function Bc(a,s,l,u){a=null;for(var p=s,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var b=p.alternate;if(b===null)throw Error(n(387));if(b=b.memoizedProps,b!==null){var S=p.type;Kn(p.pendingProps.value,b.value)||(a!==null?a.push(S):a=[S])}}else if(p===et.current){if(b=p.alternate,b===null)throw Error(n(387));b.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(a!==null?a.push(pu):a=[pu])}p=p.return}a!==null&&pm(s,a,l,u),s.flags|=262144}function nd(a){for(a=a.firstContext;a!==null;){if(!Kn(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Zs(a){Xs=a,ja=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Sn(a){return G_(Xs,a)}function rd(a,s){return Xs===null&&Zs(a),G_(a,s)}function G_(a,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},ja===null){if(a===null)throw Error(n(308));ja=s,a.dependencies={lanes:0,firstContext:s},a.flags|=524288}else ja=ja.next=s;return l}var iA=typeof AbortController<"u"?AbortController:function(){var a=[],s=this.signal={aborted:!1,addEventListener:function(l,u){a.push(u)}};this.abort=function(){s.aborted=!0,a.forEach(function(l){return l()})}},sA=r.unstable_scheduleCallback,oA=r.unstable_NormalPriority,en={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mm(){return{controller:new iA,data:new Map,refCount:0}}function jc(a){a.refCount--,a.refCount===0&&sA(oA,function(){a.controller.abort()})}var Hc=null,gm=0,rl=0,al=null;function lA(a,s){if(Hc===null){var l=Hc=[];gm=0,rl=vg(),al={status:"pending",value:void 0,then:function(u){l.push(u)}}}return gm++,s.then(Q_,Q_),s}function Q_(){if(--gm===0&&Hc!==null){al!==null&&(al.status="fulfilled");var a=Hc;Hc=null,rl=0,al=null;for(var s=0;s<a.length;s++)(0,a[s])()}}function cA(a,s){var l=[],u={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return a.then(function(){u.status="fulfilled",u.value=s;for(var p=0;p<l.length;p++)(0,l[p])(s)},function(p){for(u.status="rejected",u.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),u}var W_=Y.S;Y.S=function(a,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&lA(a,s),W_!==null&&W_(a,s)};var Js=$(null);function ym(){var a=Js.current;return a!==null?a:_t.pooledCache}function ad(a,s){s===null?ue(Js,Js.current):ue(Js,s.pool)}function K_(){var a=ym();return a===null?null:{parent:en._currentValue,pool:a}}var Fc=Error(n(460)),$_=Error(n(474)),id=Error(n(542)),vm={then:function(){}};function X_(a){return a=a.status,a==="fulfilled"||a==="rejected"}function sd(){}function Z_(a,s,l){switch(l=a[l],l===void 0?a.push(s):l!==s&&(s.then(sd,sd),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,ew(a),a;default:if(typeof s.status=="string")s.then(sd,sd);else{if(a=_t,a!==null&&100<a.shellSuspendCounter)throw Error(n(482));a=s,a.status="pending",a.then(function(u){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=u}},function(u){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,ew(a),a}throw qc=s,Fc}}var qc=null;function J_(){if(qc===null)throw Error(n(459));var a=qc;return qc=null,a}function ew(a){if(a===Fc||a===id)throw Error(n(483))}var Ii=!1;function _m(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wm(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function xi(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Mi(a,s,l){var u=a.updateQueue;if(u===null)return null;if(u=u.shared,(ct&2)!==0){var p=u.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),u.pending=s,s=Zf(a),j_(a,null,l),s}return Xf(a,u,s,l),Zf(a)}function Yc(a,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var u=s.lanes;u&=a.pendingLanes,l|=u,s.lanes=l,vc(a,l)}}function Em(a,s){var l=a.updateQueue,u=a.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var p=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var b={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};g===null?p=g=b:g=g.next=b,l=l.next}while(l!==null);g===null?p=g=s:g=g.next=s}else p=g=s;l={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},a.updateQueue=l;return}a=l.lastBaseUpdate,a===null?l.firstBaseUpdate=s:a.next=s,l.lastBaseUpdate=s}var bm=!1;function zc(){if(bm){var a=al;if(a!==null)throw a}}function Gc(a,s,l,u){bm=!1;var p=a.updateQueue;Ii=!1;var g=p.firstBaseUpdate,b=p.lastBaseUpdate,S=p.shared.pending;if(S!==null){p.shared.pending=null;var V=S,W=V.next;V.next=null,b===null?g=W:b.next=W,b=V;var ne=a.alternate;ne!==null&&(ne=ne.updateQueue,S=ne.lastBaseUpdate,S!==b&&(S===null?ne.firstBaseUpdate=W:S.next=W,ne.lastBaseUpdate=V))}if(g!==null){var le=p.baseState;b=0,ne=W=V=null,S=g;do{var K=S.lane&-536870913,X=K!==S.lane;if(X?(Ze&K)===K:(u&K)===K){K!==0&&K===rl&&(bm=!0),ne!==null&&(ne=ne.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Me=a,Ae=S;K=s;var gt=l;switch(Ae.tag){case 1:if(Me=Ae.payload,typeof Me=="function"){le=Me.call(gt,le,K);break e}le=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=Ae.payload,K=typeof Me=="function"?Me.call(gt,le,K):Me,K==null)break e;le=y({},le,K);break e;case 2:Ii=!0}}K=S.callback,K!==null&&(a.flags|=64,X&&(a.flags|=8192),X=p.callbacks,X===null?p.callbacks=[K]:X.push(K))}else X={lane:K,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ne===null?(W=ne=X,V=le):ne=ne.next=X,b|=K;if(S=S.next,S===null){if(S=p.shared.pending,S===null)break;X=S,S=X.next,X.next=null,p.lastBaseUpdate=X,p.shared.pending=null}}while(!0);ne===null&&(V=le),p.baseState=V,p.firstBaseUpdate=W,p.lastBaseUpdate=ne,g===null&&(p.shared.lanes=0),Bi|=b,a.lanes=b,a.memoizedState=le}}function tw(a,s){if(typeof a!="function")throw Error(n(191,a));a.call(s)}function nw(a,s){var l=a.callbacks;if(l!==null)for(a.callbacks=null,a=0;a<l.length;a++)tw(l[a],s)}var il=$(null),od=$(0);function rw(a,s){a=Wa,ue(od,a),ue(il,s),Wa=a|s.baseLanes}function Tm(){ue(od,Wa),ue(il,il.current)}function Sm(){Wa=od.current,fe(il),fe(od)}var Ni=0,Ue=null,pt=null,Gt=null,ld=!1,sl=!1,eo=!1,cd=0,Qc=0,ol=null,uA=0;function Vt(){throw Error(n(321))}function Dm(a,s){if(s===null)return!1;for(var l=0;l<s.length&&l<a.length;l++)if(!Kn(a[l],s[l]))return!1;return!0}function Cm(a,s,l,u,p,g){return Ni=g,Ue=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Y.H=a===null||a.memoizedState===null?jw:Hw,eo=!1,g=l(u,p),eo=!1,sl&&(g=iw(s,l,u,p)),aw(a),g}function aw(a){Y.H=md;var s=pt!==null&&pt.next!==null;if(Ni=0,Gt=pt=Ue=null,ld=!1,Qc=0,ol=null,s)throw Error(n(300));a===null||sn||(a=a.dependencies,a!==null&&nd(a)&&(sn=!0))}function iw(a,s,l,u){Ue=a;var p=0;do{if(sl&&(ol=null),Qc=0,sl=!1,25<=p)throw Error(n(301));if(p+=1,Gt=pt=null,a.updateQueue!=null){var g=a.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Y.H=yA,g=s(l,u)}while(sl);return g}function fA(){var a=Y.H,s=a.useState()[0];return s=typeof s.then=="function"?Wc(s):s,a=a.useState()[0],(pt!==null?pt.memoizedState:null)!==a&&(Ue.flags|=1024),s}function Am(){var a=cd!==0;return cd=0,a}function Rm(a,s,l){s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~l}function Im(a){if(ld){for(a=a.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}ld=!1}Ni=0,Gt=pt=Ue=null,sl=!1,Qc=cd=0,ol=null}function Hn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?Ue.memoizedState=Gt=a:Gt=Gt.next=a,Gt}function Qt(){if(pt===null){var a=Ue.alternate;a=a!==null?a.memoizedState:null}else a=pt.next;var s=Gt===null?Ue.memoizedState:Gt.next;if(s!==null)Gt=s,pt=a;else{if(a===null)throw Ue.alternate===null?Error(n(467)):Error(n(310));pt=a,a={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Gt===null?Ue.memoizedState=Gt=a:Gt=Gt.next=a}return Gt}function xm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wc(a){var s=Qc;return Qc+=1,ol===null&&(ol=[]),a=Z_(ol,a,s),s=Ue,(Gt===null?s.memoizedState:Gt.next)===null&&(s=s.alternate,Y.H=s===null||s.memoizedState===null?jw:Hw),a}function ud(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Wc(a);if(a.$$typeof===z)return Sn(a)}throw Error(n(438,String(a)))}function Mm(a){var s=null,l=Ue.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var u=Ue.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=xm(),Ue.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(a),u=0;u<a;u++)l[u]=P;return s.index++,l}function Fa(a,s){return typeof s=="function"?s(a):s}function fd(a){var s=Qt();return Nm(s,pt,a)}function Nm(a,s,l){var u=a.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=l;var p=a.baseQueue,g=u.pending;if(g!==null){if(p!==null){var b=p.next;p.next=g.next,g.next=b}s.baseQueue=p=g,u.pending=null}if(g=a.baseState,p===null)a.memoizedState=g;else{s=p.next;var S=b=null,V=null,W=s,ne=!1;do{var le=W.lane&-536870913;if(le!==W.lane?(Ze&le)===le:(Ni&le)===le){var K=W.revertLane;if(K===0)V!==null&&(V=V.next={lane:0,revertLane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),le===rl&&(ne=!0);else if((Ni&K)===K){W=W.next,K===rl&&(ne=!0);continue}else le={lane:0,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},V===null?(S=V=le,b=g):V=V.next=le,Ue.lanes|=K,Bi|=K;le=W.action,eo&&l(g,le),g=W.hasEagerState?W.eagerState:l(g,le)}else K={lane:le,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},V===null?(S=V=K,b=g):V=V.next=K,Ue.lanes|=le,Bi|=le;W=W.next}while(W!==null&&W!==s);if(V===null?b=g:V.next=S,!Kn(g,a.memoizedState)&&(sn=!0,ne&&(l=al,l!==null)))throw l;a.memoizedState=g,a.baseState=b,a.baseQueue=V,u.lastRenderedState=g}return p===null&&(u.lanes=0),[a.memoizedState,u.dispatch]}function km(a){var s=Qt(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=a;var u=l.dispatch,p=l.pending,g=s.memoizedState;if(p!==null){l.pending=null;var b=p=p.next;do g=a(g,b.action),b=b.next;while(b!==p);Kn(g,s.memoizedState)||(sn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),l.lastRenderedState=g}return[g,u]}function sw(a,s,l){var u=Ue,p=Qt(),g=nt;if(g){if(l===void 0)throw Error(n(407));l=l()}else l=s();var b=!Kn((pt||p).memoizedState,l);b&&(p.memoizedState=l,sn=!0),p=p.queue;var S=cw.bind(null,u,p,a);if(Kc(2048,8,S,[a]),p.getSnapshot!==s||b||Gt!==null&&Gt.memoizedState.tag&1){if(u.flags|=2048,ll(9,dd(),lw.bind(null,u,p,l,s),null),_t===null)throw Error(n(349));g||(Ni&124)!==0||ow(u,s,l)}return l}function ow(a,s,l){a.flags|=16384,a={getSnapshot:s,value:l},s=Ue.updateQueue,s===null?(s=xm(),Ue.updateQueue=s,s.stores=[a]):(l=s.stores,l===null?s.stores=[a]:l.push(a))}function lw(a,s,l,u){s.value=l,s.getSnapshot=u,uw(s)&&fw(a)}function cw(a,s,l){return l(function(){uw(s)&&fw(a)})}function uw(a){var s=a.getSnapshot;a=a.value;try{var l=s();return!Kn(a,l)}catch{return!0}}function fw(a){var s=Jo(a,2);s!==null&&tr(s,a,2)}function Om(a){var s=Hn();if(typeof a=="function"){var l=a;if(a=l(),eo){Qn(!0);try{l()}finally{Qn(!1)}}}return s.memoizedState=s.baseState=a,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fa,lastRenderedState:a},s}function dw(a,s,l,u){return a.baseState=l,Nm(a,pt,typeof u=="function"?u:Fa)}function dA(a,s,l,u,p){if(pd(a))throw Error(n(485));if(a=s.action,a!==null){var g={payload:p,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};Y.T!==null?l(!0):g.isTransition=!1,u(g),l=s.pending,l===null?(g.next=s.pending=g,hw(s,g)):(g.next=l.next,s.pending=l.next=g)}}function hw(a,s){var l=s.action,u=s.payload,p=a.state;if(s.isTransition){var g=Y.T,b={};Y.T=b;try{var S=l(p,u),V=Y.S;V!==null&&V(b,S),pw(a,s,S)}catch(W){Pm(a,s,W)}finally{Y.T=g}}else try{g=l(p,u),pw(a,s,g)}catch(W){Pm(a,s,W)}}function pw(a,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){mw(a,s,u)},function(u){return Pm(a,s,u)}):mw(a,s,l)}function mw(a,s,l){s.status="fulfilled",s.value=l,gw(s),a.state=l,s=a.pending,s!==null&&(l=s.next,l===s?a.pending=null:(l=l.next,s.next=l,hw(a,l)))}function Pm(a,s,l){var u=a.pending;if(a.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=l,gw(s),s=s.next;while(s!==u)}a.action=null}function gw(a){a=a.listeners;for(var s=0;s<a.length;s++)(0,a[s])()}function yw(a,s){return s}function vw(a,s){if(nt){var l=_t.formState;if(l!==null){e:{var u=Ue;if(nt){if(Mt){t:{for(var p=Mt,g=Xr;p.nodeType!==8;){if(!g){p=null;break t}if(p=xr(p.nextSibling),p===null){p=null;break t}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){Mt=xr(p.nextSibling),u=p.data==="F!";break e}}$s(u)}u=!1}u&&(s=l[0])}}return l=Hn(),l.memoizedState=l.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yw,lastRenderedState:s},l.queue=u,l=Vw.bind(null,Ue,u),u.dispatch=l,u=Om(!1),g=jm.bind(null,Ue,!1,u.queue),u=Hn(),p={state:s,dispatch:null,action:a,pending:null},u.queue=p,l=dA.bind(null,Ue,p,g,l),p.dispatch=l,u.memoizedState=a,[s,l,!1]}function _w(a){var s=Qt();return ww(s,pt,a)}function ww(a,s,l){if(s=Nm(a,s,yw)[0],a=fd(Fa)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Wc(s)}catch(b){throw b===Fc?id:b}else u=s;s=Qt();var p=s.queue,g=p.dispatch;return l!==s.memoizedState&&(Ue.flags|=2048,ll(9,dd(),hA.bind(null,p,l),null)),[u,g,a]}function hA(a,s){a.action=s}function Ew(a){var s=Qt(),l=pt;if(l!==null)return ww(s,l,a);Qt(),s=s.memoizedState,l=Qt();var u=l.queue.dispatch;return l.memoizedState=a,[s,u,!1]}function ll(a,s,l,u){return a={tag:a,create:l,deps:u,inst:s,next:null},s=Ue.updateQueue,s===null&&(s=xm(),Ue.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=a.next=a:(u=l.next,l.next=a,a.next=u,s.lastEffect=a),a}function dd(){return{destroy:void 0,resource:void 0}}function bw(){return Qt().memoizedState}function hd(a,s,l,u){var p=Hn();u=u===void 0?null:u,Ue.flags|=a,p.memoizedState=ll(1|s,dd(),l,u)}function Kc(a,s,l,u){var p=Qt();u=u===void 0?null:u;var g=p.memoizedState.inst;pt!==null&&u!==null&&Dm(u,pt.memoizedState.deps)?p.memoizedState=ll(s,g,l,u):(Ue.flags|=a,p.memoizedState=ll(1|s,g,l,u))}function Tw(a,s){hd(8390656,8,a,s)}function Sw(a,s){Kc(2048,8,a,s)}function Dw(a,s){return Kc(4,2,a,s)}function Cw(a,s){return Kc(4,4,a,s)}function Aw(a,s){if(typeof s=="function"){a=a();var l=s(a);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function Rw(a,s,l){l=l!=null?l.concat([a]):null,Kc(4,4,Aw.bind(null,s,a),l)}function Lm(){}function Iw(a,s){var l=Qt();s=s===void 0?null:s;var u=l.memoizedState;return s!==null&&Dm(s,u[1])?u[0]:(l.memoizedState=[a,s],a)}function xw(a,s){var l=Qt();s=s===void 0?null:s;var u=l.memoizedState;if(s!==null&&Dm(s,u[1]))return u[0];if(u=a(),eo){Qn(!0);try{a()}finally{Qn(!1)}}return l.memoizedState=[u,s],u}function Vm(a,s,l){return l===void 0||(Ni&1073741824)!==0?a.memoizedState=s:(a.memoizedState=l,a=k0(),Ue.lanes|=a,Bi|=a,l)}function Mw(a,s,l,u){return Kn(l,s)?l:il.current!==null?(a=Vm(a,l,u),Kn(a,s)||(sn=!0),a):(Ni&42)===0?(sn=!0,a.memoizedState=l):(a=k0(),Ue.lanes|=a,Bi|=a,s)}function Nw(a,s,l,u,p){var g=ae.p;ae.p=g!==0&&8>g?g:8;var b=Y.T,S={};Y.T=S,jm(a,!1,s,l);try{var V=p(),W=Y.S;if(W!==null&&W(S,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var ne=cA(V,u);$c(a,s,ne,er(a))}else $c(a,s,u,er(a))}catch(le){$c(a,s,{then:function(){},status:"rejected",reason:le},er())}finally{ae.p=g,Y.T=b}}function pA(){}function Um(a,s,l,u){if(a.tag!==5)throw Error(n(476));var p=kw(a).queue;Nw(a,p,s,de,l===null?pA:function(){return Ow(a),l(u)})}function kw(a){var s=a.memoizedState;if(s!==null)return s;s={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fa,lastRenderedState:de},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fa,lastRenderedState:l},next:null},a.memoizedState=s,a=a.alternate,a!==null&&(a.memoizedState=s),s}function Ow(a){var s=kw(a).next.queue;$c(a,s,{},er())}function Bm(){return Sn(pu)}function Pw(){return Qt().memoizedState}function Lw(){return Qt().memoizedState}function mA(a){for(var s=a.return;s!==null;){switch(s.tag){case 24:case 3:var l=er();a=xi(l);var u=Mi(s,a,l);u!==null&&(tr(u,s,l),Yc(u,s,l)),s={cache:mm()},a.payload=s;return}s=s.return}}function gA(a,s,l){var u=er();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},pd(a)?Uw(s,l):(l=im(a,s,l,u),l!==null&&(tr(l,a,u),Bw(l,s,u)))}function Vw(a,s,l){var u=er();$c(a,s,l,u)}function $c(a,s,l,u){var p={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(pd(a))Uw(s,p);else{var g=a.alternate;if(a.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var b=s.lastRenderedState,S=g(b,l);if(p.hasEagerState=!0,p.eagerState=S,Kn(S,b))return Xf(a,s,p,0),_t===null&&$f(),!1}catch{}finally{}if(l=im(a,s,p,u),l!==null)return tr(l,a,u),Bw(l,s,u),!0}return!1}function jm(a,s,l,u){if(u={lane:2,revertLane:vg(),action:u,hasEagerState:!1,eagerState:null,next:null},pd(a)){if(s)throw Error(n(479))}else s=im(a,l,u,2),s!==null&&tr(s,a,2)}function pd(a){var s=a.alternate;return a===Ue||s!==null&&s===Ue}function Uw(a,s){sl=ld=!0;var l=a.pending;l===null?s.next=s:(s.next=l.next,l.next=s),a.pending=s}function Bw(a,s,l){if((l&4194048)!==0){var u=s.lanes;u&=a.pendingLanes,l|=u,s.lanes=l,vc(a,l)}}var md={readContext:Sn,use:ud,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useLayoutEffect:Vt,useInsertionEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useSyncExternalStore:Vt,useId:Vt,useHostTransitionStatus:Vt,useFormState:Vt,useActionState:Vt,useOptimistic:Vt,useMemoCache:Vt,useCacheRefresh:Vt},jw={readContext:Sn,use:ud,useCallback:function(a,s){return Hn().memoizedState=[a,s===void 0?null:s],a},useContext:Sn,useEffect:Tw,useImperativeHandle:function(a,s,l){l=l!=null?l.concat([a]):null,hd(4194308,4,Aw.bind(null,s,a),l)},useLayoutEffect:function(a,s){return hd(4194308,4,a,s)},useInsertionEffect:function(a,s){hd(4,2,a,s)},useMemo:function(a,s){var l=Hn();s=s===void 0?null:s;var u=a();if(eo){Qn(!0);try{a()}finally{Qn(!1)}}return l.memoizedState=[u,s],u},useReducer:function(a,s,l){var u=Hn();if(l!==void 0){var p=l(s);if(eo){Qn(!0);try{l(s)}finally{Qn(!1)}}}else p=s;return u.memoizedState=u.baseState=p,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:p},u.queue=a,a=a.dispatch=gA.bind(null,Ue,a),[u.memoizedState,a]},useRef:function(a){var s=Hn();return a={current:a},s.memoizedState=a},useState:function(a){a=Om(a);var s=a.queue,l=Vw.bind(null,Ue,s);return s.dispatch=l,[a.memoizedState,l]},useDebugValue:Lm,useDeferredValue:function(a,s){var l=Hn();return Vm(l,a,s)},useTransition:function(){var a=Om(!1);return a=Nw.bind(null,Ue,a.queue,!0,!1),Hn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,s,l){var u=Ue,p=Hn();if(nt){if(l===void 0)throw Error(n(407));l=l()}else{if(l=s(),_t===null)throw Error(n(349));(Ze&124)!==0||ow(u,s,l)}p.memoizedState=l;var g={value:l,getSnapshot:s};return p.queue=g,Tw(cw.bind(null,u,g,a),[a]),u.flags|=2048,ll(9,dd(),lw.bind(null,u,g,l,s),null),l},useId:function(){var a=Hn(),s=_t.identifierPrefix;if(nt){var l=Ba,u=Ua;l=(u&~(1<<32-Tn(u)-1)).toString(32)+l,s=""+s+"R"+l,l=cd++,0<l&&(s+="H"+l.toString(32)),s+=""}else l=uA++,s=""+s+"r"+l.toString(32)+"";return a.memoizedState=s},useHostTransitionStatus:Bm,useFormState:vw,useActionState:vw,useOptimistic:function(a){var s=Hn();s.memoizedState=s.baseState=a;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=jm.bind(null,Ue,!0,l),l.dispatch=s,[a,s]},useMemoCache:Mm,useCacheRefresh:function(){return Hn().memoizedState=mA.bind(null,Ue)}},Hw={readContext:Sn,use:ud,useCallback:Iw,useContext:Sn,useEffect:Sw,useImperativeHandle:Rw,useInsertionEffect:Dw,useLayoutEffect:Cw,useMemo:xw,useReducer:fd,useRef:bw,useState:function(){return fd(Fa)},useDebugValue:Lm,useDeferredValue:function(a,s){var l=Qt();return Mw(l,pt.memoizedState,a,s)},useTransition:function(){var a=fd(Fa)[0],s=Qt().memoizedState;return[typeof a=="boolean"?a:Wc(a),s]},useSyncExternalStore:sw,useId:Pw,useHostTransitionStatus:Bm,useFormState:_w,useActionState:_w,useOptimistic:function(a,s){var l=Qt();return dw(l,pt,a,s)},useMemoCache:Mm,useCacheRefresh:Lw},yA={readContext:Sn,use:ud,useCallback:Iw,useContext:Sn,useEffect:Sw,useImperativeHandle:Rw,useInsertionEffect:Dw,useLayoutEffect:Cw,useMemo:xw,useReducer:km,useRef:bw,useState:function(){return km(Fa)},useDebugValue:Lm,useDeferredValue:function(a,s){var l=Qt();return pt===null?Vm(l,a,s):Mw(l,pt.memoizedState,a,s)},useTransition:function(){var a=km(Fa)[0],s=Qt().memoizedState;return[typeof a=="boolean"?a:Wc(a),s]},useSyncExternalStore:sw,useId:Pw,useHostTransitionStatus:Bm,useFormState:Ew,useActionState:Ew,useOptimistic:function(a,s){var l=Qt();return pt!==null?dw(l,pt,a,s):(l.baseState=a,[a,l.queue.dispatch])},useMemoCache:Mm,useCacheRefresh:Lw},cl=null,Xc=0;function gd(a){var s=Xc;return Xc+=1,cl===null&&(cl=[]),Z_(cl,a,s)}function Zc(a,s){s=s.props.ref,a.ref=s!==void 0?s:null}function yd(a,s){throw s.$$typeof===_?Error(n(525)):(a=Object.prototype.toString.call(s),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a)))}function Fw(a){var s=a._init;return s(a._payload)}function qw(a){function s(q,F){if(a){var Q=q.deletions;Q===null?(q.deletions=[F],q.flags|=16):Q.push(F)}}function l(q,F){if(!a)return null;for(;F!==null;)s(q,F),F=F.sibling;return null}function u(q){for(var F=new Map;q!==null;)q.key!==null?F.set(q.key,q):F.set(q.index,q),q=q.sibling;return F}function p(q,F){return q=Va(q,F),q.index=0,q.sibling=null,q}function g(q,F,Q){return q.index=Q,a?(Q=q.alternate,Q!==null?(Q=Q.index,Q<F?(q.flags|=67108866,F):Q):(q.flags|=67108866,F)):(q.flags|=1048576,F)}function b(q){return a&&q.alternate===null&&(q.flags|=67108866),q}function S(q,F,Q,se){return F===null||F.tag!==6?(F=om(Q,q.mode,se),F.return=q,F):(F=p(F,Q),F.return=q,F)}function V(q,F,Q,se){var _e=Q.type;return _e===I?ne(q,F,Q.props.children,se,Q.key):F!==null&&(F.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===D&&Fw(_e)===F.type)?(F=p(F,Q.props),Zc(F,Q),F.return=q,F):(F=Jf(Q.type,Q.key,Q.props,null,q.mode,se),Zc(F,Q),F.return=q,F)}function W(q,F,Q,se){return F===null||F.tag!==4||F.stateNode.containerInfo!==Q.containerInfo||F.stateNode.implementation!==Q.implementation?(F=lm(Q,q.mode,se),F.return=q,F):(F=p(F,Q.children||[]),F.return=q,F)}function ne(q,F,Q,se,_e){return F===null||F.tag!==7?(F=Gs(Q,q.mode,se,_e),F.return=q,F):(F=p(F,Q),F.return=q,F)}function le(q,F,Q){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=om(""+F,q.mode,Q),F.return=q,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case w:return Q=Jf(F.type,F.key,F.props,null,q.mode,Q),Zc(Q,F),Q.return=q,Q;case T:return F=lm(F,q.mode,Q),F.return=q,F;case D:var se=F._init;return F=se(F._payload),le(q,F,Q)}if(Se(F)||j(F))return F=Gs(F,q.mode,Q,null),F.return=q,F;if(typeof F.then=="function")return le(q,gd(F),Q);if(F.$$typeof===z)return le(q,rd(q,F),Q);yd(q,F)}return null}function K(q,F,Q,se){var _e=F!==null?F.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return _e!==null?null:S(q,F,""+Q,se);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case w:return Q.key===_e?V(q,F,Q,se):null;case T:return Q.key===_e?W(q,F,Q,se):null;case D:return _e=Q._init,Q=_e(Q._payload),K(q,F,Q,se)}if(Se(Q)||j(Q))return _e!==null?null:ne(q,F,Q,se,null);if(typeof Q.then=="function")return K(q,F,gd(Q),se);if(Q.$$typeof===z)return K(q,F,rd(q,Q),se);yd(q,Q)}return null}function X(q,F,Q,se,_e){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return q=q.get(Q)||null,S(F,q,""+se,_e);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case w:return q=q.get(se.key===null?Q:se.key)||null,V(F,q,se,_e);case T:return q=q.get(se.key===null?Q:se.key)||null,W(F,q,se,_e);case D:var Fe=se._init;return se=Fe(se._payload),X(q,F,Q,se,_e)}if(Se(se)||j(se))return q=q.get(Q)||null,ne(F,q,se,_e,null);if(typeof se.then=="function")return X(q,F,Q,gd(se),_e);if(se.$$typeof===z)return X(q,F,Q,rd(F,se),_e);yd(F,se)}return null}function Me(q,F,Q,se){for(var _e=null,Fe=null,Te=F,Re=F=0,ln=null;Te!==null&&Re<Q.length;Re++){Te.index>Re?(ln=Te,Te=null):ln=Te.sibling;var tt=K(q,Te,Q[Re],se);if(tt===null){Te===null&&(Te=ln);break}a&&Te&&tt.alternate===null&&s(q,Te),F=g(tt,F,Re),Fe===null?_e=tt:Fe.sibling=tt,Fe=tt,Te=ln}if(Re===Q.length)return l(q,Te),nt&&Ws(q,Re),_e;if(Te===null){for(;Re<Q.length;Re++)Te=le(q,Q[Re],se),Te!==null&&(F=g(Te,F,Re),Fe===null?_e=Te:Fe.sibling=Te,Fe=Te);return nt&&Ws(q,Re),_e}for(Te=u(Te);Re<Q.length;Re++)ln=X(Te,q,Re,Q[Re],se),ln!==null&&(a&&ln.alternate!==null&&Te.delete(ln.key===null?Re:ln.key),F=g(ln,F,Re),Fe===null?_e=ln:Fe.sibling=ln,Fe=ln);return a&&Te.forEach(function(Wi){return s(q,Wi)}),nt&&Ws(q,Re),_e}function Ae(q,F,Q,se){if(Q==null)throw Error(n(151));for(var _e=null,Fe=null,Te=F,Re=F=0,ln=null,tt=Q.next();Te!==null&&!tt.done;Re++,tt=Q.next()){Te.index>Re?(ln=Te,Te=null):ln=Te.sibling;var Wi=K(q,Te,tt.value,se);if(Wi===null){Te===null&&(Te=ln);break}a&&Te&&Wi.alternate===null&&s(q,Te),F=g(Wi,F,Re),Fe===null?_e=Wi:Fe.sibling=Wi,Fe=Wi,Te=ln}if(tt.done)return l(q,Te),nt&&Ws(q,Re),_e;if(Te===null){for(;!tt.done;Re++,tt=Q.next())tt=le(q,tt.value,se),tt!==null&&(F=g(tt,F,Re),Fe===null?_e=tt:Fe.sibling=tt,Fe=tt);return nt&&Ws(q,Re),_e}for(Te=u(Te);!tt.done;Re++,tt=Q.next())tt=X(Te,q,Re,tt.value,se),tt!==null&&(a&&tt.alternate!==null&&Te.delete(tt.key===null?Re:tt.key),F=g(tt,F,Re),Fe===null?_e=tt:Fe.sibling=tt,Fe=tt);return a&&Te.forEach(function(vR){return s(q,vR)}),nt&&Ws(q,Re),_e}function gt(q,F,Q,se){if(typeof Q=="object"&&Q!==null&&Q.type===I&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case w:e:{for(var _e=Q.key;F!==null;){if(F.key===_e){if(_e=Q.type,_e===I){if(F.tag===7){l(q,F.sibling),se=p(F,Q.props.children),se.return=q,q=se;break e}}else if(F.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===D&&Fw(_e)===F.type){l(q,F.sibling),se=p(F,Q.props),Zc(se,Q),se.return=q,q=se;break e}l(q,F);break}else s(q,F);F=F.sibling}Q.type===I?(se=Gs(Q.props.children,q.mode,se,Q.key),se.return=q,q=se):(se=Jf(Q.type,Q.key,Q.props,null,q.mode,se),Zc(se,Q),se.return=q,q=se)}return b(q);case T:e:{for(_e=Q.key;F!==null;){if(F.key===_e)if(F.tag===4&&F.stateNode.containerInfo===Q.containerInfo&&F.stateNode.implementation===Q.implementation){l(q,F.sibling),se=p(F,Q.children||[]),se.return=q,q=se;break e}else{l(q,F);break}else s(q,F);F=F.sibling}se=lm(Q,q.mode,se),se.return=q,q=se}return b(q);case D:return _e=Q._init,Q=_e(Q._payload),gt(q,F,Q,se)}if(Se(Q))return Me(q,F,Q,se);if(j(Q)){if(_e=j(Q),typeof _e!="function")throw Error(n(150));return Q=_e.call(Q),Ae(q,F,Q,se)}if(typeof Q.then=="function")return gt(q,F,gd(Q),se);if(Q.$$typeof===z)return gt(q,F,rd(q,Q),se);yd(q,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,F!==null&&F.tag===6?(l(q,F.sibling),se=p(F,Q),se.return=q,q=se):(l(q,F),se=om(Q,q.mode,se),se.return=q,q=se),b(q)):l(q,F)}return function(q,F,Q,se){try{Xc=0;var _e=gt(q,F,Q,se);return cl=null,_e}catch(Te){if(Te===Fc||Te===id)throw Te;var Fe=$n(29,Te,null,q.mode);return Fe.lanes=se,Fe.return=q,Fe}finally{}}}var ul=qw(!0),Yw=qw(!1),mr=$(null),Zr=null;function ki(a){var s=a.alternate;ue(tn,tn.current&1),ue(mr,a),Zr===null&&(s===null||il.current!==null||s.memoizedState!==null)&&(Zr=a)}function zw(a){if(a.tag===22){if(ue(tn,tn.current),ue(mr,a),Zr===null){var s=a.alternate;s!==null&&s.memoizedState!==null&&(Zr=a)}}else Oi()}function Oi(){ue(tn,tn.current),ue(mr,mr.current)}function qa(a){fe(mr),Zr===a&&(Zr=null),fe(tn)}var tn=$(0);function vd(a){for(var s=a;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||xg(l)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Hm(a,s,l,u){s=a.memoizedState,l=l(u,s),l=l==null?s:y({},s,l),a.memoizedState=l,a.lanes===0&&(a.updateQueue.baseState=l)}var Fm={enqueueSetState:function(a,s,l){a=a._reactInternals;var u=er(),p=xi(u);p.payload=s,l!=null&&(p.callback=l),s=Mi(a,p,u),s!==null&&(tr(s,a,u),Yc(s,a,u))},enqueueReplaceState:function(a,s,l){a=a._reactInternals;var u=er(),p=xi(u);p.tag=1,p.payload=s,l!=null&&(p.callback=l),s=Mi(a,p,u),s!==null&&(tr(s,a,u),Yc(s,a,u))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var l=er(),u=xi(l);u.tag=2,s!=null&&(u.callback=s),s=Mi(a,u,l),s!==null&&(tr(s,a,l),Yc(s,a,l))}};function Gw(a,s,l,u,p,g,b){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(u,g,b):s.prototype&&s.prototype.isPureReactComponent?!Oc(l,u)||!Oc(p,g):!0}function Qw(a,s,l,u){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,u),s.state!==a&&Fm.enqueueReplaceState(s,s.state,null)}function to(a,s){var l=s;if("ref"in s){l={};for(var u in s)u!=="ref"&&(l[u]=s[u])}if(a=a.defaultProps){l===s&&(l=y({},l));for(var p in a)l[p]===void 0&&(l[p]=a[p])}return l}var _d=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function Ww(a){_d(a)}function Kw(a){console.error(a)}function $w(a){_d(a)}function wd(a,s){try{var l=a.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function Xw(a,s,l){try{var u=a.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function qm(a,s,l){return l=xi(l),l.tag=3,l.payload={element:null},l.callback=function(){wd(a,s)},l}function Zw(a){return a=xi(a),a.tag=3,a}function Jw(a,s,l,u){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var g=u.value;a.payload=function(){return p(g)},a.callback=function(){Xw(s,l,u)}}var b=l.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(a.callback=function(){Xw(s,l,u),typeof p!="function"&&(ji===null?ji=new Set([this]):ji.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function vA(a,s,l,u,p){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=l.alternate,s!==null&&Bc(s,l,p,!0),l=mr.current,l!==null){switch(l.tag){case 13:return Zr===null?hg():l.alternate===null&&Nt===0&&(Nt=3),l.flags&=-257,l.flags|=65536,l.lanes=p,u===vm?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([u]):s.add(u),mg(a,u,p)),!1;case 22:return l.flags|=65536,u===vm?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([u]):l.add(u)),mg(a,u,p)),!1}throw Error(n(435,l.tag))}return mg(a,u,p),hg(),!1}if(nt)return s=mr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,u!==fm&&(a=Error(n(422),{cause:u}),Uc(fr(a,l)))):(u!==fm&&(s=Error(n(423),{cause:u}),Uc(fr(s,l))),a=a.current.alternate,a.flags|=65536,p&=-p,a.lanes|=p,u=fr(u,l),p=qm(a.stateNode,u,p),Em(a,p),Nt!==4&&(Nt=2)),!1;var g=Error(n(520),{cause:u});if(g=fr(g,l),iu===null?iu=[g]:iu.push(g),Nt!==4&&(Nt=2),s===null)return!0;u=fr(u,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,a=p&-p,l.lanes|=a,a=qm(l.stateNode,u,a),Em(l,a),!1;case 1:if(s=l.type,g=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ji===null||!ji.has(g))))return l.flags|=65536,p&=-p,l.lanes|=p,p=Zw(p),Jw(p,a,l,u),Em(l,p),!1}l=l.return}while(l!==null);return!1}var e0=Error(n(461)),sn=!1;function pn(a,s,l,u){s.child=a===null?Yw(s,null,l,u):ul(s,a.child,l,u)}function t0(a,s,l,u,p){l=l.render;var g=s.ref;if("ref"in u){var b={};for(var S in u)S!=="ref"&&(b[S]=u[S])}else b=u;return Zs(s),u=Cm(a,s,l,b,g,p),S=Am(),a!==null&&!sn?(Rm(a,s,p),Ya(a,s,p)):(nt&&S&&cm(s),s.flags|=1,pn(a,s,u,p),s.child)}function n0(a,s,l,u,p){if(a===null){var g=l.type;return typeof g=="function"&&!sm(g)&&g.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=g,r0(a,s,g,u,p)):(a=Jf(l.type,null,u,s,s.mode,p),a.ref=s.ref,a.return=s,s.child=a)}if(g=a.child,!Xm(a,p)){var b=g.memoizedProps;if(l=l.compare,l=l!==null?l:Oc,l(b,u)&&a.ref===s.ref)return Ya(a,s,p)}return s.flags|=1,a=Va(g,u),a.ref=s.ref,a.return=s,s.child=a}function r0(a,s,l,u,p){if(a!==null){var g=a.memoizedProps;if(Oc(g,u)&&a.ref===s.ref)if(sn=!1,s.pendingProps=u=g,Xm(a,p))(a.flags&131072)!==0&&(sn=!0);else return s.lanes=a.lanes,Ya(a,s,p)}return Ym(a,s,l,u,p)}function a0(a,s,l){var u=s.pendingProps,p=u.children,g=a!==null?a.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=g!==null?g.baseLanes|l:l,a!==null){for(p=s.child=a.child,g=0;p!==null;)g=g|p.lanes|p.childLanes,p=p.sibling;s.childLanes=g&~u}else s.childLanes=0,s.child=null;return i0(a,s,u,l)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},a!==null&&ad(s,g!==null?g.cachePool:null),g!==null?rw(s,g):Tm(),zw(s);else return s.lanes=s.childLanes=536870912,i0(a,s,g!==null?g.baseLanes|l:l,l)}else g!==null?(ad(s,g.cachePool),rw(s,g),Oi(),s.memoizedState=null):(a!==null&&ad(s,null),Tm(),Oi());return pn(a,s,p,l),s.child}function i0(a,s,l,u){var p=ym();return p=p===null?null:{parent:en._currentValue,pool:p},s.memoizedState={baseLanes:l,cachePool:p},a!==null&&ad(s,null),Tm(),zw(s),a!==null&&Bc(a,s,u,!0),null}function Ed(a,s){var l=s.ref;if(l===null)a!==null&&a.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(n(284));(a===null||a.ref!==l)&&(s.flags|=4194816)}}function Ym(a,s,l,u,p){return Zs(s),l=Cm(a,s,l,u,void 0,p),u=Am(),a!==null&&!sn?(Rm(a,s,p),Ya(a,s,p)):(nt&&u&&cm(s),s.flags|=1,pn(a,s,l,p),s.child)}function s0(a,s,l,u,p,g){return Zs(s),s.updateQueue=null,l=iw(s,u,l,p),aw(a),u=Am(),a!==null&&!sn?(Rm(a,s,g),Ya(a,s,g)):(nt&&u&&cm(s),s.flags|=1,pn(a,s,l,g),s.child)}function o0(a,s,l,u,p){if(Zs(s),s.stateNode===null){var g=el,b=l.contextType;typeof b=="object"&&b!==null&&(g=Sn(b)),g=new l(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Fm,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},_m(s),b=l.contextType,g.context=typeof b=="object"&&b!==null?Sn(b):el,g.state=s.memoizedState,b=l.getDerivedStateFromProps,typeof b=="function"&&(Hm(s,l,b,u),g.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&Fm.enqueueReplaceState(g,g.state,null),Gc(s,u,g,p),zc(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(a===null){g=s.stateNode;var S=s.memoizedProps,V=to(l,S);g.props=V;var W=g.context,ne=l.contextType;b=el,typeof ne=="object"&&ne!==null&&(b=Sn(ne));var le=l.getDerivedStateFromProps;ne=typeof le=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,ne||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||W!==b)&&Qw(s,g,u,b),Ii=!1;var K=s.memoizedState;g.state=K,Gc(s,u,g,p),zc(),W=s.memoizedState,S||K!==W||Ii?(typeof le=="function"&&(Hm(s,l,le,u),W=s.memoizedState),(V=Ii||Gw(s,l,V,u,K,W,b))?(ne||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=W),g.props=u,g.state=W,g.context=b,u=V):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,wm(a,s),b=s.memoizedProps,ne=to(l,b),g.props=ne,le=s.pendingProps,K=g.context,W=l.contextType,V=el,typeof W=="object"&&W!==null&&(V=Sn(W)),S=l.getDerivedStateFromProps,(W=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==le||K!==V)&&Qw(s,g,u,V),Ii=!1,K=s.memoizedState,g.state=K,Gc(s,u,g,p),zc();var X=s.memoizedState;b!==le||K!==X||Ii||a!==null&&a.dependencies!==null&&nd(a.dependencies)?(typeof S=="function"&&(Hm(s,l,S,u),X=s.memoizedState),(ne=Ii||Gw(s,l,ne,u,K,X,V)||a!==null&&a.dependencies!==null&&nd(a.dependencies))?(W||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,X,V),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,X,V)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===a.memoizedProps&&K===a.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===a.memoizedProps&&K===a.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=X),g.props=u,g.state=X,g.context=V,u=ne):(typeof g.componentDidUpdate!="function"||b===a.memoizedProps&&K===a.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===a.memoizedProps&&K===a.memoizedState||(s.flags|=1024),u=!1)}return g=u,Ed(a,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,a!==null&&u?(s.child=ul(s,a.child,null,p),s.child=ul(s,null,l,p)):pn(a,s,l,p),s.memoizedState=g.state,a=s.child):a=Ya(a,s,p),a}function l0(a,s,l,u){return Vc(),s.flags|=256,pn(a,s,l,u),s.child}var zm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gm(a){return{baseLanes:a,cachePool:K_()}}function Qm(a,s,l){return a=a!==null?a.childLanes&~l:0,s&&(a|=gr),a}function c0(a,s,l){var u=s.pendingProps,p=!1,g=(s.flags&128)!==0,b;if((b=g)||(b=a!==null&&a.memoizedState===null?!1:(tn.current&2)!==0),b&&(p=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,a===null){if(nt){if(p?ki(s):Oi(),nt){var S=Mt,V;if(V=S){e:{for(V=S,S=Xr;V.nodeType!==8;){if(!S){S=null;break e}if(V=xr(V.nextSibling),V===null){S=null;break e}}S=V}S!==null?(s.memoizedState={dehydrated:S,treeContext:Qs!==null?{id:Ua,overflow:Ba}:null,retryLane:536870912,hydrationErrors:null},V=$n(18,null,null,0),V.stateNode=S,V.return=s,s.child=V,Pn=s,Mt=null,V=!0):V=!1}V||$s(s)}if(S=s.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return xg(S)?s.lanes=32:s.lanes=536870912,null;qa(s)}return S=u.children,u=u.fallback,p?(Oi(),p=s.mode,S=bd({mode:"hidden",children:S},p),u=Gs(u,p,l,null),S.return=s,u.return=s,S.sibling=u,s.child=S,p=s.child,p.memoizedState=Gm(l),p.childLanes=Qm(a,b,l),s.memoizedState=zm,u):(ki(s),Wm(s,S))}if(V=a.memoizedState,V!==null&&(S=V.dehydrated,S!==null)){if(g)s.flags&256?(ki(s),s.flags&=-257,s=Km(a,s,l)):s.memoizedState!==null?(Oi(),s.child=a.child,s.flags|=128,s=null):(Oi(),p=u.fallback,S=s.mode,u=bd({mode:"visible",children:u.children},S),p=Gs(p,S,l,null),p.flags|=2,u.return=s,p.return=s,u.sibling=p,s.child=u,ul(s,a.child,null,l),u=s.child,u.memoizedState=Gm(l),u.childLanes=Qm(a,b,l),s.memoizedState=zm,s=p);else if(ki(s),xg(S)){if(b=S.nextSibling&&S.nextSibling.dataset,b)var W=b.dgst;b=W,u=Error(n(419)),u.stack="",u.digest=b,Uc({value:u,source:null,stack:null}),s=Km(a,s,l)}else if(sn||Bc(a,s,l,!1),b=(l&a.childLanes)!==0,sn||b){if(b=_t,b!==null&&(u=l&-l,u=(u&42)!==0?1:Ei(u),u=(u&(b.suspendedLanes|l))!==0?0:u,u!==0&&u!==V.retryLane))throw V.retryLane=u,Jo(a,u),tr(b,a,u),e0;S.data==="$?"||hg(),s=Km(a,s,l)}else S.data==="$?"?(s.flags|=192,s.child=a.child,s=null):(a=V.treeContext,Mt=xr(S.nextSibling),Pn=s,nt=!0,Ks=null,Xr=!1,a!==null&&(hr[pr++]=Ua,hr[pr++]=Ba,hr[pr++]=Qs,Ua=a.id,Ba=a.overflow,Qs=s),s=Wm(s,u.children),s.flags|=4096);return s}return p?(Oi(),p=u.fallback,S=s.mode,V=a.child,W=V.sibling,u=Va(V,{mode:"hidden",children:u.children}),u.subtreeFlags=V.subtreeFlags&65011712,W!==null?p=Va(W,p):(p=Gs(p,S,l,null),p.flags|=2),p.return=s,u.return=s,u.sibling=p,s.child=u,u=p,p=s.child,S=a.child.memoizedState,S===null?S=Gm(l):(V=S.cachePool,V!==null?(W=en._currentValue,V=V.parent!==W?{parent:W,pool:W}:V):V=K_(),S={baseLanes:S.baseLanes|l,cachePool:V}),p.memoizedState=S,p.childLanes=Qm(a,b,l),s.memoizedState=zm,u):(ki(s),l=a.child,a=l.sibling,l=Va(l,{mode:"visible",children:u.children}),l.return=s,l.sibling=null,a!==null&&(b=s.deletions,b===null?(s.deletions=[a],s.flags|=16):b.push(a)),s.child=l,s.memoizedState=null,l)}function Wm(a,s){return s=bd({mode:"visible",children:s},a.mode),s.return=a,a.child=s}function bd(a,s){return a=$n(22,a,null,s),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function Km(a,s,l){return ul(s,a.child,null,l),a=Wm(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function u0(a,s,l){a.lanes|=s;var u=a.alternate;u!==null&&(u.lanes|=s),hm(a.return,s,l)}function $m(a,s,l,u,p){var g=a.memoizedState;g===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:p}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=l,g.tailMode=p)}function f0(a,s,l){var u=s.pendingProps,p=u.revealOrder,g=u.tail;if(pn(a,s,u.children,l),u=tn.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&u0(a,l,s);else if(a.tag===19)u0(a,l,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}u&=1}switch(ue(tn,u),p){case"forwards":for(l=s.child,p=null;l!==null;)a=l.alternate,a!==null&&vd(a)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),$m(s,!1,p,l,g);break;case"backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(a=p.alternate,a!==null&&vd(a)===null){s.child=p;break}a=p.sibling,p.sibling=l,l=p,p=a}$m(s,!0,l,null,g);break;case"together":$m(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ya(a,s,l){if(a!==null&&(s.dependencies=a.dependencies),Bi|=s.lanes,(l&s.childLanes)===0)if(a!==null){if(Bc(a,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(a!==null&&s.child!==a.child)throw Error(n(153));if(s.child!==null){for(a=s.child,l=Va(a,a.pendingProps),s.child=l,l.return=s;a.sibling!==null;)a=a.sibling,l=l.sibling=Va(a,a.pendingProps),l.return=s;l.sibling=null}return s.child}function Xm(a,s){return(a.lanes&s)!==0?!0:(a=a.dependencies,!!(a!==null&&nd(a)))}function _A(a,s,l){switch(s.tag){case 3:Oe(s,s.stateNode.containerInfo),Ri(s,en,a.memoizedState.cache),Vc();break;case 27:case 5:Mn(s);break;case 4:Oe(s,s.stateNode.containerInfo);break;case 10:Ri(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(ki(s),s.flags|=128,null):(l&s.child.childLanes)!==0?c0(a,s,l):(ki(s),a=Ya(a,s,l),a!==null?a.sibling:null);ki(s);break;case 19:var p=(a.flags&128)!==0;if(u=(l&s.childLanes)!==0,u||(Bc(a,s,l,!1),u=(l&s.childLanes)!==0),p){if(u)return f0(a,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ue(tn,tn.current),u)break;return null;case 22:case 23:return s.lanes=0,a0(a,s,l);case 24:Ri(s,en,a.memoizedState.cache)}return Ya(a,s,l)}function d0(a,s,l){if(a!==null)if(a.memoizedProps!==s.pendingProps)sn=!0;else{if(!Xm(a,l)&&(s.flags&128)===0)return sn=!1,_A(a,s,l);sn=(a.flags&131072)!==0}else sn=!1,nt&&(s.flags&1048576)!==0&&F_(s,td,s.index);switch(s.lanes=0,s.tag){case 16:e:{a=s.pendingProps;var u=s.elementType,p=u._init;if(u=p(u._payload),s.type=u,typeof u=="function")sm(u)?(a=to(u,a),s.tag=1,s=o0(null,s,u,a,l)):(s.tag=0,s=Ym(null,s,u,a,l));else{if(u!=null){if(p=u.$$typeof,p===ee){s.tag=11,s=t0(null,s,u,a,l);break e}else if(p===M){s.tag=14,s=n0(null,s,u,a,l);break e}}throw s=Ee(u)||u,Error(n(306,s,""))}}return s;case 0:return Ym(a,s,s.type,s.pendingProps,l);case 1:return u=s.type,p=to(u,s.pendingProps),o0(a,s,u,p,l);case 3:e:{if(Oe(s,s.stateNode.containerInfo),a===null)throw Error(n(387));u=s.pendingProps;var g=s.memoizedState;p=g.element,wm(a,s),Gc(s,u,null,l);var b=s.memoizedState;if(u=b.cache,Ri(s,en,u),u!==g.cache&&pm(s,[en],l,!0),zc(),u=b.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=l0(a,s,u,l);break e}else if(u!==p){p=fr(Error(n(424)),s),Uc(p),s=l0(a,s,u,l);break e}else{switch(a=s.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Mt=xr(a.firstChild),Pn=s,nt=!0,Ks=null,Xr=!0,l=Yw(s,null,u,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Vc(),u===p){s=Ya(a,s,l);break e}pn(a,s,u,l)}s=s.child}return s;case 26:return Ed(a,s),a===null?(l=gE(s.type,null,s.pendingProps,null))?s.memoizedState=l:nt||(l=s.type,a=s.pendingProps,u=Ld(ye.current).createElement(l),u[Xt]=s,u[Yt]=a,gn(u,l,a),Lt(u),s.stateNode=u):s.memoizedState=gE(s.type,a.memoizedProps,s.pendingProps,a.memoizedState),null;case 27:return Mn(s),a===null&&nt&&(u=s.stateNode=hE(s.type,s.pendingProps,ye.current),Pn=s,Xr=!0,p=Mt,qi(s.type)?(Mg=p,Mt=xr(u.firstChild)):Mt=p),pn(a,s,s.pendingProps.children,l),Ed(a,s),a===null&&(s.flags|=4194304),s.child;case 5:return a===null&&nt&&((p=u=Mt)&&(u=QA(u,s.type,s.pendingProps,Xr),u!==null?(s.stateNode=u,Pn=s,Mt=xr(u.firstChild),Xr=!1,p=!0):p=!1),p||$s(s)),Mn(s),p=s.type,g=s.pendingProps,b=a!==null?a.memoizedProps:null,u=g.children,Ag(p,g)?u=null:b!==null&&Ag(p,b)&&(s.flags|=32),s.memoizedState!==null&&(p=Cm(a,s,fA,null,null,l),pu._currentValue=p),Ed(a,s),pn(a,s,u,l),s.child;case 6:return a===null&&nt&&((a=l=Mt)&&(l=WA(l,s.pendingProps,Xr),l!==null?(s.stateNode=l,Pn=s,Mt=null,a=!0):a=!1),a||$s(s)),null;case 13:return c0(a,s,l);case 4:return Oe(s,s.stateNode.containerInfo),u=s.pendingProps,a===null?s.child=ul(s,null,u,l):pn(a,s,u,l),s.child;case 11:return t0(a,s,s.type,s.pendingProps,l);case 7:return pn(a,s,s.pendingProps,l),s.child;case 8:return pn(a,s,s.pendingProps.children,l),s.child;case 12:return pn(a,s,s.pendingProps.children,l),s.child;case 10:return u=s.pendingProps,Ri(s,s.type,u.value),pn(a,s,u.children,l),s.child;case 9:return p=s.type._context,u=s.pendingProps.children,Zs(s),p=Sn(p),u=u(p),s.flags|=1,pn(a,s,u,l),s.child;case 14:return n0(a,s,s.type,s.pendingProps,l);case 15:return r0(a,s,s.type,s.pendingProps,l);case 19:return f0(a,s,l);case 31:return u=s.pendingProps,l=s.mode,u={mode:u.mode,children:u.children},a===null?(l=bd(u,l),l.ref=s.ref,s.child=l,l.return=s,s=l):(l=Va(a.child,u),l.ref=s.ref,s.child=l,l.return=s,s=l),s;case 22:return a0(a,s,l);case 24:return Zs(s),u=Sn(en),a===null?(p=ym(),p===null&&(p=_t,g=mm(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=l),p=g),s.memoizedState={parent:u,cache:p},_m(s),Ri(s,en,p)):((a.lanes&l)!==0&&(wm(a,s),Gc(s,null,null,l),zc()),p=a.memoizedState,g=s.memoizedState,p.parent!==u?(p={parent:u,cache:u},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),Ri(s,en,u)):(u=g.cache,Ri(s,en,u),u!==p.cache&&pm(s,[en],l,!0))),pn(a,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(n(156,s.tag))}function za(a){a.flags|=4}function h0(a,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!EE(s)){if(s=mr.current,s!==null&&((Ze&4194048)===Ze?Zr!==null:(Ze&62914560)!==Ze&&(Ze&536870912)===0||s!==Zr))throw qc=vm,$_;a.flags|=8192}}function Td(a,s){s!==null&&(a.flags|=4),a.flags&16384&&(s=a.tag!==22?gc():536870912,a.lanes|=s,pl|=s)}function Jc(a,s){if(!nt)switch(a.tailMode){case"hidden":s=a.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?a.tail=null:l.sibling=null;break;case"collapsed":l=a.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:u.sibling=null}}function At(a){var s=a.alternate!==null&&a.alternate.child===a.child,l=0,u=0;if(s)for(var p=a.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=a,p=p.sibling;else for(p=a.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=a,p=p.sibling;return a.subtreeFlags|=u,a.childLanes=l,s}function wA(a,s,l){var u=s.pendingProps;switch(um(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(s),null;case 1:return At(s),null;case 3:return l=s.stateNode,u=null,a!==null&&(u=a.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Ha(en),un(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(a===null||a.child===null)&&(Lc(s)?za(s):a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,z_())),At(s),null;case 26:return l=s.memoizedState,a===null?(za(s),l!==null?(At(s),h0(s,l)):(At(s),s.flags&=-16777217)):l?l!==a.memoizedState?(za(s),At(s),h0(s,l)):(At(s),s.flags&=-16777217):(a.memoizedProps!==u&&za(s),At(s),s.flags&=-16777217),null;case 27:Gn(s),l=ye.current;var p=s.type;if(a!==null&&s.stateNode!=null)a.memoizedProps!==u&&za(s);else{if(!u){if(s.stateNode===null)throw Error(n(166));return At(s),null}a=ge.current,Lc(s)?q_(s):(a=hE(p,u,l),s.stateNode=a,za(s))}return At(s),null;case 5:if(Gn(s),l=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==u&&za(s);else{if(!u){if(s.stateNode===null)throw Error(n(166));return At(s),null}if(a=ge.current,Lc(s))q_(s);else{switch(p=Ld(ye.current),a){case 1:a=p.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:a=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":a=p.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":a=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":a=p.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof u.is=="string"?p.createElement("select",{is:u.is}):p.createElement("select"),u.multiple?a.multiple=!0:u.size&&(a.size=u.size);break;default:a=typeof u.is=="string"?p.createElement(l,{is:u.is}):p.createElement(l)}}a[Xt]=s,a[Yt]=u;e:for(p=s.child;p!==null;){if(p.tag===5||p.tag===6)a.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===s)break e;for(;p.sibling===null;){if(p.return===null||p.return===s)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}s.stateNode=a;e:switch(gn(a,l,u),l){case"button":case"input":case"select":case"textarea":a=!!u.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&za(s)}}return At(s),s.flags&=-16777217,null;case 6:if(a&&s.stateNode!=null)a.memoizedProps!==u&&za(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(n(166));if(a=ye.current,Lc(s)){if(a=s.stateNode,l=s.memoizedProps,u=null,p=Pn,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}a[Xt]=s,a=!!(a.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||sE(a.nodeValue,l)),a||$s(s)}else a=Ld(a).createTextNode(u),a[Xt]=s,s.stateNode=a}return At(s),null;case 13:if(u=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(p=Lc(s),u!==null&&u.dehydrated!==null){if(a===null){if(!p)throw Error(n(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[Xt]=s}else Vc(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;At(s),p=!1}else p=z_(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(qa(s),s):(qa(s),null)}if(qa(s),(s.flags&128)!==0)return s.lanes=l,s;if(l=u!==null,a=a!==null&&a.memoizedState!==null,l){u=s.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==p&&(u.flags|=2048)}return l!==a&&l&&(s.child.flags|=8192),Td(s,s.updateQueue),At(s),null;case 4:return un(),a===null&&bg(s.stateNode.containerInfo),At(s),null;case 10:return Ha(s.type),At(s),null;case 19:if(fe(tn),p=s.memoizedState,p===null)return At(s),null;if(u=(s.flags&128)!==0,g=p.rendering,g===null)if(u)Jc(p,!1);else{if(Nt!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(g=vd(a),g!==null){for(s.flags|=128,Jc(p,!1),a=g.updateQueue,s.updateQueue=a,Td(s,a),s.subtreeFlags=0,a=l,l=s.child;l!==null;)H_(l,a),l=l.sibling;return ue(tn,tn.current&1|2),s.child}a=a.sibling}p.tail!==null&&fn()>Cd&&(s.flags|=128,u=!0,Jc(p,!1),s.lanes=4194304)}else{if(!u)if(a=vd(g),a!==null){if(s.flags|=128,u=!0,a=a.updateQueue,s.updateQueue=a,Td(s,a),Jc(p,!0),p.tail===null&&p.tailMode==="hidden"&&!g.alternate&&!nt)return At(s),null}else 2*fn()-p.renderingStartTime>Cd&&l!==536870912&&(s.flags|=128,u=!0,Jc(p,!1),s.lanes=4194304);p.isBackwards?(g.sibling=s.child,s.child=g):(a=p.last,a!==null?a.sibling=g:s.child=g,p.last=g)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=fn(),s.sibling=null,a=tn.current,ue(tn,u?a&1|2:a&1),s):(At(s),null);case 22:case 23:return qa(s),Sm(),u=s.memoizedState!==null,a!==null?a.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(l&536870912)!==0&&(s.flags&128)===0&&(At(s),s.subtreeFlags&6&&(s.flags|=8192)):At(s),l=s.updateQueue,l!==null&&Td(s,l.retryQueue),l=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==l&&(s.flags|=2048),a!==null&&fe(Js),null;case 24:return l=null,a!==null&&(l=a.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Ha(en),At(s),null;case 25:return null;case 30:return null}throw Error(n(156,s.tag))}function EA(a,s){switch(um(s),s.tag){case 1:return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return Ha(en),un(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 26:case 27:case 5:return Gn(s),null;case 13:if(qa(s),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(n(340));Vc()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return fe(tn),null;case 4:return un(),null;case 10:return Ha(s.type),null;case 22:case 23:return qa(s),Sm(),a!==null&&fe(Js),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 24:return Ha(en),null;case 25:return null;default:return null}}function p0(a,s){switch(um(s),s.tag){case 3:Ha(en),un();break;case 26:case 27:case 5:Gn(s);break;case 4:un();break;case 13:qa(s);break;case 19:fe(tn);break;case 10:Ha(s.type);break;case 22:case 23:qa(s),Sm(),a!==null&&fe(Js);break;case 24:Ha(en)}}function eu(a,s){try{var l=s.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var p=u.next;l=p;do{if((l.tag&a)===a){u=void 0;var g=l.create,b=l.inst;u=g(),b.destroy=u}l=l.next}while(l!==p)}}catch(S){yt(s,s.return,S)}}function Pi(a,s,l){try{var u=s.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var g=p.next;u=g;do{if((u.tag&a)===a){var b=u.inst,S=b.destroy;if(S!==void 0){b.destroy=void 0,p=s;var V=l,W=S;try{W()}catch(ne){yt(p,V,ne)}}}u=u.next}while(u!==g)}}catch(ne){yt(s,s.return,ne)}}function m0(a){var s=a.updateQueue;if(s!==null){var l=a.stateNode;try{nw(s,l)}catch(u){yt(a,a.return,u)}}}function g0(a,s,l){l.props=to(a.type,a.memoizedProps),l.state=a.memoizedState;try{l.componentWillUnmount()}catch(u){yt(a,s,u)}}function tu(a,s){try{var l=a.ref;if(l!==null){switch(a.tag){case 26:case 27:case 5:var u=a.stateNode;break;case 30:u=a.stateNode;break;default:u=a.stateNode}typeof l=="function"?a.refCleanup=l(u):l.current=u}}catch(p){yt(a,s,p)}}function Jr(a,s){var l=a.ref,u=a.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(p){yt(a,s,p)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){yt(a,s,p)}else l.current=null}function y0(a){var s=a.type,l=a.memoizedProps,u=a.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(p){yt(a,a.return,p)}}function Zm(a,s,l){try{var u=a.stateNode;FA(u,a.type,l,s),u[Yt]=s}catch(p){yt(a,a.return,p)}}function v0(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&qi(a.type)||a.tag===4}function Jm(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||v0(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&qi(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function eg(a,s,l){var u=a.tag;if(u===5||u===6)a=a.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(a,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(a),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Pd));else if(u!==4&&(u===27&&qi(a.type)&&(l=a.stateNode,s=null),a=a.child,a!==null))for(eg(a,s,l),a=a.sibling;a!==null;)eg(a,s,l),a=a.sibling}function Sd(a,s,l){var u=a.tag;if(u===5||u===6)a=a.stateNode,s?l.insertBefore(a,s):l.appendChild(a);else if(u!==4&&(u===27&&qi(a.type)&&(l=a.stateNode),a=a.child,a!==null))for(Sd(a,s,l),a=a.sibling;a!==null;)Sd(a,s,l),a=a.sibling}function _0(a){var s=a.stateNode,l=a.memoizedProps;try{for(var u=a.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);gn(s,u,l),s[Xt]=a,s[Yt]=l}catch(g){yt(a,a.return,g)}}var Ga=!1,Ut=!1,tg=!1,w0=typeof WeakSet=="function"?WeakSet:Set,on=null;function bA(a,s){if(a=a.containerInfo,Dg=Fd,a=M_(a),Jp(a)){if("selectionStart"in a)var l={start:a.selectionStart,end:a.selectionEnd};else e:{l=(l=a.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var p=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var b=0,S=-1,V=-1,W=0,ne=0,le=a,K=null;t:for(;;){for(var X;le!==l||p!==0&&le.nodeType!==3||(S=b+p),le!==g||u!==0&&le.nodeType!==3||(V=b+u),le.nodeType===3&&(b+=le.nodeValue.length),(X=le.firstChild)!==null;)K=le,le=X;for(;;){if(le===a)break t;if(K===l&&++W===p&&(S=b),K===g&&++ne===u&&(V=b),(X=le.nextSibling)!==null)break;le=K,K=le.parentNode}le=X}l=S===-1||V===-1?null:{start:S,end:V}}else l=null}l=l||{start:0,end:0}}else l=null;for(Cg={focusedElem:a,selectionRange:l},Fd=!1,on=s;on!==null;)if(s=on,a=s.child,(s.subtreeFlags&1024)!==0&&a!==null)a.return=s,on=a;else for(;on!==null;){switch(s=on,g=s.alternate,a=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&g!==null){a=void 0,l=s,p=g.memoizedProps,g=g.memoizedState,u=l.stateNode;try{var Me=to(l.type,p,l.elementType===l.type);a=u.getSnapshotBeforeUpdate(Me,g),u.__reactInternalSnapshotBeforeUpdate=a}catch(Ae){yt(l,l.return,Ae)}}break;case 3:if((a&1024)!==0){if(a=s.stateNode.containerInfo,l=a.nodeType,l===9)Ig(a);else if(l===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Ig(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(n(163))}if(a=s.sibling,a!==null){a.return=s.return,on=a;break}on=s.return}}function E0(a,s,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:Li(a,l),u&4&&eu(5,l);break;case 1:if(Li(a,l),u&4)if(a=l.stateNode,s===null)try{a.componentDidMount()}catch(b){yt(l,l.return,b)}else{var p=to(l.type,s.memoizedProps);s=s.memoizedState;try{a.componentDidUpdate(p,s,a.__reactInternalSnapshotBeforeUpdate)}catch(b){yt(l,l.return,b)}}u&64&&m0(l),u&512&&tu(l,l.return);break;case 3:if(Li(a,l),u&64&&(a=l.updateQueue,a!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{nw(a,s)}catch(b){yt(l,l.return,b)}}break;case 27:s===null&&u&4&&_0(l);case 26:case 5:Li(a,l),s===null&&u&4&&y0(l),u&512&&tu(l,l.return);break;case 12:Li(a,l);break;case 13:Li(a,l),u&4&&S0(a,l),u&64&&(a=l.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(l=MA.bind(null,l),KA(a,l))));break;case 22:if(u=l.memoizedState!==null||Ga,!u){s=s!==null&&s.memoizedState!==null||Ut,p=Ga;var g=Ut;Ga=u,(Ut=s)&&!g?Vi(a,l,(l.subtreeFlags&8772)!==0):Li(a,l),Ga=p,Ut=g}break;case 30:break;default:Li(a,l)}}function b0(a){var s=a.alternate;s!==null&&(a.alternate=null,b0(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&Si(s)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var St=null,Fn=!1;function Qa(a,s,l){for(l=l.child;l!==null;)T0(a,s,l),l=l.sibling}function T0(a,s,l){if(lt&&typeof lt.onCommitFiberUnmount=="function")try{lt.onCommitFiberUnmount(xt,l)}catch{}switch(l.tag){case 26:Ut||Jr(l,s),Qa(a,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ut||Jr(l,s);var u=St,p=Fn;qi(l.type)&&(St=l.stateNode,Fn=!1),Qa(a,s,l),uu(l.stateNode),St=u,Fn=p;break;case 5:Ut||Jr(l,s);case 6:if(u=St,p=Fn,St=null,Qa(a,s,l),St=u,Fn=p,St!==null)if(Fn)try{(St.nodeType===9?St.body:St.nodeName==="HTML"?St.ownerDocument.body:St).removeChild(l.stateNode)}catch(g){yt(l,s,g)}else try{St.removeChild(l.stateNode)}catch(g){yt(l,s,g)}break;case 18:St!==null&&(Fn?(a=St,fE(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,l.stateNode),vu(a)):fE(St,l.stateNode));break;case 4:u=St,p=Fn,St=l.stateNode.containerInfo,Fn=!0,Qa(a,s,l),St=u,Fn=p;break;case 0:case 11:case 14:case 15:Ut||Pi(2,l,s),Ut||Pi(4,l,s),Qa(a,s,l);break;case 1:Ut||(Jr(l,s),u=l.stateNode,typeof u.componentWillUnmount=="function"&&g0(l,s,u)),Qa(a,s,l);break;case 21:Qa(a,s,l);break;case 22:Ut=(u=Ut)||l.memoizedState!==null,Qa(a,s,l),Ut=u;break;default:Qa(a,s,l)}}function S0(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{vu(a)}catch(l){yt(s,s.return,l)}}function TA(a){switch(a.tag){case 13:case 19:var s=a.stateNode;return s===null&&(s=a.stateNode=new w0),s;case 22:return a=a.stateNode,s=a._retryCache,s===null&&(s=a._retryCache=new w0),s;default:throw Error(n(435,a.tag))}}function ng(a,s){var l=TA(a);s.forEach(function(u){var p=NA.bind(null,a,u);l.has(u)||(l.add(u),u.then(p,p))})}function Xn(a,s){var l=s.deletions;if(l!==null)for(var u=0;u<l.length;u++){var p=l[u],g=a,b=s,S=b;e:for(;S!==null;){switch(S.tag){case 27:if(qi(S.type)){St=S.stateNode,Fn=!1;break e}break;case 5:St=S.stateNode,Fn=!1;break e;case 3:case 4:St=S.stateNode.containerInfo,Fn=!0;break e}S=S.return}if(St===null)throw Error(n(160));T0(g,b,p),St=null,Fn=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)D0(s,a),s=s.sibling}var Ir=null;function D0(a,s){var l=a.alternate,u=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Xn(s,a),Zn(a),u&4&&(Pi(3,a,a.return),eu(3,a),Pi(5,a,a.return));break;case 1:Xn(s,a),Zn(a),u&512&&(Ut||l===null||Jr(l,l.return)),u&64&&Ga&&(a=a.updateQueue,a!==null&&(u=a.callbacks,u!==null&&(l=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var p=Ir;if(Xn(s,a),Zn(a),u&512&&(Ut||l===null||Jr(l,l.return)),u&4){var g=l!==null?l.memoizedState:null;if(u=a.memoizedState,l===null)if(u===null)if(a.stateNode===null){e:{u=a.type,l=a.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":g=p.getElementsByTagName("title")[0],(!g||g[xs]||g[Xt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(u),p.head.insertBefore(g,p.querySelector("head > title"))),gn(g,u,l),g[Xt]=a,Lt(g),u=g;break e;case"link":var b=_E("link","href",p).get(u+(l.href||""));if(b){for(var S=0;S<b.length;S++)if(g=b[S],g.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&g.getAttribute("rel")===(l.rel==null?null:l.rel)&&g.getAttribute("title")===(l.title==null?null:l.title)&&g.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){b.splice(S,1);break t}}g=p.createElement(u),gn(g,u,l),p.head.appendChild(g);break;case"meta":if(b=_E("meta","content",p).get(u+(l.content||""))){for(S=0;S<b.length;S++)if(g=b[S],g.getAttribute("content")===(l.content==null?null:""+l.content)&&g.getAttribute("name")===(l.name==null?null:l.name)&&g.getAttribute("property")===(l.property==null?null:l.property)&&g.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&g.getAttribute("charset")===(l.charSet==null?null:l.charSet)){b.splice(S,1);break t}}g=p.createElement(u),gn(g,u,l),p.head.appendChild(g);break;default:throw Error(n(468,u))}g[Xt]=a,Lt(g),u=g}a.stateNode=u}else wE(p,a.type,a.stateNode);else a.stateNode=vE(p,u,a.memoizedProps);else g!==u?(g===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):g.count--,u===null?wE(p,a.type,a.stateNode):vE(p,u,a.memoizedProps)):u===null&&a.stateNode!==null&&Zm(a,a.memoizedProps,l.memoizedProps)}break;case 27:Xn(s,a),Zn(a),u&512&&(Ut||l===null||Jr(l,l.return)),l!==null&&u&4&&Zm(a,a.memoizedProps,l.memoizedProps);break;case 5:if(Xn(s,a),Zn(a),u&512&&(Ut||l===null||Jr(l,l.return)),a.flags&32){p=a.stateNode;try{or(p,"")}catch(X){yt(a,a.return,X)}}u&4&&a.stateNode!=null&&(p=a.memoizedProps,Zm(a,p,l!==null?l.memoizedProps:p)),u&1024&&(tg=!0);break;case 6:if(Xn(s,a),Zn(a),u&4){if(a.stateNode===null)throw Error(n(162));u=a.memoizedProps,l=a.stateNode;try{l.nodeValue=u}catch(X){yt(a,a.return,X)}}break;case 3:if(Bd=null,p=Ir,Ir=Vd(s.containerInfo),Xn(s,a),Ir=p,Zn(a),u&4&&l!==null&&l.memoizedState.isDehydrated)try{vu(s.containerInfo)}catch(X){yt(a,a.return,X)}tg&&(tg=!1,C0(a));break;case 4:u=Ir,Ir=Vd(a.stateNode.containerInfo),Xn(s,a),Zn(a),Ir=u;break;case 12:Xn(s,a),Zn(a);break;case 13:Xn(s,a),Zn(a),a.child.flags&8192&&a.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(lg=fn()),u&4&&(u=a.updateQueue,u!==null&&(a.updateQueue=null,ng(a,u)));break;case 22:p=a.memoizedState!==null;var V=l!==null&&l.memoizedState!==null,W=Ga,ne=Ut;if(Ga=W||p,Ut=ne||V,Xn(s,a),Ut=ne,Ga=W,Zn(a),u&8192)e:for(s=a.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(l===null||V||Ga||Ut||no(a)),l=null,s=a;;){if(s.tag===5||s.tag===26){if(l===null){V=l=s;try{if(g=V.stateNode,p)b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{S=V.stateNode;var le=V.memoizedProps.style,K=le!=null&&le.hasOwnProperty("display")?le.display:null;S.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(X){yt(V,V.return,X)}}}else if(s.tag===6){if(l===null){V=s;try{V.stateNode.nodeValue=p?"":V.memoizedProps}catch(X){yt(V,V.return,X)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===a)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=a.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,ng(a,l))));break;case 19:Xn(s,a),Zn(a),u&4&&(u=a.updateQueue,u!==null&&(a.updateQueue=null,ng(a,u)));break;case 30:break;case 21:break;default:Xn(s,a),Zn(a)}}function Zn(a){var s=a.flags;if(s&2){try{for(var l,u=a.return;u!==null;){if(v0(u)){l=u;break}u=u.return}if(l==null)throw Error(n(160));switch(l.tag){case 27:var p=l.stateNode,g=Jm(a);Sd(a,g,p);break;case 5:var b=l.stateNode;l.flags&32&&(or(b,""),l.flags&=-33);var S=Jm(a);Sd(a,S,b);break;case 3:case 4:var V=l.stateNode.containerInfo,W=Jm(a);eg(a,W,V);break;default:throw Error(n(161))}}catch(ne){yt(a,a.return,ne)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function C0(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var s=a;C0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),a=a.sibling}}function Li(a,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)E0(a,s.alternate,s),s=s.sibling}function no(a){for(a=a.child;a!==null;){var s=a;switch(s.tag){case 0:case 11:case 14:case 15:Pi(4,s,s.return),no(s);break;case 1:Jr(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&g0(s,s.return,l),no(s);break;case 27:uu(s.stateNode);case 26:case 5:Jr(s,s.return),no(s);break;case 22:s.memoizedState===null&&no(s);break;case 30:no(s);break;default:no(s)}a=a.sibling}}function Vi(a,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,p=a,g=s,b=g.flags;switch(g.tag){case 0:case 11:case 15:Vi(p,g,l),eu(4,g);break;case 1:if(Vi(p,g,l),u=g,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(W){yt(u,u.return,W)}if(u=g,p=u.updateQueue,p!==null){var S=u.stateNode;try{var V=p.shared.hiddenCallbacks;if(V!==null)for(p.shared.hiddenCallbacks=null,p=0;p<V.length;p++)tw(V[p],S)}catch(W){yt(u,u.return,W)}}l&&b&64&&m0(g),tu(g,g.return);break;case 27:_0(g);case 26:case 5:Vi(p,g,l),l&&u===null&&b&4&&y0(g),tu(g,g.return);break;case 12:Vi(p,g,l);break;case 13:Vi(p,g,l),l&&b&4&&S0(p,g);break;case 22:g.memoizedState===null&&Vi(p,g,l),tu(g,g.return);break;case 30:break;default:Vi(p,g,l)}s=s.sibling}}function rg(a,s){var l=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==l&&(a!=null&&a.refCount++,l!=null&&jc(l))}function ag(a,s){a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&jc(a))}function ea(a,s,l,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)A0(a,s,l,u),s=s.sibling}function A0(a,s,l,u){var p=s.flags;switch(s.tag){case 0:case 11:case 15:ea(a,s,l,u),p&2048&&eu(9,s);break;case 1:ea(a,s,l,u);break;case 3:ea(a,s,l,u),p&2048&&(a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&jc(a)));break;case 12:if(p&2048){ea(a,s,l,u),a=s.stateNode;try{var g=s.memoizedProps,b=g.id,S=g.onPostCommit;typeof S=="function"&&S(b,s.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(V){yt(s,s.return,V)}}else ea(a,s,l,u);break;case 13:ea(a,s,l,u);break;case 23:break;case 22:g=s.stateNode,b=s.alternate,s.memoizedState!==null?g._visibility&2?ea(a,s,l,u):nu(a,s):g._visibility&2?ea(a,s,l,u):(g._visibility|=2,fl(a,s,l,u,(s.subtreeFlags&10256)!==0)),p&2048&&rg(b,s);break;case 24:ea(a,s,l,u),p&2048&&ag(s.alternate,s);break;default:ea(a,s,l,u)}}function fl(a,s,l,u,p){for(p=p&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=a,b=s,S=l,V=u,W=b.flags;switch(b.tag){case 0:case 11:case 15:fl(g,b,S,V,p),eu(8,b);break;case 23:break;case 22:var ne=b.stateNode;b.memoizedState!==null?ne._visibility&2?fl(g,b,S,V,p):nu(g,b):(ne._visibility|=2,fl(g,b,S,V,p)),p&&W&2048&&rg(b.alternate,b);break;case 24:fl(g,b,S,V,p),p&&W&2048&&ag(b.alternate,b);break;default:fl(g,b,S,V,p)}s=s.sibling}}function nu(a,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=a,u=s,p=u.flags;switch(u.tag){case 22:nu(l,u),p&2048&&rg(u.alternate,u);break;case 24:nu(l,u),p&2048&&ag(u.alternate,u);break;default:nu(l,u)}s=s.sibling}}var ru=8192;function dl(a){if(a.subtreeFlags&ru)for(a=a.child;a!==null;)R0(a),a=a.sibling}function R0(a){switch(a.tag){case 26:dl(a),a.flags&ru&&a.memoizedState!==null&&lR(Ir,a.memoizedState,a.memoizedProps);break;case 5:dl(a);break;case 3:case 4:var s=Ir;Ir=Vd(a.stateNode.containerInfo),dl(a),Ir=s;break;case 22:a.memoizedState===null&&(s=a.alternate,s!==null&&s.memoizedState!==null?(s=ru,ru=16777216,dl(a),ru=s):dl(a));break;default:dl(a)}}function I0(a){var s=a.alternate;if(s!==null&&(a=s.child,a!==null)){s.child=null;do s=a.sibling,a.sibling=null,a=s;while(a!==null)}}function au(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];on=u,M0(u,a)}I0(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)x0(a),a=a.sibling}function x0(a){switch(a.tag){case 0:case 11:case 15:au(a),a.flags&2048&&Pi(9,a,a.return);break;case 3:au(a);break;case 12:au(a);break;case 22:var s=a.stateNode;a.memoizedState!==null&&s._visibility&2&&(a.return===null||a.return.tag!==13)?(s._visibility&=-3,Dd(a)):au(a);break;default:au(a)}}function Dd(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];on=u,M0(u,a)}I0(a)}for(a=a.child;a!==null;){switch(s=a,s.tag){case 0:case 11:case 15:Pi(8,s,s.return),Dd(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,Dd(s));break;default:Dd(s)}a=a.sibling}}function M0(a,s){for(;on!==null;){var l=on;switch(l.tag){case 0:case 11:case 15:Pi(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:jc(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,on=u;else e:for(l=a;on!==null;){u=on;var p=u.sibling,g=u.return;if(b0(u),u===l){on=null;break e}if(p!==null){p.return=g,on=p;break e}on=g}}}var SA={getCacheForType:function(a){var s=Sn(en),l=s.data.get(a);return l===void 0&&(l=a(),s.data.set(a,l)),l}},DA=typeof WeakMap=="function"?WeakMap:Map,ct=0,_t=null,qe=null,Ze=0,ut=0,Jn=null,Ui=!1,hl=!1,ig=!1,Wa=0,Nt=0,Bi=0,ro=0,sg=0,gr=0,pl=0,iu=null,qn=null,og=!1,lg=0,Cd=1/0,Ad=null,ji=null,mn=0,Hi=null,ml=null,gl=0,cg=0,ug=null,N0=null,su=0,fg=null;function er(){if((ct&2)!==0&&Ze!==0)return Ze&-Ze;if(Y.T!==null){var a=rl;return a!==0?a:vg()}return bi()}function k0(){gr===0&&(gr=(Ze&536870912)===0||nt?mc():536870912);var a=mr.current;return a!==null&&(a.flags|=32),gr}function tr(a,s,l){(a===_t&&(ut===2||ut===9)||a.cancelPendingCommit!==null)&&(yl(a,0),Fi(a,Ze,gr,!1)),Ca(a,l),((ct&2)===0||a!==_t)&&(a===_t&&((ct&2)===0&&(ro|=l),Nt===4&&Fi(a,Ze,gr,!1)),ta(a))}function O0(a,s,l){if((ct&6)!==0)throw Error(n(327));var u=!l&&(s&124)===0&&(s&a.expiredLanes)===0||Is(a,s),p=u?RA(a,s):pg(a,s,!0),g=u;do{if(p===0){hl&&!u&&Fi(a,s,0,!1);break}else{if(l=a.current.alternate,g&&!CA(l)){p=pg(a,s,!1),g=!1;continue}if(p===2){if(g=s,a.errorRecoveryDisabledLanes&g)var b=0;else b=a.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var S=a;p=iu;var V=S.current.memoizedState.isDehydrated;if(V&&(yl(S,b).flags|=256),b=pg(S,b,!1),b!==2){if(ig&&!V){S.errorRecoveryDisabledLanes|=g,ro|=g,p=4;break e}g=qn,qn=p,g!==null&&(qn===null?qn=g:qn.push.apply(qn,g))}p=b}if(g=!1,p!==2)continue}}if(p===1){yl(a,0),Fi(a,s,0,!0);break}e:{switch(u=a,g=p,g){case 0:case 1:throw Error(n(345));case 4:if((s&4194048)!==s)break;case 6:Fi(u,s,gr,!Ui);break e;case 2:qn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((s&62914560)===s&&(p=lg+300-fn(),10<p)){if(Fi(u,s,gr,!Ui),Oo(u,0,!0)!==0)break e;u.timeoutHandle=cE(P0.bind(null,u,l,qn,Ad,og,s,gr,ro,pl,Ui,g,2,-0,0),p);break e}P0(u,l,qn,Ad,og,s,gr,ro,pl,Ui,g,0,-0,0)}}break}while(!0);ta(a)}function P0(a,s,l,u,p,g,b,S,V,W,ne,le,K,X){if(a.timeoutHandle=-1,le=s.subtreeFlags,(le&8192||(le&16785408)===16785408)&&(hu={stylesheets:null,count:0,unsuspend:oR},R0(s),le=cR(),le!==null)){a.cancelPendingCommit=le(F0.bind(null,a,s,g,l,u,p,b,S,V,ne,1,K,X)),Fi(a,g,b,!W);return}F0(a,s,g,l,u,p,b,S,V)}function CA(a){for(var s=a;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var p=l[u],g=p.getSnapshot;p=p.value;try{if(!Kn(g(),p))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Fi(a,s,l,u){s&=~sg,s&=~ro,a.suspendedLanes|=s,a.pingedLanes&=~s,u&&(a.warmLanes|=s),u=a.expirationTimes;for(var p=s;0<p;){var g=31-Tn(p),b=1<<g;u[g]=-1,p&=~b}l!==0&&jr(a,l,s)}function Rd(){return(ct&6)===0?(ou(0),!1):!0}function dg(){if(qe!==null){if(ut===0)var a=qe.return;else a=qe,ja=Xs=null,Im(a),cl=null,Xc=0,a=qe;for(;a!==null;)p0(a.alternate,a),a=a.return;qe=null}}function yl(a,s){var l=a.timeoutHandle;l!==-1&&(a.timeoutHandle=-1,YA(l)),l=a.cancelPendingCommit,l!==null&&(a.cancelPendingCommit=null,l()),dg(),_t=a,qe=l=Va(a.current,null),Ze=s,ut=0,Jn=null,Ui=!1,hl=Is(a,s),ig=!1,pl=gr=sg=ro=Bi=Nt=0,qn=iu=null,og=!1,(s&8)!==0&&(s|=s&32);var u=a.entangledLanes;if(u!==0)for(a=a.entanglements,u&=s;0<u;){var p=31-Tn(u),g=1<<p;s|=a[p],u&=~g}return Wa=s,$f(),l}function L0(a,s){Ue=null,Y.H=md,s===Fc||s===id?(s=J_(),ut=3):s===$_?(s=J_(),ut=4):ut=s===e0?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Jn=s,qe===null&&(Nt=1,wd(a,fr(s,a.current)))}function V0(){var a=Y.H;return Y.H=md,a===null?md:a}function U0(){var a=Y.A;return Y.A=SA,a}function hg(){Nt=4,Ui||(Ze&4194048)!==Ze&&mr.current!==null||(hl=!0),(Bi&134217727)===0&&(ro&134217727)===0||_t===null||Fi(_t,Ze,gr,!1)}function pg(a,s,l){var u=ct;ct|=2;var p=V0(),g=U0();(_t!==a||Ze!==s)&&(Ad=null,yl(a,s)),s=!1;var b=Nt;e:do try{if(ut!==0&&qe!==null){var S=qe,V=Jn;switch(ut){case 8:dg(),b=6;break e;case 3:case 2:case 9:case 6:mr.current===null&&(s=!0);var W=ut;if(ut=0,Jn=null,vl(a,S,V,W),l&&hl){b=0;break e}break;default:W=ut,ut=0,Jn=null,vl(a,S,V,W)}}AA(),b=Nt;break}catch(ne){L0(a,ne)}while(!0);return s&&a.shellSuspendCounter++,ja=Xs=null,ct=u,Y.H=p,Y.A=g,qe===null&&(_t=null,Ze=0,$f()),b}function AA(){for(;qe!==null;)B0(qe)}function RA(a,s){var l=ct;ct|=2;var u=V0(),p=U0();_t!==a||Ze!==s?(Ad=null,Cd=fn()+500,yl(a,s)):hl=Is(a,s);e:do try{if(ut!==0&&qe!==null){s=qe;var g=Jn;t:switch(ut){case 1:ut=0,Jn=null,vl(a,s,g,1);break;case 2:case 9:if(X_(g)){ut=0,Jn=null,j0(s);break}s=function(){ut!==2&&ut!==9||_t!==a||(ut=7),ta(a)},g.then(s,s);break e;case 3:ut=7;break e;case 4:ut=5;break e;case 7:X_(g)?(ut=0,Jn=null,j0(s)):(ut=0,Jn=null,vl(a,s,g,7));break;case 5:var b=null;switch(qe.tag){case 26:b=qe.memoizedState;case 5:case 27:var S=qe;if(!b||EE(b)){ut=0,Jn=null;var V=S.sibling;if(V!==null)qe=V;else{var W=S.return;W!==null?(qe=W,Id(W)):qe=null}break t}}ut=0,Jn=null,vl(a,s,g,5);break;case 6:ut=0,Jn=null,vl(a,s,g,6);break;case 8:dg(),Nt=6;break e;default:throw Error(n(462))}}IA();break}catch(ne){L0(a,ne)}while(!0);return ja=Xs=null,Y.H=u,Y.A=p,ct=l,qe!==null?0:(_t=null,Ze=0,$f(),Nt)}function IA(){for(;qe!==null&&!ir();)B0(qe)}function B0(a){var s=d0(a.alternate,a,Wa);a.memoizedProps=a.pendingProps,s===null?Id(a):qe=s}function j0(a){var s=a,l=s.alternate;switch(s.tag){case 15:case 0:s=s0(l,s,s.pendingProps,s.type,void 0,Ze);break;case 11:s=s0(l,s,s.pendingProps,s.type.render,s.ref,Ze);break;case 5:Im(s);default:p0(l,s),s=qe=H_(s,Wa),s=d0(l,s,Wa)}a.memoizedProps=a.pendingProps,s===null?Id(a):qe=s}function vl(a,s,l,u){ja=Xs=null,Im(s),cl=null,Xc=0;var p=s.return;try{if(vA(a,p,s,l,Ze)){Nt=1,wd(a,fr(l,a.current)),qe=null;return}}catch(g){if(p!==null)throw qe=p,g;Nt=1,wd(a,fr(l,a.current)),qe=null;return}s.flags&32768?(nt||u===1?a=!0:hl||(Ze&536870912)!==0?a=!1:(Ui=a=!0,(u===2||u===9||u===3||u===6)&&(u=mr.current,u!==null&&u.tag===13&&(u.flags|=16384))),H0(s,a)):Id(s)}function Id(a){var s=a;do{if((s.flags&32768)!==0){H0(s,Ui);return}a=s.return;var l=wA(s.alternate,s,Wa);if(l!==null){qe=l;return}if(s=s.sibling,s!==null){qe=s;return}qe=s=a}while(s!==null);Nt===0&&(Nt=5)}function H0(a,s){do{var l=EA(a.alternate,a);if(l!==null){l.flags&=32767,qe=l;return}if(l=a.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(a=a.sibling,a!==null)){qe=a;return}qe=a=l}while(a!==null);Nt=6,qe=null}function F0(a,s,l,u,p,g,b,S,V){a.cancelPendingCommit=null;do xd();while(mn!==0);if((ct&6)!==0)throw Error(n(327));if(s!==null){if(s===a.current)throw Error(n(177));if(g=s.lanes|s.childLanes,g|=am,yc(a,l,g,b,S,V),a===_t&&(qe=_t=null,Ze=0),ml=s,Hi=a,gl=l,cg=g,ug=p,N0=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,kA(Ds,function(){return Q0(),null})):(a.callbackNode=null,a.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=Y.T,Y.T=null,p=ae.p,ae.p=2,b=ct,ct|=4;try{bA(a,s,l)}finally{ct=b,ae.p=p,Y.T=u}}mn=1,q0(),Y0(),z0()}}function q0(){if(mn===1){mn=0;var a=Hi,s=ml,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null;var u=ae.p;ae.p=2;var p=ct;ct|=4;try{D0(s,a);var g=Cg,b=M_(a.containerInfo),S=g.focusedElem,V=g.selectionRange;if(b!==S&&S&&S.ownerDocument&&x_(S.ownerDocument.documentElement,S)){if(V!==null&&Jp(S)){var W=V.start,ne=V.end;if(ne===void 0&&(ne=W),"selectionStart"in S)S.selectionStart=W,S.selectionEnd=Math.min(ne,S.value.length);else{var le=S.ownerDocument||document,K=le&&le.defaultView||window;if(K.getSelection){var X=K.getSelection(),Me=S.textContent.length,Ae=Math.min(V.start,Me),gt=V.end===void 0?Ae:Math.min(V.end,Me);!X.extend&&Ae>gt&&(b=gt,gt=Ae,Ae=b);var q=I_(S,Ae),F=I_(S,gt);if(q&&F&&(X.rangeCount!==1||X.anchorNode!==q.node||X.anchorOffset!==q.offset||X.focusNode!==F.node||X.focusOffset!==F.offset)){var Q=le.createRange();Q.setStart(q.node,q.offset),X.removeAllRanges(),Ae>gt?(X.addRange(Q),X.extend(F.node,F.offset)):(Q.setEnd(F.node,F.offset),X.addRange(Q))}}}}for(le=[],X=S;X=X.parentNode;)X.nodeType===1&&le.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<le.length;S++){var se=le[S];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}Fd=!!Dg,Cg=Dg=null}finally{ct=p,ae.p=u,Y.T=l}}a.current=s,mn=2}}function Y0(){if(mn===2){mn=0;var a=Hi,s=ml,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=Y.T,Y.T=null;var u=ae.p;ae.p=2;var p=ct;ct|=4;try{E0(a,s.alternate,s)}finally{ct=p,ae.p=u,Y.T=l}}mn=3}}function z0(){if(mn===4||mn===3){mn=0,Sr();var a=Hi,s=ml,l=gl,u=N0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?mn=5:(mn=0,ml=Hi=null,G0(a,a.pendingLanes));var p=a.pendingLanes;if(p===0&&(ji=null),Po(l),s=s.stateNode,lt&&typeof lt.onCommitFiberRoot=="function")try{lt.onCommitFiberRoot(xt,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=Y.T,p=ae.p,ae.p=2,Y.T=null;try{for(var g=a.onRecoverableError,b=0;b<u.length;b++){var S=u[b];g(S.value,{componentStack:S.stack})}}finally{Y.T=s,ae.p=p}}(gl&3)!==0&&xd(),ta(a),p=a.pendingLanes,(l&4194090)!==0&&(p&42)!==0?a===fg?su++:(su=0,fg=a):su=0,ou(0)}}function G0(a,s){(a.pooledCacheLanes&=s)===0&&(s=a.pooledCache,s!=null&&(a.pooledCache=null,jc(s)))}function xd(a){return q0(),Y0(),z0(),Q0()}function Q0(){if(mn!==5)return!1;var a=Hi,s=cg;cg=0;var l=Po(gl),u=Y.T,p=ae.p;try{ae.p=32>l?32:l,Y.T=null,l=ug,ug=null;var g=Hi,b=gl;if(mn=0,ml=Hi=null,gl=0,(ct&6)!==0)throw Error(n(331));var S=ct;if(ct|=4,x0(g.current),A0(g,g.current,b,l),ct=S,ou(0,!1),lt&&typeof lt.onPostCommitFiberRoot=="function")try{lt.onPostCommitFiberRoot(xt,g)}catch{}return!0}finally{ae.p=p,Y.T=u,G0(a,s)}}function W0(a,s,l){s=fr(l,s),s=qm(a.stateNode,s,2),a=Mi(a,s,2),a!==null&&(Ca(a,2),ta(a))}function yt(a,s,l){if(a.tag===3)W0(a,a,l);else for(;s!==null;){if(s.tag===3){W0(s,a,l);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ji===null||!ji.has(u))){a=fr(l,a),l=Zw(2),u=Mi(s,l,2),u!==null&&(Jw(l,u,s,a),Ca(u,2),ta(u));break}}s=s.return}}function mg(a,s,l){var u=a.pingCache;if(u===null){u=a.pingCache=new DA;var p=new Set;u.set(s,p)}else p=u.get(s),p===void 0&&(p=new Set,u.set(s,p));p.has(l)||(ig=!0,p.add(l),a=xA.bind(null,a,s,l),s.then(a,a))}function xA(a,s,l){var u=a.pingCache;u!==null&&u.delete(s),a.pingedLanes|=a.suspendedLanes&l,a.warmLanes&=~l,_t===a&&(Ze&l)===l&&(Nt===4||Nt===3&&(Ze&62914560)===Ze&&300>fn()-lg?(ct&2)===0&&yl(a,0):sg|=l,pl===Ze&&(pl=0)),ta(a)}function K0(a,s){s===0&&(s=gc()),a=Jo(a,s),a!==null&&(Ca(a,s),ta(a))}function MA(a){var s=a.memoizedState,l=0;s!==null&&(l=s.retryLane),K0(a,l)}function NA(a,s){var l=0;switch(a.tag){case 13:var u=a.stateNode,p=a.memoizedState;p!==null&&(l=p.retryLane);break;case 19:u=a.stateNode;break;case 22:u=a.stateNode._retryCache;break;default:throw Error(n(314))}u!==null&&u.delete(s),K0(a,l)}function kA(a,s){return Ct(a,s)}var Md=null,_l=null,gg=!1,Nd=!1,yg=!1,ao=0;function ta(a){a!==_l&&a.next===null&&(_l===null?Md=_l=a:_l=_l.next=a),Nd=!0,gg||(gg=!0,PA())}function ou(a,s){if(!yg&&Nd){yg=!0;do for(var l=!1,u=Md;u!==null;){if(a!==0){var p=u.pendingLanes;if(p===0)var g=0;else{var b=u.suspendedLanes,S=u.pingedLanes;g=(1<<31-Tn(42|a)+1)-1,g&=p&~(b&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(l=!0,J0(u,g))}else g=Ze,g=Oo(u,u===_t?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||Is(u,g)||(l=!0,J0(u,g));u=u.next}while(l);yg=!1}}function OA(){$0()}function $0(){Nd=gg=!1;var a=0;ao!==0&&(qA()&&(a=ao),ao=0);for(var s=fn(),l=null,u=Md;u!==null;){var p=u.next,g=X0(u,s);g===0?(u.next=null,l===null?Md=p:l.next=p,p===null&&(_l=l)):(l=u,(a!==0||(g&3)!==0)&&(Nd=!0)),u=p}ou(a)}function X0(a,s){for(var l=a.suspendedLanes,u=a.pingedLanes,p=a.expirationTimes,g=a.pendingLanes&-62914561;0<g;){var b=31-Tn(g),S=1<<b,V=p[b];V===-1?((S&l)===0||(S&u)!==0)&&(p[b]=pc(S,s)):V<=s&&(a.expiredLanes|=S),g&=~S}if(s=_t,l=Ze,l=Oo(a,a===s?l:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),u=a.callbackNode,l===0||a===s&&(ut===2||ut===9)||a.cancelPendingCommit!==null)return u!==null&&u!==null&&jn(u),a.callbackNode=null,a.callbackPriority=0;if((l&3)===0||Is(a,l)){if(s=l&-l,s===a.callbackPriority)return s;switch(u!==null&&jn(u),Po(l)){case 2:case 8:l=No;break;case 32:l=Ds;break;case 268435456:l=ko;break;default:l=Ds}return u=Z0.bind(null,a),l=Ct(l,u),a.callbackPriority=s,a.callbackNode=l,s}return u!==null&&u!==null&&jn(u),a.callbackPriority=2,a.callbackNode=null,2}function Z0(a,s){if(mn!==0&&mn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var l=a.callbackNode;if(xd()&&a.callbackNode!==l)return null;var u=Ze;return u=Oo(a,a===_t?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),u===0?null:(O0(a,u,s),X0(a,fn()),a.callbackNode!=null&&a.callbackNode===l?Z0.bind(null,a):null)}function J0(a,s){if(xd())return null;O0(a,s,!0)}function PA(){zA(function(){(ct&6)!==0?Ct(dc,OA):$0()})}function vg(){return ao===0&&(ao=mc()),ao}function eE(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Ho(""+a)}function tE(a,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,a.id&&l.setAttribute("form",a.id),s.parentNode.insertBefore(l,s),a=new FormData(a),l.parentNode.removeChild(l),a}function LA(a,s,l,u,p){if(s==="submit"&&l&&l.stateNode===p){var g=eE((p[Yt]||null).action),b=u.submitter;b&&(s=(s=b[Yt]||null)?eE(s.formAction):b.getAttribute("formAction"),s!==null&&(g=s,b=null));var S=new Fo("action","action",null,u,p);a.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ao!==0){var V=b?tE(p,b):new FormData(p);Um(l,{pending:!0,data:V,method:p.method,action:g},null,V)}}else typeof g=="function"&&(S.preventDefault(),V=b?tE(p,b):new FormData(p),Um(l,{pending:!0,data:V,method:p.method,action:g},g,V))},currentTarget:p}]})}}for(var _g=0;_g<rm.length;_g++){var wg=rm[_g],VA=wg.toLowerCase(),UA=wg[0].toUpperCase()+wg.slice(1);Rr(VA,"on"+UA)}Rr(O_,"onAnimationEnd"),Rr(P_,"onAnimationIteration"),Rr(L_,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(tA,"onTransitionRun"),Rr(nA,"onTransitionStart"),Rr(rA,"onTransitionCancel"),Rr(V_,"onTransitionEnd"),Ra("onMouseEnter",["mouseout","mouseover"]),Ra("onMouseLeave",["mouseout","mouseover"]),Ra("onPointerEnter",["pointerout","pointerover"]),Ra("onPointerLeave",["pointerout","pointerover"]),Cr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Cr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Cr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Cr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Cr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Cr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lu));function nE(a,s){s=(s&4)!==0;for(var l=0;l<a.length;l++){var u=a[l],p=u.event;u=u.listeners;e:{var g=void 0;if(s)for(var b=u.length-1;0<=b;b--){var S=u[b],V=S.instance,W=S.currentTarget;if(S=S.listener,V!==g&&p.isPropagationStopped())break e;g=S,p.currentTarget=W;try{g(p)}catch(ne){_d(ne)}p.currentTarget=null,g=V}else for(b=0;b<u.length;b++){if(S=u[b],V=S.instance,W=S.currentTarget,S=S.listener,V!==g&&p.isPropagationStopped())break e;g=S,p.currentTarget=W;try{g(p)}catch(ne){_d(ne)}p.currentTarget=null,g=V}}}}function Ye(a,s){var l=s[_c];l===void 0&&(l=s[_c]=new Set);var u=a+"__bubble";l.has(u)||(rE(s,a,2,!1),l.add(u))}function Eg(a,s,l){var u=0;s&&(u|=4),rE(l,a,u,s)}var kd="_reactListening"+Math.random().toString(36).slice(2);function bg(a){if(!a[kd]){a[kd]=!0,wc.forEach(function(l){l!=="selectionchange"&&(BA.has(l)||Eg(l,!1,a),Eg(l,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[kd]||(s[kd]=!0,Eg("selectionchange",!1,s))}}function rE(a,s,l,u){switch(AE(s)){case 2:var p=dR;break;case 8:p=hR;break;default:p=Lg}l=p.bind(null,s,l,a),p=void 0,!cr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),u?p!==void 0?a.addEventListener(s,l,{capture:!0,passive:p}):a.addEventListener(s,l,!0):p!==void 0?a.addEventListener(s,l,{passive:p}):a.addEventListener(s,l,!1)}function Tg(a,s,l,u,p){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var S=u.stateNode.containerInfo;if(S===p)break;if(b===4)for(b=u.return;b!==null;){var V=b.tag;if((V===3||V===4)&&b.stateNode.containerInfo===p)return;b=b.return}for(;S!==null;){if(b=Aa(S),b===null)return;if(V=b.tag,V===5||V===6||V===26||V===27){u=g=b;continue e}S=S.parentNode}}u=u.return}Pf(function(){var W=g,ne=lr(l),le=[];e:{var K=U_.get(a);if(K!==void 0){var X=Fo,Me=a;switch(a){case"keypress":if(Gr(l)===0)break e;case"keydown":case"keyup":X=Wo;break;case"focusin":Me="focus",X=zo;break;case"focusout":Me="blur",X=zo;break;case"beforeblur":case"afterblur":X=zo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=ur;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Kp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=qf;break;case O_:case P_:case L_:X=Go;break;case V_:X=zf;break;case"scroll":case"scrollend":X=Lf;break;case"wheel":X=Ko;break;case"copy":case"cut":case"paste":X=Qo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Nc;break;case"toggle":case"beforetoggle":X=Qf}var Ae=(s&4)!==0,gt=!Ae&&(a==="scroll"||a==="scrollend"),q=Ae?K!==null?K+"Capture":null:K;Ae=[];for(var F=W,Q;F!==null;){var se=F;if(Q=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||Q===null||q===null||(se=Vs(F,q),se!=null&&Ae.push(cu(F,se,Q))),gt)break;F=F.return}0<Ae.length&&(K=new X(K,Me,null,l,ne),le.push({event:K,listeners:Ae}))}}if((s&7)===0){e:{if(K=a==="mouseover"||a==="pointerover",X=a==="mouseout"||a==="pointerout",K&&l!==Ma&&(Me=l.relatedTarget||l.fromElement)&&(Aa(Me)||Me[sr]))break e;if((X||K)&&(K=ne.window===ne?ne:(K=ne.ownerDocument)?K.defaultView||K.parentWindow:window,X?(Me=l.relatedTarget||l.toElement,X=W,Me=Me?Aa(Me):null,Me!==null&&(gt=o(Me),Ae=Me.tag,Me!==gt||Ae!==5&&Ae!==27&&Ae!==6)&&(Me=null)):(X=null,Me=W),X!==Me)){if(Ae=ur,se="onMouseLeave",q="onMouseEnter",F="mouse",(a==="pointerout"||a==="pointerover")&&(Ae=Nc,se="onPointerLeave",q="onPointerEnter",F="pointer"),gt=X==null?K:Fr(X),Q=Me==null?K:Fr(Me),K=new Ae(se,F+"leave",X,l,ne),K.target=gt,K.relatedTarget=Q,se=null,Aa(ne)===W&&(Ae=new Ae(q,F+"enter",Me,l,ne),Ae.target=Q,Ae.relatedTarget=gt,se=Ae),gt=se,X&&Me)t:{for(Ae=X,q=Me,F=0,Q=Ae;Q;Q=wl(Q))F++;for(Q=0,se=q;se;se=wl(se))Q++;for(;0<F-Q;)Ae=wl(Ae),F--;for(;0<Q-F;)q=wl(q),Q--;for(;F--;){if(Ae===q||q!==null&&Ae===q.alternate)break t;Ae=wl(Ae),q=wl(q)}Ae=null}else Ae=null;X!==null&&aE(le,K,X,Ae,!1),Me!==null&&gt!==null&&aE(le,gt,Me,Ae,!0)}}e:{if(K=W?Fr(W):window,X=K.nodeName&&K.nodeName.toLowerCase(),X==="select"||X==="input"&&K.type==="file")var _e=T_;else if(Jt(K))if(S_)_e=ZC;else{_e=$C;var Fe=KC}else X=K.nodeName,!X||X.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?W&&Dc(W.elementType)&&(_e=T_):_e=XC;if(_e&&(_e=_e(a,W))){La(le,_e,l,ne);break e}Fe&&Fe(a,K,W),a==="focusout"&&W&&K.type==="number"&&W.memoizedProps.value!=null&&Ci(K,"number",K.value)}switch(Fe=W?Fr(W):window,a){case"focusin":(Jt(Fe)||Fe.contentEditable==="true")&&($o=Fe,em=W,Pc=null);break;case"focusout":Pc=em=$o=null;break;case"mousedown":tm=!0;break;case"contextmenu":case"mouseup":case"dragend":tm=!1,N_(le,l,ne);break;case"selectionchange":if(eA)break;case"keydown":case"keyup":N_(le,l,ne)}var Te;if(Kr)e:{switch(a){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else $e?Z(a,l)&&(Re="onCompositionEnd"):a==="keydown"&&l.keyCode===229&&(Re="onCompositionStart");Re&&(E&&l.locale!=="ko"&&($e||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&$e&&(Te=Ac()):(zr=ne,Ai="value"in zr?zr.value:zr.textContent,$e=!0)),Fe=Od(W,Re),0<Fe.length&&(Re=new xc(Re,a,null,l,ne),le.push({event:Re,listeners:Fe}),Te?Re.data=Te:(Te=he(l),Te!==null&&(Re.data=Te)))),(Te=v?Zt(a,l):Xe(a,l))&&(Re=Od(W,"onBeforeInput"),0<Re.length&&(Fe=new xc("onBeforeInput","beforeinput",null,l,ne),le.push({event:Fe,listeners:Re}),Fe.data=Te)),LA(le,a,W,l,ne)}nE(le,s)})}function cu(a,s,l){return{instance:a,listener:s,currentTarget:l}}function Od(a,s){for(var l=s+"Capture",u=[];a!==null;){var p=a,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=Vs(a,l),p!=null&&u.unshift(cu(a,p,g)),p=Vs(a,s),p!=null&&u.push(cu(a,p,g))),a.tag===3)return u;a=a.return}return[]}function wl(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function aE(a,s,l,u,p){for(var g=s._reactName,b=[];l!==null&&l!==u;){var S=l,V=S.alternate,W=S.stateNode;if(S=S.tag,V!==null&&V===u)break;S!==5&&S!==26&&S!==27||W===null||(V=W,p?(W=Vs(l,g),W!=null&&b.unshift(cu(l,W,V))):p||(W=Vs(l,g),W!=null&&b.push(cu(l,W,V)))),l=l.return}b.length!==0&&a.push({event:s,listeners:b})}var jA=/\r\n?/g,HA=/\u0000|\uFFFD/g;function iE(a){return(typeof a=="string"?a:""+a).replace(jA,`
`).replace(HA,"")}function sE(a,s){return s=iE(s),iE(a)===s}function Pd(){}function mt(a,s,l,u,p,g){switch(l){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||or(a,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&or(a,""+u);break;case"className":qr(a,"class",u);break;case"tabIndex":qr(a,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":qr(a,l,u);break;case"style":Sc(a,u,g);break;case"data":if(s!=="object"){qr(a,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||l!=="href")){a.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){a.removeAttribute(l);break}u=Ho(""+u),a.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){a.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(l==="formAction"?(s!=="input"&&mt(a,s,"name",p.name,p,null),mt(a,s,"formEncType",p.formEncType,p,null),mt(a,s,"formMethod",p.formMethod,p,null),mt(a,s,"formTarget",p.formTarget,p,null)):(mt(a,s,"encType",p.encType,p,null),mt(a,s,"method",p.method,p,null),mt(a,s,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){a.removeAttribute(l);break}u=Ho(""+u),a.setAttribute(l,u);break;case"onClick":u!=null&&(a.onclick=Pd);break;case"onScroll":u!=null&&Ye("scroll",a);break;case"onScrollEnd":u!=null&&Ye("scrollend",a);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(n(61));if(l=u.__html,l!=null){if(p.children!=null)throw Error(n(60));a.innerHTML=l}}break;case"multiple":a.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":a.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){a.removeAttribute("xlink:href");break}l=Ho(""+u),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?a.setAttribute(l,""+u):a.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?a.setAttribute(l,""):a.removeAttribute(l);break;case"capture":case"download":u===!0?a.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?a.setAttribute(l,u):a.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?a.setAttribute(l,u):a.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?a.removeAttribute(l):a.setAttribute(l,u);break;case"popover":Ye("beforetoggle",a),Ye("toggle",a),Di(a,"popover",u);break;case"xlinkActuate":dn(a,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":dn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":dn(a,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":dn(a,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":dn(a,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":dn(a,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":dn(a,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":dn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":dn(a,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Di(a,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Qp.get(l)||l,Di(a,l,u))}}function Sg(a,s,l,u,p,g){switch(l){case"style":Sc(a,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(n(61));if(l=u.__html,l!=null){if(p.children!=null)throw Error(n(60));a.innerHTML=l}}break;case"children":typeof u=="string"?or(a,u):(typeof u=="number"||typeof u=="bigint")&&or(a,""+u);break;case"onScroll":u!=null&&Ye("scroll",a);break;case"onScrollEnd":u!=null&&Ye("scrollend",a);break;case"onClick":u!=null&&(a.onclick=Pd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Lo.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),s=l.slice(2,p?l.length-7:void 0),g=a[Yt]||null,g=g!=null?g[l]:null,typeof g=="function"&&a.removeEventListener(s,g,p),typeof u=="function")){typeof g!="function"&&g!==null&&(l in a?a[l]=null:a.hasAttribute(l)&&a.removeAttribute(l)),a.addEventListener(s,u,p);break e}l in a?a[l]=u:u===!0?a.setAttribute(l,""):Di(a,l,u)}}}function gn(a,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ye("error",a),Ye("load",a);var u=!1,p=!1,g;for(g in l)if(l.hasOwnProperty(g)){var b=l[g];if(b!=null)switch(g){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:mt(a,s,g,b,l,null)}}p&&mt(a,s,"srcSet",l.srcSet,l,null),u&&mt(a,s,"src",l.src,l,null);return;case"input":Ye("invalid",a);var S=g=b=p=null,V=null,W=null;for(u in l)if(l.hasOwnProperty(u)){var ne=l[u];if(ne!=null)switch(u){case"name":p=ne;break;case"type":b=ne;break;case"checked":V=ne;break;case"defaultChecked":W=ne;break;case"value":g=ne;break;case"defaultValue":S=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(n(137,s));break;default:mt(a,s,u,ne,l,null)}}Os(a,g,S,V,W,b,p,!1),jo(a);return;case"select":Ye("invalid",a),u=b=g=null;for(p in l)if(l.hasOwnProperty(p)&&(S=l[p],S!=null))switch(p){case"value":g=S;break;case"defaultValue":b=S;break;case"multiple":u=S;default:mt(a,s,p,S,l,null)}s=g,l=b,a.multiple=!!u,s!=null?xa(a,!!u,s,!1):l!=null&&xa(a,!!u,l,!0);return;case"textarea":Ye("invalid",a),g=p=u=null;for(b in l)if(l.hasOwnProperty(b)&&(S=l[b],S!=null))switch(b){case"value":u=S;break;case"defaultValue":p=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(n(91));break;default:mt(a,s,b,S,l,null)}Ps(a,u,p,g),jo(a);return;case"option":for(V in l)if(l.hasOwnProperty(V)&&(u=l[V],u!=null))switch(V){case"selected":a.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:mt(a,s,V,u,l,null)}return;case"dialog":Ye("beforetoggle",a),Ye("toggle",a),Ye("cancel",a),Ye("close",a);break;case"iframe":case"object":Ye("load",a);break;case"video":case"audio":for(u=0;u<lu.length;u++)Ye(lu[u],a);break;case"image":Ye("error",a),Ye("load",a);break;case"details":Ye("toggle",a);break;case"embed":case"source":case"link":Ye("error",a),Ye("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in l)if(l.hasOwnProperty(W)&&(u=l[W],u!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:mt(a,s,W,u,l,null)}return;default:if(Dc(s)){for(ne in l)l.hasOwnProperty(ne)&&(u=l[ne],u!==void 0&&Sg(a,s,ne,u,l,void 0));return}}for(S in l)l.hasOwnProperty(S)&&(u=l[S],u!=null&&mt(a,s,S,u,l,null))}function FA(a,s,l,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,b=null,S=null,V=null,W=null,ne=null;for(X in l){var le=l[X];if(l.hasOwnProperty(X)&&le!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":V=le;default:u.hasOwnProperty(X)||mt(a,s,X,null,u,le)}}for(var K in u){var X=u[K];if(le=l[K],u.hasOwnProperty(K)&&(X!=null||le!=null))switch(K){case"type":g=X;break;case"name":p=X;break;case"checked":W=X;break;case"defaultChecked":ne=X;break;case"value":b=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(n(137,s));break;default:X!==le&&mt(a,s,K,X,u,le)}}Wn(a,b,S,V,W,ne,g,p);return;case"select":X=b=S=K=null;for(g in l)if(V=l[g],l.hasOwnProperty(g)&&V!=null)switch(g){case"value":break;case"multiple":X=V;default:u.hasOwnProperty(g)||mt(a,s,g,null,u,V)}for(p in u)if(g=u[p],V=l[p],u.hasOwnProperty(p)&&(g!=null||V!=null))switch(p){case"value":K=g;break;case"defaultValue":S=g;break;case"multiple":b=g;default:g!==V&&mt(a,s,p,g,u,V)}s=S,l=b,u=X,K!=null?xa(a,!!l,K,!1):!!u!=!!l&&(s!=null?xa(a,!!l,s,!0):xa(a,!!l,l?[]:"",!1));return;case"textarea":X=K=null;for(S in l)if(p=l[S],l.hasOwnProperty(S)&&p!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:mt(a,s,S,null,u,p)}for(b in u)if(p=u[b],g=l[b],u.hasOwnProperty(b)&&(p!=null||g!=null))switch(b){case"value":K=p;break;case"defaultValue":X=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(n(91));break;default:p!==g&&mt(a,s,b,p,u,g)}ht(a,K,X);return;case"option":for(var Me in l)if(K=l[Me],l.hasOwnProperty(Me)&&K!=null&&!u.hasOwnProperty(Me))switch(Me){case"selected":a.selected=!1;break;default:mt(a,s,Me,null,u,K)}for(V in u)if(K=u[V],X=l[V],u.hasOwnProperty(V)&&K!==X&&(K!=null||X!=null))switch(V){case"selected":a.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:mt(a,s,V,K,u,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in l)K=l[Ae],l.hasOwnProperty(Ae)&&K!=null&&!u.hasOwnProperty(Ae)&&mt(a,s,Ae,null,u,K);for(W in u)if(K=u[W],X=l[W],u.hasOwnProperty(W)&&K!==X&&(K!=null||X!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(n(137,s));break;default:mt(a,s,W,K,u,X)}return;default:if(Dc(s)){for(var gt in l)K=l[gt],l.hasOwnProperty(gt)&&K!==void 0&&!u.hasOwnProperty(gt)&&Sg(a,s,gt,void 0,u,K);for(ne in u)K=u[ne],X=l[ne],!u.hasOwnProperty(ne)||K===X||K===void 0&&X===void 0||Sg(a,s,ne,K,u,X);return}}for(var q in l)K=l[q],l.hasOwnProperty(q)&&K!=null&&!u.hasOwnProperty(q)&&mt(a,s,q,null,u,K);for(le in u)K=u[le],X=l[le],!u.hasOwnProperty(le)||K===X||K==null&&X==null||mt(a,s,le,K,u,X)}var Dg=null,Cg=null;function Ld(a){return a.nodeType===9?a:a.ownerDocument}function oE(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function lE(a,s){if(a===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&s==="foreignObject"?0:a}function Ag(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Rg=null;function qA(){var a=window.event;return a&&a.type==="popstate"?a===Rg?!1:(Rg=a,!0):(Rg=null,!1)}var cE=typeof setTimeout=="function"?setTimeout:void 0,YA=typeof clearTimeout=="function"?clearTimeout:void 0,uE=typeof Promise=="function"?Promise:void 0,zA=typeof queueMicrotask=="function"?queueMicrotask:typeof uE<"u"?function(a){return uE.resolve(null).then(a).catch(GA)}:cE;function GA(a){setTimeout(function(){throw a})}function qi(a){return a==="head"}function fE(a,s){var l=s,u=0,p=0;do{var g=l.nextSibling;if(a.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"){if(0<u&&8>u){l=u;var b=a.ownerDocument;if(l&1&&uu(b.documentElement),l&2&&uu(b.body),l&4)for(l=b.head,uu(l),b=l.firstChild;b;){var S=b.nextSibling,V=b.nodeName;b[xs]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&b.rel.toLowerCase()==="stylesheet"||l.removeChild(b),b=S}}if(p===0){a.removeChild(g),vu(s);return}p--}else l==="$"||l==="$?"||l==="$!"?p++:u=l.charCodeAt(0)-48;else u=0;l=g}while(l);vu(s)}function Ig(a){var s=a.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Ig(l),Si(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}a.removeChild(l)}}function QA(a,s,l,u){for(;a.nodeType===1;){var p=l;if(a.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(u){if(!a[xs])switch(s){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(g=a.getAttribute("rel"),g==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(g!==p.rel||a.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||a.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||a.getAttribute("title")!==(p.title==null?null:p.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(g=a.getAttribute("src"),(g!==(p.src==null?null:p.src)||a.getAttribute("type")!==(p.type==null?null:p.type)||a.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(s==="input"&&a.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&a.getAttribute("name")===g)return a}else return a;if(a=xr(a.nextSibling),a===null)break}return null}function WA(a,s,l){if(s==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!l||(a=xr(a.nextSibling),a===null))return null;return a}function xg(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function KA(a,s){var l=a.ownerDocument;if(a.data!=="$?"||l.readyState==="complete")s();else{var u=function(){s(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),a._reactRetry=u}}function xr(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return a}var Mg=null;function dE(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var l=a.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return a;s--}else l==="/$"&&s++}a=a.previousSibling}return null}function hE(a,s,l){switch(s=Ld(l),a){case"html":if(a=s.documentElement,!a)throw Error(n(452));return a;case"head":if(a=s.head,!a)throw Error(n(453));return a;case"body":if(a=s.body,!a)throw Error(n(454));return a;default:throw Error(n(451))}}function uu(a){for(var s=a.attributes;s.length;)a.removeAttributeNode(s[0]);Si(a)}var yr=new Map,pE=new Set;function Vd(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Ka=ae.d;ae.d={f:$A,r:XA,D:ZA,C:JA,L:eR,m:tR,X:rR,S:nR,M:aR};function $A(){var a=Ka.f(),s=Rd();return a||s}function XA(a){var s=Hr(a);s!==null&&s.tag===5&&s.type==="form"?Ow(s):Ka.r(a)}var El=typeof document>"u"?null:document;function mE(a,s,l){var u=El;if(u&&typeof s=="string"&&s){var p=zt(s);p='link[rel="'+a+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),pE.has(p)||(pE.add(p),a={rel:a,crossOrigin:l,href:s},u.querySelector(p)===null&&(s=u.createElement("link"),gn(s,"link",a),Lt(s),u.head.appendChild(s)))}}function ZA(a){Ka.D(a),mE("dns-prefetch",a,null)}function JA(a,s){Ka.C(a,s),mE("preconnect",a,s)}function eR(a,s,l){Ka.L(a,s,l);var u=El;if(u&&a&&s){var p='link[rel="preload"][as="'+zt(s)+'"]';s==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+zt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+zt(l.imageSizes)+'"]')):p+='[href="'+zt(a)+'"]';var g=p;switch(s){case"style":g=bl(a);break;case"script":g=Tl(a)}yr.has(g)||(a=y({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:a,as:s},l),yr.set(g,a),u.querySelector(p)!==null||s==="style"&&u.querySelector(fu(g))||s==="script"&&u.querySelector(du(g))||(s=u.createElement("link"),gn(s,"link",a),Lt(s),u.head.appendChild(s)))}}function tR(a,s){Ka.m(a,s);var l=El;if(l&&a){var u=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+zt(u)+'"][href="'+zt(a)+'"]',g=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Tl(a)}if(!yr.has(g)&&(a=y({rel:"modulepreload",href:a},s),yr.set(g,a),l.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(du(g)))return}u=l.createElement("link"),gn(u,"link",a),Lt(u),l.head.appendChild(u)}}}function nR(a,s,l){Ka.S(a,s,l);var u=El;if(u&&a){var p=Nn(u).hoistableStyles,g=bl(a);s=s||"default";var b=p.get(g);if(!b){var S={loading:0,preload:null};if(b=u.querySelector(fu(g)))S.loading=5;else{a=y({rel:"stylesheet",href:a,"data-precedence":s},l),(l=yr.get(g))&&Ng(a,l);var V=b=u.createElement("link");Lt(V),gn(V,"link",a),V._p=new Promise(function(W,ne){V.onload=W,V.onerror=ne}),V.addEventListener("load",function(){S.loading|=1}),V.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Ud(b,s,u)}b={type:"stylesheet",instance:b,count:1,state:S},p.set(g,b)}}}function rR(a,s){Ka.X(a,s);var l=El;if(l&&a){var u=Nn(l).hoistableScripts,p=Tl(a),g=u.get(p);g||(g=l.querySelector(du(p)),g||(a=y({src:a,async:!0},s),(s=yr.get(p))&&kg(a,s),g=l.createElement("script"),Lt(g),gn(g,"link",a),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(p,g))}}function aR(a,s){Ka.M(a,s);var l=El;if(l&&a){var u=Nn(l).hoistableScripts,p=Tl(a),g=u.get(p);g||(g=l.querySelector(du(p)),g||(a=y({src:a,async:!0,type:"module"},s),(s=yr.get(p))&&kg(a,s),g=l.createElement("script"),Lt(g),gn(g,"link",a),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(p,g))}}function gE(a,s,l,u){var p=(p=ye.current)?Vd(p):null;if(!p)throw Error(n(446));switch(a){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=bl(l.href),l=Nn(p).hoistableStyles,u=l.get(s),u||(u={type:"style",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){a=bl(l.href);var g=Nn(p).hoistableStyles,b=g.get(a);if(b||(p=p.ownerDocument||p,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(a,b),(g=p.querySelector(fu(a)))&&!g._p&&(b.instance=g,b.state.loading=5),yr.has(a)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},yr.set(a,l),g||iR(p,a,l,b.state))),s&&u===null)throw Error(n(528,""));return b}if(s&&u!==null)throw Error(n(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Tl(l),l=Nn(p).hoistableScripts,u=l.get(s),u||(u={type:"script",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,a))}}function bl(a){return'href="'+zt(a)+'"'}function fu(a){return'link[rel="stylesheet"]['+a+"]"}function yE(a){return y({},a,{"data-precedence":a.precedence,precedence:null})}function iR(a,s,l,u){a.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=a.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),gn(s,"link",l),Lt(s),a.head.appendChild(s))}function Tl(a){return'[src="'+zt(a)+'"]'}function du(a){return"script[async]"+a}function vE(a,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var u=a.querySelector('style[data-href~="'+zt(l.href)+'"]');if(u)return s.instance=u,Lt(u),u;var p=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(a.ownerDocument||a).createElement("style"),Lt(u),gn(u,"style",p),Ud(u,l.precedence,a),s.instance=u;case"stylesheet":p=bl(l.href);var g=a.querySelector(fu(p));if(g)return s.state.loading|=4,s.instance=g,Lt(g),g;u=yE(l),(p=yr.get(p))&&Ng(u,p),g=(a.ownerDocument||a).createElement("link"),Lt(g);var b=g;return b._p=new Promise(function(S,V){b.onload=S,b.onerror=V}),gn(g,"link",u),s.state.loading|=4,Ud(g,l.precedence,a),s.instance=g;case"script":return g=Tl(l.src),(p=a.querySelector(du(g)))?(s.instance=p,Lt(p),p):(u=l,(p=yr.get(g))&&(u=y({},l),kg(u,p)),a=a.ownerDocument||a,p=a.createElement("script"),Lt(p),gn(p,"link",u),a.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(n(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Ud(u,l.precedence,a));return s.instance}function Ud(a,s,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,g=p,b=0;b<u.length;b++){var S=u[b];if(S.dataset.precedence===s)g=S;else if(g!==p)break}g?g.parentNode.insertBefore(a,g.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(a,s.firstChild))}function Ng(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.title==null&&(a.title=s.title)}function kg(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.integrity==null&&(a.integrity=s.integrity)}var Bd=null;function _E(a,s,l){if(Bd===null){var u=new Map,p=Bd=new Map;p.set(l,u)}else p=Bd,u=p.get(l),u||(u=new Map,p.set(l,u));if(u.has(a))return u;for(u.set(a,null),l=l.getElementsByTagName(a),p=0;p<l.length;p++){var g=l[p];if(!(g[xs]||g[Xt]||a==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(s)||"";b=a+b;var S=u.get(b);S?S.push(g):u.set(b,[g])}}return u}function wE(a,s,l){a=a.ownerDocument||a,a.head.insertBefore(l,s==="title"?a.querySelector("head > title"):null)}function sR(a,s,l){if(l===1||s.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return a=s.disabled,typeof s.precedence=="string"&&a==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function EE(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var hu=null;function oR(){}function lR(a,s,l){if(hu===null)throw Error(n(475));var u=hu;if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var p=bl(l.href),g=a.querySelector(fu(p));if(g){a=g._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(u.count++,u=jd.bind(u),a.then(u,u)),s.state.loading|=4,s.instance=g,Lt(g);return}g=a.ownerDocument||a,l=yE(l),(p=yr.get(p))&&Ng(l,p),g=g.createElement("link"),Lt(g);var b=g;b._p=new Promise(function(S,V){b.onload=S,b.onerror=V}),gn(g,"link",l),s.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,a),(a=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=jd.bind(u),a.addEventListener("load",s),a.addEventListener("error",s))}}function cR(){if(hu===null)throw Error(n(475));var a=hu;return a.stylesheets&&a.count===0&&Og(a,a.stylesheets),0<a.count?function(s){var l=setTimeout(function(){if(a.stylesheets&&Og(a,a.stylesheets),a.unsuspend){var u=a.unsuspend;a.unsuspend=null,u()}},6e4);return a.unsuspend=s,function(){a.unsuspend=null,clearTimeout(l)}}:null}function jd(){if(this.count--,this.count===0){if(this.stylesheets)Og(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Hd=null;function Og(a,s){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Hd=new Map,s.forEach(uR,a),Hd=null,jd.call(a))}function uR(a,s){if(!(s.state.loading&4)){var l=Hd.get(a);if(l)var u=l.get(null);else{l=new Map,Hd.set(a,l);for(var p=a.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var b=p[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(l.set(b.dataset.precedence,b),u=b)}u&&l.set(null,u)}p=s.instance,b=p.getAttribute("data-precedence"),g=l.get(b)||u,g===u&&l.set(null,p),l.set(b,p),this.count++,u=jd.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),g?g.parentNode.insertBefore(p,g.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(p,a.firstChild)),s.state.loading|=4}}var pu={$$typeof:z,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function fR(a,s,l,u,p,g,b,S){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Da(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Da(0),this.hiddenUpdates=Da(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function bE(a,s,l,u,p,g,b,S,V,W,ne,le){return a=new fR(a,s,l,b,S,V,W,le),s=1,g===!0&&(s|=24),g=$n(3,null,null,s),a.current=g,g.stateNode=a,s=mm(),s.refCount++,a.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:l,cache:s},_m(g),a}function TE(a){return a?(a=el,a):el}function SE(a,s,l,u,p,g){p=TE(p),u.context===null?u.context=p:u.pendingContext=p,u=xi(s),u.payload={element:l},g=g===void 0?null:g,g!==null&&(u.callback=g),l=Mi(a,u,s),l!==null&&(tr(l,a,s),Yc(l,a,s))}function DE(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var l=a.retryLane;a.retryLane=l!==0&&l<s?l:s}}function Pg(a,s){DE(a,s),(a=a.alternate)&&DE(a,s)}function CE(a){if(a.tag===13){var s=Jo(a,67108864);s!==null&&tr(s,a,67108864),Pg(a,67108864)}}var Fd=!0;function dR(a,s,l,u){var p=Y.T;Y.T=null;var g=ae.p;try{ae.p=2,Lg(a,s,l,u)}finally{ae.p=g,Y.T=p}}function hR(a,s,l,u){var p=Y.T;Y.T=null;var g=ae.p;try{ae.p=8,Lg(a,s,l,u)}finally{ae.p=g,Y.T=p}}function Lg(a,s,l,u){if(Fd){var p=Vg(u);if(p===null)Tg(a,s,u,qd,l),RE(a,u);else if(mR(p,a,s,l,u))u.stopPropagation();else if(RE(a,u),s&4&&-1<pR.indexOf(a)){for(;p!==null;){var g=Hr(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=Dr(g.pendingLanes);if(b!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;b;){var V=1<<31-Tn(b);S.entanglements[1]|=V,b&=~V}ta(g),(ct&6)===0&&(Cd=fn()+500,ou(0))}}break;case 13:S=Jo(g,2),S!==null&&tr(S,g,2),Rd(),Pg(g,2)}if(g=Vg(u),g===null&&Tg(a,s,u,qd,l),g===p)break;p=g}p!==null&&u.stopPropagation()}else Tg(a,s,u,null,l)}}function Vg(a){return a=lr(a),Ug(a)}var qd=null;function Ug(a){if(qd=null,a=Aa(a),a!==null){var s=o(a);if(s===null)a=null;else{var l=s.tag;if(l===13){if(a=c(s),a!==null)return a;a=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null)}}return qd=a,null}function AE(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Hp()){case dc:return 2;case No:return 8;case Ds:case Fp:return 32;case ko:return 268435456;default:return 32}default:return 32}}var Bg=!1,Yi=null,zi=null,Gi=null,mu=new Map,gu=new Map,Qi=[],pR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function RE(a,s){switch(a){case"focusin":case"focusout":Yi=null;break;case"dragenter":case"dragleave":zi=null;break;case"mouseover":case"mouseout":Gi=null;break;case"pointerover":case"pointerout":mu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":gu.delete(s.pointerId)}}function yu(a,s,l,u,p,g){return a===null||a.nativeEvent!==g?(a={blockedOn:s,domEventName:l,eventSystemFlags:u,nativeEvent:g,targetContainers:[p]},s!==null&&(s=Hr(s),s!==null&&CE(s)),a):(a.eventSystemFlags|=u,s=a.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),a)}function mR(a,s,l,u,p){switch(s){case"focusin":return Yi=yu(Yi,a,s,l,u,p),!0;case"dragenter":return zi=yu(zi,a,s,l,u,p),!0;case"mouseover":return Gi=yu(Gi,a,s,l,u,p),!0;case"pointerover":var g=p.pointerId;return mu.set(g,yu(mu.get(g)||null,a,s,l,u,p)),!0;case"gotpointercapture":return g=p.pointerId,gu.set(g,yu(gu.get(g)||null,a,s,l,u,p)),!0}return!1}function IE(a){var s=Aa(a.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=c(l),s!==null){a.blockedOn=s,Rf(a.priority,function(){if(l.tag===13){var u=er();u=Ei(u);var p=Jo(l,u);p!==null&&tr(p,l,u),Pg(l,u)}});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){a.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Yd(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var l=Vg(a.nativeEvent);if(l===null){l=a.nativeEvent;var u=new l.constructor(l.type,l);Ma=u,l.target.dispatchEvent(u),Ma=null}else return s=Hr(l),s!==null&&CE(s),a.blockedOn=l,!1;s.shift()}return!0}function xE(a,s,l){Yd(a)&&l.delete(s)}function gR(){Bg=!1,Yi!==null&&Yd(Yi)&&(Yi=null),zi!==null&&Yd(zi)&&(zi=null),Gi!==null&&Yd(Gi)&&(Gi=null),mu.forEach(xE),gu.forEach(xE)}function zd(a,s){a.blockedOn===s&&(a.blockedOn=null,Bg||(Bg=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,gR)))}var Gd=null;function ME(a){Gd!==a&&(Gd=a,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Gd===a&&(Gd=null);for(var s=0;s<a.length;s+=3){var l=a[s],u=a[s+1],p=a[s+2];if(typeof u!="function"){if(Ug(u||l)===null)continue;break}var g=Hr(l);g!==null&&(a.splice(s,3),s-=3,Um(g,{pending:!0,data:p,method:l.method,action:u},u,p))}}))}function vu(a){function s(V){return zd(V,a)}Yi!==null&&zd(Yi,a),zi!==null&&zd(zi,a),Gi!==null&&zd(Gi,a),mu.forEach(s),gu.forEach(s);for(var l=0;l<Qi.length;l++){var u=Qi[l];u.blockedOn===a&&(u.blockedOn=null)}for(;0<Qi.length&&(l=Qi[0],l.blockedOn===null);)IE(l),l.blockedOn===null&&Qi.shift();if(l=(a.ownerDocument||a).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var p=l[u],g=l[u+1],b=p[Yt]||null;if(typeof g=="function")b||ME(l);else if(b){var S=null;if(g&&g.hasAttribute("formAction")){if(p=g,b=g[Yt]||null)S=b.formAction;else if(Ug(p)!==null)continue}else S=b.action;typeof S=="function"?l[u+1]=S:(l.splice(u,3),u-=3),ME(l)}}}function jg(a){this._internalRoot=a}Qd.prototype.render=jg.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(n(409));var l=s.current,u=er();SE(l,u,a,s,null,null)},Qd.prototype.unmount=jg.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;SE(a.current,2,null,a,null,null),Rd(),s[sr]=null}};function Qd(a){this._internalRoot=a}Qd.prototype.unstable_scheduleHydration=function(a){if(a){var s=bi();a={blockedOn:null,target:a,priority:s};for(var l=0;l<Qi.length&&s!==0&&s<Qi[l].priority;l++);Qi.splice(l,0,a),l===0&&IE(a)}};var NE=e.version;if(NE!=="19.1.1")throw Error(n(527,NE,"19.1.1"));ae.findDOMNode=function(a){var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=h(s),a=a!==null?m(a):null,a=a===null?null:a.stateNode,a};var yR={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wd.isDisabled&&Wd.supportsFiber)try{xt=Wd.inject(yR),lt=Wd}catch{}}return wu.createRoot=function(a,s){if(!i(a))throw Error(n(299));var l=!1,u="",p=Ww,g=Kw,b=$w,S=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(S=s.unstable_transitionCallbacks)),s=bE(a,1,!1,null,null,l,u,p,g,b,S,null),a[sr]=s.current,bg(a),new jg(s)},wu.hydrateRoot=function(a,s,l){if(!i(a))throw Error(n(299));var u=!1,p="",g=Ww,b=Kw,S=$w,V=null,W=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(V=l.unstable_transitionCallbacks),l.formState!==void 0&&(W=l.formState)),s=bE(a,1,!0,s,l??null,u,p,g,b,S,V,W),s.context=TE(null),l=s.current,u=er(),u=Ei(u),p=xi(u),p.callback=null,Mi(l,p,u),l=u,s.current.lanes=l,Ca(s,l),ta(s),a[sr]=s.current,bg(a),new Qd(s)},wu.version="19.1.1",wu}var FE;function AR(){if(FE)return qg.exports;FE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),qg.exports=CR(),qg.exports}var RR=AR();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var qE="popstate";function IR(r={}){function e(n,i){let{pathname:o,search:c,hash:f}=n.location;return Ey("",{pathname:o,search:c,hash:f},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(n,i){return typeof i=="string"?i:Hu(i)}return MR(e,t,null,r)}function Dt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Or(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xR(){return Math.random().toString(36).substring(2,10)}function YE(r,e){return{usr:r.state,key:r.key,idx:e}}function Ey(r,e,t=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?ec(e):e,state:t,key:e&&e.key||n||xR()}}function Hu({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function ec(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function MR(r,e,t,n={}){let{window:i=document.defaultView,v5Compat:o=!1}=n,c=i.history,f="POP",h=null,m=y();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function y(){return(c.state||{idx:null}).idx}function _(){f="POP";let A=y(),B=A==null?null:A-m;m=A,h&&h({action:f,location:L.location,delta:B})}function w(A,B){f="PUSH";let H=Ey(L.location,A,B);m=y()+1;let z=YE(H,m),ee=L.createHref(H);try{c.pushState(z,"",ee)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;i.location.assign(ee)}o&&h&&h({action:f,location:L.location,delta:1})}function T(A,B){f="REPLACE";let H=Ey(L.location,A,B);m=y();let z=YE(H,m),ee=L.createHref(H);c.replaceState(z,"",ee),o&&h&&h({action:f,location:L.location,delta:0})}function I(A){return NR(A)}let L={get action(){return f},get location(){return r(i,c)},listen(A){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(qE,_),h=A,()=>{i.removeEventListener(qE,_),h=null}},createHref(A){return e(i,A)},createURL:I,encodeLocation(A){let B=I(A);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:w,replace:T,go(A){return c.go(A)}};return L}function NR(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Dt(t,"No window.location.(origin|href) available to create URL");let n=typeof r=="string"?r:Hu(r);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=t+n),new URL(n,t)}function wS(r,e,t="/"){return kR(r,e,t,!1)}function kR(r,e,t,n){let i=typeof e=="string"?ec(e):e,o=ui(i.pathname||"/",t);if(o==null)return null;let c=ES(r);OR(c);let f=null;for(let h=0;f==null&&h<c.length;++h){let m=zR(o);f=qR(c[h],m,n)}return f}function ES(r,e=[],t=[],n="",i=!1){let o=(c,f,h=i,m)=>{let y={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(n)&&h)return;Dt(y.relativePath.startsWith(n),`Absolute route path "${y.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(n.length)}let _=ni([n,y.relativePath]),w=t.concat(y);c.children&&c.children.length>0&&(Dt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),ES(c.children,e,w,_,h)),!(c.path==null&&!c.index)&&e.push({path:_,score:HR(_,c.index),routesMeta:w})};return r.forEach((c,f)=>{if(c.path===""||!c.path?.includes("?"))o(c,f);else for(let h of bS(c.path))o(c,f,!0,h)}),e}function bS(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(n.length===0)return i?[o,""]:[o];let c=bS(n.join("/")),f=[];return f.push(...c.map(h=>h===""?o:[o,h].join("/"))),i&&f.push(...c),f.map(h=>r.startsWith("/")&&h===""?"/":h)}function OR(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:FR(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var PR=/^:[\w-]+$/,LR=3,VR=2,UR=1,BR=10,jR=-2,zE=r=>r==="*";function HR(r,e){let t=r.split("/"),n=t.length;return t.some(zE)&&(n+=jR),e&&(n+=VR),t.filter(i=>!zE(i)).reduce((i,o)=>i+(PR.test(o)?LR:o===""?UR:BR),n)}function FR(r,e){return r.length===e.length&&r.slice(0,-1).every((n,i)=>n===e[i])?r[r.length-1]-e[e.length-1]:0}function qR(r,e,t=!1){let{routesMeta:n}=r,i={},o="/",c=[];for(let f=0;f<n.length;++f){let h=n[f],m=f===n.length-1,y=o==="/"?e:e.slice(o.length)||"/",_=Ch({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},y),w=h.route;if(!_&&m&&t&&!n[n.length-1].route.index&&(_=Ch({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},y)),!_)return null;Object.assign(i,_.params),c.push({params:i,pathname:ni([o,_.pathname]),pathnameBase:KR(ni([o,_.pathnameBase])),route:w}),_.pathnameBase!=="/"&&(o=ni([o,_.pathnameBase]))}return c}function Ch(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=YR(r.path,r.caseSensitive,r.end),i=e.match(t);if(!i)return null;let o=i[0],c=o.replace(/(.)\/+$/,"$1"),f=i.slice(1);return{params:n.reduce((m,{paramName:y,isOptional:_},w)=>{if(y==="*"){let I=f[w]||"";c=o.slice(0,o.length-I.length).replace(/(.)\/+$/,"$1")}const T=f[w];return _&&!T?m[y]=void 0:m[y]=(T||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:c,pattern:r}}function YR(r,e=!1,t=!0){Or(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,h)=>(n.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(n.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function zR(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Or(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ui(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function GR(r,e="/"){let{pathname:t,search:n="",hash:i=""}=typeof r=="string"?ec(r):r;return{pathname:t?t.startsWith("/")?t:QR(t,e):e,search:$R(n),hash:XR(i)}}function QR(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Qg(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function WR(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function sv(r){let e=WR(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function ov(r,e,t,n=!1){let i;typeof r=="string"?i=ec(r):(i={...r},Dt(!i.pathname||!i.pathname.includes("?"),Qg("?","pathname","search",i)),Dt(!i.pathname||!i.pathname.includes("#"),Qg("#","pathname","hash",i)),Dt(!i.search||!i.search.includes("#"),Qg("#","search","hash",i)));let o=r===""||i.pathname==="",c=o?"/":i.pathname,f;if(c==null)f=t;else{let _=e.length-1;if(!n&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),_-=1;i.pathname=w.join("/")}f=_>=0?e[_]:"/"}let h=GR(i,f),m=c&&c!=="/"&&c.endsWith("/"),y=(o||c===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(m||y)&&(h.pathname+="/"),h}var ni=r=>r.join("/").replace(/\/\/+/g,"/"),KR=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),$R=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,XR=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function ZR(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var TS=["POST","PUT","PATCH","DELETE"];new Set(TS);var JR=["GET",...TS];new Set(JR);var tc=N.createContext(null);tc.displayName="DataRouter";var op=N.createContext(null);op.displayName="DataRouterState";N.createContext(!1);var SS=N.createContext({isTransitioning:!1});SS.displayName="ViewTransition";var eI=N.createContext(new Map);eI.displayName="Fetchers";var tI=N.createContext(null);tI.displayName="Await";var Ur=N.createContext(null);Ur.displayName="Navigation";var tf=N.createContext(null);tf.displayName="Location";var Br=N.createContext({outlet:null,matches:[],isDataRoute:!1});Br.displayName="Route";var lv=N.createContext(null);lv.displayName="RouteError";function nI(r,{relative:e}={}){Dt(nc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=N.useContext(Ur),{hash:i,pathname:o,search:c}=nf(r,{relative:e}),f=o;return t!=="/"&&(f=o==="/"?t:ni([t,o])),n.createHref({pathname:f,search:c,hash:i})}function nc(){return N.useContext(tf)!=null}function ws(){return Dt(nc(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(tf).location}var DS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function CS(r){N.useContext(Ur).static||N.useLayoutEffect(r)}function yi(){let{isDataRoute:r}=N.useContext(Br);return r?gI():rI()}function rI(){Dt(nc(),"useNavigate() may be used only in the context of a <Router> component.");let r=N.useContext(tc),{basename:e,navigator:t}=N.useContext(Ur),{matches:n}=N.useContext(Br),{pathname:i}=ws(),o=JSON.stringify(sv(n)),c=N.useRef(!1);return CS(()=>{c.current=!0}),N.useCallback((h,m={})=>{if(Or(c.current,DS),!c.current)return;if(typeof h=="number"){t.go(h);return}let y=ov(h,JSON.parse(o),i,m.relative==="path");r==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:ni([e,y.pathname])),(m.replace?t.replace:t.push)(y,m.state,m)},[e,t,o,i,r])}N.createContext(null);function aI(){let{matches:r}=N.useContext(Br),e=r[r.length-1];return e?e.params:{}}function nf(r,{relative:e}={}){let{matches:t}=N.useContext(Br),{pathname:n}=ws(),i=JSON.stringify(sv(t));return N.useMemo(()=>ov(r,JSON.parse(i),n,e==="path"),[r,i,n,e])}function iI(r,e){return AS(r,e)}function AS(r,e,t,n,i){Dt(nc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=N.useContext(Ur),{matches:c}=N.useContext(Br),f=c[c.length-1],h=f?f.params:{},m=f?f.pathname:"/",y=f?f.pathnameBase:"/",_=f&&f.route;{let H=_&&_.path||"";RS(m,!_||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let w=ws(),T;if(e){let H=typeof e=="string"?ec(e):e;Dt(y==="/"||H.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${H.pathname}" was given in the \`location\` prop.`),T=H}else T=w;let I=T.pathname||"/",L=I;if(y!=="/"){let H=y.replace(/^\//,"").split("/");L="/"+I.replace(/^\//,"").split("/").slice(H.length).join("/")}let A=wS(r,{pathname:L});Or(_||A!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Or(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=uI(A&&A.map(H=>Object.assign({},H,{params:Object.assign({},h,H.params),pathname:ni([y,o.encodeLocation?o.encodeLocation(H.pathname).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?y:ni([y,o.encodeLocation?o.encodeLocation(H.pathnameBase).pathname:H.pathnameBase])})),c,t,n,i);return e&&B?N.createElement(tf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},B):B}function sI(){let r=mI(),e=ZR(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},c=null;return console.error("Error handled by React Router default ErrorBoundary:",r),c=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:o},"ErrorBoundary")," or"," ",N.createElement("code",{style:o},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),t?N.createElement("pre",{style:i},t):null,c)}var oI=N.createElement(sI,null),lI=class extends N.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?N.createElement(Br.Provider,{value:this.props.routeContext},N.createElement(lv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function cI({routeContext:r,match:e,children:t}){let n=N.useContext(tc);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(Br.Provider,{value:r},t)}function uI(r,e=[],t=null,n=null,i=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,c=t?.errors;if(c!=null){let m=o.findIndex(y=>y.route.id&&c?.[y.route.id]!==void 0);Dt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let f=!1,h=-1;if(t)for(let m=0;m<o.length;m++){let y=o[m];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(h=m),y.route.id){let{loaderData:_,errors:w}=t,T=y.route.loader&&!_.hasOwnProperty(y.route.id)&&(!w||w[y.route.id]===void 0);if(y.route.lazy||T){f=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((m,y,_)=>{let w,T=!1,I=null,L=null;t&&(w=c&&y.route.id?c[y.route.id]:void 0,I=y.route.errorElement||oI,f&&(h<0&&_===0?(RS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,L=null):h===_&&(T=!0,L=y.route.hydrateFallbackElement||null)));let A=e.concat(o.slice(0,_+1)),B=()=>{let H;return w?H=I:T?H=L:y.route.Component?H=N.createElement(y.route.Component,null):y.route.element?H=y.route.element:H=m,N.createElement(cI,{match:y,routeContext:{outlet:m,matches:A,isDataRoute:t!=null},children:H})};return t&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?N.createElement(lI,{location:t.location,revalidation:t.revalidation,component:I,error:w,children:B(),routeContext:{outlet:null,matches:A,isDataRoute:!0},unstable_onError:n}):B()},null)}function cv(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fI(r){let e=N.useContext(tc);return Dt(e,cv(r)),e}function dI(r){let e=N.useContext(op);return Dt(e,cv(r)),e}function hI(r){let e=N.useContext(Br);return Dt(e,cv(r)),e}function uv(r){let e=hI(r),t=e.matches[e.matches.length-1];return Dt(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function pI(){return uv("useRouteId")}function mI(){let r=N.useContext(lv),e=dI("useRouteError"),t=uv("useRouteError");return r!==void 0?r:e.errors?.[t]}function gI(){let{router:r}=fI("useNavigate"),e=uv("useNavigate"),t=N.useRef(!1);return CS(()=>{t.current=!0}),N.useCallback(async(i,o={})=>{Or(t.current,DS),t.current&&(typeof i=="number"?r.navigate(i):await r.navigate(i,{fromRouteId:e,...o}))},[r,e])}var GE={};function RS(r,e,t){!e&&!GE[r]&&(GE[r]=!0,Or(!1,t))}N.memo(yI);function yI({routes:r,future:e,state:t,unstable_onError:n}){return AS(r,void 0,t,n,e)}function Wg({to:r,replace:e,state:t,relative:n}){Dt(nc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=N.useContext(Ur);Or(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=N.useContext(Br),{pathname:c}=ws(),f=yi(),h=ov(r,sv(o),c,n==="path"),m=JSON.stringify(h);return N.useEffect(()=>{f(JSON.parse(m),{replace:e,state:t,relative:n})},[f,m,n,e,t]),null}function Mr(r){Dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function vI({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:i,static:o=!1}){Dt(!nc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=r.replace(/^\/*/,"/"),f=N.useMemo(()=>({basename:c,navigator:i,static:o,future:{}}),[c,i,o]);typeof t=="string"&&(t=ec(t));let{pathname:h="/",search:m="",hash:y="",state:_=null,key:w="default"}=t,T=N.useMemo(()=>{let I=ui(h,c);return I==null?null:{location:{pathname:I,search:m,hash:y,state:_,key:w},navigationType:n}},[c,h,m,y,_,w,n]);return Or(T!=null,`<Router basename="${c}"> is not able to match the URL "${h}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:N.createElement(Ur.Provider,{value:f},N.createElement(tf.Provider,{children:e,value:T}))}function Kg({children:r,location:e}){return iI(by(r),e)}function by(r,e=[]){let t=[];return N.Children.forEach(r,(n,i)=>{if(!N.isValidElement(n))return;let o=[...e,i];if(n.type===N.Fragment){t.push.apply(t,by(n.props.children,o));return}Dt(n.type===Mr,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Dt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let c={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=by(n.props.children,o)),t.push(c)}),t}var uh="get",fh="application/x-www-form-urlencoded";function lp(r){return r!=null&&typeof r.tagName=="string"}function _I(r){return lp(r)&&r.tagName.toLowerCase()==="button"}function wI(r){return lp(r)&&r.tagName.toLowerCase()==="form"}function EI(r){return lp(r)&&r.tagName.toLowerCase()==="input"}function bI(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function TI(r,e){return r.button===0&&(!e||e==="_self")&&!bI(r)}var Kd=null;function SI(){if(Kd===null)try{new FormData(document.createElement("form"),0),Kd=!1}catch{Kd=!0}return Kd}var DI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $g(r){return r!=null&&!DI.has(r)?(Or(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fh}"`),null):r}function CI(r,e){let t,n,i,o,c;if(wI(r)){let f=r.getAttribute("action");n=f?ui(f,e):null,t=r.getAttribute("method")||uh,i=$g(r.getAttribute("enctype"))||fh,o=new FormData(r)}else if(_I(r)||EI(r)&&(r.type==="submit"||r.type==="image")){let f=r.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=r.getAttribute("formaction")||f.getAttribute("action");if(n=h?ui(h,e):null,t=r.getAttribute("formmethod")||f.getAttribute("method")||uh,i=$g(r.getAttribute("formenctype"))||$g(f.getAttribute("enctype"))||fh,o=new FormData(f,r),!SI()){let{name:m,type:y,value:_}=r;if(y==="image"){let w=m?`${m}.`:"";o.append(`${w}x`,"0"),o.append(`${w}y`,"0")}else m&&o.append(m,_)}}else{if(lp(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=uh,n=null,i=fh,c=r}return o&&i==="text/plain"&&(c=o,o=void 0),{action:n,method:t.toLowerCase(),encType:i,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function fv(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function AI(r,e,t){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname=`_root.${t}`:e&&ui(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${t}`,n}async function RI(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function II(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function xI(r,e,t){let n=await Promise.all(r.map(async i=>{let o=e.routes[i.route.id];if(o){let c=await RI(o,t);return c.links?c.links():[]}return[]}));return OI(n.flat(1).filter(II).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function QE(r,e,t,n,i,o){let c=(h,m)=>t[m]?h.route.id!==t[m].route.id:!0,f=(h,m)=>t[m].pathname!==h.pathname||t[m].route.path?.endsWith("*")&&t[m].params["*"]!==h.params["*"];return o==="assets"?e.filter((h,m)=>c(h,m)||f(h,m)):o==="data"?e.filter((h,m)=>{let y=n.routes[h.route.id];if(!y||!y.hasLoader)return!1;if(c(h,m)||f(h,m))return!0;if(h.route.shouldRevalidate){let _=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function MI(r,e,{includeHydrateFallback:t}={}){return NI(r.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function NI(r){return[...new Set(r)]}function kI(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function OI(r,e){let t=new Set;return new Set(e),r.reduce((n,i)=>{let o=JSON.stringify(kI(i));return t.has(o)||(t.add(o),n.push({key:o,link:i})),n},[])}function IS(){let r=N.useContext(tc);return fv(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function PI(){let r=N.useContext(op);return fv(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var dv=N.createContext(void 0);dv.displayName="FrameworkContext";function xS(){let r=N.useContext(dv);return fv(r,"You must render this element inside a <HydratedRouter> element"),r}function LI(r,e){let t=N.useContext(dv),[n,i]=N.useState(!1),[o,c]=N.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:m,onMouseLeave:y,onTouchStart:_}=e,w=N.useRef(null);N.useEffect(()=>{if(r==="render"&&c(!0),r==="viewport"){let L=B=>{B.forEach(H=>{c(H.isIntersecting)})},A=new IntersectionObserver(L,{threshold:.5});return w.current&&A.observe(w.current),()=>{A.disconnect()}}},[r]),N.useEffect(()=>{if(n){let L=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(L)}}},[n]);let T=()=>{i(!0)},I=()=>{i(!1),c(!1)};return t?r!=="intent"?[o,w,{}]:[o,w,{onFocus:Eu(f,T),onBlur:Eu(h,I),onMouseEnter:Eu(m,T),onMouseLeave:Eu(y,I),onTouchStart:Eu(_,T)}]:[!1,w,{}]}function Eu(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function VI({page:r,...e}){let{router:t}=IS(),n=N.useMemo(()=>wS(t.routes,r,t.basename),[t.routes,r,t.basename]);return n?N.createElement(BI,{page:r,matches:n,...e}):null}function UI(r){let{manifest:e,routeModules:t}=xS(),[n,i]=N.useState([]);return N.useEffect(()=>{let o=!1;return xI(r,e,t).then(c=>{o||i(c)}),()=>{o=!0}},[r,e,t]),n}function BI({page:r,matches:e,...t}){let n=ws(),{manifest:i,routeModules:o}=xS(),{basename:c}=IS(),{loaderData:f,matches:h}=PI(),m=N.useMemo(()=>QE(r,e,h,i,n,"data"),[r,e,h,i,n]),y=N.useMemo(()=>QE(r,e,h,i,n,"assets"),[r,e,h,i,n]),_=N.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let I=new Set,L=!1;if(e.forEach(B=>{let H=i.routes[B.route.id];!H||!H.hasLoader||(!m.some(z=>z.route.id===B.route.id)&&B.route.id in f&&o[B.route.id]?.shouldRevalidate||H.hasClientLoader?L=!0:I.add(B.route.id))}),I.size===0)return[];let A=AI(r,c,"data");return L&&I.size>0&&A.searchParams.set("_routes",e.filter(B=>I.has(B.route.id)).map(B=>B.route.id).join(",")),[A.pathname+A.search]},[c,f,n,i,m,e,r,o]),w=N.useMemo(()=>MI(y,i),[y,i]),T=UI(y);return N.createElement(N.Fragment,null,_.map(I=>N.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...t})),w.map(I=>N.createElement("link",{key:I,rel:"modulepreload",href:I,...t})),T.map(({key:I,link:L})=>N.createElement("link",{key:I,nonce:t.nonce,...L})))}function jI(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var MS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{MS&&(window.__reactRouterVersion="7.9.1")}catch{}function HI({basename:r,children:e,window:t}){let n=N.useRef();n.current==null&&(n.current=IR({window:t,v5Compat:!0}));let i=n.current,[o,c]=N.useState({action:i.action,location:i.location}),f=N.useCallback(h=>{N.startTransition(()=>c(h))},[c]);return N.useLayoutEffect(()=>i.listen(f),[i,f]),N.createElement(vI,{basename:r,children:e,location:o.location,navigationType:o.action,navigator:i})}var NS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fi=N.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:i,reloadDocument:o,replace:c,state:f,target:h,to:m,preventScrollReset:y,viewTransition:_,...w},T){let{basename:I}=N.useContext(Ur),L=typeof m=="string"&&NS.test(m),A,B=!1;if(typeof m=="string"&&L&&(A=m,MS))try{let x=new URL(window.location.href),P=m.startsWith("//")?new URL(x.protocol+m):new URL(m),U=ui(P.pathname,I);P.origin===x.origin&&U!=null?m=U+P.search+P.hash:B=!0}catch{Or(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=nI(m,{relative:i}),[z,ee,J]=LI(n,w),re=zI(m,{replace:c,state:f,target:h,preventScrollReset:y,relative:i,viewTransition:_});function M(x){e&&e(x),x.defaultPrevented||re(x)}let D=N.createElement("a",{...w,...J,href:A||H,onClick:B||o?e:M,ref:jI(T,ee),target:h,"data-discover":!L&&t==="render"?"true":void 0});return z&&!L?N.createElement(N.Fragment,null,D,N.createElement(VI,{page:H})):D});fi.displayName="Link";var FI=N.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:i=!1,style:o,to:c,viewTransition:f,children:h,...m},y){let _=nf(c,{relative:m.relative}),w=ws(),T=N.useContext(op),{navigator:I,basename:L}=N.useContext(Ur),A=T!=null&&$I(_)&&f===!0,B=I.encodeLocation?I.encodeLocation(_).pathname:_.pathname,H=w.pathname,z=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;t||(H=H.toLowerCase(),z=z?z.toLowerCase():null,B=B.toLowerCase()),z&&L&&(z=ui(z,L)||z);const ee=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let J=H===B||!i&&H.startsWith(B)&&H.charAt(ee)==="/",re=z!=null&&(z===B||!i&&z.startsWith(B)&&z.charAt(B.length)==="/"),M={isActive:J,isPending:re,isTransitioning:A},D=J?e:void 0,x;typeof n=="function"?x=n(M):x=[n,J?"active":null,re?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let P=typeof o=="function"?o(M):o;return N.createElement(fi,{...m,"aria-current":D,className:x,ref:y,style:P,to:c,viewTransition:f},typeof h=="function"?h(M):h)});FI.displayName="NavLink";var qI=N.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:i,state:o,method:c=uh,action:f,onSubmit:h,relative:m,preventScrollReset:y,viewTransition:_,...w},T)=>{let I=WI(),L=KI(f,{relative:m}),A=c.toLowerCase()==="get"?"get":"post",B=typeof f=="string"&&NS.test(f),H=z=>{if(h&&h(z),z.defaultPrevented)return;z.preventDefault();let ee=z.nativeEvent.submitter,J=ee?.getAttribute("formmethod")||c;I(ee||z.currentTarget,{fetcherKey:e,method:J,navigate:t,replace:i,state:o,relative:m,preventScrollReset:y,viewTransition:_})};return N.createElement("form",{ref:T,method:A,action:L,onSubmit:n?h:H,...w,"data-discover":!B&&r==="render"?"true":void 0})});qI.displayName="Form";function YI(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kS(r){let e=N.useContext(tc);return Dt(e,YI(r)),e}function zI(r,{target:e,replace:t,state:n,preventScrollReset:i,relative:o,viewTransition:c}={}){let f=yi(),h=ws(),m=nf(r,{relative:o});return N.useCallback(y=>{if(TI(y,e)){y.preventDefault();let _=t!==void 0?t:Hu(h)===Hu(m);f(r,{replace:_,state:n,preventScrollReset:i,relative:o,viewTransition:c})}},[h,f,m,t,n,e,r,i,o,c])}var GI=0,QI=()=>`__${String(++GI)}__`;function WI(){let{router:r}=kS("useSubmit"),{basename:e}=N.useContext(Ur),t=pI();return N.useCallback(async(n,i={})=>{let{action:o,method:c,encType:f,formData:h,body:m}=CI(n,e);if(i.navigate===!1){let y=i.fetcherKey||QI();await r.fetch(y,t,i.action||o,{preventScrollReset:i.preventScrollReset,formData:h,body:m,formMethod:i.method||c,formEncType:i.encType||f,flushSync:i.flushSync})}else await r.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:h,body:m,formMethod:i.method||c,formEncType:i.encType||f,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[r,e,t])}function KI(r,{relative:e}={}){let{basename:t}=N.useContext(Ur),n=N.useContext(Br);Dt(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),o={...nf(r||".",{relative:e})},c=ws();if(r==null){o.search=c.search;let f=new URLSearchParams(o.search),h=f.getAll("index");if(h.some(y=>y==="")){f.delete("index"),h.filter(_=>_).forEach(_=>f.append("index",_));let y=f.toString();o.search=y?`?${y}`:""}}return(!r||r===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:ni([t,o.pathname])),Hu(o)}function $I(r,{relative:e}={}){let t=N.useContext(SS);Dt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=kS("useViewTransitionState"),i=nf(r,{relative:e});if(!t.isTransitioning)return!1;let o=ui(t.currentLocation.pathname,n)||t.currentLocation.pathname,c=ui(t.nextLocation.pathname,n)||t.nextLocation.pathname;return Ch(i.pathname,c)!=null||Ch(i.pathname,o)!=null}var rf=_S();const XI=yS(rf),ZI=()=>{};var WE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let i=r.charCodeAt(n);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},JI=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const i=r[t++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const o=r[t++];e[n++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=r[t++],c=r[t++],f=r[t++],h=((i&7)<<18|(o&63)<<12|(c&63)<<6|f&63)-65536;e[n++]=String.fromCharCode(55296+(h>>10)),e[n++]=String.fromCharCode(56320+(h&1023))}else{const o=r[t++],c=r[t++];e[n++]=String.fromCharCode((i&15)<<12|(o&63)<<6|c&63)}}return e.join("")},PS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<r.length;i+=3){const o=r[i],c=i+1<r.length,f=c?r[i+1]:0,h=i+2<r.length,m=h?r[i+2]:0,y=o>>2,_=(o&3)<<4|f>>4;let w=(f&15)<<2|m>>6,T=m&63;h||(T=64,c||(w=64)),n.push(t[y],t[_],t[w],t[T])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(OS(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):JI(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<r.length;){const o=t[r.charAt(i++)],f=i<r.length?t[r.charAt(i)]:0;++i;const m=i<r.length?t[r.charAt(i)]:64;++i;const _=i<r.length?t[r.charAt(i)]:64;if(++i,o==null||f==null||m==null||_==null)throw new ex;const w=o<<2|f>>4;if(n.push(w),m!==64){const T=f<<4&240|m>>2;if(n.push(T),_!==64){const I=m<<6&192|_;n.push(I)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class ex extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tx=function(r){const e=OS(r);return PS.encodeByteArray(e,!0)},Ah=function(r){return tx(r).replace(/\./g,"")},LS=function(r){try{return PS.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx=()=>nx().__FIREBASE_DEFAULTS__,ax=()=>{if(typeof process>"u"||typeof WE>"u")return;const r=WE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},ix=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&LS(r[1]);return e&&JSON.parse(e)},cp=()=>{try{return ZI()||rx()||ax()||ix()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},VS=r=>cp()?.emulatorHosts?.[r],sx=r=>{const e=VS(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},US=()=>cp()?.config,BS=r=>cp()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function jS(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",i=r.iat||0,o=r.sub||r.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Ah(JSON.stringify(t)),Ah(JSON.stringify(c)),""].join(".")}const Ou={};function cx(){const r={prod:[],emulator:[]};for(const e of Object.keys(Ou))Ou[e]?r.emulator.push(e):r.prod.push(e);return r}function ux(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let KE=!1;function HS(r,e){if(typeof window>"u"||typeof document>"u"||!rc(window.location.host)||Ou[r]===e||Ou[r]||KE)return;Ou[r]=e;function t(w){return`__firebase__banner__${w}`}const n="__firebase__banner",o=cx().prod.length>0;function c(){const w=document.getElementById(n);w&&w.remove()}function f(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function h(w,T){w.setAttribute("width","24"),w.setAttribute("id",T),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function m(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{KE=!0,c()},w}function y(w,T){w.setAttribute("id",T),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function _(){const w=ux(n),T=t("text"),I=document.getElementById(T)||document.createElement("span"),L=t("learnmore"),A=document.getElementById(L)||document.createElement("a"),B=t("preprendIcon"),H=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const z=w.element;f(z),y(A,L);const ee=m();h(H,B),z.append(H,I,A,ee),document.body.appendChild(z)}o?(I.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xn())}function dx(){const r=cp()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function px(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function mx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gx(){const r=xn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function yx(){return!dx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vx(){try{return typeof indexedDB=="object"}catch{return!1}}function _x(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx="FirebaseError";class vi extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=wx,Object.setPrototypeOf(this,vi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,af.prototype.create)}}class af{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],c=o?Ex(o,n):"Error",f=`${this.serviceName}: ${c} (${i}).`;return new vi(i,f,n)}}function Ex(r,e){return r.replace(bx,(t,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const bx=/\{\$([^}]+)}/g;function Tx(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function wo(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const i of t){if(!n.includes(i))return!1;const o=r[i],c=e[i];if($E(o)&&$E(c)){if(!wo(o,c))return!1}else if(o!==c)return!1}for(const i of n)if(!t.includes(i))return!1;return!0}function $E(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(r){const e=[];for(const[t,n]of Object.entries(r))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Du(r){const e={};return r.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,o]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Cu(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function Sx(r,e){const t=new Dx(r,e);return t.subscribe.bind(t)}class Dx{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let i;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");Cx(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:n},i.next===void 0&&(i.next=Xg),i.error===void 0&&(i.error=Xg),i.complete===void 0&&(i.complete=Xg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Cx(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Xg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(r){return r&&r._delegate?r._delegate:r}class Eo{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new ox;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ix(e))try{this.getOrInitializeService({instanceIdentifier:io})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});n.resolve(o)}catch{}}}}clearInstance(e=io){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=io){return this.instances.has(e)}getOptions(e=io){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[o,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(o);n===f&&c.resolve(i)}return i}onInit(e,t){const n=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(n)??new Set;i.add(e),this.onInitCallbacks.set(n,i);const o=this.instances.get(n);return o&&e(o,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Rx(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=io){return this.component?this.component.multipleInstances?e:io:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Rx(r){return r===io?void 0:r}function Ix(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Ax(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Qe||(Qe={}));const Mx={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},Nx=Qe.INFO,kx={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},Ox=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),i=kx[e];if(i)console[i](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hv{constructor(e){this.name=e,this._logLevel=Nx,this._logHandler=Ox,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Mx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}const Px=(r,e)=>e.some(t=>r instanceof t);let XE,ZE;function Lx(){return XE||(XE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Vx(){return ZE||(ZE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FS=new WeakMap,Ty=new WeakMap,qS=new WeakMap,Zg=new WeakMap,pv=new WeakMap;function Ux(r){const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("success",o),r.removeEventListener("error",c)},o=()=>{t(ns(r.result)),i()},c=()=>{n(r.error),i()};r.addEventListener("success",o),r.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&FS.set(t,r)}).catch(()=>{}),pv.set(e,r),e}function Bx(r){if(Ty.has(r))return;const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("complete",o),r.removeEventListener("error",c),r.removeEventListener("abort",c)},o=()=>{t(),i()},c=()=>{n(r.error||new DOMException("AbortError","AbortError")),i()};r.addEventListener("complete",o),r.addEventListener("error",c),r.addEventListener("abort",c)});Ty.set(r,e)}let Sy={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Ty.get(r);if(e==="objectStoreNames")return r.objectStoreNames||qS.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ns(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function jx(r){Sy=r(Sy)}function Hx(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(Jg(this),e,...t);return qS.set(n,e.sort?e.sort():[e]),ns(n)}:Vx().includes(r)?function(...e){return r.apply(Jg(this),e),ns(FS.get(this))}:function(...e){return ns(r.apply(Jg(this),e))}}function Fx(r){return typeof r=="function"?Hx(r):(r instanceof IDBTransaction&&Bx(r),Px(r,Lx())?new Proxy(r,Sy):r)}function ns(r){if(r instanceof IDBRequest)return Ux(r);if(Zg.has(r))return Zg.get(r);const e=Fx(r);return e!==r&&(Zg.set(r,e),pv.set(e,r)),e}const Jg=r=>pv.get(r);function qx(r,e,{blocked:t,upgrade:n,blocking:i,terminated:o}={}){const c=indexedDB.open(r,e),f=ns(c);return n&&c.addEventListener("upgradeneeded",h=>{n(ns(c.result),h.oldVersion,h.newVersion,ns(c.transaction),h)}),t&&c.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),f.then(h=>{o&&h.addEventListener("close",()=>o()),i&&h.addEventListener("versionchange",m=>i(m.oldVersion,m.newVersion,m))}).catch(()=>{}),f}const Yx=["get","getKey","getAll","getAllKeys","count"],zx=["put","add","delete","clear"],ey=new Map;function JE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(ey.get(e))return ey.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,i=zx.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(i||Yx.includes(t)))return;const o=async function(c,...f){const h=this.transaction(c,i?"readwrite":"readonly");let m=h.store;return n&&(m=m.index(f.shift())),(await Promise.all([m[t](...f),i&&h.done]))[0]};return ey.set(e,o),o}jx(r=>({...r,get:(e,t,n)=>JE(e,t)||r.get(e,t,n),has:(e,t)=>!!JE(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Qx(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function Qx(r){return r.getComponent()?.type==="VERSION"}const Dy="@firebase/app",eb="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di=new hv("@firebase/app"),Wx="@firebase/app-compat",Kx="@firebase/analytics-compat",$x="@firebase/analytics",Xx="@firebase/app-check-compat",Zx="@firebase/app-check",Jx="@firebase/auth",eM="@firebase/auth-compat",tM="@firebase/database",nM="@firebase/data-connect",rM="@firebase/database-compat",aM="@firebase/functions",iM="@firebase/functions-compat",sM="@firebase/installations",oM="@firebase/installations-compat",lM="@firebase/messaging",cM="@firebase/messaging-compat",uM="@firebase/performance",fM="@firebase/performance-compat",dM="@firebase/remote-config",hM="@firebase/remote-config-compat",pM="@firebase/storage",mM="@firebase/storage-compat",gM="@firebase/firestore",yM="@firebase/ai",vM="@firebase/firestore-compat",_M="firebase",wM="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy="[DEFAULT]",EM={[Dy]:"fire-core",[Wx]:"fire-core-compat",[$x]:"fire-analytics",[Kx]:"fire-analytics-compat",[Zx]:"fire-app-check",[Xx]:"fire-app-check-compat",[Jx]:"fire-auth",[eM]:"fire-auth-compat",[tM]:"fire-rtdb",[nM]:"fire-data-connect",[rM]:"fire-rtdb-compat",[aM]:"fire-fn",[iM]:"fire-fn-compat",[sM]:"fire-iid",[oM]:"fire-iid-compat",[lM]:"fire-fcm",[cM]:"fire-fcm-compat",[uM]:"fire-perf",[fM]:"fire-perf-compat",[dM]:"fire-rc",[hM]:"fire-rc-compat",[pM]:"fire-gcs",[mM]:"fire-gcs-compat",[gM]:"fire-fst",[vM]:"fire-fst-compat",[yM]:"fire-vertex","fire-js":"fire-js",[_M]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh=new Map,bM=new Map,Ay=new Map;function tb(r,e){try{r.container.addComponent(e)}catch(t){di.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Ul(r){const e=r.name;if(Ay.has(e))return di.debug(`There were multiple attempts to register component ${e}.`),!1;Ay.set(e,r);for(const t of Rh.values())tb(t,r);for(const t of bM.values())tb(t,r);return!0}function mv(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Er(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rs=new af("app","Firebase",TM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Eo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ac=wM;function YS(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n={name:Cy,automaticDataCollectionEnabled:!0,...e},i=n.name;if(typeof i!="string"||!i)throw rs.create("bad-app-name",{appName:String(i)});if(t||(t=US()),!t)throw rs.create("no-options");const o=Rh.get(i);if(o){if(wo(t,o.options)&&wo(n,o.config))return o;throw rs.create("duplicate-app",{appName:i})}const c=new xx(i);for(const h of Ay.values())c.addComponent(h);const f=new SM(t,n,c);return Rh.set(i,f),f}function zS(r=Cy){const e=Rh.get(r);if(!e&&r===Cy&&US())return YS();if(!e)throw rs.create("no-app",{appName:r});return e}function as(r,e,t){let n=EM[r]??r;t&&(n+=`-${t}`);const i=n.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const c=[`Unable to register library "${n}" with version "${e}":`];i&&c.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),di.warn(c.join(" "));return}Ul(new Eo(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM="firebase-heartbeat-database",CM=1,Fu="firebase-heartbeat-store";let ty=null;function GS(){return ty||(ty=qx(DM,CM,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Fu)}catch(t){console.warn(t)}}}}).catch(r=>{throw rs.create("idb-open",{originalErrorMessage:r.message})})),ty}async function AM(r){try{const t=(await GS()).transaction(Fu),n=await t.objectStore(Fu).get(QS(r));return await t.done,n}catch(e){if(e instanceof vi)di.warn(e.message);else{const t=rs.create("idb-get",{originalErrorMessage:e?.message});di.warn(t.message)}}}async function nb(r,e){try{const n=(await GS()).transaction(Fu,"readwrite");await n.objectStore(Fu).put(e,QS(r)),await n.done}catch(t){if(t instanceof vi)di.warn(t.message);else{const n=rs.create("idb-set",{originalErrorMessage:t?.message});di.warn(n.message)}}}function QS(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM=1024,IM=30;class xM{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new NM(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=rb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(i=>i.date===n))return;if(this._heartbeatsCache.heartbeats.push({date:n,agent:t}),this._heartbeatsCache.heartbeats.length>IM){const i=kM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){di.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=rb(),{heartbeatsToSend:t,unsentEntries:n}=MM(this._heartbeatsCache.heartbeats),i=Ah(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return di.warn(e),""}}}function rb(){return new Date().toISOString().substring(0,10)}function MM(r,e=RM){const t=[];let n=r.slice();for(const i of r){const o=t.find(c=>c.agent===i.agent);if(o){if(o.dates.push(i.date),ab(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),ab(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class NM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vx()?_x().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await AM(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return nb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return nb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function ab(r){return Ah(JSON.stringify({version:2,heartbeats:r})).length}function kM(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let n=1;n<r.length;n++)r[n].date<t&&(t=r[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OM(r){Ul(new Eo("platform-logger",e=>new Gx(e),"PRIVATE")),Ul(new Eo("heartbeat",e=>new xM(e),"PRIVATE")),as(Dy,eb,r),as(Dy,eb,"esm2020"),as("fire-js","")}OM("");function WS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const PM=WS,KS=new af("auth","Firebase",WS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih=new hv("@firebase/auth");function LM(r,...e){Ih.logLevel<=Qe.WARN&&Ih.warn(`Auth (${ac}): ${r}`,...e)}function dh(r,...e){Ih.logLevel<=Qe.ERROR&&Ih.error(`Auth (${ac}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(r,...e){throw gv(r,...e)}function pa(r,...e){return gv(r,...e)}function $S(r,e,t){const n={...PM(),[e]:t};return new af("auth","Firebase",n).create(e,{appName:r.name})}function ri(r){return $S(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gv(r,...e){if(typeof r!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(t,...n)}return KS.create(r,...e)}function Ie(r,e,...t){if(!r)throw gv(e,...t)}function Ja(r){const e="INTERNAL ASSERTION FAILED: "+r;throw dh(e),new Error(e)}function hi(r,e){r||Ja(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(){return typeof self<"u"&&self.location?.href||""}function VM(){return ib()==="http:"||ib()==="https:"}function ib(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(VM()||px()||"connection"in navigator)?navigator.onLine:!0}function BM(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,t){this.shortDelay=e,this.longDelay=t,hi(t>e,"Short delay should be less than long delay!"),this.isMobile=fx()||mx()}get(){return UM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(r,e){hi(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ja("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ja("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ja("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],FM=new of(3e4,6e4);function Es(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function bs(r,e,t,n,i={}){return ZS(r,i,async()=>{let o={},c={};n&&(e==="GET"?c=n:o={body:JSON.stringify(n)});const f=sf({key:r.config.apiKey,...c}).slice(1),h=await r._getAdditionalHeaders();h["Content-Type"]="application/json",r.languageCode&&(h["X-Firebase-Locale"]=r.languageCode);const m={method:e,headers:h,...o};return hx()||(m.referrerPolicy="no-referrer"),r.emulatorConfig&&rc(r.emulatorConfig.host)&&(m.credentials="include"),XS.fetch()(await JS(r,r.config.apiHost,t,f),m)})}async function ZS(r,e,t){r._canInitEmulator=!1;const n={...jM,...e};try{const i=new YM(r),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw $d(r,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const f=o.ok?c.errorMessage:c.error.message,[h,m]=f.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw $d(r,"credential-already-in-use",c);if(h==="EMAIL_EXISTS")throw $d(r,"email-already-in-use",c);if(h==="USER_DISABLED")throw $d(r,"user-disabled",c);const y=n[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw $S(r,y,m);Pr(r,y)}}catch(i){if(i instanceof vi)throw i;Pr(r,"network-request-failed",{message:String(i)})}}async function lf(r,e,t,n,i={}){const o=await bs(r,e,t,n,i);return"mfaPendingCredential"in o&&Pr(r,"multi-factor-auth-required",{_serverResponse:o}),o}async function JS(r,e,t,n){const i=`${e}${t}?${n}`,o=r,c=o.config.emulator?yv(r.config,i):`${r.config.apiScheme}://${i}`;return HM.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function qM(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class YM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(pa(this.auth,"network-request-failed")),FM.get())})}}function $d(r,e,t){const n={appName:r.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const i=pa(r,e,n);return i.customData._tokenResponse=t,i}function sb(r){return r!==void 0&&r.enterprise!==void 0}class zM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return qM(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function GM(r,e){return bs(r,"GET","/v2/recaptchaConfig",Es(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QM(r,e){return bs(r,"POST","/v1/accounts:delete",e)}async function xh(r,e){return bs(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function WM(r,e=!1){const t=qt(r),n=await t.getIdToken(e),i=vv(n);Ie(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,c=o?.sign_in_provider;return{claims:i,token:n,authTime:Pu(ny(i.auth_time)),issuedAtTime:Pu(ny(i.iat)),expirationTime:Pu(ny(i.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function ny(r){return Number(r)*1e3}function vv(r){const[e,t,n]=r.split(".");if(e===void 0||t===void 0||n===void 0)return dh("JWT malformed, contained fewer than 3 sections"),null;try{const i=LS(t);return i?JSON.parse(i):(dh("Failed to decode base64 JWT payload"),null)}catch(i){return dh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ob(r){const e=vv(r);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qu(r,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof vi&&KM(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function KM({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pu(this.lastLoginAt),this.creationTime=Pu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mh(r){const e=r.auth,t=await r.getIdToken(),n=await qu(r,xh(e,{idToken:t}));Ie(n?.users.length,e,"internal-error");const i=n.users[0];r._notifyReloadListener(i);const o=i.providerUserInfo?.length?e1(i.providerUserInfo):[],c=ZM(r.providerData,o),f=r.isAnonymous,h=!(r.email&&i.passwordHash)&&!c?.length,m=f?h:!1,y={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:c,metadata:new Iy(i.createdAt,i.lastLoginAt),isAnonymous:m};Object.assign(r,y)}async function XM(r){const e=qt(r);await Mh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ZM(r,e){return[...r.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function e1(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JM(r,e){const t=await ZS(r,{},async()=>{const n=sf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=r.config,c=await JS(r,i,"/v1/token",`key=${o}`),f=await r._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:f,body:n};return r.emulatorConfig&&rc(r.emulatorConfig.host)&&(h.credentials="include"),XS.fetch()(c,h)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function eN(r,e){return bs(r,"POST","/v2/accounts:revokeToken",Es(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ob(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const t=ob(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:o}=await JM(e,t);this.updateTokensAndExpiration(n,i,Number(o))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:o}=t,c=new Ml;return n&&(Ie(typeof n=="string","internal-error",{appName:e}),c.refreshToken=n),i&&(Ie(typeof i=="string","internal-error",{appName:e}),c.accessToken=i),o&&(Ie(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ml,this.toJSON())}_performRefresh(){return Ja("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(r,e){Ie(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Nr{constructor({uid:e,auth:t,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new $M(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Iy(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await qu(this,this.stsTokenManager.getToken(this.auth,e));return Ie(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return WM(this,e)}reload(){return XM(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Nr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Mh(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Er(this.auth.app))return Promise.reject(ri(this.auth));const e=await this.getIdToken();return await qu(this,QM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const n=t.displayName??void 0,i=t.email??void 0,o=t.phoneNumber??void 0,c=t.photoURL??void 0,f=t.tenantId??void 0,h=t._redirectEventId??void 0,m=t.createdAt??void 0,y=t.lastLoginAt??void 0,{uid:_,emailVerified:w,isAnonymous:T,providerData:I,stsTokenManager:L}=t;Ie(_&&L,e,"internal-error");const A=Ml.fromJSON(this.name,L);Ie(typeof _=="string",e,"internal-error"),Ki(n,e.name),Ki(i,e.name),Ie(typeof w=="boolean",e,"internal-error"),Ie(typeof T=="boolean",e,"internal-error"),Ki(o,e.name),Ki(c,e.name),Ki(f,e.name),Ki(h,e.name),Ki(m,e.name),Ki(y,e.name);const B=new Nr({uid:_,auth:e,email:i,emailVerified:w,displayName:n,isAnonymous:T,photoURL:c,phoneNumber:o,tenantId:f,stsTokenManager:A,createdAt:m,lastLoginAt:y});return I&&Array.isArray(I)&&(B.providerData=I.map(H=>({...H}))),h&&(B._redirectEventId=h),B}static async _fromIdTokenResponse(e,t,n=!1){const i=new Ml;i.updateFromServerResponse(t);const o=new Nr({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Mh(o),o}static async _fromGetAccountInfoResponse(e,t,n){const i=t.users[0];Ie(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?e1(i.providerUserInfo):[],c=!(i.email&&i.passwordHash)&&!o?.length,f=new Ml;f.updateFromIdToken(n);const h=new Nr({uid:i.localId,auth:e,stsTokenManager:f,isAnonymous:c}),m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Iy(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(h,m),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb=new Map;function ei(r){hi(r instanceof Function,"Expected a class definition");let e=lb.get(r);return e?(hi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,lb.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}t1.type="NONE";const cb=t1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hh(r,e,t){return`firebase:${r}:${e}:${t}`}class Nl{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:o}=this.auth;this.fullUserKey=hh(this.userKey,i.apiKey,o),this.fullPersistenceKey=hh("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await xh(this.auth,{idToken:e}).catch(()=>{});return t?Nr._fromGetAccountInfoResponse(this.auth,t,e):null}return Nr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new Nl(ei(cb),e,n);const i=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=i[0]||ei(cb);const c=hh(n,e.config.apiKey,e.name);let f=null;for(const m of t)try{const y=await m._get(c);if(y){let _;if(typeof y=="string"){const w=await xh(e,{idToken:y}).catch(()=>{});if(!w)break;_=await Nr._fromGetAccountInfoResponse(e,w,y)}else _=Nr._fromJSON(e,y);m!==o&&(f=_),o=m;break}}catch{}const h=i.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new Nl(o,e,n):(o=h[0],f&&await o._set(c,f.toJSON()),await Promise.all(t.map(async m=>{if(m!==o)try{await m._remove(c)}catch{}})),new Nl(o,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(i1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(n1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(o1(e))return"Blackberry";if(l1(e))return"Webos";if(r1(e))return"Safari";if((e.includes("chrome/")||a1(e))&&!e.includes("edge/"))return"Chrome";if(s1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(t);if(n?.length===2)return n[1]}return"Other"}function n1(r=xn()){return/firefox\//i.test(r)}function r1(r=xn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function a1(r=xn()){return/crios\//i.test(r)}function i1(r=xn()){return/iemobile/i.test(r)}function s1(r=xn()){return/android/i.test(r)}function o1(r=xn()){return/blackberry/i.test(r)}function l1(r=xn()){return/webos/i.test(r)}function _v(r=xn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function tN(r=xn()){return _v(r)&&!!window.navigator?.standalone}function nN(){return gx()&&document.documentMode===10}function c1(r=xn()){return _v(r)||s1(r)||l1(r)||o1(r)||/windows phone/i.test(r)||i1(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(r,e=[]){let t;switch(r){case"Browser":t=ub(xn());break;case"Worker":t=`${ub(xn())}-${r}`;break;default:t=r}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ac}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=o=>new Promise((c,f)=>{try{const h=e(o);c(h)}catch(h){f(h)}});n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aN(r,e={}){return bs(r,"GET","/v2/passwordPolicy",Es(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=6;class sN{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??iN,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e,t,n,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fb(this),this.idTokenSubscription=new fb(this),this.beforeStateQueue=new rN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ei(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Nl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await xh(this,{idToken:e}),n=await Nr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Er(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=n?._redirectEventId,f=await this.tryRedirectSignIn(e);(!o||o===c)&&f?.user&&(n=f.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(o){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Mh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=BM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Er(this.app))return Promise.reject(ri(this));const t=e?qt(e):null;return t&&Ie(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Er(this.app)?Promise.reject(ri(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Er(this.app)?Promise.reject(ri(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ei(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await aN(this),t=new sN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new af("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await eN(this,n)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ei(e)||this._popupRedirectResolver;Ie(t,this,"argument-error"),this.redirectPersistenceManager=await Nl.create(this,[ei(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(f,this,"internal-error"),f.then(()=>{c||o(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,n,i);return()=>{c=!0,h()}}else{const h=e.addObserver(t);return()=>{c=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=u1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){if(Er(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&LM(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ao(r){return qt(r)}class fb{constructor(e){this.auth=e,this.observer=null,this.addObserver=Sx(t=>this.observer=t)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let up={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lN(r){up=r}function f1(r){return up.loadJS(r)}function cN(){return up.recaptchaEnterpriseScript}function uN(){return up.gapiScript}function fN(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class dN{constructor(){this.enterprise=new hN}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class hN{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const pN="recaptcha-enterprise",d1="NO_RECAPTCHA";class mN{constructor(e){this.type=pN,this.auth=Ao(e)}async verify(e="verify",t=!1){async function n(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,f)=>{GM(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const m=new zM(h);return o.tenantId==null?o._agentRecaptchaConfig=m:o._tenantRecaptchaConfigs[o.tenantId]=m,c(m.siteKey)}}).catch(h=>{f(h)})})}function i(o,c,f){const h=window.grecaptcha;sb(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(m=>{c(m)}).catch(()=>{c(d1)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new dN().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{n(this.auth).then(f=>{if(!t&&sb(window.grecaptcha))i(f,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let h=cN();h.length!==0&&(h+=f),f1(h).then(()=>{i(f,o,c)}).catch(m=>{c(m)})}}).catch(f=>{c(f)})})}}async function db(r,e,t,n=!1,i=!1){const o=new mN(r);let c;if(i)c=d1;else try{c=await o.verify(t)}catch{c=await o.verify(t,!0)}const f={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const h=f.phoneEnrollmentInfo.phoneNumber,m=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const h=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return n?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function xy(r,e,t,n,i){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await db(r,e,t,t==="getOobCode");return n(r,o)}else return n(r,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await db(r,e,t,t==="getOobCode");return n(r,c)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(r,e){const t=mv(r,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(wo(o,e??{}))return i;Pr(i,"already-initialized")}return t.initialize({options:e})}function yN(r,e){const t=e?.persistence||[],n=(Array.isArray(t)?t:[t]).map(ei);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(n,e?.popupRedirectResolver)}function vN(r,e,t){const n=Ao(r);Ie(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,o=h1(e),{host:c,port:f}=_N(e),h=f===null?"":`:${f}`,m={url:`${o}//${c}${h}/`},y=Object.freeze({host:c,port:f,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){Ie(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Ie(wo(m,n.config.emulator)&&wo(y,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=m,n.emulatorConfig=y,n.settings.appVerificationDisabledForTesting=!0,rc(c)?(jS(`${o}//${c}${h}`),HS("Auth",!0)):wN()}function h1(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function _N(r){const e=h1(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const o=i[1];return{host:o,port:hb(n.substr(o.length+1))}}else{const[o,c]=n.split(":");return{host:o,port:hb(c)}}}function hb(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function wN(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ja("not implemented")}_getIdTokenResponse(e){return Ja("not implemented")}_linkToIdToken(e,t){return Ja("not implemented")}_getReauthenticationResolver(e){return Ja("not implemented")}}async function EN(r,e){return bs(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bN(r,e){return lf(r,"POST","/v1/accounts:signInWithPassword",Es(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TN(r,e){return lf(r,"POST","/v1/accounts:signInWithEmailLink",Es(r,e))}async function SN(r,e){return lf(r,"POST","/v1/accounts:signInWithEmailLink",Es(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu extends wv{constructor(e,t,n,i=null){super("password",n),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Yu(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Yu(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xy(e,t,"signInWithPassword",bN);case"emailLink":return TN(e,{email:this._email,oobCode:this._password});default:Pr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xy(e,n,"signUpPassword",EN);case"emailLink":return SN(e,{idToken:t,email:this._email,oobCode:this._password});default:Pr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kl(r,e){return lf(r,"POST","/v1/accounts:signInWithIdp",Es(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN="http://localhost";class bo extends wv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new bo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Pr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i,...o}=t;if(!n||!i)return null;const c=new bo(n,i);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return kl(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,kl(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,kl(e,t)}buildRequest(){const e={requestUri:DN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=sf(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function AN(r){const e=Du(Cu(r)).link,t=e?Du(Cu(e)).deep_link_id:null,n=Du(Cu(r)).deep_link_id;return(n?Du(Cu(n)).link:null)||n||t||e||r}class Ev{constructor(e){const t=Du(Cu(e)),n=t.apiKey??null,i=t.oobCode??null,o=CN(t.mode??null);Ie(n&&i&&o,"argument-error"),this.apiKey=n,this.operation=o,this.code=i,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=AN(e);try{return new Ev(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(){this.providerId=ic.PROVIDER_ID}static credential(e,t){return Yu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Ev.parseLink(t);return Ie(n,"argument-error"),Yu._fromEmailAndCode(e,n.code,n.tenantId)}}ic.PROVIDER_ID="password";ic.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ic.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf extends p1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends cf{constructor(){super("facebook.com")}static credential(e){return bo._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xi.credential(e.oauthAccessToken)}catch{return null}}}Xi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends cf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return bo._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Zi.credential(t,n)}catch{return null}}}Zi.GOOGLE_SIGN_IN_METHOD="google.com";Zi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends cf{constructor(){super("github.com")}static credential(e){return bo._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ji.credential(e.oauthAccessToken)}catch{return null}}}Ji.GITHUB_SIGN_IN_METHOD="github.com";Ji.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends cf{constructor(){super("twitter.com")}static credential(e,t){return bo._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return es.credential(t,n)}catch{return null}}}es.TWITTER_SIGN_IN_METHOD="twitter.com";es.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RN(r,e){return lf(r,"POST","/v1/accounts:signUp",Es(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,i=!1){const o=await Nr._fromIdTokenResponse(e,n,i),c=pb(n);return new To({user:o,providerId:c,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const i=pb(n);return new To({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function pb(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh extends vi{constructor(e,t,n,i){super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Nh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new Nh(e,t,n,i)}}function m1(r,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Nh._fromErrorAndOperation(r,o,e,n):o})}async function IN(r,e,t=!1){const n=await qu(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return To._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xN(r,e,t=!1){const{auth:n}=r;if(Er(n.app))return Promise.reject(ri(n));const i="reauthenticate";try{const o=await qu(r,m1(n,i,e,r),t);Ie(o.idToken,n,"internal-error");const c=vv(o.idToken);Ie(c,n,"internal-error");const{sub:f}=c;return Ie(r.uid===f,n,"user-mismatch"),To._forOperation(r,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Pr(n,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g1(r,e,t=!1){if(Er(r.app))return Promise.reject(ri(r));const n="signIn",i=await m1(r,n,e),o=await To._fromIdTokenResponse(r,n,i);return t||await r._updateCurrentUser(o.user),o}async function MN(r,e){return g1(Ao(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y1(r){const e=Ao(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function NN(r,e,t){if(Er(r.app))return Promise.reject(ri(r));const n=Ao(r),c=await xy(n,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",RN).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&y1(r),h}),f=await To._fromIdTokenResponse(n,"signIn",c);return await n._updateCurrentUser(f.user),f}function kN(r,e,t){return Er(r.app)?Promise.reject(ri(r)):MN(qt(r),ic.credential(e,t)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&y1(r),n})}function ON(r,e,t,n){return qt(r).onIdTokenChanged(e,t,n)}function PN(r,e,t){return qt(r).beforeAuthStateChanged(e,t)}function LN(r,e,t,n){return qt(r).onAuthStateChanged(e,t,n)}function VN(r){return qt(r).signOut()}const kh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(kh,"1"),this.storage.removeItem(kh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN=1e3,BN=10;class _1 extends v1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=c1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,f,h)=>{this.notifyListeners(c,h)});return}const n=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const c=this.storage.getItem(n);!t&&this.localCache[n]===c||this.notifyListeners(n,c)},o=this.storage.getItem(n);nN()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,BN):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},UN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}_1.type="LOCAL";const jN=_1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1 extends v1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}w1.type="SESSION";const E1=w1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const n=new fp(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:i,data:o}=t.data,c=this.handlersMap[i];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const f=Array.from(c).map(async m=>m(t.origin,o)),h=await HN(f);t.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(r="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,c;return new Promise((f,h)=>{const m=bv("",20);i.port1.start();const y=setTimeout(()=>{h(new Error("unsupported_event"))},n);c={messageChannel:i,onMessage(_){const w=_;if(w.data.eventId===m)switch(w.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),f(w.data.response);break;default:clearTimeout(y),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(c),i.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[i.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ma(){return window}function qN(r){ma().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(){return typeof ma().WorkerGlobalScope<"u"&&typeof ma().importScripts=="function"}async function YN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zN(){return navigator?.serviceWorker?.controller||null}function GN(){return b1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1="firebaseLocalStorageDb",QN=1,Oh="firebaseLocalStorage",S1="fbase_key";class uf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function dp(r,e){return r.transaction([Oh],e?"readwrite":"readonly").objectStore(Oh)}function WN(){const r=indexedDB.deleteDatabase(T1);return new uf(r).toPromise()}function My(){const r=indexedDB.open(T1,QN);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(Oh,{keyPath:S1})}catch(i){t(i)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(Oh)?e(n):(n.close(),await WN(),e(await My()))})})}async function mb(r,e,t){const n=dp(r,!0).put({[S1]:e,value:t});return new uf(n).toPromise()}async function KN(r,e){const t=dp(r,!1).get(e),n=await new uf(t).toPromise();return n===void 0?null:n.value}function gb(r,e){const t=dp(r,!0).delete(e);return new uf(t).toPromise()}const $N=800,XN=3;class D1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await My(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>XN)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return b1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fp._getInstance(GN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await YN(),!this.activeServiceWorker)return;this.sender=new FN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||zN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await My();return await mb(e,kh,"1"),await gb(e,kh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>mb(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>KN(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>gb(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=dp(i,!1).getAll();return new uf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$N)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}D1.type="LOCAL";const ZN=D1;new of(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(r,e){return e?ei(e):(Ie(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv extends wv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return kl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return kl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return kl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ek(r){return g1(r.auth,new Tv(r),r.bypassAuthState)}function tk(r){const{auth:e,user:t}=r;return Ie(t,e,"internal-error"),xN(t,new Tv(r),r.bypassAuthState)}async function nk(r){const{auth:e,user:t}=r;return Ie(t,e,"internal-error"),IN(t,new Tv(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e,t,n,i,o=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:o,error:c,type:f}=e;if(c){this.reject(c);return}const h={auth:this.auth,requestUri:t,sessionId:n,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(h))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ek;case"linkViaPopup":case"linkViaRedirect":return nk;case"reauthViaPopup":case"reauthViaRedirect":return tk;default:Pr(this.auth,"internal-error")}}resolve(e){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk=new of(2e3,1e4);class xl extends C1{constructor(e,t,n,i,o){super(e,t,i,o),this.provider=n,this.authWindow=null,this.pollId=null,xl.currentPopupAction&&xl.currentPopupAction.cancel(),xl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){hi(this.filter.length===1,"Popup operations only handle one event");const e=bv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(pa(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(pa(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pa(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,rk.get())};e()}}xl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak="pendingRedirect",ph=new Map;class ik extends C1{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=ph.get(this.auth._key());if(!e){try{const n=await sk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}ph.set(this.auth._key(),e)}return this.bypassAuthState||ph.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sk(r,e){const t=ck(e),n=lk(r);if(!await n._isAvailable())return!1;const i=await n._get(t)==="true";return await n._remove(t),i}function ok(r,e){ph.set(r._key(),e)}function lk(r){return ei(r._redirectPersistence)}function ck(r){return hh(ak,r.config.apiKey,r.name)}async function uk(r,e,t=!1){if(Er(r.app))return Promise.reject(ri(r));const n=Ao(r),i=JN(n,e),c=await new ik(n,i,t).execute();return c&&!t&&(delete c.user._redirectEventId,await n._persistUserIfCurrent(c.user),await n._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk=600*1e3;class dk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!hk(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!A1(e)){const n=e.error.code?.split("auth/")[1]||"internal-error";t.onError(pa(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fk&&this.cachedEventUids.clear(),this.cachedEventUids.has(yb(e))}saveEventToCache(e){this.cachedEventUids.add(yb(e)),this.lastProcessedEventTime=Date.now()}}function yb(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function A1({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function hk(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return A1(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pk(r,e={}){return bs(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gk=/^https?/;async function yk(r){if(r.config.emulator)return;const{authorizedDomains:e}=await pk(r);for(const t of e)try{if(vk(t))return}catch{}Pr(r,"unauthorized-domain")}function vk(r){const e=Ry(),{protocol:t,hostname:n}=new URL(e);if(r.startsWith("chrome-extension://")){const c=new URL(r);return c.hostname===""&&n===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===n}if(!gk.test(t))return!1;if(mk.test(r))return n===r;const i=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k=new of(3e4,6e4);function vb(){const r=ma().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function wk(r){return new Promise((e,t)=>{function n(){vb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vb(),t(pa(r,"network-request-failed"))},timeout:_k.get()})}if(ma().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ma().gapi?.load)n();else{const i=fN("iframefcb");return ma()[i]=()=>{gapi.load?n():t(pa(r,"network-request-failed"))},f1(`${uN()}?onload=${i}`).catch(o=>t(o))}}).catch(e=>{throw mh=null,e})}let mh=null;function Ek(r){return mh=mh||wk(r),mh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk=new of(5e3,15e3),Tk="__/auth/iframe",Sk="emulator/auth/iframe",Dk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ck=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ak(r){const e=r.config;Ie(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?yv(e,Sk):`https://${r.config.authDomain}/${Tk}`,n={apiKey:e.apiKey,appName:r.name,v:ac},i=Ck.get(r.config.apiHost);i&&(n.eid=i);const o=r._getFrameworks();return o.length&&(n.fw=o.join(",")),`${t}?${sf(n).slice(1)}`}async function Rk(r){const e=await Ek(r),t=ma().gapi;return Ie(t,r,"internal-error"),e.open({where:document.body,url:Ak(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Dk,dontclear:!0},n=>new Promise(async(i,o)=>{await n.restyle({setHideOnLeave:!1});const c=pa(r,"network-request-failed"),f=ma().setTimeout(()=>{o(c)},bk.get());function h(){ma().clearTimeout(f),i(n)}n.ping(h).then(h,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xk=500,Mk=600,Nk="_blank",kk="http://localhost";class _b{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ok(r,e,t,n=xk,i=Mk){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),c=Math.max((window.screen.availWidth-n)/2,0).toString();let f="";const h={...Ik,width:n.toString(),height:i.toString(),top:o,left:c},m=xn().toLowerCase();t&&(f=a1(m)?Nk:t),n1(m)&&(e=e||kk,h.scrollbars="yes");const y=Object.entries(h).reduce((w,[T,I])=>`${w}${T}=${I},`,"");if(tN(m)&&f!=="_self")return Pk(e||"",f),new _b(null);const _=window.open(e||"",f,y);Ie(_,r,"popup-blocked");try{_.focus()}catch{}return new _b(_)}function Pk(r,e){const t=document.createElement("a");t.href=r,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk="__/auth/handler",Vk="emulator/auth/handler",Uk=encodeURIComponent("fac");async function wb(r,e,t,n,i,o){Ie(r.config.authDomain,r,"auth-domain-config-required"),Ie(r.config.apiKey,r,"invalid-api-key");const c={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:n,v:ac,eventId:i};if(e instanceof p1){e.setDefaultLanguage(r.languageCode),c.providerId=e.providerId||"",Tx(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(e instanceof cf){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}r.tenantId&&(c.tid=r.tenantId);const f=c;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const h=await r._getAppCheckToken(),m=h?`#${Uk}=${encodeURIComponent(h)}`:"";return`${Bk(r)}?${sf(f).slice(1)}${m}`}function Bk({config:r}){return r.emulator?yv(r,Vk):`https://${r.authDomain}/${Lk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry="webStorageSupport";class jk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=E1,this._completeRedirectFn=uk,this._overrideRedirectResult=ok}async _openPopup(e,t,n,i){hi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await wb(e,t,n,Ry(),i);return Ok(e,o,bv())}async _openRedirect(e,t,n,i){await this._originValidation(e);const o=await wb(e,t,n,Ry(),i);return qN(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(hi(o,"If manager is not set, promise should be"),o)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Rk(e),n=new dk(e);return t.register("authEvent",i=>(Ie(i?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ry,{type:ry},i=>{const o=i?.[0]?.[ry];o!==void 0&&t(!!o),Pr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=yk(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return c1()||r1()||_v()}}const Hk=jk;var Eb="@firebase/auth",bb="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qk(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Yk(r){Ul(new Eo("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=n.options;Ie(c&&!c.includes(":"),"invalid-api-key",{appName:n.name});const h={apiKey:c,authDomain:f,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:u1(r)},m=new oN(n,i,o,h);return yN(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Ul(new Eo("auth-internal",e=>{const t=Ao(e.getProvider("auth").getImmediate());return(n=>new Fk(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),as(Eb,bb,qk(r)),as(Eb,bb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk=300,Gk=BS("authIdTokenMaxAge")||zk;let Tb=null;const Qk=r=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Gk)return;const i=t?.token;Tb!==i&&(Tb=i,await fetch(r,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Wk(r=zS()){const e=mv(r,"auth");if(e.isInitialized())return e.getImmediate();const t=gN(r,{popupRedirectResolver:Hk,persistence:[ZN,jN,E1]}),n=BS("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(n,location.origin);if(location.origin===o.origin){const c=Qk(o.toString());PN(t,c,()=>c(t.currentUser)),ON(t,f=>c(f))}}const i=VS("auth");return i&&vN(t,`http://${i}`),t}function Kk(){return document.getElementsByTagName("head")?.[0]??document}lN({loadJS(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=e,n.onerror=i=>{const o=pa("internal-error");o.customData=i,t(o)},n.type="text/javascript",n.charset="UTF-8",Kk().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Yk("Browser");var Sb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var is,R1;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,D){function x(){}x.prototype=D.prototype,M.D=D.prototype,M.prototype=new x,M.prototype.constructor=M,M.C=function(P,U,j){for(var k=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)k[Ee-2]=arguments[Ee];return D.prototype[U].apply(P,k)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(M,D,x){x||(x=0);var P=Array(16);if(typeof D=="string")for(var U=0;16>U;++U)P[U]=D.charCodeAt(x++)|D.charCodeAt(x++)<<8|D.charCodeAt(x++)<<16|D.charCodeAt(x++)<<24;else for(U=0;16>U;++U)P[U]=D[x++]|D[x++]<<8|D[x++]<<16|D[x++]<<24;D=M.g[0],x=M.g[1],U=M.g[2];var j=M.g[3],k=D+(j^x&(U^j))+P[0]+3614090360&4294967295;D=x+(k<<7&4294967295|k>>>25),k=j+(U^D&(x^U))+P[1]+3905402710&4294967295,j=D+(k<<12&4294967295|k>>>20),k=U+(x^j&(D^x))+P[2]+606105819&4294967295,U=j+(k<<17&4294967295|k>>>15),k=x+(D^U&(j^D))+P[3]+3250441966&4294967295,x=U+(k<<22&4294967295|k>>>10),k=D+(j^x&(U^j))+P[4]+4118548399&4294967295,D=x+(k<<7&4294967295|k>>>25),k=j+(U^D&(x^U))+P[5]+1200080426&4294967295,j=D+(k<<12&4294967295|k>>>20),k=U+(x^j&(D^x))+P[6]+2821735955&4294967295,U=j+(k<<17&4294967295|k>>>15),k=x+(D^U&(j^D))+P[7]+4249261313&4294967295,x=U+(k<<22&4294967295|k>>>10),k=D+(j^x&(U^j))+P[8]+1770035416&4294967295,D=x+(k<<7&4294967295|k>>>25),k=j+(U^D&(x^U))+P[9]+2336552879&4294967295,j=D+(k<<12&4294967295|k>>>20),k=U+(x^j&(D^x))+P[10]+4294925233&4294967295,U=j+(k<<17&4294967295|k>>>15),k=x+(D^U&(j^D))+P[11]+2304563134&4294967295,x=U+(k<<22&4294967295|k>>>10),k=D+(j^x&(U^j))+P[12]+1804603682&4294967295,D=x+(k<<7&4294967295|k>>>25),k=j+(U^D&(x^U))+P[13]+4254626195&4294967295,j=D+(k<<12&4294967295|k>>>20),k=U+(x^j&(D^x))+P[14]+2792965006&4294967295,U=j+(k<<17&4294967295|k>>>15),k=x+(D^U&(j^D))+P[15]+1236535329&4294967295,x=U+(k<<22&4294967295|k>>>10),k=D+(U^j&(x^U))+P[1]+4129170786&4294967295,D=x+(k<<5&4294967295|k>>>27),k=j+(x^U&(D^x))+P[6]+3225465664&4294967295,j=D+(k<<9&4294967295|k>>>23),k=U+(D^x&(j^D))+P[11]+643717713&4294967295,U=j+(k<<14&4294967295|k>>>18),k=x+(j^D&(U^j))+P[0]+3921069994&4294967295,x=U+(k<<20&4294967295|k>>>12),k=D+(U^j&(x^U))+P[5]+3593408605&4294967295,D=x+(k<<5&4294967295|k>>>27),k=j+(x^U&(D^x))+P[10]+38016083&4294967295,j=D+(k<<9&4294967295|k>>>23),k=U+(D^x&(j^D))+P[15]+3634488961&4294967295,U=j+(k<<14&4294967295|k>>>18),k=x+(j^D&(U^j))+P[4]+3889429448&4294967295,x=U+(k<<20&4294967295|k>>>12),k=D+(U^j&(x^U))+P[9]+568446438&4294967295,D=x+(k<<5&4294967295|k>>>27),k=j+(x^U&(D^x))+P[14]+3275163606&4294967295,j=D+(k<<9&4294967295|k>>>23),k=U+(D^x&(j^D))+P[3]+4107603335&4294967295,U=j+(k<<14&4294967295|k>>>18),k=x+(j^D&(U^j))+P[8]+1163531501&4294967295,x=U+(k<<20&4294967295|k>>>12),k=D+(U^j&(x^U))+P[13]+2850285829&4294967295,D=x+(k<<5&4294967295|k>>>27),k=j+(x^U&(D^x))+P[2]+4243563512&4294967295,j=D+(k<<9&4294967295|k>>>23),k=U+(D^x&(j^D))+P[7]+1735328473&4294967295,U=j+(k<<14&4294967295|k>>>18),k=x+(j^D&(U^j))+P[12]+2368359562&4294967295,x=U+(k<<20&4294967295|k>>>12),k=D+(x^U^j)+P[5]+4294588738&4294967295,D=x+(k<<4&4294967295|k>>>28),k=j+(D^x^U)+P[8]+2272392833&4294967295,j=D+(k<<11&4294967295|k>>>21),k=U+(j^D^x)+P[11]+1839030562&4294967295,U=j+(k<<16&4294967295|k>>>16),k=x+(U^j^D)+P[14]+4259657740&4294967295,x=U+(k<<23&4294967295|k>>>9),k=D+(x^U^j)+P[1]+2763975236&4294967295,D=x+(k<<4&4294967295|k>>>28),k=j+(D^x^U)+P[4]+1272893353&4294967295,j=D+(k<<11&4294967295|k>>>21),k=U+(j^D^x)+P[7]+4139469664&4294967295,U=j+(k<<16&4294967295|k>>>16),k=x+(U^j^D)+P[10]+3200236656&4294967295,x=U+(k<<23&4294967295|k>>>9),k=D+(x^U^j)+P[13]+681279174&4294967295,D=x+(k<<4&4294967295|k>>>28),k=j+(D^x^U)+P[0]+3936430074&4294967295,j=D+(k<<11&4294967295|k>>>21),k=U+(j^D^x)+P[3]+3572445317&4294967295,U=j+(k<<16&4294967295|k>>>16),k=x+(U^j^D)+P[6]+76029189&4294967295,x=U+(k<<23&4294967295|k>>>9),k=D+(x^U^j)+P[9]+3654602809&4294967295,D=x+(k<<4&4294967295|k>>>28),k=j+(D^x^U)+P[12]+3873151461&4294967295,j=D+(k<<11&4294967295|k>>>21),k=U+(j^D^x)+P[15]+530742520&4294967295,U=j+(k<<16&4294967295|k>>>16),k=x+(U^j^D)+P[2]+3299628645&4294967295,x=U+(k<<23&4294967295|k>>>9),k=D+(U^(x|~j))+P[0]+4096336452&4294967295,D=x+(k<<6&4294967295|k>>>26),k=j+(x^(D|~U))+P[7]+1126891415&4294967295,j=D+(k<<10&4294967295|k>>>22),k=U+(D^(j|~x))+P[14]+2878612391&4294967295,U=j+(k<<15&4294967295|k>>>17),k=x+(j^(U|~D))+P[5]+4237533241&4294967295,x=U+(k<<21&4294967295|k>>>11),k=D+(U^(x|~j))+P[12]+1700485571&4294967295,D=x+(k<<6&4294967295|k>>>26),k=j+(x^(D|~U))+P[3]+2399980690&4294967295,j=D+(k<<10&4294967295|k>>>22),k=U+(D^(j|~x))+P[10]+4293915773&4294967295,U=j+(k<<15&4294967295|k>>>17),k=x+(j^(U|~D))+P[1]+2240044497&4294967295,x=U+(k<<21&4294967295|k>>>11),k=D+(U^(x|~j))+P[8]+1873313359&4294967295,D=x+(k<<6&4294967295|k>>>26),k=j+(x^(D|~U))+P[15]+4264355552&4294967295,j=D+(k<<10&4294967295|k>>>22),k=U+(D^(j|~x))+P[6]+2734768916&4294967295,U=j+(k<<15&4294967295|k>>>17),k=x+(j^(U|~D))+P[13]+1309151649&4294967295,x=U+(k<<21&4294967295|k>>>11),k=D+(U^(x|~j))+P[4]+4149444226&4294967295,D=x+(k<<6&4294967295|k>>>26),k=j+(x^(D|~U))+P[11]+3174756917&4294967295,j=D+(k<<10&4294967295|k>>>22),k=U+(D^(j|~x))+P[2]+718787259&4294967295,U=j+(k<<15&4294967295|k>>>17),k=x+(j^(U|~D))+P[9]+3951481745&4294967295,M.g[0]=M.g[0]+D&4294967295,M.g[1]=M.g[1]+(U+(k<<21&4294967295|k>>>11))&4294967295,M.g[2]=M.g[2]+U&4294967295,M.g[3]=M.g[3]+j&4294967295}n.prototype.u=function(M,D){D===void 0&&(D=M.length);for(var x=D-this.blockSize,P=this.B,U=this.h,j=0;j<D;){if(U==0)for(;j<=x;)i(this,M,j),j+=this.blockSize;if(typeof M=="string"){for(;j<D;)if(P[U++]=M.charCodeAt(j++),U==this.blockSize){i(this,P),U=0;break}}else for(;j<D;)if(P[U++]=M[j++],U==this.blockSize){i(this,P),U=0;break}}this.h=U,this.o+=D},n.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var D=1;D<M.length-8;++D)M[D]=0;var x=8*this.o;for(D=M.length-8;D<M.length;++D)M[D]=x&255,x/=256;for(this.u(M),M=Array(16),D=x=0;4>D;++D)for(var P=0;32>P;P+=8)M[x++]=this.g[D]>>>P&255;return M};function o(M,D){var x=f;return Object.prototype.hasOwnProperty.call(x,M)?x[M]:x[M]=D(M)}function c(M,D){this.h=D;for(var x=[],P=!0,U=M.length-1;0<=U;U--){var j=M[U]|0;P&&j==D||(x[U]=j,P=!1)}this.g=x}var f={};function h(M){return-128<=M&&128>M?o(M,function(D){return new c([D|0],0>D?-1:0)}):new c([M|0],0>M?-1:0)}function m(M){if(isNaN(M)||!isFinite(M))return _;if(0>M)return A(m(-M));for(var D=[],x=1,P=0;M>=x;P++)D[P]=M/x|0,x*=4294967296;return new c(D,0)}function y(M,D){if(M.length==0)throw Error("number format error: empty string");if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(M.charAt(0)=="-")return A(y(M.substring(1),D));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=m(Math.pow(D,8)),P=_,U=0;U<M.length;U+=8){var j=Math.min(8,M.length-U),k=parseInt(M.substring(U,U+j),D);8>j?(j=m(Math.pow(D,j)),P=P.j(j).add(m(k))):(P=P.j(x),P=P.add(m(k)))}return P}var _=h(0),w=h(1),T=h(16777216);r=c.prototype,r.m=function(){if(L(this))return-A(this).m();for(var M=0,D=1,x=0;x<this.g.length;x++){var P=this.i(x);M+=(0<=P?P:4294967296+P)*D,D*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(I(this))return"0";if(L(this))return"-"+A(this).toString(M);for(var D=m(Math.pow(M,6)),x=this,P="";;){var U=ee(x,D).g;x=B(x,U.j(D));var j=((0<x.g.length?x.g[0]:x.h)>>>0).toString(M);if(x=U,I(x))return j+P;for(;6>j.length;)j="0"+j;P=j+P}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function I(M){if(M.h!=0)return!1;for(var D=0;D<M.g.length;D++)if(M.g[D]!=0)return!1;return!0}function L(M){return M.h==-1}r.l=function(M){return M=B(this,M),L(M)?-1:I(M)?0:1};function A(M){for(var D=M.g.length,x=[],P=0;P<D;P++)x[P]=~M.g[P];return new c(x,~M.h).add(w)}r.abs=function(){return L(this)?A(this):this},r.add=function(M){for(var D=Math.max(this.g.length,M.g.length),x=[],P=0,U=0;U<=D;U++){var j=P+(this.i(U)&65535)+(M.i(U)&65535),k=(j>>>16)+(this.i(U)>>>16)+(M.i(U)>>>16);P=k>>>16,j&=65535,k&=65535,x[U]=k<<16|j}return new c(x,x[x.length-1]&-2147483648?-1:0)};function B(M,D){return M.add(A(D))}r.j=function(M){if(I(this)||I(M))return _;if(L(this))return L(M)?A(this).j(A(M)):A(A(this).j(M));if(L(M))return A(this.j(A(M)));if(0>this.l(T)&&0>M.l(T))return m(this.m()*M.m());for(var D=this.g.length+M.g.length,x=[],P=0;P<2*D;P++)x[P]=0;for(P=0;P<this.g.length;P++)for(var U=0;U<M.g.length;U++){var j=this.i(P)>>>16,k=this.i(P)&65535,Ee=M.i(U)>>>16,Se=M.i(U)&65535;x[2*P+2*U]+=k*Se,H(x,2*P+2*U),x[2*P+2*U+1]+=j*Se,H(x,2*P+2*U+1),x[2*P+2*U+1]+=k*Ee,H(x,2*P+2*U+1),x[2*P+2*U+2]+=j*Ee,H(x,2*P+2*U+2)}for(P=0;P<D;P++)x[P]=x[2*P+1]<<16|x[2*P];for(P=D;P<2*D;P++)x[P]=0;return new c(x,0)};function H(M,D){for(;(M[D]&65535)!=M[D];)M[D+1]+=M[D]>>>16,M[D]&=65535,D++}function z(M,D){this.g=M,this.h=D}function ee(M,D){if(I(D))throw Error("division by zero");if(I(M))return new z(_,_);if(L(M))return D=ee(A(M),D),new z(A(D.g),A(D.h));if(L(D))return D=ee(M,A(D)),new z(A(D.g),D.h);if(30<M.g.length){if(L(M)||L(D))throw Error("slowDivide_ only works with positive integers.");for(var x=w,P=D;0>=P.l(M);)x=J(x),P=J(P);var U=re(x,1),j=re(P,1);for(P=re(P,2),x=re(x,2);!I(P);){var k=j.add(P);0>=k.l(M)&&(U=U.add(x),j=k),P=re(P,1),x=re(x,1)}return D=B(M,U.j(D)),new z(U,D)}for(U=_;0<=M.l(D);){for(x=Math.max(1,Math.floor(M.m()/D.m())),P=Math.ceil(Math.log(x)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),j=m(x),k=j.j(D);L(k)||0<k.l(M);)x-=P,j=m(x),k=j.j(D);I(j)&&(j=w),U=U.add(j),M=B(M,k)}return new z(U,M)}r.A=function(M){return ee(this,M).h},r.and=function(M){for(var D=Math.max(this.g.length,M.g.length),x=[],P=0;P<D;P++)x[P]=this.i(P)&M.i(P);return new c(x,this.h&M.h)},r.or=function(M){for(var D=Math.max(this.g.length,M.g.length),x=[],P=0;P<D;P++)x[P]=this.i(P)|M.i(P);return new c(x,this.h|M.h)},r.xor=function(M){for(var D=Math.max(this.g.length,M.g.length),x=[],P=0;P<D;P++)x[P]=this.i(P)^M.i(P);return new c(x,this.h^M.h)};function J(M){for(var D=M.g.length+1,x=[],P=0;P<D;P++)x[P]=M.i(P)<<1|M.i(P-1)>>>31;return new c(x,M.h)}function re(M,D){var x=D>>5;D%=32;for(var P=M.g.length-x,U=[],j=0;j<P;j++)U[j]=0<D?M.i(j+x)>>>D|M.i(j+x+1)<<32-D:M.i(j+x);return new c(U,M.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,R1=n,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=y,is=c}).apply(typeof Sb<"u"?Sb:typeof self<"u"?self:typeof window<"u"?window:{});var Xd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var I1,Au,x1,gh,Ny,M1,N1,k1;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,v,E){return d==Array.prototype||d==Object.prototype||(d[v]=E.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xd=="object"&&Xd];for(var v=0;v<d.length;++v){var E=d[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var n=t(this);function i(d,v){if(v)e:{var E=n;d=d.split(".");for(var R=0;R<d.length-1;R++){var G=d[R];if(!(G in E))break e;E=E[G]}d=d[d.length-1],R=E[d],v=v(R),v!=R&&v!=null&&e(E,d,{configurable:!0,writable:!0,value:v})}}function o(d,v){d instanceof String&&(d+="");var E=0,R=!1,G={next:function(){if(!R&&E<d.length){var Z=E++;return{value:v(Z,d[Z]),done:!1}}return R=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}i("Array.prototype.values",function(d){return d||function(){return o(this,function(v,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function h(d){var v=typeof d;return v=v!="object"?v:d?Array.isArray(d)?"array":v:"null",v=="array"||v=="object"&&typeof d.length=="number"}function m(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function y(d,v,E){return d.call.apply(d.bind,arguments)}function _(d,v,E){if(!d)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,R),d.apply(v,G)}}return function(){return d.apply(v,arguments)}}function w(d,v,E){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,w.apply(null,arguments)}function T(d,v){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),d.apply(this,R)}}function I(d,v){function E(){}E.prototype=v.prototype,d.aa=v.prototype,d.prototype=new E,d.prototype.constructor=d,d.Qb=function(R,G,Z){for(var he=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)he[$e-2]=arguments[$e];return v.prototype[G].apply(R,he)}}function L(d){const v=d.length;if(0<v){const E=Array(v);for(let R=0;R<v;R++)E[R]=d[R];return E}return[]}function A(d,v){for(let E=1;E<arguments.length;E++){const R=arguments[E];if(h(R)){const G=d.length||0,Z=R.length||0;d.length=G+Z;for(let he=0;he<Z;he++)d[G+he]=R[he]}else d.push(R)}}class B{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function H(d){return/^[\s\xa0]*$/.test(d)}function z(){var d=f.navigator;return d&&(d=d.userAgent)?d:""}function ee(d){return ee[" "](d),d}ee[" "]=function(){};var J=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function re(d,v,E){for(const R in d)v.call(E,d[R],R,d)}function M(d,v){for(const E in d)v.call(void 0,d[E],E,d)}function D(d){const v={};for(const E in d)v[E]=d[E];return v}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(d,v){let E,R;for(let G=1;G<arguments.length;G++){R=arguments[G];for(E in R)d[E]=R[E];for(let Z=0;Z<x.length;Z++)E=x[Z],Object.prototype.hasOwnProperty.call(R,E)&&(d[E]=R[E])}}function U(d){var v=1;d=d.split(":");const E=[];for(;0<v&&d.length;)E.push(d.shift()),v--;return d.length&&E.push(d.join(":")),E}function j(d){f.setTimeout(()=>{throw d},0)}function k(){var d=oe;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class Ee{constructor(){this.h=this.g=null}add(v,E){const R=Se.get();R.set(v,E),this.h?this.h.next=R:this.g=R,this.h=R}}var Se=new B(()=>new Y,d=>d.reset());class Y{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,de=!1,oe=new Ee,O=()=>{const d=f.Promise.resolve(void 0);ae=()=>{d.then($)}};var $=()=>{for(var d;d=k();){try{d.h.call(d.g)}catch(E){j(E)}var v=Se;v.j(d),100>v.h&&(v.h++,d.next=v.g,v.g=d)}de=!1};function fe(){this.s=this.s,this.C=this.C}fe.prototype.s=!1,fe.prototype.ma=function(){this.s||(this.s=!0,this.N())},fe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var ge=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};f.addEventListener("test",E,v),f.removeEventListener("test",E,v)}catch{}return d})();function we(d,v){if(ue.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var E=this.type=d.type,R=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget){if(J){e:{try{ee(v.nodeName);var G=!0;break e}catch{}G=!1}G||(v=null)}}else E=="mouseover"?v=d.fromElement:E=="mouseout"&&(v=d.toElement);this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:ye[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&we.aa.h.call(this)}}I(we,ue);var ye={2:"touch",3:"pen",4:"mouse"};we.prototype.h=function(){we.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var et="closure_listenable_"+(1e6*Math.random()|0),Oe=0;function un(d,v,E,R,G){this.listener=d,this.proxy=null,this.src=v,this.type=E,this.capture=!!R,this.ha=G,this.key=++Oe,this.da=this.fa=!1}function Mn(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Gn(d){this.src=d,this.g={},this.h=0}Gn.prototype.add=function(d,v,E,R,G){var Z=d.toString();d=this.g[Z],d||(d=this.g[Z]=[],this.h++);var he=Ct(d,v,R,G);return-1<he?(v=d[he],E||(v.fa=!1)):(v=new un(v,this.src,Z,!!R,G),v.fa=E,d.push(v)),v};function vt(d,v){var E=v.type;if(E in d.g){var R=d.g[E],G=Array.prototype.indexOf.call(R,v,void 0),Z;(Z=0<=G)&&Array.prototype.splice.call(R,G,1),Z&&(Mn(v),d.g[E].length==0&&(delete d.g[E],d.h--))}}function Ct(d,v,E,R){for(var G=0;G<d.length;++G){var Z=d[G];if(!Z.da&&Z.listener==v&&Z.capture==!!E&&Z.ha==R)return G}return-1}var jn="closure_lm_"+(1e6*Math.random()|0),ir={};function Sr(d,v,E,R,G){if(Array.isArray(v)){for(var Z=0;Z<v.length;Z++)Sr(d,v[Z],E,R,G);return null}return E=Cf(E),d&&d[et]?d.K(v,E,m(R)?!!R.capture:!1,G):fn(d,v,E,!1,R,G)}function fn(d,v,E,R,G,Z){if(!v)throw Error("Invalid event type");var he=m(G)?!!G.capture:!!G,$e=ko(d);if($e||(d[jn]=$e=new Gn(d)),E=$e.add(v,E,R,he,Z),E.proxy)return E;if(R=Hp(),E.proxy=R,R.src=d,R.listener=E,d.addEventListener)ge||(G=he),G===void 0&&(G=!1),d.addEventListener(v.toString(),R,G);else if(d.attachEvent)d.attachEvent(Ds(v.toString()),R);else if(d.addListener&&d.removeListener)d.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Hp(){function d(E){return v.call(d.src,d.listener,E)}const v=Fp;return d}function dc(d,v,E,R,G){if(Array.isArray(v))for(var Z=0;Z<v.length;Z++)dc(d,v[Z],E,R,G);else R=m(R)?!!R.capture:!!R,E=Cf(E),d&&d[et]?(d=d.i,v=String(v).toString(),v in d.g&&(Z=d.g[v],E=Ct(Z,E,R,G),-1<E&&(Mn(Z[E]),Array.prototype.splice.call(Z,E,1),Z.length==0&&(delete d.g[v],d.h--)))):d&&(d=ko(d))&&(v=d.g[v.toString()],d=-1,v&&(d=Ct(v,E,R,G)),(E=-1<d?v[d]:null)&&No(E))}function No(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[et])vt(v.i,d);else{var E=d.type,R=d.proxy;v.removeEventListener?v.removeEventListener(E,R,d.capture):v.detachEvent?v.detachEvent(Ds(E),R):v.addListener&&v.removeListener&&v.removeListener(R),(E=ko(v))?(vt(E,d),E.h==0&&(E.src=null,v[jn]=null)):Mn(d)}}}function Ds(d){return d in ir?ir[d]:ir[d]="on"+d}function Fp(d,v){if(d.da)d=!0;else{v=new we(v,this);var E=d.listener,R=d.ha||d.src;d.fa&&No(d),d=E.call(R,v)}return d}function ko(d){return d=d[jn],d instanceof Gn?d:null}var hc="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cf(d){return typeof d=="function"?d:(d[hc]||(d[hc]=function(v){return d.handleEvent(v)}),d[hc])}function xt(){fe.call(this),this.i=new Gn(this),this.M=this,this.F=null}I(xt,fe),xt.prototype[et]=!0,xt.prototype.removeEventListener=function(d,v,E,R){dc(this,d,v,E,R)};function lt(d,v){var E,R=d.F;if(R)for(E=[];R;R=R.F)E.push(R);if(d=d.M,R=v.type||v,typeof v=="string")v=new ue(v,d);else if(v instanceof ue)v.target=v.target||d;else{var G=v;v=new ue(R,d),P(v,G)}if(G=!0,E)for(var Z=E.length-1;0<=Z;Z--){var he=v.g=E[Z];G=Qn(he,R,!0,v)&&G}if(he=v.g=d,G=Qn(he,R,!0,v)&&G,G=Qn(he,R,!1,v)&&G,E)for(Z=0;Z<E.length;Z++)he=v.g=E[Z],G=Qn(he,R,!1,v)&&G}xt.prototype.N=function(){if(xt.aa.N.call(this),this.i){var d=this.i,v;for(v in d.g){for(var E=d.g[v],R=0;R<E.length;R++)Mn(E[R]);delete d.g[v],d.h--}}this.F=null},xt.prototype.K=function(d,v,E,R){return this.i.add(String(d),v,!1,E,R)},xt.prototype.L=function(d,v,E,R){return this.i.add(String(d),v,!0,E,R)};function Qn(d,v,E,R){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();for(var G=!0,Z=0;Z<v.length;++Z){var he=v[Z];if(he&&!he.da&&he.capture==E){var $e=he.listener,Zt=he.ha||he.src;he.fa&&vt(d.i,he),G=$e.call(Zt,R)!==!1&&G}}return G&&!R.defaultPrevented}function Tn(d,v,E){if(typeof d=="function")E&&(d=w(d,E));else if(d&&typeof d.handleEvent=="function")d=w(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:f.setTimeout(d,v||0)}function Af(d){d.g=Tn(()=>{d.g=null,d.i&&(d.i=!1,Af(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class qp extends fe{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Af(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cs(d){fe.call(this),this.h=d,this.g={}}I(Cs,fe);var As=[];function Rs(d){re(d.g,function(v,E){this.g.hasOwnProperty(E)&&No(v)},d),d.g={}}Cs.prototype.N=function(){Cs.aa.N.call(this),Rs(this)},Cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dr=f.JSON.stringify,Oo=f.JSON.parse,Is=class{stringify(d){return f.JSON.stringify(d,void 0)}parse(d){return f.JSON.parse(d,void 0)}};function pc(){}pc.prototype.h=null;function mc(d){return d.h||(d.h=d.i())}function gc(){}var Da={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ca(){ue.call(this,"d")}I(Ca,ue);function yc(){ue.call(this,"c")}I(yc,ue);var jr={},vc=null;function Ei(){return vc=vc||new xt}jr.La="serverreachability";function Po(d){ue.call(this,jr.La,d)}I(Po,ue);function bi(d){const v=Ei();lt(v,new Po(v))}jr.STAT_EVENT="statevent";function Rf(d,v){ue.call(this,jr.STAT_EVENT,d),this.stat=v}I(Rf,ue);function Tt(d){const v=Ei();lt(v,new Rf(v,d))}jr.Ma="timingevent";function Xt(d,v){ue.call(this,jr.Ma,d),this.size=v}I(Xt,ue);function Yt(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){d()},v)}function sr(){this.g=!0}sr.prototype.xa=function(){this.g=!1};function _c(d,v,E,R,G,Z){d.info(function(){if(d.g)if(Z)for(var he="",$e=Z.split("&"),Zt=0;Zt<$e.length;Zt++){var Xe=$e[Zt].split("=");if(1<Xe.length){var an=Xe[0];Xe=Xe[1];var Jt=an.split("_");he=2<=Jt.length&&Jt[1]=="type"?he+(an+"="+Xe+"&"):he+(an+"=redacted&")}}else he=null;else he=Z;return"XMLHTTP REQ ("+R+") [attempt "+G+"]: "+v+`
`+E+`
`+he})}function Yp(d,v,E,R,G,Z,he){d.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+G+"]: "+v+`
`+E+`
`+Z+" "+he})}function Ti(d,v,E,R){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+xs(d,E)+(R?" "+R:"")})}function If(d,v){d.info(function(){return"TIMEOUT: "+v})}sr.prototype.info=function(){};function xs(d,v){if(!d.g)return v;if(!v)return null;try{var E=JSON.parse(v);if(E){for(d=0;d<E.length;d++)if(Array.isArray(E[d])){var R=E[d];if(!(2>R.length)){var G=R[1];if(Array.isArray(G)&&!(1>G.length)){var Z=G[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var he=1;he<G.length;he++)G[he]=""}}}}return Dr(E)}catch{return v}}var Si={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Aa={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hr;function Fr(){}I(Fr,pc),Fr.prototype.g=function(){return new XMLHttpRequest},Fr.prototype.i=function(){return{}},Hr=new Fr;function Nn(d,v,E,R){this.j=d,this.i=v,this.l=E,this.R=R||1,this.U=new Cs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Lt}function Lt(){this.i=null,this.g="",this.h=!1}var wc={},Lo={};function Cr(d,v,E){d.L=1,d.v=Ps(Wn(v)),d.m=E,d.P=!0,Ra(d,null)}function Ra(d,v){d.F=Date.now(),Ms(d),d.A=Wn(d.v);var E=d.A,R=d.R;Array.isArray(R)||(R=[String(R)]),Cc(E.i,"t",R),d.C=0,E=d.j.J,d.h=new Lt,d.g=zf(d.j,E?v:null,!d.m),0<d.O&&(d.M=new qp(w(d.Y,d,d.g),d.O)),v=d.U,E=d.g,R=d.ca;var G="readystatechange";Array.isArray(G)||(G&&(As[0]=G.toString()),G=As);for(var Z=0;Z<G.length;Z++){var he=Sr(E,G[Z],R||v.handleEvent,!1,v.h||v);if(!he)break;v.g[he.key]=he}v=d.H?D(d.H):{},d.m?(d.u||(d.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,v)):(d.u="GET",d.g.ea(d.A,d.u,null,v)),bi(),_c(d.i,d.u,d.A,d.l,d.R,d.m)}Nn.prototype.ca=function(d){d=d.target;const v=this.M;v&&ur(d)==3?v.j():this.Y(d)},Nn.prototype.Y=function(d){try{if(d==this.g)e:{const Jt=ur(this.g);var v=this.g.Ba();const La=this.g.Z();if(!(3>Jt)&&(Jt!=3||this.g&&(this.h.h||this.g.oa()||Vf(this.g)))){this.J||Jt!=4||v==7||(v==8||0>=La?bi(3):bi(2)),Di(this);var E=this.g.Z();this.X=E;t:if(xf(this)){var R=Vf(this.g);d="";var G=R.length,Z=ur(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){dn(this),qr(this);var he="";break t}this.h.i=new f.TextDecoder}for(v=0;v<G;v++)this.h.h=!0,d+=this.h.i.decode(R[v],{stream:!(Z&&v==G-1)});R.length=0,this.h.g+=d,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=E==200,Yp(this.i,this.u,this.A,this.l,this.R,Jt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var $e,Zt=this.g;if(($e=Zt.g?Zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H($e)){var Xe=$e;break t}}Xe=null}if(E=Xe)Ti(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ns(this,E);else{this.o=!1,this.s=3,Tt(12),dn(this),qr(this);break e}}if(this.P){E=!0;let hn;for(;!this.J&&this.C<he.length;)if(hn=Mf(this,he),hn==Lo){Jt==4&&(this.s=4,Tt(14),E=!1),Ti(this.i,this.l,null,"[Incomplete Response]");break}else if(hn==wc){this.s=4,Tt(15),Ti(this.i,this.l,he,"[Invalid Chunk]"),E=!1;break}else Ti(this.i,this.l,hn,null),Ns(this,hn);if(xf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Jt!=4||he.length!=0||this.h.h||(this.s=1,Tt(16),E=!1),this.o=this.o&&E,!E)Ti(this.i,this.l,he,"[Invalid Chunked Response]"),dn(this),qr(this);else if(0<he.length&&!this.W){this.W=!0;var an=this.j;an.g==this&&an.ba&&!an.M&&(an.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),qs(an),an.M=!0,Tt(11))}}else Ti(this.i,this.l,he,null),Ns(this,he);Jt==4&&dn(this),this.o&&!this.J&&(Jt==4?Ff(this.j,this):(this.o=!1,Ms(this)))}else Kp(this.g),E==400&&0<he.indexOf("Unknown SID")?(this.s=3,Tt(12)):(this.s=0,Tt(13)),dn(this),qr(this)}}}catch{}finally{}};function xf(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Mf(d,v){var E=d.C,R=v.indexOf(`
`,E);return R==-1?Lo:(E=Number(v.substring(E,R)),isNaN(E)?wc:(R+=1,R+E>v.length?Lo:(v=v.slice(R,R+E),d.C=R+E,v)))}Nn.prototype.cancel=function(){this.J=!0,dn(this)};function Ms(d){d.S=Date.now()+d.I,Nf(d,d.I)}function Nf(d,v){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Yt(w(d.ba,d),v)}function Di(d){d.B&&(f.clearTimeout(d.B),d.B=null)}Nn.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(If(this.i,this.A),this.L!=2&&(bi(),Tt(17)),dn(this),this.s=2,qr(this)):Nf(this,this.S-d)};function qr(d){d.j.G==0||d.J||Ff(d.j,d)}function dn(d){Di(d);var v=d.M;v&&typeof v.ma=="function"&&v.ma(),d.M=null,Rs(d.U),d.g&&(v=d.g,d.g=null,v.abort(),v.ma())}function Ns(d,v){try{var E=d.j;if(E.G!=0&&(E.g==d||Ec(E.h,d))){if(!d.K&&Ec(E.h,d)&&E.G==3){try{var R=E.Da.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var G=R;if(G[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<d.F)Wo(E),Go(E);else break e;Mc(E),Tt(18)}}else E.za=G[1],0<E.za-E.T&&37500>G[2]&&E.F&&E.v==0&&!E.C&&(E.C=Yt(w(E.Za,E),6e3));if(1>=Uo(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Pa(E,11)}else if((d.K||E.g==d)&&Wo(E),!H(v))for(G=E.Da.g.parse(v),v=0;v<G.length;v++){let Xe=G[v];if(E.T=Xe[0],Xe=Xe[1],E.G==2)if(Xe[0]=="c"){E.K=Xe[1],E.ia=Xe[2];const an=Xe[3];an!=null&&(E.la=an,E.j.info("VER="+E.la));const Jt=Xe[4];Jt!=null&&(E.Aa=Jt,E.j.info("SVER="+E.Aa));const La=Xe[5];La!=null&&typeof La=="number"&&0<La&&(R=1.5*La,E.L=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const hn=d.g;if(hn){const $r=hn.g?hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($r){var Z=R.h;Z.g||$r.indexOf("spdy")==-1&&$r.indexOf("quic")==-1&&$r.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(Bo(Z,Z.h),Z.h=null))}if(R.D){const kc=hn.g?hn.g.getResponseHeader("X-HTTP-Session-Id"):null;kc&&(R.ya=kc,ht(R.I,R.D,kc))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-d.F,E.j.info("Handshake RTT: "+E.R+"ms")),R=E;var he=d;if(R.qa=Yf(R,R.J?R.ia:null,R.W),he.K){kn(R.h,he);var $e=he,Zt=R.L;Zt&&($e.I=Zt),$e.B&&(Di($e),Ms($e)),R.g=he}else jf(R);0<E.i.length&&Qo(E)}else Xe[0]!="stop"&&Xe[0]!="close"||Pa(E,7);else E.G==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?Pa(E,7):Ic(E):Xe[0]!="noop"&&E.l&&E.l.ta(Xe),E.v=0)}}bi(4)}catch{}}var kf=class{constructor(d,v){this.g=d,this.map=v}};function Ia(d){this.l=d||10,f.PerformanceNavigationTiming?(d=f.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Vo(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Uo(d){return d.h?1:d.g?d.g.size:0}function Ec(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function Bo(d,v){d.g?d.g.add(v):d.h=v}function kn(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}Ia.prototype.cancel=function(){if(this.i=bc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function bc(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const E of d.g.values())v=v.concat(E.D);return v}return L(d.i)}function zp(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(h(d)){for(var v=[],E=d.length,R=0;R<E;R++)v.push(d[R]);return v}v=[],E=0;for(R in d)v[E++]=d[R];return v}function jo(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(h(d)||typeof d=="string"){var v=[];d=d.length;for(var E=0;E<d;E++)v.push(E);return v}v=[],E=0;for(const R in d)v[E++]=R;return v}}}function Tc(d,v){if(d.forEach&&typeof d.forEach=="function")d.forEach(v,void 0);else if(h(d)||typeof d=="string")Array.prototype.forEach.call(d,v,void 0);else for(var E=jo(d),R=zp(d),G=R.length,Z=0;Z<G;Z++)v.call(void 0,R[Z],E&&E[Z],d)}var ks=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gp(d,v){if(d){d=d.split("&");for(var E=0;E<d.length;E++){var R=d[E].indexOf("="),G=null;if(0<=R){var Z=d[E].substring(0,R);G=d[E].substring(R+1)}else Z=d[E];v(Z,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function zt(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof zt){this.h=d.h,Os(this,d.j),this.o=d.o,this.g=d.g,Ci(this,d.s),this.l=d.l;var v=d.i,E=new Ma;E.i=v.i,v.g&&(E.g=new Map(v.g),E.h=v.h),xa(this,E),this.m=d.m}else d&&(v=String(d).match(ks))?(this.h=!1,Os(this,v[1]||"",!0),this.o=or(v[2]||""),this.g=or(v[3]||"",!0),Ci(this,v[4]),this.l=or(v[5]||"",!0),xa(this,v[6]||"",!0),this.m=or(v[7]||"")):(this.h=!1,this.i=new Ma(null,this.h))}zt.prototype.toString=function(){var d=[],v=this.j;v&&d.push(Ls(v,Sc,!0),":");var E=this.g;return(E||v=="file")&&(d.push("//"),(v=this.o)&&d.push(Ls(v,Sc,!0),"@"),d.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&d.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(Ls(E,E.charAt(0)=="/"?Qp:Dc,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",Ls(E,Ho)),d.join("")};function Wn(d){return new zt(d)}function Os(d,v,E){d.j=E?or(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function Ci(d,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);d.s=v}else d.s=null}function xa(d,v,E){v instanceof Ma?(d.i=v,Pf(d.i,d.h)):(E||(v=Ls(v,Wp)),d.i=new Ma(v,d.h))}function ht(d,v,E){d.i.set(v,E)}function Ps(d){return ht(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function or(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Ls(d,v,E){return typeof d=="string"?(d=encodeURI(d).replace(v,Of),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Of(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Sc=/[#\/\?@]/g,Dc=/[#\?:]/g,Qp=/[#\?]/g,Wp=/[#\?@]/g,Ho=/#/g;function Ma(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function lr(d){d.g||(d.g=new Map,d.h=0,d.i&&Gp(d.i,function(v,E){d.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}r=Ma.prototype,r.add=function(d,v){lr(this),this.i=null,d=Yr(this,d);var E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(v),this.h+=1,this};function Na(d,v){lr(d),v=Yr(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function ka(d,v){return lr(d),v=Yr(d,v),d.g.has(v)}r.forEach=function(d,v){lr(this),this.g.forEach(function(E,R){E.forEach(function(G){d.call(v,G,R,this)},this)},this)},r.na=function(){lr(this);const d=Array.from(this.g.values()),v=Array.from(this.g.keys()),E=[];for(let R=0;R<v.length;R++){const G=d[R];for(let Z=0;Z<G.length;Z++)E.push(v[R])}return E},r.V=function(d){lr(this);let v=[];if(typeof d=="string")ka(this,d)&&(v=v.concat(this.g.get(Yr(this,d))));else{d=Array.from(this.g.values());for(let E=0;E<d.length;E++)v=v.concat(d[E])}return v},r.set=function(d,v){return lr(this),this.i=null,d=Yr(this,d),ka(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},r.get=function(d,v){return d?(d=this.V(d),0<d.length?String(d[0]):v):v};function Cc(d,v,E){Na(d,v),0<E.length&&(d.i=null,d.g.set(Yr(d,v),L(E)),d.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(var E=0;E<v.length;E++){var R=v[E];const Z=encodeURIComponent(String(R)),he=this.V(R);for(R=0;R<he.length;R++){var G=Z;he[R]!==""&&(G+="="+encodeURIComponent(String(he[R]))),d.push(G)}}return this.i=d.join("&")};function Yr(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function Pf(d,v){v&&!d.j&&(lr(d),d.i=null,d.g.forEach(function(E,R){var G=R.toLowerCase();R!=G&&(Na(this,R),Cc(this,G,E))},d)),d.j=v}function Vs(d,v){const E=new sr;if(f.Image){const R=new Image;R.onload=T(cr,E,"TestLoadImage: loaded",!0,v,R),R.onerror=T(cr,E,"TestLoadImage: error",!1,v,R),R.onabort=T(cr,E,"TestLoadImage: abort",!1,v,R),R.ontimeout=T(cr,E,"TestLoadImage: timeout",!1,v,R),f.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=d}else v(!1)}function Ar(d,v){const E=new sr,R=new AbortController,G=setTimeout(()=>{R.abort(),cr(E,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:R.signal}).then(Z=>{clearTimeout(G),Z.ok?cr(E,"TestPingServer: ok",!0,v):cr(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(G),cr(E,"TestPingServer: error",!1,v)})}function cr(d,v,E,R,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),R(E)}catch{}}function Us(){this.g=new Is}function zr(d,v,E){const R=E||"";try{Tc(d,function(G,Z){let he=G;m(G)&&(he=Dr(G)),v.push(R+Z+"="+encodeURIComponent(he))})}catch(G){throw v.push(R+"type="+encodeURIComponent("_badmap")),G}}function Ai(d){this.l=d.Ub||null,this.j=d.eb||!1}I(Ai,pc),Ai.prototype.g=function(){return new Oa(this.l,this.j)},Ai.prototype.i=(function(d){return function(){return d}})({});function Oa(d,v){xt.call(this),this.D=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(Oa,xt),r=Oa.prototype,r.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=v,this.readyState=1,Qr(this)},r.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(v.body=d),(this.D||f).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gr(this)),this.readyState=0},r.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Qr(this)),this.g&&(this.readyState=3,Qr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ac(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ac(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}r.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?Gr(this):Qr(this),this.readyState==3&&Ac(this)}},r.Ra=function(d){this.g&&(this.response=this.responseText=d,Gr(this))},r.Qa=function(d){this.g&&(this.response=d,Gr(this))},r.ga=function(){this.g&&Gr(this)};function Gr(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Qr(d)}r.setRequestHeader=function(d,v){this.u.append(d,v)},r.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=v.next();return d.join(`\r
`)};function Qr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Oa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Rc(d){let v="";return re(d,function(E,R){v+=R,v+=":",v+=E,v+=`\r
`}),v}function rn(d,v,E){e:{for(R in E){var R=!1;break e}R=!0}R||(E=Rc(E),typeof d=="string"?E!=null&&encodeURIComponent(String(E)):ht(d,v,E))}function it(d){xt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(it,xt);var Fo=/^https?$/i,Bs=["POST","PUT"];r=it.prototype,r.Ha=function(d){this.J=d},r.ea=function(d,v,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hr.g(),this.v=this.o?mc(this.o):mc(Hr),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(Z){Lf(this,Z);return}if(d=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var G in R)E.set(G,R[G]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const Z of R.keys())E.set(Z,R.get(Z));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find(Z=>Z.toLowerCase()=="content-type"),G=f.FormData&&d instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Bs,v,void 0))||R||G||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,he]of E)this.g.setRequestHeader(Z,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{js(this),this.u=!0,this.g.send(d),this.u=!1}catch(Z){Lf(this,Z)}};function Lf(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.m=5,qo(d),Wr(d)}function qo(d){d.A||(d.A=!0,lt(d,"complete"),lt(d,"error"))}r.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,lt(this,"complete"),lt(this,"abort"),Wr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wr(this,!0)),it.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Yo(this):this.bb())},r.bb=function(){Yo(this)};function Yo(d){if(d.h&&typeof c<"u"&&(!d.v[1]||ur(d)!=4||d.Z()!=2)){if(d.u&&ur(d)==4)Tn(d.Ea,0,d);else if(lt(d,"readystatechange"),ur(d)==4){d.h=!1;try{const he=d.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var R;if(R=he===0){var G=String(d.D).match(ks)[1]||null;!G&&f.self&&f.self.location&&(G=f.self.location.protocol.slice(0,-1)),R=!Fo.test(G?G.toLowerCase():"")}E=R}if(E)lt(d,"complete"),lt(d,"success");else{d.m=6;try{var Z=2<ur(d)?d.g.statusText:""}catch{Z=""}d.l=Z+" ["+d.Z()+"]",qo(d)}}finally{Wr(d)}}}}function Wr(d,v){if(d.g){js(d);const E=d.g,R=d.v[0]?()=>{}:null;d.g=null,d.v=null,v||lt(d,"ready");try{E.onreadystatechange=R}catch{}}}function js(d){d.I&&(f.clearTimeout(d.I),d.I=null)}r.isActive=function(){return!!this.g};function ur(d){return d.g?d.g.readyState:0}r.Z=function(){try{return 2<ur(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),Oo(v)}};function Vf(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Kp(d){const v={};d=(d.g&&2<=ur(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<d.length;R++){if(H(d[R]))continue;var E=U(d[R]);const G=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Z=v[G]||[];v[G]=Z,Z.push(E)}M(v,function(R){return R.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hs(d,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||v}function zo(d){this.Aa=0,this.i=[],this.j=new sr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Hs("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Hs("baseRetryDelayMs",5e3,d),this.cb=Hs("retryDelaySeedMs",1e4,d),this.Wa=Hs("forwardChannelMaxRetries",2,d),this.wa=Hs("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Ia(d&&d.concurrentRequestLimit),this.Da=new Us,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=zo.prototype,r.la=8,r.G=1,r.connect=function(d,v,E,R){Tt(0),this.W=d,this.H=v||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.I=Yf(this,null,this.W),Qo(this)};function Ic(d){if(Uf(d),d.G==3){var v=d.U++,E=Wn(d.I);if(ht(E,"SID",d.K),ht(E,"RID",v),ht(E,"TYPE","terminate"),Fs(d,E),v=new Nn(d,d.j,v),v.L=2,v.v=Ps(Wn(E)),E=!1,f.navigator&&f.navigator.sendBeacon)try{E=f.navigator.sendBeacon(v.v.toString(),"")}catch{}!E&&f.Image&&(new Image().src=v.v,E=!0),E||(v.g=zf(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Ms(v)}qf(d)}function Go(d){d.g&&(qs(d),d.g.cancel(),d.g=null)}function Uf(d){Go(d),d.u&&(f.clearTimeout(d.u),d.u=null),Wo(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&f.clearTimeout(d.s),d.s=null)}function Qo(d){if(!Vo(d.h)&&!d.s){d.s=!0;var v=d.Ga;ae||O(),de||(ae(),de=!0),oe.add(v,d),d.B=0}}function $p(d,v){return Uo(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=v.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Yt(w(d.Ga,d,v),Nc(d,d.B)),d.B++,!0)}r.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const G=new Nn(this,this.j,d);let Z=this.o;if(this.S&&(Z?(Z=D(Z),P(Z,this.S)):Z=this.S),this.m!==null||this.O||(G.H=Z,Z=null),this.P)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(v+=R,4096<v){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=Bf(this,G,v),E=Wn(this.I),ht(E,"RID",d),ht(E,"CVER",22),this.D&&ht(E,"X-HTTP-Session-Id",this.D),Fs(this,E),Z&&(this.O?v="headers="+encodeURIComponent(String(Rc(Z)))+"&"+v:this.m&&rn(E,this.m,Z)),Bo(this.h,G),this.Ua&&ht(E,"TYPE","init"),this.P?(ht(E,"$req",v),ht(E,"SID","null"),G.T=!0,Cr(G,E,null)):Cr(G,E,v),this.G=2}}else this.G==3&&(d?xc(this,d):this.i.length==0||Vo(this.h)||xc(this))};function xc(d,v){var E;v?E=v.l:E=d.U++;const R=Wn(d.I);ht(R,"SID",d.K),ht(R,"RID",E),ht(R,"AID",d.T),Fs(d,R),d.m&&d.o&&rn(R,d.m,d.o),E=new Nn(d,d.j,E,d.B+1),d.m===null&&(E.H=d.o),v&&(d.i=v.D.concat(d.i)),v=Bf(d,E,1e3),E.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Bo(d.h,E),Cr(E,R,v)}function Fs(d,v){d.H&&re(d.H,function(E,R){ht(v,R,E)}),d.l&&Tc({},function(E,R){ht(v,R,E)})}function Bf(d,v,E){E=Math.min(d.i.length,E);var R=d.l?w(d.l.Na,d.l,d):null;e:{var G=d.i;let Z=-1;for(;;){const he=["count="+E];Z==-1?0<E?(Z=G[0].g,he.push("ofs="+Z)):Z=0:he.push("ofs="+Z);let $e=!0;for(let Zt=0;Zt<E;Zt++){let Xe=G[Zt].g;const an=G[Zt].map;if(Xe-=Z,0>Xe)Z=Math.max(0,G[Zt].g-100),$e=!1;else try{zr(an,he,"req"+Xe+"_")}catch{R&&R(an)}}if($e){R=he.join("&");break e}}}return d=d.i.splice(0,E),v.D=d,R}function jf(d){if(!d.g&&!d.u){d.Y=1;var v=d.Fa;ae||O(),de||(ae(),de=!0),oe.add(v,d),d.v=0}}function Mc(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Yt(w(d.Fa,d),Nc(d,d.v)),d.v++,!0)}r.Fa=function(){if(this.u=null,Hf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Yt(w(this.ab,this),d)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tt(10),Go(this),Hf(this))};function qs(d){d.A!=null&&(f.clearTimeout(d.A),d.A=null)}function Hf(d){d.g=new Nn(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var v=Wn(d.qa);ht(v,"RID","rpc"),ht(v,"SID",d.K),ht(v,"AID",d.T),ht(v,"CI",d.F?"0":"1"),!d.F&&d.ja&&ht(v,"TO",d.ja),ht(v,"TYPE","xmlhttp"),Fs(d,v),d.m&&d.o&&rn(v,d.m,d.o),d.L&&(d.g.I=d.L);var E=d.g;d=d.ia,E.L=1,E.v=Ps(Wn(v)),E.m=null,E.P=!0,Ra(E,d)}r.Za=function(){this.C!=null&&(this.C=null,Go(this),Mc(this),Tt(19))};function Wo(d){d.C!=null&&(f.clearTimeout(d.C),d.C=null)}function Ff(d,v){var E=null;if(d.g==v){Wo(d),qs(d),d.g=null;var R=2}else if(Ec(d.h,v))E=v.D,kn(d.h,v),R=1;else return;if(d.G!=0){if(v.o)if(R==1){E=v.m?v.m.length:0,v=Date.now()-v.F;var G=d.B;R=Ei(),lt(R,new Xt(R,E)),Qo(d)}else jf(d);else if(G=v.s,G==3||G==0&&0<v.X||!(R==1&&$p(d,v)||R==2&&Mc(d)))switch(E&&0<E.length&&(v=d.h,v.i=v.i.concat(E)),G){case 1:Pa(d,5);break;case 4:Pa(d,10);break;case 3:Pa(d,6);break;default:Pa(d,2)}}}function Nc(d,v){let E=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(E*=2),E*v}function Pa(d,v){if(d.j.info("Error code "+v),v==2){var E=w(d.fb,d),R=d.Xa;const G=!R;R=new zt(R||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Os(R,"https"),Ps(R),G?Vs(R.toString(),E):Ar(R.toString(),E)}else Tt(2);d.G=0,d.l&&d.l.sa(v),qf(d),Uf(d)}r.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function qf(d){if(d.G=0,d.ka=[],d.l){const v=bc(d.h);(v.length!=0||d.i.length!=0)&&(A(d.ka,v),A(d.ka,d.i),d.h.i.length=0,L(d.i),d.i.length=0),d.l.ra()}}function Yf(d,v,E){var R=E instanceof zt?Wn(E):new zt(E);if(R.g!="")v&&(R.g=v+"."+R.g),Ci(R,R.s);else{var G=f.location;R=G.protocol,v=v?v+"."+G.hostname:G.hostname,G=+G.port;var Z=new zt(null);R&&Os(Z,R),v&&(Z.g=v),G&&Ci(Z,G),E&&(Z.l=E),R=Z}return E=d.D,v=d.ya,E&&v&&ht(R,E,v),ht(R,"VER",d.la),Fs(d,R),R}function zf(d,v,E){if(v&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Ca&&!d.pa?new it(new Ai({eb:E})):new it(d.pa),v.Ha(d.J),v}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Gf(){}r=Gf.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ko(){}Ko.prototype.g=function(d,v){return new On(d,v)};function On(d,v){xt.call(this),this.g=new zo(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(d?d["X-WebChannel-Client-Profile"]=v.va:d={"X-WebChannel-Client-Profile":v.va}),this.g.S=d,(d=v&&v.Sb)&&!H(d)&&(this.g.m=d),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!H(v)&&(this.g.D=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new Kr(this)}I(On,xt),On.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},On.prototype.close=function(){Ic(this.g)},On.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.u&&(E={},E.__data__=Dr(d),d=E);v.i.push(new kf(v.Ya++,d)),v.G==3&&Qo(v)},On.prototype.N=function(){this.g.l=null,delete this.j,Ic(this.g),delete this.g,On.aa.N.call(this)};function Qf(d){Ca.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const E in v){d=E;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}I(Qf,Ca);function Wf(){yc.call(this),this.status=1}I(Wf,yc);function Kr(d){this.g=d}I(Kr,Gf),Kr.prototype.ua=function(){lt(this.g,"a")},Kr.prototype.ta=function(d){lt(this.g,new Qf(d))},Kr.prototype.sa=function(d){lt(this.g,new Wf)},Kr.prototype.ra=function(){lt(this.g,"b")},Ko.prototype.createWebChannel=Ko.prototype.g,On.prototype.send=On.prototype.o,On.prototype.open=On.prototype.m,On.prototype.close=On.prototype.close,k1=function(){return new Ko},N1=function(){return Ei()},M1=jr,Ny={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Si.NO_ERROR=0,Si.TIMEOUT=8,Si.HTTP_ERROR=6,gh=Si,Aa.COMPLETE="complete",x1=Aa,gc.EventType=Da,Da.OPEN="a",Da.CLOSE="b",Da.ERROR="c",Da.MESSAGE="d",xt.prototype.listen=xt.prototype.K,Au=gc,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha,I1=it}).apply(typeof Xd<"u"?Xd:typeof self<"u"?self:typeof window<"u"?window:{});const Db="@firebase/firestore",Cb="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}An.UNAUTHENTICATED=new An(null),An.GOOGLE_CREDENTIALS=new An("google-credentials-uid"),An.FIRST_PARTY=new An("first-party-uid"),An.MOCK_USER=new An("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sc="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So=new hv("@firebase/firestore");function Dl(){return So.logLevel}function ve(r,...e){if(So.logLevel<=Qe.DEBUG){const t=e.map(Sv);So.debug(`Firestore (${sc}): ${r}`,...t)}}function pi(r,...e){if(So.logLevel<=Qe.ERROR){const t=e.map(Sv);So.error(`Firestore (${sc}): ${r}`,...t)}}function Bl(r,...e){if(So.logLevel<=Qe.WARN){const t=e.map(Sv);So.warn(`Firestore (${sc}): ${r}`,...t)}}function Sv(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(r,e,t){let n="Unexpected state";typeof e=="string"?n=e:t=e,O1(r,n,t)}function O1(r,e,t){let n=`FIRESTORE (${sc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{n+=" CONTEXT: "+JSON.stringify(t)}catch{n+=" CONTEXT: "+t}throw pi(n),new Error(n)}function ot(r,e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,r||O1(e,i,n)}function ke(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends vi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $k{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(An.UNAUTHENTICATED)))}shutdown(){}}class Xk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Zk{constructor(e){this.t=e,this.currentUser=An.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ot(this.o===void 0,42304);let n=this.i;const i=h=>this.i!==n?(n=this.i,t(h)):Promise.resolve();let o=new ai;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ai,e.enqueueRetryable((()=>i(this.currentUser)))};const c=()=>{const h=o;e.enqueueRetryable((async()=>{await h.promise,await i(this.currentUser)}))},f=h=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((h=>f(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?f(h):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ai)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((n=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(ot(typeof n.accessToken=="string",31837,{l:n}),new P1(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ot(e===null||typeof e=="string",2055,{h:e}),new An(e)}}class Jk{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=An.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class eO{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Jk(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(An.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ab{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tO{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Er(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ot(this.o===void 0,3512);const n=o=>{o.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,ve("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>n(o)))};const i=o=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Ab(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(ot(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Ab(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nO(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=nO(40);for(let o=0;o<i.length;++o)n.length<20&&i[o]<t&&(n+=e.charAt(i[o]%62))}return n}}function We(r,e){return r<e?-1:r>e?1:0}function ky(r,e){const t=Math.min(r.length,e.length);for(let n=0;n<t;n++){const i=r.charAt(n),o=e.charAt(n);if(i!==o)return ay(i)===ay(o)?We(i,o):ay(i)?1:-1}return We(r.length,e.length)}const rO=55296,aO=57343;function ay(r){const e=r.charCodeAt(0);return e>=rO&&e<=aO}function jl(r,e,t){return r.length===e.length&&r.every(((n,i)=>t(n,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="__name__";class aa{constructor(e,t,n){t===void 0?t=0:t>e.length&&xe(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&xe(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return aa.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof aa?e.forEach((n=>{t.push(n)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const o=aa.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return We(e.length,t.length)}static compareSegments(e,t){const n=aa.isNumericId(e),i=aa.isNumericId(t);return n&&!i?-1:!n&&i?1:n&&i?aa.extractNumericId(e).compare(aa.extractNumericId(t)):ky(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return is.fromString(e.substring(4,e.length-2))}}class wt extends aa{construct(e,t,n){return new wt(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new pe(ie.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((i=>i.length>0)))}return new wt(t)}static emptyPath(){return new wt([])}}const iO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _n extends aa{construct(e,t,n){return new _n(e,t,n)}static isValidIdentifier(e){return iO.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_n.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Rb}static keyField(){return new _n([Rb])}static fromServerFormat(e){const t=[];let n="",i=0;const o=()=>{if(n.length===0)throw new pe(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let c=!1;for(;i<e.length;){const f=e[i];if(f==="\\"){if(i+1===e.length)throw new pe(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new pe(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=h,i+=2}else f==="`"?(c=!c,i++):f!=="."||c?(n+=f,i++):(o(),i++)}if(o(),c)throw new pe(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _n(t)}static emptyPath(){return new _n([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.path=e}static fromPath(e){return new Ce(wt.fromString(e))}static fromName(e){return new Ce(wt.fromString(e).popFirst(5))}static empty(){return new Ce(wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return wt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ce(new wt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(r,e,t){if(!t)throw new pe(ie.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function sO(r,e,t,n){if(e===!0&&n===!0)throw new pe(ie.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Ib(r){if(!Ce.isDocumentKey(r))throw new pe(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function xb(r){if(Ce.isDocumentKey(r))throw new pe(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function V1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function hp(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":xe(12329,{type:typeof r})}function Un(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new pe(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=hp(r);throw new pe(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(r,e){const t={typeString:r};return e&&(t.value=e),t}function ff(r,e){if(!V1(r))throw new pe(ie.INVALID_ARGUMENT,"JSON must be an object");let t;for(const n in e)if(e[n]){const i=e[n].typeString,o="value"in e[n]?{value:e[n].value}:void 0;if(!(n in r)){t=`JSON missing required field: '${n}'`;break}const c=r[n];if(i&&typeof c!==i){t=`JSON field '${n}' must be a ${i}.`;break}if(o!==void 0&&c!==o.value){t=`Expected '${n}' field to equal '${o.value}'`;break}}if(t)throw new pe(ie.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb=-62135596800,Nb=1e6;class Et{static now(){return Et.fromMillis(Date.now())}static fromDate(e){return Et.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*Nb);return new Et(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new pe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new pe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Mb)throw new pe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Nb}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Et._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ff(e,Et._jsonSchema))return new Et(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Mb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Et._jsonSchemaVersion="firestore/timestamp/1.0",Et._jsonSchema={type:$t("string",Et._jsonSchemaVersion),seconds:$t("number"),nanoseconds:$t("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new Et(0,0))}static max(){return new Ne(new Et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zu=-1;function oO(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,i=Ne.fromTimestamp(n===1e9?new Et(t+1,0):new Et(t,n));return new us(i,Ce.empty(),e)}function lO(r){return new us(r.readTime,r.key,zu)}class us{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new us(Ne.min(),Ce.empty(),zu)}static max(){return new us(Ne.max(),Ce.empty(),zu)}}function cO(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Ce.comparator(r.documentKey,e.documentKey),t!==0?t:We(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oc(r){if(r.code!==ie.FAILED_PRECONDITION||r.message!==uO)throw r;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ce(((n,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(n,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(n,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ce?t:ce.resolve(t)}catch(t){return ce.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ce.reject(t)}static resolve(e){return new ce(((t,n)=>{t(e)}))}static reject(e){return new ce(((t,n)=>{n(e)}))}static waitFor(e){return new ce(((t,n)=>{let i=0,o=0,c=!1;e.forEach((f=>{++i,f.next((()=>{++o,c&&o===i&&t()}),(h=>n(h)))})),c=!0,o===i&&t()}))}static or(e){let t=ce.resolve(!1);for(const n of e)t=t.next((i=>i?ce.resolve(i):n()));return t}static forEach(e,t){const n=[];return e.forEach(((i,o)=>{n.push(t.call(this,i,o))})),this.waitFor(n)}static mapArray(e,t){return new ce(((n,i)=>{const o=e.length,c=new Array(o);let f=0;for(let h=0;h<o;h++){const m=h;t(e[m]).next((y=>{c[m]=y,++f,f===o&&n(c)}),(y=>i(y)))}}))}static doWhile(e,t){return new ce(((n,i)=>{const o=()=>{e()===!0?t().next((()=>{o()}),i):n()};o()}))}}function dO(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function lc(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>t.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}pp.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv=-1;function mp(r){return r==null}function Ph(r){return r===0&&1/r==-1/0}function hO(r){return typeof r=="number"&&Number.isInteger(r)&&!Ph(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1="";function pO(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=kb(e)),e=mO(r.get(t),e);return kb(e)}function mO(r,e){let t=e;const n=r.length;for(let i=0;i<n;i++){const o=r.charAt(i);switch(o){case"\0":t+="";break;case U1:t+="";break;default:t+=o}}return t}function kb(r){return r+U1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Ts(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function B1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,t){this.comparator=e,this.root=t||yn.EMPTY}insert(e,t){return new It(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,yn.BLACK,null,null))}remove(e){return new It(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zd(this.root,e,this.comparator,!0)}}class Zd{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yn{constructor(e,t,n,i,o){this.key=e,this.value=t,this.color=n??yn.RED,this.left=i??yn.EMPTY,this.right=o??yn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,i,o){return new yn(e??this.key,t??this.value,n??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const o=n(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,n),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return yn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return yn.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}yn.EMPTY=null,yn.RED=!0,yn.BLACK=!1;yn.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,t,n,i,o){return this}insert(e,t,n){return new yn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.comparator=e,this.data=new It(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Pb(this.data.getIterator())}getIteratorFrom(e){return new Pb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((n=>{t=t.add(n)})),t}isEqual(e){if(!(e instanceof nn)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=n.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new nn(this.comparator);return t.data=e,t}}class Pb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.fields=e,e.sort(_n.comparator)}static empty(){return new rr([])}unionWith(e){let t=new nn(_n.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new rr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return jl(this.fields,e.fields,((t,n)=>t.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new j1("Invalid base64 string: "+o):o}})(e);return new En(t)}static fromUint8Array(e){const t=(function(i){let o="";for(let c=0;c<i.length;++c)o+=String.fromCharCode(i[c]);return o})(e);return new En(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}En.EMPTY_BYTE_STRING=new En("");const gO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fs(r){if(ot(!!r,39018),typeof r=="string"){let e=0;const t=gO.exec(r);if(ot(!!t,46558,{timestamp:r}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Bt(r.seconds),nanos:Bt(r.nanos)}}function Bt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ds(r){return typeof r=="string"?En.fromBase64String(r):En.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="server_timestamp",F1="__type__",q1="__previous_value__",Y1="__local_write_time__";function Av(r){return(r?.mapValue?.fields||{})[F1]?.stringValue===H1}function gp(r){const e=r.mapValue.fields[q1];return Av(e)?gp(e):e}function Gu(r){const e=fs(r.mapValue.fields[Y1].timestampValue);return new Et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e,t,n,i,o,c,f,h,m,y){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=h,this.useFetchStreams=m,this.isUsingEmulator=y}}const Lh="(default)";class Qu{constructor(e,t){this.projectId=e,this.database=t||Lh}static empty(){return new Qu("","")}get isDefaultDatabase(){return this.database===Lh}isEqual(e){return e instanceof Qu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1="__type__",vO="__max__",Jd={mapValue:{}},G1="__vector__",Vh="value";function hs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Av(r)?4:wO(r)?9007199254740991:_O(r)?10:11:xe(28295,{value:r})}function Ea(r,e){if(r===e)return!0;const t=hs(r);if(t!==hs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Gu(r).isEqual(Gu(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const c=fs(i.timestampValue),f=fs(o.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(i,o){return ds(i.bytesValue).isEqual(ds(o.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(i,o){return Bt(i.geoPointValue.latitude)===Bt(o.geoPointValue.latitude)&&Bt(i.geoPointValue.longitude)===Bt(o.geoPointValue.longitude)})(r,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Bt(i.integerValue)===Bt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const c=Bt(i.doubleValue),f=Bt(o.doubleValue);return c===f?Ph(c)===Ph(f):isNaN(c)&&isNaN(f)}return!1})(r,e);case 9:return jl(r.arrayValue.values||[],e.arrayValue.values||[],Ea);case 10:case 11:return(function(i,o){const c=i.mapValue.fields||{},f=o.mapValue.fields||{};if(Ob(c)!==Ob(f))return!1;for(const h in c)if(c.hasOwnProperty(h)&&(f[h]===void 0||!Ea(c[h],f[h])))return!1;return!0})(r,e);default:return xe(52216,{left:r})}}function Wu(r,e){return(r.values||[]).find((t=>Ea(t,e)))!==void 0}function Hl(r,e){if(r===e)return 0;const t=hs(r),n=hs(e);if(t!==n)return We(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return We(r.booleanValue,e.booleanValue);case 2:return(function(o,c){const f=Bt(o.integerValue||o.doubleValue),h=Bt(c.integerValue||c.doubleValue);return f<h?-1:f>h?1:f===h?0:isNaN(f)?isNaN(h)?0:-1:1})(r,e);case 3:return Lb(r.timestampValue,e.timestampValue);case 4:return Lb(Gu(r),Gu(e));case 5:return ky(r.stringValue,e.stringValue);case 6:return(function(o,c){const f=ds(o),h=ds(c);return f.compareTo(h)})(r.bytesValue,e.bytesValue);case 7:return(function(o,c){const f=o.split("/"),h=c.split("/");for(let m=0;m<f.length&&m<h.length;m++){const y=We(f[m],h[m]);if(y!==0)return y}return We(f.length,h.length)})(r.referenceValue,e.referenceValue);case 8:return(function(o,c){const f=We(Bt(o.latitude),Bt(c.latitude));return f!==0?f:We(Bt(o.longitude),Bt(c.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Vb(r.arrayValue,e.arrayValue);case 10:return(function(o,c){const f=o.fields||{},h=c.fields||{},m=f[Vh]?.arrayValue,y=h[Vh]?.arrayValue,_=We(m?.values?.length||0,y?.values?.length||0);return _!==0?_:Vb(m,y)})(r.mapValue,e.mapValue);case 11:return(function(o,c){if(o===Jd.mapValue&&c===Jd.mapValue)return 0;if(o===Jd.mapValue)return 1;if(c===Jd.mapValue)return-1;const f=o.fields||{},h=Object.keys(f),m=c.fields||{},y=Object.keys(m);h.sort(),y.sort();for(let _=0;_<h.length&&_<y.length;++_){const w=ky(h[_],y[_]);if(w!==0)return w;const T=Hl(f[h[_]],m[y[_]]);if(T!==0)return T}return We(h.length,y.length)})(r.mapValue,e.mapValue);default:throw xe(23264,{he:t})}}function Lb(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return We(r,e);const t=fs(r),n=fs(e),i=We(t.seconds,n.seconds);return i!==0?i:We(t.nanos,n.nanos)}function Vb(r,e){const t=r.values||[],n=e.values||[];for(let i=0;i<t.length&&i<n.length;++i){const o=Hl(t[i],n[i]);if(o)return o}return We(t.length,n.length)}function Fl(r){return Oy(r)}function Oy(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const n=fs(t);return`time(${n.seconds},${n.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return ds(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return Ce.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let n="[",i=!0;for(const o of t.values||[])i?i=!1:n+=",",n+=Oy(o);return n+"]"})(r.arrayValue):"mapValue"in r?(function(t){const n=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const c of n)o?o=!1:i+=",",i+=`${c}:${Oy(t.fields[c])}`;return i+"}"})(r.mapValue):xe(61005,{value:r})}function yh(r){switch(hs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gp(r);return e?16+yh(e):16;case 5:return 2*r.stringValue.length;case 6:return ds(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((i,o)=>i+yh(o)),0)})(r.arrayValue);case 10:case 11:return(function(n){let i=0;return Ts(n.fields,((o,c)=>{i+=o.length+yh(c)})),i})(r.mapValue);default:throw xe(13486,{value:r})}}function Ub(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Py(r){return!!r&&"integerValue"in r}function Rv(r){return!!r&&"arrayValue"in r}function Bb(r){return!!r&&"nullValue"in r}function jb(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function vh(r){return!!r&&"mapValue"in r}function _O(r){return(r?.mapValue?.fields||{})[z1]?.stringValue===G1}function Lu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ts(r.mapValue.fields,((t,n)=>e.mapValue.fields[t]=Lu(n))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Lu(r.arrayValue.values[t]);return e}return{...r}}function wO(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===vO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.value=e}static empty(){return new zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!vh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lu(t)}setAll(e){let t=_n.emptyPath(),n={},i=[];e.forEach(((c,f)=>{if(!t.isImmediateParentOf(f)){const h=this.getFieldsMap(t);this.applyChanges(h,n,i),n={},i=[],t=f.popLast()}c?n[f.lastSegment()]=Lu(c):i.push(f.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,n,i)}delete(e){const t=this.field(e.popLast());vh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ea(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=t.mapValue.fields[e.get(n)];vh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,n){Ts(t,((i,o)=>e[i]=o));for(const i of n)delete e[i]}clone(){return new zn(Lu(this.value))}}function Q1(r){const e=[];return Ts(r.fields,((t,n)=>{const i=new _n([t]);if(vh(n)){const o=Q1(n.mapValue).fields;if(o.length===0)e.push(i);else for(const c of o)e.push(i.child(c))}else e.push(i)})),new rr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e,t,n,i,o,c,f){this.key=e,this.documentType=t,this.version=n,this.readTime=i,this.createTime=o,this.data=c,this.documentState=f}static newInvalidDocument(e){return new Rn(e,0,Ne.min(),Ne.min(),Ne.min(),zn.empty(),0)}static newFoundDocument(e,t,n,i){return new Rn(e,1,t,Ne.min(),n,i,0)}static newNoDocument(e,t){return new Rn(e,2,t,Ne.min(),Ne.min(),zn.empty(),0)}static newUnknownDocument(e,t){return new Rn(e,3,t,Ne.min(),Ne.min(),zn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,t){this.position=e,this.inclusive=t}}function Hb(r,e,t){let n=0;for(let i=0;i<r.position.length;i++){const o=e[i],c=r.position[i];if(o.field.isKeyField()?n=Ce.comparator(Ce.fromName(c.referenceValue),t.key):n=Hl(c,t.data.field(o.field)),o.dir==="desc"&&(n*=-1),n!==0)break}return n}function Fb(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Ea(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,t="asc"){this.field=e,this.dir=t}}function EO(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{}class Kt extends W1{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new TO(e,t,n):t==="array-contains"?new CO(e,n):t==="in"?new AO(e,n):t==="not-in"?new RO(e,n):t==="array-contains-any"?new IO(e,n):new Kt(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new SO(e,n):new DO(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Hl(t,this.value)):t!==null&&hs(this.value)===hs(t)&&this.matchesComparison(Hl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Lr extends W1{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Lr(e,t)}matches(e){return K1(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function K1(r){return r.op==="and"}function $1(r){return bO(r)&&K1(r)}function bO(r){for(const e of r.filters)if(e instanceof Lr)return!1;return!0}function Ly(r){if(r instanceof Kt)return r.field.canonicalString()+r.op.toString()+Fl(r.value);if($1(r))return r.filters.map((e=>Ly(e))).join(",");{const e=r.filters.map((t=>Ly(t))).join(",");return`${r.op}(${e})`}}function X1(r,e){return r instanceof Kt?(function(n,i){return i instanceof Kt&&n.op===i.op&&n.field.isEqual(i.field)&&Ea(n.value,i.value)})(r,e):r instanceof Lr?(function(n,i){return i instanceof Lr&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce(((o,c,f)=>o&&X1(c,i.filters[f])),!0):!1})(r,e):void xe(19439)}function Z1(r){return r instanceof Kt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Fl(t.value)}`})(r):r instanceof Lr?(function(t){return t.op.toString()+" {"+t.getFilters().map(Z1).join(" ,")+"}"})(r):"Filter"}class TO extends Kt{constructor(e,t,n){super(e,t,n),this.key=Ce.fromName(n.referenceValue)}matches(e){const t=Ce.comparator(e.key,this.key);return this.matchesComparison(t)}}class SO extends Kt{constructor(e,t){super(e,"in",t),this.keys=J1("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class DO extends Kt{constructor(e,t){super(e,"not-in",t),this.keys=J1("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function J1(r,e){return(e.arrayValue?.values||[]).map((t=>Ce.fromName(t.referenceValue)))}class CO extends Kt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Rv(t)&&Wu(t.arrayValue,this.value)}}class AO extends Kt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Wu(this.value.arrayValue,t)}}class RO extends Kt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Wu(this.value.arrayValue,t)}}class IO extends Kt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Rv(t)||!t.arrayValue.values)&&t.arrayValue.values.some((n=>Wu(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e,t=null,n=[],i=[],o=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=o,this.startAt=c,this.endAt=f,this.Te=null}}function qb(r,e=null,t=[],n=[],i=null,o=null,c=null){return new xO(r,e,t,n,i,o,c)}function Iv(r){const e=ke(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((n=>Ly(n))).join(","),t+="|ob:",t+=e.orderBy.map((n=>(function(o){return o.field.canonicalString()+o.dir})(n))).join(","),mp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((n=>Fl(n))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((n=>Fl(n))).join(",")),e.Te=t}return e.Te}function xv(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!EO(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!X1(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Fb(r.startAt,e.startAt)&&Fb(r.endAt,e.endAt)}function Vy(r){return Ce.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,t=null,n=[],i=[],o=null,c="F",f=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=o,this.limitType=c,this.startAt=f,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function MO(r,e,t,n,i,o,c,f){return new cc(r,e,t,n,i,o,c,f)}function yp(r){return new cc(r)}function Yb(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function eD(r){return r.collectionGroup!==null}function Vu(r){const e=ke(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new nn(_n.comparator);return c.filters.forEach((h=>{h.getFlattenedFilters().forEach((m=>{m.isInequality()&&(f=f.add(m.field))}))})),f})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Ku(o,n))})),t.has(_n.keyField().canonicalString())||e.Ie.push(new Ku(_n.keyField(),n))}return e.Ie}function ga(r){const e=ke(r);return e.Ee||(e.Ee=NO(e,Vu(r))),e.Ee}function NO(r,e){if(r.limitType==="F")return qb(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((i=>{const o=i.dir==="desc"?"asc":"desc";return new Ku(i.field,o)}));const t=r.endAt?new Uh(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new Uh(r.startAt.position,r.startAt.inclusive):null;return qb(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function Uy(r,e){const t=r.filters.concat([e]);return new cc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Bh(r,e,t){return new cc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function vp(r,e){return xv(ga(r),ga(e))&&r.limitType===e.limitType}function tD(r){return`${Iv(ga(r))}|lt:${r.limitType}`}function Cl(r){return`Query(target=${(function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map((i=>Z1(i))).join(", ")}]`),mp(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map((i=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(i))).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((i=>Fl(i))).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((i=>Fl(i))).join(",")),`Target(${n})`})(ga(r))}; limitType=${r.limitType})`}function _p(r,e){return e.isFoundDocument()&&(function(n,i){const o=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):Ce.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)})(r,e)&&(function(n,i){for(const o of Vu(n))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(r,e)&&(function(n,i){for(const o of n.filters)if(!o.matches(i))return!1;return!0})(r,e)&&(function(n,i){return!(n.startAt&&!(function(c,f,h){const m=Hb(c,f,h);return c.inclusive?m<=0:m<0})(n.startAt,Vu(n),i)||n.endAt&&!(function(c,f,h){const m=Hb(c,f,h);return c.inclusive?m>=0:m>0})(n.endAt,Vu(n),i))})(r,e)}function kO(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function nD(r){return(e,t)=>{let n=!1;for(const i of Vu(r)){const o=OO(i,e,t);if(o!==0)return o;n=n||i.field.isKeyField()}return 0}}function OO(r,e,t){const n=r.field.isKeyField()?Ce.comparator(e.key,t.key):(function(o,c,f){const h=c.data.field(o),m=f.data.field(o);return h!==null&&m!==null?Hl(h,m):xe(42886)})(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return xe(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[i,o]of n)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[t]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ts(this.inner,((t,n)=>{for(const[i,o]of n)e(i,o)}))}isEmpty(){return B1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO=new It(Ce.comparator);function mi(){return PO}const rD=new It(Ce.comparator);function Ru(...r){let e=rD;for(const t of r)e=e.insert(t.key,t);return e}function aD(r){let e=rD;return r.forEach(((t,n)=>e=e.insert(t,n.overlayedDocument))),e}function co(){return Uu()}function iD(){return Uu()}function Uu(){return new Ro((r=>r.toString()),((r,e)=>r.isEqual(e)))}const LO=new It(Ce.comparator),VO=new nn(Ce.comparator);function Ke(...r){let e=VO;for(const t of r)e=e.add(t);return e}const UO=new nn(We);function BO(){return UO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ph(e)?"-0":e}}function sD(r){return{integerValue:""+r}}function jO(r,e){return hO(e)?sD(e):Mv(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(){this._=void 0}}function HO(r,e,t){return r instanceof $u?(function(i,o){const c={fields:{[F1]:{stringValue:H1},[Y1]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Av(o)&&(o=gp(o)),o&&(c.fields[q1]=o),{mapValue:c}})(t,e):r instanceof Xu?lD(r,e):r instanceof Zu?cD(r,e):(function(i,o){const c=oD(i,o),f=zb(c)+zb(i.Ae);return Py(c)&&Py(i.Ae)?sD(f):Mv(i.serializer,f)})(r,e)}function FO(r,e,t){return r instanceof Xu?lD(r,e):r instanceof Zu?cD(r,e):t}function oD(r,e){return r instanceof jh?(function(n){return Py(n)||(function(o){return!!o&&"doubleValue"in o})(n)})(e)?e:{integerValue:0}:null}class $u extends wp{}class Xu extends wp{constructor(e){super(),this.elements=e}}function lD(r,e){const t=uD(e);for(const n of r.elements)t.some((i=>Ea(i,n)))||t.push(n);return{arrayValue:{values:t}}}class Zu extends wp{constructor(e){super(),this.elements=e}}function cD(r,e){let t=uD(e);for(const n of r.elements)t=t.filter((i=>!Ea(i,n)));return{arrayValue:{values:t}}}class jh extends wp{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function zb(r){return Bt(r.integerValue||r.doubleValue)}function uD(r){return Rv(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e,t){this.field=e,this.transform=t}}function YO(r,e){return r.field.isEqual(e.field)&&(function(n,i){return n instanceof Xu&&i instanceof Xu||n instanceof Zu&&i instanceof Zu?jl(n.elements,i.elements,Ea):n instanceof jh&&i instanceof jh?Ea(n.Ae,i.Ae):n instanceof $u&&i instanceof $u})(r.transform,e.transform)}class zO{constructor(e,t){this.version=e,this.transformResults=t}}class Bn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Bn}static exists(e){return new Bn(void 0,e)}static updateTime(e){return new Bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _h(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Ep{}function fD(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new bp(r.key,Bn.none()):new df(r.key,r.data,Bn.none());{const t=r.data,n=zn.empty();let i=new nn(_n.comparator);for(let o of e.fields)if(!i.has(o)){let c=t.field(o);c===null&&o.length>1&&(o=o.popLast(),c=t.field(o)),c===null?n.delete(o):n.set(o,c),i=i.add(o)}return new Ss(r.key,n,new rr(i.toArray()),Bn.none())}}function GO(r,e,t){r instanceof df?(function(i,o,c){const f=i.value.clone(),h=Qb(i.fieldTransforms,o,c.transformResults);f.setAll(h),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(r,e,t):r instanceof Ss?(function(i,o,c){if(!_h(i.precondition,o))return void o.convertToUnknownDocument(c.version);const f=Qb(i.fieldTransforms,o,c.transformResults),h=o.data;h.setAll(dD(i)),h.setAll(f),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(r,e,t):(function(i,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function Bu(r,e,t,n){return r instanceof df?(function(o,c,f,h){if(!_h(o.precondition,c))return f;const m=o.value.clone(),y=Wb(o.fieldTransforms,h,c);return m.setAll(y),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(r,e,t,n):r instanceof Ss?(function(o,c,f,h){if(!_h(o.precondition,c))return f;const m=Wb(o.fieldTransforms,h,c),y=c.data;return y.setAll(dD(o)),y.setAll(m),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),f===null?null:f.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((_=>_.field)))})(r,e,t,n):(function(o,c,f){return _h(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f})(r,e,t)}function QO(r,e){let t=null;for(const n of r.fieldTransforms){const i=e.data.field(n.field),o=oD(n.transform,i||null);o!=null&&(t===null&&(t=zn.empty()),t.set(n.field,o))}return t||null}function Gb(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&jl(n,i,((o,c)=>YO(o,c)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class df extends Ep{constructor(e,t,n,i=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ss extends Ep{constructor(e,t,n,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function dD(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}})),e}function Qb(r,e,t){const n=new Map;ot(r.length===t.length,32656,{Re:t.length,Ve:r.length});for(let i=0;i<t.length;i++){const o=r[i],c=o.transform,f=e.data.field(o.field);n.set(o.field,FO(c,f,t[i]))}return n}function Wb(r,e,t){const n=new Map;for(const i of r){const o=i.transform,c=t.data.field(i.field);n.set(i.field,HO(o,c,e))}return n}class bp extends Ep{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class WO extends Ep{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&GO(o,e,n[i])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Bu(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Bu(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=iD();return this.mutations.forEach((i=>{const o=e.get(i.key),c=o.overlayedDocument;let f=this.applyToLocalView(c,o.mutatedFields);f=t.has(i.key)?null:f;const h=fD(c,f);h!==null&&n.set(i.key,h),c.isValidDocument()||c.convertToNoDocument(Ne.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ke())}isEqual(e){return this.batchId===e.batchId&&jl(this.mutations,e.mutations,((t,n)=>Gb(t,n)))&&jl(this.baseMutations,e.baseMutations,((t,n)=>Gb(t,n)))}}class Nv{constructor(e,t,n,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=i}static from(e,t,n){ot(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let i=(function(){return LO})();const o=e.mutations;for(let c=0;c<o.length;c++)i=i.insert(o[c].key,n[c].version);return new Nv(e,t,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wt,Je;function ZO(r){switch(r){case ie.OK:return xe(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return xe(15467,{code:r})}}function hD(r){if(r===void 0)return pi("GRPC error has no .code"),ie.UNKNOWN;switch(r){case Wt.OK:return ie.OK;case Wt.CANCELLED:return ie.CANCELLED;case Wt.UNKNOWN:return ie.UNKNOWN;case Wt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Wt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Wt.INTERNAL:return ie.INTERNAL;case Wt.UNAVAILABLE:return ie.UNAVAILABLE;case Wt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Wt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Wt.NOT_FOUND:return ie.NOT_FOUND;case Wt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Wt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Wt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Wt.ABORTED:return ie.ABORTED;case Wt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Wt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Wt.DATA_LOSS:return ie.DATA_LOSS;default:return xe(39323,{code:r})}}(Je=Wt||(Wt={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP=new is([4294967295,4294967295],0);function Kb(r){const e=JO().encode(r),t=new R1;return t.update(e),new Uint8Array(t.digest())}function $b(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new is([t,n],0),new is([i,o],0)]}class kv{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Iu(`Invalid padding: ${t}`);if(n<0)throw new Iu(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Iu(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new Iu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=is.fromNumber(this.ge)}ye(e,t,n){let i=e.add(t.multiply(is.fromNumber(n)));return i.compare(eP)===1&&(i=new is([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Kb(e),[n,i]=$b(t);for(let o=0;o<this.hashCount;o++){const c=this.ye(n,i,o);if(!this.we(c))return!1}return!0}static create(e,t,n){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new kv(o,i,t);return n.forEach((f=>c.insert(f))),c}insert(e){if(this.ge===0)return;const t=Kb(e),[n,i]=$b(t);for(let o=0;o<this.hashCount;o++){const c=this.ye(n,i,o);this.Se(c)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Iu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,t,n,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const i=new Map;return i.set(e,hf.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Tp(Ne.min(),i,new It(We),mi(),Ke())}}class hf{constructor(e,t,n,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new hf(n,t,Ke(),Ke(),Ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,t,n,i){this.be=e,this.removedTargetIds=t,this.key=n,this.De=i}}class pD{constructor(e,t){this.targetId=e,this.Ce=t}}class mD{constructor(e,t,n=En.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i}}class Xb{constructor(){this.ve=0,this.Fe=Zb(),this.Me=En.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ke(),t=Ke(),n=Ke();return this.Fe.forEach(((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:n=n.add(i);break;default:xe(38017,{changeType:o})}})),new hf(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=Zb()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ot(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class tP{constructor(e){this.Ge=e,this.ze=new Map,this.je=mi(),this.Je=eh(),this.He=eh(),this.Ye=new It(We)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:xe(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((n,i)=>{this.rt(i)&&t(i)}))}st(e){const t=e.targetId,n=e.Ce.count,i=this.ot(t);if(i){const o=i.target;if(Vy(o))if(n===0){const c=new Ce(o.path);this.et(t,c,Rn.newNoDocument(c,Ne.min()))}else ot(n===1,20013,{expectedCount:n});else{const c=this._t(t);if(c!==n){const f=this.ut(e),h=f?this.ct(f,e,c):1;if(h!==0){this.it(t);const m=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,m)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:o=0}=t;let c,f;try{c=ds(n).toUint8Array()}catch(h){if(h instanceof j1)return Bl("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{f=new kv(c,i,o)}catch(h){return Bl(h instanceof Iu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return f.ge===0?null:f}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let i=0;return n.forEach((o=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(f)||(this.et(t,o,null),i++)})),i}Tt(e){const t=new Map;this.ze.forEach(((o,c)=>{const f=this.ot(c);if(f){if(o.current&&Vy(f.target)){const h=new Ce(f.target.path);this.It(h).has(c)||this.Et(c,h)||this.et(c,h,Rn.newNoDocument(h,e))}o.Be&&(t.set(c,o.ke()),o.qe())}}));let n=Ke();this.He.forEach(((o,c)=>{let f=!0;c.forEachWhile((h=>{const m=this.ot(h);return!m||m.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(n=n.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(e)));const i=new Tp(e,t,this.Ye,this.je,n);return this.je=mi(),this.Je=eh(),this.He=eh(),this.Ye=new It(We),i}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,t)?i.Qe(t,1):i.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Xb,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new nn(We),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new nn(We),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ve("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Xb),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function eh(){return new It(Ce.comparator)}function Zb(){return new It(Ce.comparator)}const nP={asc:"ASCENDING",desc:"DESCENDING"},rP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aP={and:"AND",or:"OR"};class iP{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function By(r,e){return r.useProto3Json||mp(e)?e:{value:e}}function Hh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gD(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function sP(r,e){return Hh(r,e.toTimestamp())}function ya(r){return ot(!!r,49232),Ne.fromTimestamp((function(t){const n=fs(t);return new Et(n.seconds,n.nanos)})(r))}function Ov(r,e){return jy(r,e).canonicalString()}function jy(r,e){const t=(function(i){return new wt(["projects",i.projectId,"databases",i.database])})(r).child("documents");return e===void 0?t:t.child(e)}function yD(r){const e=wt.fromString(r);return ot(bD(e),10190,{key:e.toString()}),e}function Hy(r,e){return Ov(r.databaseId,e.path)}function iy(r,e){const t=yD(e);if(t.get(1)!==r.databaseId.projectId)throw new pe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new pe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Ce(_D(t))}function vD(r,e){return Ov(r.databaseId,e)}function oP(r){const e=yD(r);return e.length===4?wt.emptyPath():_D(e)}function Fy(r){return new wt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function _D(r){return ot(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Jb(r,e,t){return{name:Hy(r,e),fields:t.value.mapValue.fields}}function lP(r,e){let t;if("targetChange"in e){e.targetChange;const n=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:xe(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(m,y){return m.useProto3Json?(ot(y===void 0||typeof y=="string",58123),En.fromBase64String(y||"")):(ot(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),En.fromUint8Array(y||new Uint8Array))})(r,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&(function(m){const y=m.code===void 0?ie.UNKNOWN:hD(m.code);return new pe(y,m.message||"")})(c);t=new mD(n,i,o,f||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=iy(r,n.document.name),o=ya(n.document.updateTime),c=n.document.createTime?ya(n.document.createTime):Ne.min(),f=new zn({mapValue:{fields:n.document.fields}}),h=Rn.newFoundDocument(i,o,c,f),m=n.targetIds||[],y=n.removedTargetIds||[];t=new wh(m,y,h.key,h)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=iy(r,n.document),o=n.readTime?ya(n.readTime):Ne.min(),c=Rn.newNoDocument(i,o),f=n.removedTargetIds||[];t=new wh([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=iy(r,n.document),o=n.removedTargetIds||[];t=new wh([],o,i,null)}else{if(!("filter"in e))return xe(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:o}=n,c=new XO(i,o),f=n.targetId;t=new pD(f,c)}}return t}function cP(r,e){let t;if(e instanceof df)t={update:Jb(r,e.key,e.value)};else if(e instanceof bp)t={delete:Hy(r,e.key)};else if(e instanceof Ss)t={update:Jb(r,e.key,e.data),updateMask:vP(e.fieldMask)};else{if(!(e instanceof WO))return xe(16599,{Vt:e.type});t={verify:Hy(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((n=>(function(o,c){const f=c.transform;if(f instanceof $u)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Xu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Zu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof jh)return{fieldPath:c.field.canonicalString(),increment:f.Ae};throw xe(20930,{transform:c.transform})})(0,n)))),e.precondition.isNone||(t.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:sP(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:xe(27497)})(r,e.precondition)),t}function uP(r,e){return r&&r.length>0?(ot(e!==void 0,14353),r.map((t=>(function(i,o){let c=i.updateTime?ya(i.updateTime):ya(o);return c.isEqual(Ne.min())&&(c=ya(o)),new zO(c,i.transformResults||[])})(t,e)))):[]}function fP(r,e){return{documents:[vD(r,e.path)]}}function dP(r,e){const t={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=vD(r,i);const o=(function(m){if(m.length!==0)return ED(Lr.create(m,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const c=(function(m){if(m.length!==0)return m.map((y=>(function(w){return{field:Al(w.field),direction:mP(w.dir)}})(y)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=By(r,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:t,parent:i}}function hP(r){let e=oP(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let i=null;if(n>0){ot(n===1,65062);const y=t.from[0];y.allDescendants?i=y.collectionId:e=e.child(y.collectionId)}let o=[];t.where&&(o=(function(_){const w=wD(_);return w instanceof Lr&&$1(w)?w.getFilters():[w]})(t.where));let c=[];t.orderBy&&(c=(function(_){return _.map((w=>(function(I){return new Ku(Rl(I.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(w)))})(t.orderBy));let f=null;t.limit&&(f=(function(_){let w;return w=typeof _=="object"?_.value:_,mp(w)?null:w})(t.limit));let h=null;t.startAt&&(h=(function(_){const w=!!_.before,T=_.values||[];return new Uh(T,w)})(t.startAt));let m=null;return t.endAt&&(m=(function(_){const w=!_.before,T=_.values||[];return new Uh(T,w)})(t.endAt)),MO(e,i,c,o,f,"F",h,m)}function pP(r,e){const t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function wD(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=Rl(t.unaryFilter.field);return Kt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Rl(t.unaryFilter.field);return Kt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Rl(t.unaryFilter.field);return Kt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Rl(t.unaryFilter.field);return Kt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}})(r):r.fieldFilter!==void 0?(function(t){return Kt.create(Rl(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return Lr.create(t.compositeFilter.filters.map((n=>wD(n))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return xe(1026)}})(t.compositeFilter.op))})(r):xe(30097,{filter:r})}function mP(r){return nP[r]}function gP(r){return rP[r]}function yP(r){return aP[r]}function Al(r){return{fieldPath:r.canonicalString()}}function Rl(r){return _n.fromServerFormat(r.fieldPath)}function ED(r){return r instanceof Kt?(function(t){if(t.op==="=="){if(jb(t.value))return{unaryFilter:{field:Al(t.field),op:"IS_NAN"}};if(Bb(t.value))return{unaryFilter:{field:Al(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(jb(t.value))return{unaryFilter:{field:Al(t.field),op:"IS_NOT_NAN"}};if(Bb(t.value))return{unaryFilter:{field:Al(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Al(t.field),op:gP(t.op),value:t.value}}})(r):r instanceof Lr?(function(t){const n=t.getFilters().map((i=>ED(i)));return n.length===1?n[0]:{compositeFilter:{op:yP(t.op),filters:n}}})(r):xe(54877,{filter:r})}function vP(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function bD(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,t,n,i,o=Ne.min(),c=Ne.min(),f=En.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=h}withSequenceNumber(e){return new ts(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e){this.yt=e}}function wP(r){const e=hP({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Bh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(){this.Cn=new bP}addToCollectionParentIndex(e,t){return this.Cn.add(t),ce.resolve()}getCollectionParents(e,t){return ce.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ce.resolve()}deleteFieldIndex(e,t){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,t){return ce.resolve()}getDocumentsMatchingTarget(e,t){return ce.resolve(null)}getIndexType(e,t){return ce.resolve(0)}getFieldIndexes(e,t){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,t){return ce.resolve(us.min())}getMinOffsetFromCollectionGroup(e,t){return ce.resolve(us.min())}updateCollectionGroup(e,t,n){return ce.resolve()}updateIndexEntries(e,t){return ce.resolve()}}class bP{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t]||new nn(wt.comparator),o=!i.has(n);return this.index[t]=i.add(n),o}has(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t];return i&&i.has(n)}getEntries(e){return(this.index[e]||new nn(wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},TD=41943040;class Yn{static withCacheSize(e){return new Yn(e,Yn.DEFAULT_COLLECTION_PERCENTILE,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yn.DEFAULT_COLLECTION_PERCENTILE=10,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yn.DEFAULT=new Yn(TD,Yn.DEFAULT_COLLECTION_PERCENTILE,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yn.DISABLED=new Yn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ql(0)}static cr(){return new ql(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="LruGarbageCollector",TP=1048576;function nT([r,e],[t,n]){const i=We(r,t);return i===0?We(e,n):i}class SP{constructor(e){this.Ir=e,this.buffer=new nn(nT),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();nT(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class DP{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ve(tT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){lc(t)?ve(tT,"Ignoring IndexedDB error during garbage collection: ",t):await oc(t)}await this.Vr(3e5)}))}}class CP{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((n=>Math.floor(t/100*n)))}nthSequenceNumber(e,t){if(t===0)return ce.resolve(pp.ce);const n=new SP(t);return this.mr.forEachTarget(e,(i=>n.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>n.Ar(i))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(eT)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),eT):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,i,o,c,f,h,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),i=this.params.maximumSequenceNumbersToCollect):i=_,c=Date.now(),this.nthSequenceNumber(e,i)))).next((_=>(n=_,f=Date.now(),this.removeTargets(e,n,t)))).next((_=>(o=_,h=Date.now(),this.removeOrphanedDocuments(e,n)))).next((_=>(m=Date.now(),Dl()<=Qe.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${i} in `+(f-c)+`ms
	Removed ${o} targets in `+(h-f)+`ms
	Removed ${_} documents in `+(m-h)+`ms
Total Duration: ${m-y}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:_}))))}}function AP(r,e){return new CP(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(){this.changes=new Ro((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Rn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?ce.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(e,t,n,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((i=>(n=i,this.remoteDocumentCache.getEntry(e,t)))).next((i=>(n!==null&&Bu(n.mutation,i,rr.empty(),Et.now()),i)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.getLocalViewOfDocuments(e,n,Ke()).next((()=>n))))}getLocalViewOfDocuments(e,t,n=Ke()){const i=co();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,n).next((o=>{let c=Ru();return o.forEach(((f,h)=>{c=c.insert(f,h.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const n=co();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Ke())))}populateOverlays(e,t,n){const i=[];return n.forEach((o=>{t.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(e,i).next((o=>{o.forEach(((c,f)=>{t.set(c,f)}))}))}computeViews(e,t,n,i){let o=mi();const c=Uu(),f=(function(){return Uu()})();return t.forEach(((h,m)=>{const y=n.get(m.key);i.has(m.key)&&(y===void 0||y.mutation instanceof Ss)?o=o.insert(m.key,m):y!==void 0?(c.set(m.key,y.mutation.getFieldMask()),Bu(y.mutation,m,y.mutation.getFieldMask(),Et.now())):c.set(m.key,rr.empty())})),this.recalculateAndSaveOverlays(e,o).next((h=>(h.forEach(((m,y)=>c.set(m,y))),t.forEach(((m,y)=>f.set(m,new IP(y,c.get(m)??null)))),f)))}recalculateAndSaveOverlays(e,t){const n=Uu();let i=new It(((c,f)=>c-f)),o=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const f of c)f.keys().forEach((h=>{const m=t.get(h);if(m===null)return;let y=n.get(h)||rr.empty();y=f.applyToLocalView(m,y),n.set(h,y);const _=(i.get(f.batchId)||Ke()).add(h);i=i.insert(f.batchId,_)}))})).next((()=>{const c=[],f=i.getReverseIterator();for(;f.hasNext();){const h=f.getNext(),m=h.key,y=h.value,_=iD();y.forEach((w=>{if(!o.has(w)){const T=fD(t.get(w),n.get(w));T!==null&&_.set(w,T),o=o.add(w)}})),c.push(this.documentOverlayCache.saveOverlays(e,m,_))}return ce.waitFor(c)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,t,n,i){return(function(c){return Ce.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):eD(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,i):this.getDocumentsMatchingCollectionQuery(e,t,n,i)}getNextDocuments(e,t,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,i).next((o=>{const c=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,i-o.size):ce.resolve(co());let f=zu,h=o;return c.next((m=>ce.forEach(m,((y,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),o.get(y)?ce.resolve():this.remoteDocumentCache.getEntry(e,y).next((w=>{h=h.insert(y,w)}))))).next((()=>this.populateOverlays(e,m,o))).next((()=>this.computeViews(e,h,m,Ke()))).next((y=>({batchId:f,changes:aD(y)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ce(t)).next((n=>{let i=Ru();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,i){const o=t.collectionGroup;let c=Ru();return this.indexManager.getCollectionParents(e,o).next((f=>ce.forEach(f,(h=>{const m=(function(_,w){return new cc(w,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(t,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,m,n,i).next((y=>{y.forEach(((_,w)=>{c=c.insert(_,w)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,n,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,o,i)))).next((c=>{o.forEach(((h,m)=>{const y=m.getKey();c.get(y)===null&&(c=c.insert(y,Rn.newInvalidDocument(y)))}));let f=Ru();return c.forEach(((h,m)=>{const y=o.get(h);y!==void 0&&Bu(y.mutation,m,rr.empty(),Et.now()),_p(t,m)&&(f=f.insert(h,m))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ce.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:ya(i.createTime)}})(t)),ce.resolve()}getNamedQuery(e,t){return ce.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(i){return{name:i.name,query:wP(i.bundledQuery),readTime:ya(i.readTime)}})(t)),ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(){this.overlays=new It(Ce.comparator),this.qr=new Map}getOverlay(e,t){return ce.resolve(this.overlays.get(t))}getOverlays(e,t){const n=co();return ce.forEach(t,(i=>this.getOverlay(e,i).next((o=>{o!==null&&n.set(i,o)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((i,o)=>{this.St(e,t,o)})),ce.resolve()}removeOverlaysForBatchId(e,t,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(n)),ce.resolve()}getOverlaysForCollection(e,t,n){const i=co(),o=t.length+1,c=new Ce(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const h=f.getNext().value,m=h.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===o&&h.largestBatchId>n&&i.set(h.getKey(),h)}return ce.resolve(i)}getOverlaysForCollectionGroup(e,t,n,i){let o=new It(((m,y)=>m-y));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>n){let y=o.get(m.largestBatchId);y===null&&(y=co(),o=o.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const f=co(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((m,y)=>f.set(m,y))),!(f.size()>=i)););return ce.resolve(f)}St(e,t,n){const i=this.overlays.get(n.key);if(i!==null){const c=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(n.key,new $O(t,n));let o=this.qr.get(t);o===void 0&&(o=Ke(),this.qr.set(t,o)),this.qr.set(t,o.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(){this.sessionToken=En.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(){this.Qr=new nn(cn.$r),this.Ur=new nn(cn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new cn(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach((n=>this.addReference(n,t)))}removeReference(e,t){this.Gr(new cn(e,t))}zr(e,t){e.forEach((n=>this.removeReference(n,t)))}jr(e){const t=new Ce(new wt([])),n=new cn(t,e),i=new cn(t,e+1),o=[];return this.Ur.forEachInRange([n,i],(c=>{this.Gr(c),o.push(c.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Ce(new wt([])),n=new cn(t,e),i=new cn(t,e+1);let o=Ke();return this.Ur.forEachInRange([n,i],(c=>{o=o.add(c.key)})),o}containsKey(e){const t=new cn(e,0),n=this.Qr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class cn{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Ce.comparator(e.key,t.key)||We(e.Yr,t.Yr)}static Kr(e,t){return We(e.Yr,t.Yr)||Ce.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new nn(cn.$r)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new KO(o,t,n,i);this.mutationQueue.push(c);for(const f of i)this.Zr=this.Zr.add(new cn(f.key,o)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ce.resolve(c)}lookupMutationBatch(e,t){return ce.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=this.ei(n),o=i<0?0:i;return ce.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?Cv:this.tr-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new cn(t,0),i=new cn(t,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([n,i],(c=>{const f=this.Xr(c.Yr);o.push(f)})),ce.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new nn(We);return t.forEach((i=>{const o=new cn(i,0),c=new cn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],(f=>{n=n.add(f.Yr)}))})),ce.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1;let o=n;Ce.isDocumentKey(o)||(o=o.child(""));const c=new cn(new Ce(o),0);let f=new nn(We);return this.Zr.forEachWhile((h=>{const m=h.key.path;return!!n.isPrefixOf(m)&&(m.length===i&&(f=f.add(h.Yr)),!0)}),c),ce.resolve(this.ti(f))}ti(e){const t=[];return e.forEach((n=>{const i=this.Xr(n);i!==null&&t.push(i)})),t}removeMutationBatch(e,t){ot(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return ce.forEach(t.mutations,(i=>{const o=new cn(i.key,t.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=n}))}ir(e){}containsKey(e,t){const n=new cn(t,0),i=this.Zr.firstAfterOrEqual(n);return ce.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(e){this.ri=e,this.docs=(function(){return new It(Ce.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,i=this.docs.get(n),o=i?i.size:0,c=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return ce.resolve(n?n.document.mutableCopy():Rn.newInvalidDocument(t))}getEntries(e,t){let n=mi();return t.forEach((i=>{const o=this.docs.get(i);n=n.insert(i,o?o.document.mutableCopy():Rn.newInvalidDocument(i))})),ce.resolve(n)}getDocumentsMatchingQuery(e,t,n,i){let o=mi();const c=t.path,f=new Ce(c.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(f);for(;h.hasNext();){const{key:m,value:{document:y}}=h.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||cO(lO(y),n)<=0||(i.has(y.key)||_p(t,y))&&(o=o.insert(y.key,y.mutableCopy()))}return ce.resolve(o)}getAllFromCollectionGroup(e,t,n,i){xe(9500)}ii(e,t){return ce.forEach(this.docs,(n=>t(n)))}newChangeBuffer(e){return new LP(this)}getSize(e){return ce.resolve(this.size)}}class LP extends RP{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?t.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(n)})),ce.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e){this.persistence=e,this.si=new Ro((t=>Iv(t)),xv),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.oi=0,this._i=new Pv,this.targetCount=0,this.ai=ql.ur()}forEachTarget(e,t){return this.si.forEach(((n,i)=>t(i))),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),ce.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new ql(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ce.resolve()}updateTargetData(e,t){return this.Pr(t),ce.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,t,n){let i=0;const o=[];return this.si.forEach(((c,f)=>{f.sequenceNumber<=t&&n.get(f.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)})),ce.waitFor(o).next((()=>i))}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return ce.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),ce.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach((c=>{o.push(i.markPotentiallyOrphaned(e,c))})),ce.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ce.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return ce.resolve(n)}containsKey(e,t){return ce.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e,t){this.ui={},this.overlays={},this.ci=new pp(0),this.li=!1,this.li=!0,this.hi=new kP,this.referenceDelegate=e(this),this.Pi=new VP(this),this.indexManager=new EP,this.remoteDocumentCache=(function(i){return new PP(i)})((n=>this.referenceDelegate.Ti(n))),this.serializer=new _P(t),this.Ii=new MP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new NP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new OP(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){ve("MemoryPersistence","Starting transaction:",e);const i=new UP(this.ci.next());return this.referenceDelegate.Ei(),n(i).next((o=>this.referenceDelegate.di(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Ai(e,t){return ce.or(Object.values(this.ui).map((n=>()=>n.containsKey(e,t))))}}class UP extends fO{constructor(e){super(),this.currentSequenceNumber=e}}class Lv{constructor(e){this.persistence=e,this.Ri=new Pv,this.Vi=null}static mi(e){return new Lv(e)}get fi(){if(this.Vi)return this.Vi;throw xe(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),ce.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),ce.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ce.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((i=>this.fi.add(i.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((i=>{i.forEach((o=>this.fi.add(o.toString())))})).next((()=>n.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.fi,(n=>{const i=Ce.fromPath(n);return this.gi(e,i).next((o=>{o||t.removeEntry(i,Ne.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((n=>{n?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return ce.or([()=>ce.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Fh{constructor(e,t){this.persistence=e,this.pi=new Ro((n=>pO(n.path)),((n,i)=>n.isEqual(i))),this.garbageCollector=AP(this,t)}static mi(e,t){return new Fh(e,t)}Ei(){}di(e){return ce.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>t.next((i=>n+i))))}wr(e){let t=0;return this.pr(e,(n=>{t++})).next((()=>t))}pr(e,t){return ce.forEach(this.pi,((n,i)=>this.br(e,n,i).next((o=>o?ce.resolve():t(i)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,(c=>this.br(e,c,t).next((f=>{f||(n++,o.removeEntry(c,Ne.min()))})))).next((()=>o.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ce.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),ce.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),ce.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ce.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=yh(e.data.value)),t}br(e,t,n){return ce.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.pi.get(t);return ce.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e,t,n,i){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=i}static As(e,t){let n=Ke(),i=Ke();for(const o of t.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Vv(e,t.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return yx()?8:dO(xn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,i){const o={result:null};return this.ys(e,t).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ws(e,t,i,n).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new BP;return this.Ss(e,t,c).next((f=>{if(o.result=f,this.Vs)return this.bs(e,t,c,f.size)}))})).next((()=>o.result))}bs(e,t,n,i){return n.documentReadCount<this.fs?(Dl()<=Qe.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",Cl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ce.resolve()):(Dl()<=Qe.DEBUG&&ve("QueryEngine","Query:",Cl(t),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(Dl()<=Qe.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",Cl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ga(t))):ce.resolve())}ys(e,t){if(Yb(t))return ce.resolve(null);let n=ga(t);return this.indexManager.getIndexType(e,n).next((i=>i===0?null:(t.limit!==null&&i===1&&(t=Bh(t,null,"F"),n=ga(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((o=>{const c=Ke(...o);return this.ps.getDocuments(e,c).next((f=>this.indexManager.getMinOffset(e,n).next((h=>{const m=this.Ds(t,f);return this.Cs(t,m,c,h.readTime)?this.ys(e,Bh(t,null,"F")):this.vs(e,m,t,h)}))))})))))}ws(e,t,n,i){return Yb(t)||i.isEqual(Ne.min())?ce.resolve(null):this.ps.getDocuments(e,n).next((o=>{const c=this.Ds(t,o);return this.Cs(t,c,n,i)?ce.resolve(null):(Dl()<=Qe.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Cl(t)),this.vs(e,c,t,oO(i,zu)).next((f=>f)))}))}Ds(e,t){let n=new nn(nD(e));return t.forEach(((i,o)=>{_p(e,o)&&(n=n.add(o))})),n}Cs(e,t,n,i){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,t,n){return Dl()<=Qe.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",Cl(t)),this.ps.getDocumentsMatchingQuery(e,t,us.min(),n)}vs(e,t,n,i){return this.ps.getDocumentsMatchingQuery(e,n,i).next((o=>(t.forEach((c=>{o=o.insert(c.key,c)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv="LocalStore",HP=3e8;class FP{constructor(e,t,n,i){this.persistence=e,this.Fs=t,this.serializer=i,this.Ms=new It(We),this.xs=new Ro((o=>Iv(o)),xv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xP(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function qP(r,e,t,n){return new FP(r,e,t,n)}async function DD(r,e){const t=ke(r);return await t.persistence.runTransaction("Handle user change","readonly",(n=>{let i;return t.mutationQueue.getAllMutationBatches(n).next((o=>(i=o,t.Bs(e),t.mutationQueue.getAllMutationBatches(n)))).next((o=>{const c=[],f=[];let h=Ke();for(const m of i){c.push(m.batchId);for(const y of m.mutations)h=h.add(y.key)}for(const m of o){f.push(m.batchId);for(const y of m.mutations)h=h.add(y.key)}return t.localDocuments.getDocuments(n,h).next((m=>({Ls:m,removedBatchIds:c,addedBatchIds:f})))}))}))}function YP(r,e){const t=ke(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const i=e.batch.keys(),o=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,h,m,y){const _=m.batch,w=_.keys();let T=ce.resolve();return w.forEach((I=>{T=T.next((()=>y.getEntry(h,I))).next((L=>{const A=m.docVersions.get(I);ot(A!==null,48541),L.version.compareTo(A)<0&&(_.applyToRemoteDocument(L,m),L.isValidDocument()&&(L.setReadTime(m.commitVersion),y.addEntry(L)))}))})),T.next((()=>f.mutationQueue.removeMutationBatch(h,_)))})(t,n,e,o).next((()=>o.apply(n))).next((()=>t.mutationQueue.performConsistencyCheck(n))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(f){let h=Ke();for(let m=0;m<f.mutationResults.length;++m)f.mutationResults[m].transformResults.length>0&&(h=h.add(f.batch.mutations[m].key));return h})(e)))).next((()=>t.localDocuments.getDocuments(n,i)))}))}function CD(r){const e=ke(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function zP(r,e){const t=ke(r),n=e.snapshotVersion;let i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});i=t.Ms;const f=[];e.targetChanges.forEach(((y,_)=>{const w=i.get(_);if(!w)return;f.push(t.Pi.removeMatchingKeys(o,y.removedDocuments,_).next((()=>t.Pi.addMatchingKeys(o,y.addedDocuments,_))));let T=w.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?T=T.withResumeToken(En.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):y.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(y.resumeToken,n)),i=i.insert(_,T),(function(L,A,B){return L.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=HP?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(w,T,y)&&f.push(t.Pi.updateTargetData(o,T))}));let h=mi(),m=Ke();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(o,y))})),f.push(GP(o,c,e.documentUpdates).next((y=>{h=y.ks,m=y.qs}))),!n.isEqual(Ne.min())){const y=t.Pi.getLastRemoteSnapshotVersion(o).next((_=>t.Pi.setTargetsMetadata(o,o.currentSequenceNumber,n)));f.push(y)}return ce.waitFor(f).next((()=>c.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,h,m))).next((()=>h))})).then((o=>(t.Ms=i,o)))}function GP(r,e,t){let n=Ke(),i=Ke();return t.forEach((o=>n=n.add(o))),e.getEntries(r,n).next((o=>{let c=mi();return t.forEach(((f,h)=>{const m=o.get(f);h.isFoundDocument()!==m.isFoundDocument()&&(i=i.add(f)),h.isNoDocument()&&h.version.isEqual(Ne.min())?(e.removeEntry(f,h.readTime),c=c.insert(f,h)):!m.isValidDocument()||h.version.compareTo(m.version)>0||h.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(h),c=c.insert(f,h)):ve(Uv,"Ignoring outdated watch update for ",f,". Current version:",m.version," Watch version:",h.version)})),{ks:c,qs:i}}))}function QP(r,e){const t=ke(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=Cv),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function WP(r,e){const t=ke(r);return t.persistence.runTransaction("Allocate target","readwrite",(n=>{let i;return t.Pi.getTargetData(n,e).next((o=>o?(i=o,ce.resolve(i)):t.Pi.allocateTargetId(n).next((c=>(i=new ts(e,c,"TargetPurposeListen",n.currentSequenceNumber),t.Pi.addTargetData(n,i).next((()=>i)))))))})).then((n=>{const i=t.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(n.targetId,n),t.xs.set(e,n.targetId)),n}))}async function qy(r,e,t){const n=ke(r),i=n.Ms.get(e),o=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",o,(c=>n.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!lc(c))throw c;ve(Uv,`Failed to update sequence numbers for target ${e}: ${c}`)}n.Ms=n.Ms.remove(e),n.xs.delete(i.target)}function rT(r,e,t){const n=ke(r);let i=Ne.min(),o=Ke();return n.persistence.runTransaction("Execute query","readwrite",(c=>(function(h,m,y){const _=ke(h),w=_.xs.get(y);return w!==void 0?ce.resolve(_.Ms.get(w)):_.Pi.getTargetData(m,y)})(n,c,ga(e)).next((f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(c,f.targetId).next((h=>{o=h}))})).next((()=>n.Fs.getDocumentsMatchingQuery(c,e,t?i:Ne.min(),t?o:Ke()))).next((f=>(KP(n,kO(e),f),{documents:f,Qs:o})))))}function KP(r,e,t){let n=r.Os.get(e)||Ne.min();t.forEach(((i,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)})),r.Os.set(e,n)}class aT{constructor(){this.activeTargetIds=BO()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $P{constructor(){this.Mo=new aT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new aT,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT="ConnectivityMonitor";class sT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ve(iT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ve(iT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let th=null;function Yy(){return th===null?th=(function(){return 268435456+Math.round(2147483648*Math.random())})():th++,"0x"+th.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy="RestConnection",ZP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class JP{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===Lh?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(e,t,n,i,o){const c=Yy(),f=this.zo(e,t.toUriEncodedString());ve(sy,`Sending RPC '${e}' ${c}:`,f,n);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,i,o);const{host:m}=new URL(f),y=rc(m);return this.Jo(e,f,h,n,y).then((_=>(ve(sy,`Received RPC '${e}' ${c}: `,_),_)),(_=>{throw Bl(sy,`RPC '${e}' ${c} failed with error: `,_,"url: ",f,"request:",n),_}))}Ho(e,t,n,i,o,c){return this.Go(e,t,n,i,o)}jo(e,t,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+sc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((i,o)=>e[o]=i)),n&&n.headers.forEach(((i,o)=>e[o]=i))}zo(e,t){const n=ZP[e];return`${this.Uo}/v1/${t}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cn="WebChannelConnection";class t2 extends JP{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,i,o){const c=Yy();return new Promise(((f,h)=>{const m=new I1;m.setWithCredentials(!0),m.listenOnce(x1.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case gh.NO_ERROR:const _=m.getResponseJson();ve(Cn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(_)),f(_);break;case gh.TIMEOUT:ve(Cn,`RPC '${e}' ${c} timed out`),h(new pe(ie.DEADLINE_EXCEEDED,"Request time out"));break;case gh.HTTP_ERROR:const w=m.getStatus();if(ve(Cn,`RPC '${e}' ${c} failed with status:`,w,"response text:",m.getResponseText()),w>0){let T=m.getResponseJson();Array.isArray(T)&&(T=T[0]);const I=T?.error;if(I&&I.status&&I.message){const L=(function(B){const H=B.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(H)>=0?H:ie.UNKNOWN})(I.status);h(new pe(L,I.message))}else h(new pe(ie.UNKNOWN,"Server responded with status "+m.getStatus()))}else h(new pe(ie.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{ve(Cn,`RPC '${e}' ${c} completed.`)}}));const y=JSON.stringify(i);ve(Cn,`RPC '${e}' ${c} sending request:`,i),m.send(t,"POST",y,n,15)}))}T_(e,t,n){const i=Yy(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=k1(),f=N1(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(h.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,t,n),h.encodeInitMessageHeaders=!0;const y=o.join("");ve(Cn,`Creating RPC '${e}' stream ${i}: ${y}`,h);const _=c.createWebChannel(y,h);this.I_(_);let w=!1,T=!1;const I=new e2({Yo:A=>{T?ve(Cn,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(w||(ve(Cn,`Opening RPC '${e}' stream ${i} transport.`),_.open(),w=!0),ve(Cn,`RPC '${e}' stream ${i} sending:`,A),_.send(A))},Zo:()=>_.close()}),L=(A,B,H)=>{A.listen(B,(z=>{try{H(z)}catch(ee){setTimeout((()=>{throw ee}),0)}}))};return L(_,Au.EventType.OPEN,(()=>{T||(ve(Cn,`RPC '${e}' stream ${i} transport opened.`),I.o_())})),L(_,Au.EventType.CLOSE,(()=>{T||(T=!0,ve(Cn,`RPC '${e}' stream ${i} transport closed`),I.a_(),this.E_(_))})),L(_,Au.EventType.ERROR,(A=>{T||(T=!0,Bl(Cn,`RPC '${e}' stream ${i} transport errored. Name:`,A.name,"Message:",A.message),I.a_(new pe(ie.UNAVAILABLE,"The operation could not be completed")))})),L(_,Au.EventType.MESSAGE,(A=>{if(!T){const B=A.data[0];ot(!!B,16349);const H=B,z=H?.error||H[0]?.error;if(z){ve(Cn,`RPC '${e}' stream ${i} received error:`,z);const ee=z.status;let J=(function(D){const x=Wt[D];if(x!==void 0)return hD(x)})(ee),re=z.message;J===void 0&&(J=ie.INTERNAL,re="Unknown error status: "+ee+" with message "+z.message),T=!0,I.a_(new pe(J,re)),_.close()}else ve(Cn,`RPC '${e}' stream ${i} received:`,B),I.u_(B)}})),L(f,M1.STAT_EVENT,(A=>{A.stat===Ny.PROXY?ve(Cn,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===Ny.NOPROXY&&ve(Cn,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{I.__()}),0),I}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function oy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(r){return new iP(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e,t,n=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=t,this.d_=n,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-n);i>0&&ve("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="PersistentStream";class RD{constructor(e,t,n,i,o,c,f,h){this.Mi=e,this.S_=n,this.b_=i,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new AD(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?(pi(t.toString()),pi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,i])=>{this.D_===t&&this.G_(n,i)}),(n=>{e((()=>{const i=new pe(ie.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)}))}))}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{n((()=>this.z_(i)))})),this.stream.onMessage((i=>{n((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ve(oT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ve(oT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class n2 extends RD{constructor(e,t,n,i,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i,c),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=lP(this.serializer,e),n=(function(o){if(!("targetChange"in o))return Ne.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Ne.min():c.readTime?ya(c.readTime):Ne.min()})(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=Fy(this.serializer),t.addTarget=(function(o,c){let f;const h=c.target;if(f=Vy(h)?{documents:fP(o,h)}:{query:dP(o,h).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=gD(o,c.resumeToken);const m=By(o,c.expectedCount);m!==null&&(f.expectedCount=m)}else if(c.snapshotVersion.compareTo(Ne.min())>0){f.readTime=Hh(o,c.snapshotVersion.toTimestamp());const m=By(o,c.expectedCount);m!==null&&(f.expectedCount=m)}return f})(this.serializer,e);const n=pP(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=Fy(this.serializer),t.removeTarget=e,this.q_(t)}}class r2 extends RD{constructor(e,t,n,i,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i,c),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return ot(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ot(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ot(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=uP(e.writeResults,e.commitTime),n=ya(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=Fy(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((n=>cP(this.serializer,n)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{}class i2 extends a2{constructor(e,t,n,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new pe(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Go(e,jy(t,n),i,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new pe(ie.UNKNOWN,o.toString())}))}Ho(e,t,n,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Ho(e,jy(t,n),i,c,f,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new pe(ie.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class s2{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(pi(t),this.aa=!1):ve("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do="RemoteStore";class o2{constructor(e,t,n,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((c=>{n.enqueueAndForget((async()=>{Io(this)&&(ve(Do,"Restarting streams for network reachability change."),await(async function(h){const m=ke(h);m.Ea.add(4),await pf(m),m.Ra.set("Unknown"),m.Ea.delete(4),await Dp(m)})(this))}))})),this.Ra=new s2(n,i)}}async function Dp(r){if(Io(r))for(const e of r.da)await e(!0)}async function pf(r){for(const e of r.da)await e(!1)}function ID(r,e){const t=ke(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Fv(t)?Hv(t):uc(t).O_()&&jv(t,e))}function Bv(r,e){const t=ke(r),n=uc(t);t.Ia.delete(e),n.O_()&&xD(t,e),t.Ia.size===0&&(n.O_()?n.L_():Io(t)&&t.Ra.set("Unknown"))}function jv(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}uc(r).Y_(e)}function xD(r,e){r.Va.Ue(e),uc(r).Z_(e)}function Hv(r){r.Va=new tP({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),uc(r).start(),r.Ra.ua()}function Fv(r){return Io(r)&&!uc(r).x_()&&r.Ia.size>0}function Io(r){return ke(r).Ea.size===0}function MD(r){r.Va=void 0}async function l2(r){r.Ra.set("Online")}async function c2(r){r.Ia.forEach(((e,t)=>{jv(r,e)}))}async function u2(r,e){MD(r),Fv(r)?(r.Ra.ha(e),Hv(r)):r.Ra.set("Unknown")}async function f2(r,e,t){if(r.Ra.set("Online"),e instanceof mD&&e.state===2&&e.cause)try{await(async function(i,o){const c=o.cause;for(const f of o.targetIds)i.Ia.has(f)&&(await i.remoteSyncer.rejectListen(f,c),i.Ia.delete(f),i.Va.removeTarget(f))})(r,e)}catch(n){ve(Do,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await qh(r,n)}else if(e instanceof wh?r.Va.Ze(e):e instanceof pD?r.Va.st(e):r.Va.tt(e),!t.isEqual(Ne.min()))try{const n=await CD(r.localStore);t.compareTo(n)>=0&&await(function(o,c){const f=o.Va.Tt(c);return f.targetChanges.forEach(((h,m)=>{if(h.resumeToken.approximateByteSize()>0){const y=o.Ia.get(m);y&&o.Ia.set(m,y.withResumeToken(h.resumeToken,c))}})),f.targetMismatches.forEach(((h,m)=>{const y=o.Ia.get(h);if(!y)return;o.Ia.set(h,y.withResumeToken(En.EMPTY_BYTE_STRING,y.snapshotVersion)),xD(o,h);const _=new ts(y.target,h,m,y.sequenceNumber);jv(o,_)})),o.remoteSyncer.applyRemoteEvent(f)})(r,t)}catch(n){ve(Do,"Failed to raise snapshot:",n),await qh(r,n)}}async function qh(r,e,t){if(!lc(e))throw e;r.Ea.add(1),await pf(r),r.Ra.set("Offline"),t||(t=()=>CD(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ve(Do,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await Dp(r)}))}function ND(r,e){return e().catch((t=>qh(r,t,e)))}async function Cp(r){const e=ke(r),t=ps(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Cv;for(;d2(e);)try{const i=await QP(e.localStore,n);if(i===null){e.Ta.length===0&&t.L_();break}n=i.batchId,h2(e,i)}catch(i){await qh(e,i)}kD(e)&&OD(e)}function d2(r){return Io(r)&&r.Ta.length<10}function h2(r,e){r.Ta.push(e);const t=ps(r);t.O_()&&t.X_&&t.ea(e.mutations)}function kD(r){return Io(r)&&!ps(r).x_()&&r.Ta.length>0}function OD(r){ps(r).start()}async function p2(r){ps(r).ra()}async function m2(r){const e=ps(r);for(const t of r.Ta)e.ea(t.mutations)}async function g2(r,e,t){const n=r.Ta.shift(),i=Nv.from(n,e,t);await ND(r,(()=>r.remoteSyncer.applySuccessfulWrite(i))),await Cp(r)}async function y2(r,e){e&&ps(r).X_&&await(async function(n,i){if((function(c){return ZO(c)&&c!==ie.ABORTED})(i.code)){const o=n.Ta.shift();ps(n).B_(),await ND(n,(()=>n.remoteSyncer.rejectFailedWrite(o.batchId,i))),await Cp(n)}})(r,e),kD(r)&&OD(r)}async function lT(r,e){const t=ke(r);t.asyncQueue.verifyOperationInProgress(),ve(Do,"RemoteStore received new credentials");const n=Io(t);t.Ea.add(3),await pf(t),n&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Dp(t)}async function v2(r,e){const t=ke(r);e?(t.Ea.delete(2),await Dp(t)):e||(t.Ea.add(2),await pf(t),t.Ra.set("Unknown"))}function uc(r){return r.ma||(r.ma=(function(t,n,i){const o=ke(t);return o.sa(),new n2(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(r.datastore,r.asyncQueue,{Xo:l2.bind(null,r),t_:c2.bind(null,r),r_:u2.bind(null,r),H_:f2.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Fv(r)?Hv(r):r.Ra.set("Unknown")):(await r.ma.stop(),MD(r))}))),r.ma}function ps(r){return r.fa||(r.fa=(function(t,n,i){const o=ke(t);return o.sa(),new r2(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:p2.bind(null,r),r_:y2.bind(null,r),ta:m2.bind(null,r),na:g2.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Cp(r)):(await r.fa.stop(),r.Ta.length>0&&(ve(Do,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(e,t,n,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=o,this.deferred=new ai,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,i,o){const c=Date.now()+n,f=new qv(e,t,c,i,o);return f.start(n),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yv(r,e){if(pi("AsyncQueue",`${e}: ${r}`),lc(r))return new pe(ie.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{static emptySet(e){return new Ol(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Ce.comparator(t.key,n.key):(t,n)=>Ce.comparator(t.key,n.key),this.keyedMap=Ru(),this.sortedSet=new It(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ol)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=n.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new Ol;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(){this.ga=new It(Ce.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(t,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(t):e.type===1&&n.type===2?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):xe(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Yl{constructor(e,t,n,i,o,c,f,h,m){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=h,this.hasCachedResults=m}static fromInitialDocuments(e,t,n,i,o){const c=[];return t.forEach((f=>{c.push({type:0,doc:f})})),new Yl(e,t,Ol.emptySet(t),c,n,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==n[i].type||!t[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class w2{constructor(){this.queries=uT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,n){const i=ke(t),o=i.queries;i.queries=uT(),o.forEach(((c,f)=>{for(const h of f.Sa)h.onError(n)}))})(this,new pe(ie.ABORTED,"Firestore shutting down"))}}function uT(){return new Ro((r=>tD(r)),vp)}async function zv(r,e){const t=ke(r);let n=3;const i=e.query;let o=t.queries.get(i);o?!o.ba()&&e.Da()&&(n=2):(o=new _2,n=e.Da()?0:1);try{switch(n){case 0:o.wa=await t.onListen(i,!0);break;case 1:o.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(c){const f=Yv(c,`Initialization of query '${Cl(e.query)}' failed`);return void e.onError(f)}t.queries.set(i,o),o.Sa.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&Qv(t)}async function Gv(r,e){const t=ke(r),n=e.query;let i=3;const o=t.queries.get(n);if(o){const c=o.Sa.indexOf(e);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function E2(r,e){const t=ke(r);let n=!1;for(const i of e){const o=i.query,c=t.queries.get(o);if(c){for(const f of c.Sa)f.Fa(i)&&(n=!0);c.wa=i}}n&&Qv(t)}function b2(r,e,t){const n=ke(r),i=n.queries.get(e);if(i)for(const o of i.Sa)o.onError(t);n.queries.delete(e)}function Qv(r){r.Ca.forEach((e=>{e.next()}))}var zy,fT;(fT=zy||(zy={})).Ma="default",fT.Cache="cache";class Wv{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new Yl(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const n=t!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Yl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==zy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e){this.key=e}}class LD{constructor(e){this.key=e}}class T2{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ke(),this.mutatedKeys=Ke(),this.eu=nD(e),this.tu=new Ol(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new cT,i=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,c=i,f=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,m=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((y,_)=>{const w=i.get(y),T=_p(this.query,_)?_:null,I=!!w&&this.mutatedKeys.has(w.key),L=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let A=!1;w&&T?w.data.isEqual(T.data)?I!==L&&(n.track({type:3,doc:T}),A=!0):this.su(w,T)||(n.track({type:2,doc:T}),A=!0,(h&&this.eu(T,h)>0||m&&this.eu(T,m)<0)&&(f=!0)):!w&&T?(n.track({type:0,doc:T}),A=!0):w&&!T&&(n.track({type:1,doc:w}),A=!0,(h||m)&&(f=!0)),A&&(T?(c=c.add(T),o=L?o.add(y):o.delete(y)):(c=c.delete(y),o=o.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),o=o.delete(y.key),n.track({type:1,doc:y})}return{tu:c,iu:n,Cs:f,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((y,_)=>(function(T,I){const L=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Rt:A})}};return L(T)-L(I)})(y.type,_.type)||this.eu(y.doc,_.doc))),this.ou(n),i=i??!1;const f=t&&!i?this._u():[],h=this.Xa.size===0&&this.current&&!i?1:0,m=h!==this.Za;return this.Za=h,c.length!==0||m?{snapshot:new Yl(this.query,e.tu,o,c,e.mutatedKeys,h===0,m,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new cT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ke(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))}));const t=[];return e.forEach((n=>{this.Xa.has(n)||t.push(new LD(n))})),this.Xa.forEach((n=>{e.has(n)||t.push(new PD(n))})),t}cu(e){this.Ya=e.Qs,this.Xa=Ke();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Yl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Kv="SyncEngine";class S2{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class D2{constructor(e){this.key=e,this.hu=!1}}class C2{constructor(e,t,n,i,o,c){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ro((f=>tD(f)),vp),this.Iu=new Map,this.Eu=new Set,this.du=new It(Ce.comparator),this.Au=new Map,this.Ru=new Pv,this.Vu={},this.mu=new Map,this.fu=ql.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function A2(r,e,t=!0){const n=FD(r);let i;const o=n.Tu.get(e);return o?(n.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await VD(n,e,t,!0),i}async function R2(r,e){const t=FD(r);await VD(t,e,!0,!1)}async function VD(r,e,t,n){const i=await WP(r.localStore,ga(e)),o=i.targetId,c=r.sharedClientState.addLocalQueryTarget(o,t);let f;return n&&(f=await I2(r,e,o,c==="current",i.resumeToken)),r.isPrimaryClient&&t&&ID(r.remoteStore,i),f}async function I2(r,e,t,n,i){r.pu=(_,w,T)=>(async function(L,A,B,H){let z=A.view.ru(B);z.Cs&&(z=await rT(L.localStore,A.query,!1).then((({documents:M})=>A.view.ru(M,z))));const ee=H&&H.targetChanges.get(A.targetId),J=H&&H.targetMismatches.get(A.targetId)!=null,re=A.view.applyChanges(z,L.isPrimaryClient,ee,J);return hT(L,A.targetId,re.au),re.snapshot})(r,_,w,T);const o=await rT(r.localStore,e,!0),c=new T2(e,o.Qs),f=c.ru(o.documents),h=hf.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",i),m=c.applyChanges(f,r.isPrimaryClient,h);hT(r,t,m.au);const y=new S2(e,t,c);return r.Tu.set(e,y),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),m.snapshot}async function x2(r,e,t){const n=ke(r),i=n.Tu.get(e),o=n.Iu.get(i.targetId);if(o.length>1)return n.Iu.set(i.targetId,o.filter((c=>!vp(c,e)))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await qy(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),t&&Bv(n.remoteStore,i.targetId),Gy(n,i.targetId)})).catch(oc)):(Gy(n,i.targetId),await qy(n.localStore,i.targetId,!0))}async function M2(r,e){const t=ke(r),n=t.Tu.get(e),i=t.Iu.get(n.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),Bv(t.remoteStore,n.targetId))}async function N2(r,e,t){const n=B2(r);try{const i=await(function(c,f){const h=ke(c),m=Et.now(),y=f.reduce(((T,I)=>T.add(I.key)),Ke());let _,w;return h.persistence.runTransaction("Locally write mutations","readwrite",(T=>{let I=mi(),L=Ke();return h.Ns.getEntries(T,y).next((A=>{I=A,I.forEach(((B,H)=>{H.isValidDocument()||(L=L.add(B))}))})).next((()=>h.localDocuments.getOverlayedDocuments(T,I))).next((A=>{_=A;const B=[];for(const H of f){const z=QO(H,_.get(H.key).overlayedDocument);z!=null&&B.push(new Ss(H.key,z,Q1(z.value.mapValue),Bn.exists(!0)))}return h.mutationQueue.addMutationBatch(T,m,B,f)})).next((A=>{w=A;const B=A.applyToLocalDocumentSet(_,L);return h.documentOverlayCache.saveOverlays(T,A.batchId,B)}))})).then((()=>({batchId:w.batchId,changes:aD(_)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),(function(c,f,h){let m=c.Vu[c.currentUser.toKey()];m||(m=new It(We)),m=m.insert(f,h),c.Vu[c.currentUser.toKey()]=m})(n,i.batchId,t),await mf(n,i.changes),await Cp(n.remoteStore)}catch(i){const o=Yv(i,"Failed to persist write");t.reject(o)}}async function UD(r,e){const t=ke(r);try{const n=await zP(t.localStore,e);e.targetChanges.forEach(((i,o)=>{const c=t.Au.get(o);c&&(ot(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?c.hu=!0:i.modifiedDocuments.size>0?ot(c.hu,14607):i.removedDocuments.size>0&&(ot(c.hu,42227),c.hu=!1))})),await mf(t,n,e)}catch(n){await oc(n)}}function dT(r,e,t){const n=ke(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const i=[];n.Tu.forEach(((o,c)=>{const f=c.view.va(e);f.snapshot&&i.push(f.snapshot)})),(function(c,f){const h=ke(c);h.onlineState=f;let m=!1;h.queries.forEach(((y,_)=>{for(const w of _.Sa)w.va(f)&&(m=!0)})),m&&Qv(h)})(n.eventManager,e),i.length&&n.Pu.H_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function k2(r,e,t){const n=ke(r);n.sharedClientState.updateQueryState(e,"rejected",t);const i=n.Au.get(e),o=i&&i.key;if(o){let c=new It(Ce.comparator);c=c.insert(o,Rn.newNoDocument(o,Ne.min()));const f=Ke().add(o),h=new Tp(Ne.min(),new Map,new It(We),c,f);await UD(n,h),n.du=n.du.remove(o),n.Au.delete(e),$v(n)}else await qy(n.localStore,e,!1).then((()=>Gy(n,e,t))).catch(oc)}async function O2(r,e){const t=ke(r),n=e.batch.batchId;try{const i=await YP(t.localStore,e);jD(t,n,null),BD(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await mf(t,i)}catch(i){await oc(i)}}async function P2(r,e,t){const n=ke(r);try{const i=await(function(c,f){const h=ke(c);return h.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let y;return h.mutationQueue.lookupMutationBatch(m,f).next((_=>(ot(_!==null,37113),y=_.keys(),h.mutationQueue.removeMutationBatch(m,_)))).next((()=>h.mutationQueue.performConsistencyCheck(m))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(m,y,f))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y))).next((()=>h.localDocuments.getDocuments(m,y)))}))})(n.localStore,e);jD(n,e,t),BD(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await mf(n,i)}catch(i){await oc(i)}}function BD(r,e){(r.mu.get(e)||[]).forEach((t=>{t.resolve()})),r.mu.delete(e)}function jD(r,e,t){const n=ke(r);let i=n.Vu[n.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),n.Vu[n.currentUser.toKey()]=i}}function Gy(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.Iu.get(e))r.Tu.delete(n),t&&r.Pu.yu(n,t);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((n=>{r.Ru.containsKey(n)||HD(r,n)}))}function HD(r,e){r.Eu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(Bv(r.remoteStore,t),r.du=r.du.remove(e),r.Au.delete(t),$v(r))}function hT(r,e,t){for(const n of t)n instanceof PD?(r.Ru.addReference(n.key,e),L2(r,n)):n instanceof LD?(ve(Kv,"Document no longer in limbo: "+n.key),r.Ru.removeReference(n.key,e),r.Ru.containsKey(n.key)||HD(r,n.key)):xe(19791,{wu:n})}function L2(r,e){const t=e.key,n=t.path.canonicalString();r.du.get(t)||r.Eu.has(n)||(ve(Kv,"New document in limbo: "+t),r.Eu.add(n),$v(r))}function $v(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new Ce(wt.fromString(e)),n=r.fu.next();r.Au.set(n,new D2(t)),r.du=r.du.insert(t,n),ID(r.remoteStore,new ts(ga(yp(t.path)),n,"TargetPurposeLimboResolution",pp.ce))}}async function mf(r,e,t){const n=ke(r),i=[],o=[],c=[];n.Tu.isEmpty()||(n.Tu.forEach(((f,h)=>{c.push(n.pu(h,e,t).then((m=>{if((m||t)&&n.isPrimaryClient){const y=m?!m.fromCache:t?.targetChanges.get(h.targetId)?.current;n.sharedClientState.updateQueryState(h.targetId,y?"current":"not-current")}if(m){i.push(m);const y=Vv.As(h.targetId,m);o.push(y)}})))})),await Promise.all(c),n.Pu.H_(i),await(async function(h,m){const y=ke(h);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>ce.forEach(m,(w=>ce.forEach(w.Es,(T=>y.persistence.referenceDelegate.addReference(_,w.targetId,T))).next((()=>ce.forEach(w.ds,(T=>y.persistence.referenceDelegate.removeReference(_,w.targetId,T)))))))))}catch(_){if(!lc(_))throw _;ve(Uv,"Failed to update sequence numbers: "+_)}for(const _ of m){const w=_.targetId;if(!_.fromCache){const T=y.Ms.get(w),I=T.snapshotVersion,L=T.withLastLimboFreeSnapshotVersion(I);y.Ms=y.Ms.insert(w,L)}}})(n.localStore,o))}async function V2(r,e){const t=ke(r);if(!t.currentUser.isEqual(e)){ve(Kv,"User change. New user:",e.toKey());const n=await DD(t.localStore,e);t.currentUser=e,(function(o,c){o.mu.forEach((f=>{f.forEach((h=>{h.reject(new pe(ie.CANCELLED,c))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await mf(t,n.Ls)}}function U2(r,e){const t=ke(r),n=t.Au.get(e);if(n&&n.hu)return Ke().add(n.key);{let i=Ke();const o=t.Iu.get(e);if(!o)return i;for(const c of o){const f=t.Tu.get(c);i=i.unionWith(f.view.nu)}return i}}function FD(r){const e=ke(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=UD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=U2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=k2.bind(null,e),e.Pu.H_=E2.bind(null,e.eventManager),e.Pu.yu=b2.bind(null,e.eventManager),e}function B2(r){const e=ke(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=O2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=P2.bind(null,e),e}class Yh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sp(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return qP(this.persistence,new jP,e.initialUser,this.serializer)}Cu(e){return new SD(Lv.mi,this.serializer)}Du(e){return new $P}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yh.provider={build:()=>new Yh};class j2 extends Yh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){ot(this.persistence.referenceDelegate instanceof Fh,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new DP(n,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Yn.withCacheSize(this.cacheSizeBytes):Yn.DEFAULT;return new SD((n=>Fh.mi(n,t)),this.serializer)}}class Qy{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>dT(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=V2.bind(null,this.syncEngine),await v2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new w2})()}createDatastore(e){const t=Sp(e.databaseInfo.databaseId),n=(function(o){return new t2(o)})(e.databaseInfo);return(function(o,c,f,h){return new i2(o,c,f,h)})(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return(function(n,i,o,c,f){return new o2(n,i,o,c,f)})(this.localStore,this.datastore,e.asyncQueue,(t=>dT(this.syncEngine,t,0)),(function(){return sT.v()?new sT:new XP})())}createSyncEngine(e,t){return(function(i,o,c,f,h,m,y){const _=new C2(i,o,c,f,h,m);return y&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const n=ke(t);ve(Do,"RemoteStore shutting down."),n.Ea.add(5),await pf(n),n.Aa.shutdown(),n.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Qy.provider={build:()=>new Qy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):pi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms="FirestoreClient";class H2{constructor(e,t,n,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=An.UNAUTHENTICATED,this.clientId=Dv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(n,(async c=>{ve(ms,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(n,(c=>(ve(ms,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ai;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Yv(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function ly(r,e){r.asyncQueue.verifyOperationInProgress(),ve(ms,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener((async i=>{n.isEqual(i)||(await DD(e.localStore,i),n=i)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function pT(r,e){r.asyncQueue.verifyOperationInProgress();const t=await F2(r);ve(ms,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((n=>lT(e.remoteStore,n))),r.setAppCheckTokenChangeListener(((n,i)=>lT(e.remoteStore,i))),r._onlineComponents=e}async function F2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ve(ms,"Using user provided OfflineComponentProvider");try{await ly(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ie.FAILED_PRECONDITION||i.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;Bl("Error using user provided cache. Falling back to memory cache: "+t),await ly(r,new Yh)}}else ve(ms,"Using default OfflineComponentProvider"),await ly(r,new j2(void 0));return r._offlineComponents}async function qD(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ve(ms,"Using user provided OnlineComponentProvider"),await pT(r,r._uninitializedComponentsProvider._online)):(ve(ms,"Using default OnlineComponentProvider"),await pT(r,new Qy))),r._onlineComponents}function q2(r){return qD(r).then((e=>e.syncEngine))}async function zh(r){const e=await qD(r),t=e.eventManager;return t.onListen=A2.bind(null,e.syncEngine),t.onUnlisten=x2.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=R2.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=M2.bind(null,e.syncEngine),t}function Y2(r,e,t={}){const n=new ai;return r.asyncQueue.enqueueAndForget((async()=>(function(o,c,f,h,m){const y=new Xv({next:w=>{y.Nu(),c.enqueueAndForget((()=>Gv(o,_)));const T=w.docs.has(f);!T&&w.fromCache?m.reject(new pe(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&w.fromCache&&h&&h.source==="server"?m.reject(new pe(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(w)},error:w=>m.reject(w)}),_=new Wv(yp(f.path),y,{includeMetadataChanges:!0,qa:!0});return zv(o,_)})(await zh(r),r.asyncQueue,e,t,n))),n.promise}function z2(r,e,t={}){const n=new ai;return r.asyncQueue.enqueueAndForget((async()=>(function(o,c,f,h,m){const y=new Xv({next:w=>{y.Nu(),c.enqueueAndForget((()=>Gv(o,_))),w.fromCache&&h.source==="server"?m.reject(new pe(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(w)},error:w=>m.reject(w)}),_=new Wv(f,y,{includeMetadataChanges:!0,qa:!0});return zv(o,_)})(await zh(r),r.asyncQueue,e,t,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD="firestore.googleapis.com",gT=!0;class yT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=zD,this.ssl=gT}else this.host=e.host,this.ssl=e.ssl??gT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=TD;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<TP)throw new pe(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YD(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new pe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new pe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new pe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,i){return n.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ap{constructor(e,t,n,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new $k;switch(n.type){case"firstParty":return new eO(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new pe(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const n=mT.get(t);n&&(ve("ComponentProvider","Removing Datastore"),mT.delete(t),n.terminate())})(this),Promise.resolve()}}function G2(r,e,t,n={}){r=Un(r,Ap);const i=rc(e),o=r._getSettings(),c={...o,emulatorOptions:r._getEmulatorOptions()},f=`${e}:${t}`;i&&(jS(`https://${f}`),HS("Firestore",!0)),o.host!==zD&&o.host!==f&&Bl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...o,host:f,ssl:i,emulatorOptions:n};if(!wo(h,c)&&(r._setSettings(h),n.mockUserToken)){let m,y;if(typeof n.mockUserToken=="string")m=n.mockUserToken,y=An.MOCK_USER;else{m=lx(n.mockUserToken,r._app?.options.projectId);const _=n.mockUserToken.sub||n.mockUserToken.user_id;if(!_)throw new pe(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new An(_)}r._authCredentials=new Xk(new P1(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new _i(this.firestore,e,this._query)}}class Ot{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ss(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ot(this.firestore,e,this._key)}toJSON(){return{type:Ot._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(ff(t,Ot._jsonSchema))return new Ot(e,n||null,new Ce(wt.fromString(t.referencePath)))}}Ot._jsonSchemaVersion="firestore/documentReference/1.0",Ot._jsonSchema={type:$t("string",Ot._jsonSchemaVersion),referencePath:$t("string")};class ss extends _i{constructor(e,t,n){super(e,t,yp(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new Ce(e))}withConverter(e){return new ss(this.firestore,e,this._path)}}function nr(r,e,...t){if(r=qt(r),L1("collection","path",e),r instanceof Ap){const n=wt.fromString(e,...t);return xb(n),new ss(r,null,n)}{if(!(r instanceof Ot||r instanceof ss))throw new pe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(wt.fromString(e,...t));return xb(n),new ss(r.firestore,null,n)}}function je(r,e,...t){if(r=qt(r),arguments.length===1&&(e=Dv.newId()),L1("doc","path",e),r instanceof Ap){const n=wt.fromString(e,...t);return Ib(n),new Ot(r,null,new Ce(n))}{if(!(r instanceof Ot||r instanceof ss))throw new pe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(wt.fromString(e,...t));return Ib(n),new Ot(r.firestore,r instanceof ss?r.converter:null,new Ce(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="AsyncQueue";class _T{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new AD(this,"async_queue_retry"),this._c=()=>{const n=oy();n&&ve(vT,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const t=oy();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=oy();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new ai;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!lc(e))throw e;ve(vT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((n=>{throw this.nc=n,this.rc=!1,pi("INTERNAL UNHANDLED ERROR: ",wT(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const i=qv.createAndSchedule(this,e,t,n,(o=>this.hc(o)));return this.tc.push(i),i}uc(){this.nc&&xe(47125,{Pc:wT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,n)=>t.targetTimeMs-n.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function wT(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(r){return(function(t,n){if(typeof t!="object"||t===null)return!1;const i=t;for(const o of n)if(o in i&&typeof i[o]=="function")return!0;return!1})(r,["next","error","complete"])}class ba extends Ap{constructor(e,t,n,i){super(e,t,n,i),this.type="firestore",this._queue=new _T,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _T(e),this._firestoreClient=void 0,await e}}}function Q2(r,e){const t=typeof r=="object"?r:zS(),n=typeof r=="string"?r:Lh,i=mv(t,"firestore").getImmediate({identifier:n});if(!i._initialized){const o=sx("firestore");o&&G2(i,...o)}return i}function gf(r){if(r._terminated)throw new pe(ie.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||W2(r),r._firestoreClient}function W2(r){const e=r._freezeSettings(),t=(function(i,o,c,f){return new yO(i,o,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,YD(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new H2(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&(function(i){const o=i?._online.build();return{_offline:i?._offline.build(o),_online:o}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this._byteString=e}static fromBase64String(e){try{return new br(En.fromBase64String(e))}catch(t){throw new pe(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new br(En.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:br._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ff(e,br._jsonSchema))return br.fromBase64String(e.bytes)}}br._jsonSchemaVersion="firestore/bytes/1.0",br._jsonSchema={type:$t("string",br._jsonSchemaVersion),bytes:$t("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new pe(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _n(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new pe(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new pe(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:va._jsonSchemaVersion}}static fromJSON(e){if(ff(e,va._jsonSchema))return new va(e.latitude,e.longitude)}}va._jsonSchemaVersion="firestore/geoPoint/1.0",va._jsonSchema={type:$t("string",va._jsonSchemaVersion),latitude:$t("number"),longitude:$t("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,i){if(n.length!==i.length)return!1;for(let o=0;o<n.length;++o)if(n[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:_a._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ff(e,_a._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new _a(e.vectorValues);throw new pe(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}_a._jsonSchemaVersion="firestore/vectorValue/1.0",_a._jsonSchema={type:$t("string",_a._jsonSchemaVersion),vectorValues:$t("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2=/^__.*__$/;class $2{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new Ss(e,this.data,this.fieldMask,t,this.fieldTransforms):new df(e,this.data,t,this.fieldTransforms)}}class GD{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Ss(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function QD(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{Ac:r})}}class Zv{constructor(e,t,n,i,o,c){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Zv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.gc(e),n}yc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Gh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(QD(this.Ac)&&K2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class X2{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Sp(e)}Cc(e,t,n,i=!1){return new Zv({Ac:e,methodName:t,Dc:n,path:_n.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vf(r){const e=r._freezeSettings(),t=Sp(r._databaseId);return new X2(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Jv(r,e,t,n,i,o={}){const c=r.Cc(o.merge||o.mergeFields?2:0,e,t,i);t_("Data must be an object, but it was:",c,n);const f=$D(n,c);let h,m;if(o.merge)h=new rr(c.fieldMask),m=c.fieldTransforms;else if(o.mergeFields){const y=[];for(const _ of o.mergeFields){const w=Wy(e,_,t);if(!c.contains(w))throw new pe(ie.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);ZD(y,w)||y.push(w)}h=new rr(y),m=c.fieldTransforms.filter((_=>h.covers(_.field)))}else h=null,m=c.fieldTransforms;return new $2(new zn(f),h,m)}class _f extends Rp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _f}}class e_ extends Rp{_toFieldTransform(e){return new qO(e.path,new $u)}isEqual(e){return e instanceof e_}}function WD(r,e,t,n){const i=r.Cc(1,e,t);t_("Data must be an object, but it was:",i,n);const o=[],c=zn.empty();Ts(n,((h,m)=>{const y=n_(e,h,t);m=qt(m);const _=i.yc(y);if(m instanceof _f)o.push(y);else{const w=wf(m,_);w!=null&&(o.push(y),c.set(y,w))}}));const f=new rr(o);return new GD(c,f,i.fieldTransforms)}function KD(r,e,t,n,i,o){const c=r.Cc(1,e,t),f=[Wy(e,n,t)],h=[i];if(o.length%2!=0)throw new pe(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<o.length;w+=2)f.push(Wy(e,o[w])),h.push(o[w+1]);const m=[],y=zn.empty();for(let w=f.length-1;w>=0;--w)if(!ZD(m,f[w])){const T=f[w];let I=h[w];I=qt(I);const L=c.yc(T);if(I instanceof _f)m.push(T);else{const A=wf(I,L);A!=null&&(m.push(T),y.set(T,A))}}const _=new rr(m);return new GD(y,_,c.fieldTransforms)}function Z2(r,e,t,n=!1){return wf(t,r.Cc(n?4:3,e))}function wf(r,e){if(XD(r=qt(r)))return t_("Unsupported field value:",e,r),$D(r,e);if(r instanceof Rp)return(function(n,i){if(!QD(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(n,i){const o=[];let c=0;for(const f of n){let h=wf(f,i.wc(c));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),c++}return{arrayValue:{values:o}}})(r,e)}return(function(n,i){if((n=qt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return jO(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const o=Et.fromDate(n);return{timestampValue:Hh(i.serializer,o)}}if(n instanceof Et){const o=new Et(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Hh(i.serializer,o)}}if(n instanceof va)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof br)return{bytesValue:gD(i.serializer,n._byteString)};if(n instanceof Ot){const o=i.databaseId,c=n.firestore._databaseId;if(!c.isEqual(o))throw i.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Ov(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof _a)return(function(c,f){return{mapValue:{fields:{[z1]:{stringValue:G1},[Vh]:{arrayValue:{values:c.toArray().map((m=>{if(typeof m!="number")throw f.Sc("VectorValues must only contain numeric values.");return Mv(f.serializer,m)}))}}}}}})(n,i);throw i.Sc(`Unsupported field value: ${hp(n)}`)})(r,e)}function $D(r,e){const t={};return B1(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ts(r,((n,i)=>{const o=wf(i,e.mc(n));o!=null&&(t[n]=o)})),{mapValue:{fields:t}}}function XD(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Et||r instanceof va||r instanceof br||r instanceof Ot||r instanceof Rp||r instanceof _a)}function t_(r,e,t){if(!XD(t)||!V1(t)){const n=hp(t);throw n==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+n)}}function Wy(r,e,t){if((e=qt(e))instanceof yf)return e._internalPath;if(typeof e=="string")return n_(r,e);throw Gh("Field path arguments must be of type string or ",r,!1,void 0,t)}const J2=new RegExp("[~\\*/\\[\\]]");function n_(r,e,t){if(e.search(J2)>=0)throw Gh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new yf(...e.split("."))._internalPath}catch{throw Gh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Gh(r,e,t,n,i){const o=n&&!n.isEmpty(),c=i!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let h="";return(o||c)&&(h+=" (found",o&&(h+=` in field ${n}`),c&&(h+=` in document ${i}`),h+=")"),new pe(ie.INVALID_ARGUMENT,f+r+h)}function ZD(r,e){return r.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e,t,n,i,o){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new eL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ip("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class eL extends JD{data(){return super.data()}}function Ip(r,e){return typeof e=="string"?n_(r,e):e instanceof yf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new pe(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class r_{}class a_ extends r_{}function os(r,e,...t){let n=[];e instanceof r_&&n.push(e),n=n.concat(t),(function(o){const c=o.filter((h=>h instanceof i_)).length,f=o.filter((h=>h instanceof xp)).length;if(c>1||c>0&&f>0)throw new pe(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const i of n)r=i._apply(r);return r}class xp extends a_{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new xp(e,t,n)}_apply(e){const t=this._parse(e);return nC(e._query,t),new _i(e.firestore,e.converter,Uy(e._query,t))}_parse(e){const t=vf(e.firestore);return(function(o,c,f,h,m,y,_){let w;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new pe(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){TT(_,y);const I=[];for(const L of _)I.push(bT(h,o,L));w={arrayValue:{values:I}}}else w=bT(h,o,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||TT(_,y),w=Z2(f,c,_,y==="in"||y==="not-in");return Kt.create(m,y,w)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function zl(r,e,t){const n=e,i=Ip("where",r);return xp._create(i,n,t)}class i_ extends r_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new i_(e,t)}_parse(e){const t=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return t.length===1?t[0]:Lr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(i,o){let c=i;const f=o.getFlattenedFilters();for(const h of f)nC(c,h),c=Uy(c,h)})(e._query,t),new _i(e.firestore,e.converter,Uy(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class s_ extends a_{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new s_(e,t)}_apply(e){const t=(function(i,o,c){if(i.startAt!==null)throw new pe(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new pe(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ku(o,c)})(e._query,this._field,this._direction);return new _i(e.firestore,e.converter,(function(i,o){const c=i.explicitOrderBy.concat([o]);return new cc(i.path,i.collectionGroup,c,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,t))}}function tL(r,e="asc"){const t=e,n=Ip("orderBy",r);return s_._create(n,t)}class o_ extends a_{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new o_(e,t,n)}_apply(e){return new _i(e.firestore,e.converter,Bh(e._query,this._limit,this._limitType))}}function tC(r){return o_._create("limit",r,"F")}function bT(r,e,t){if(typeof(t=qt(t))=="string"){if(t==="")throw new pe(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eD(e)&&t.indexOf("/")!==-1)throw new pe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(wt.fromString(t));if(!Ce.isDocumentKey(n))throw new pe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Ub(r,new Ce(n))}if(t instanceof Ot)return Ub(r,t._key);throw new pe(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hp(t)}.`)}function TT(r,e){if(!Array.isArray(r)||r.length===0)throw new pe(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function nC(r,e){const t=(function(i,o){for(const c of i)for(const f of c.getFlattenedFilters())if(o.indexOf(f.op)>=0)return f.op;return null})(r.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new pe(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class nL{convertValue(e,t="none"){switch(hs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ds(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return Ts(e,((i,o)=>{n[i]=this.convertValue(o,t)})),n}convertVectorValue(e){const t=e.fields?.[Vh].arrayValue?.values?.map((n=>Bt(n.doubleValue)));return new _a(t)}convertGeoPoint(e){return new va(Bt(e.latitude),Bt(e.longitude))}convertArray(e,t){return(e.values||[]).map((n=>this.convertValue(n,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=gp(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Gu(e));default:return null}}convertTimestamp(e){const t=fs(e);return new Et(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=wt.fromString(e);ot(bD(n),9688,{name:e});const i=new Qu(n.get(1),n.get(3)),o=new Ce(n.popFirst(5));return i.isEqual(t)||pi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l_(r,e,t){let n;return n=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,n}class xu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ho extends JD{constructor(e,t,n,i,o,c){super(e,t,n,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Ip("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ho._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ho._jsonSchemaVersion="firestore/documentSnapshot/1.0",ho._jsonSchema={type:$t("string",ho._jsonSchemaVersion),bundleSource:$t("string","DocumentSnapshot"),bundleName:$t("string"),bundle:$t("string")};class Eh extends ho{data(e={}){return super.data(e)}}class po{constructor(e,t,n,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new xu(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Eh(this._firestore,this._userDataWriter,n.key,n,new xu(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new pe(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let c=0;return i._snapshot.docChanges.map((f=>{const h=new Eh(i._firestore,i._userDataWriter,f.doc.key,f.doc,new xu(i._snapshot.mutatedKeys.has(f.doc.key),i._snapshot.fromCache),i.query.converter);return f.doc,{type:"added",doc:h,oldIndex:-1,newIndex:c++}}))}{let c=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((f=>o||f.type!==3)).map((f=>{const h=new Eh(i._firestore,i._userDataWriter,f.doc.key,f.doc,new xu(i._snapshot.mutatedKeys.has(f.doc.key),i._snapshot.fromCache),i.query.converter);let m=-1,y=-1;return f.type!==0&&(m=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),y=c.indexOf(f.doc.key)),{type:rL(f.type),doc:h,oldIndex:m,newIndex:y}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=po._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Dv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],i=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),n.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function rL(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gs(r){r=Un(r,Ot);const e=Un(r.firestore,ba);return Y2(gf(e),r._key).then((t=>aC(e,r,t)))}po._jsonSchemaVersion="firestore/querySnapshot/1.0",po._jsonSchema={type:$t("string",po._jsonSchemaVersion),bundleSource:$t("string","QuerySnapshot"),bundleName:$t("string"),bundle:$t("string")};class c_ extends nL{constructor(e){super(),this.firestore=e}convertBytes(e){return new br(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,t)}}function fa(r){r=Un(r,_i);const e=Un(r.firestore,ba),t=gf(e),n=new c_(e);return eC(r._query),z2(t,r._query).then((i=>new po(e,n,r,i)))}function xo(r,e,t){r=Un(r,Ot);const n=Un(r.firestore,ba),i=l_(r.converter,e,t);return Ef(n,[Jv(vf(n),"setDoc",r._key,i,r.converter!==null,t).toMutation(r._key,Bn.none())])}function Gl(r,e,t,...n){r=Un(r,Ot);const i=Un(r.firestore,ba),o=vf(i);let c;return c=typeof(e=qt(e))=="string"||e instanceof yf?KD(o,"updateDoc",r._key,e,t,n):WD(o,"updateDoc",r._key,e),Ef(i,[c.toMutation(r._key,Bn.exists(!0))])}function aL(r){return Ef(Un(r.firestore,ba),[new bp(r._key,Bn.none())])}function rC(r,e){const t=Un(r.firestore,ba),n=je(r),i=l_(r.converter,e);return Ef(t,[Jv(vf(r.firestore),"addDoc",n._key,i,r.converter!==null,{}).toMutation(n._key,Bn.exists(!1))]).then((()=>n))}function Mu(r,...e){r=qt(r);let t={includeMetadataChanges:!1,source:"default"},n=0;typeof e[n]!="object"||ET(e[n])||(t=e[n++]);const i={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(ET(e[n])){const h=e[n];e[n]=h.next?.bind(h),e[n+1]=h.error?.bind(h),e[n+2]=h.complete?.bind(h)}let o,c,f;if(r instanceof Ot)c=Un(r.firestore,ba),f=yp(r._key.path),o={next:h=>{e[n]&&e[n](aC(c,r,h))},error:e[n+1],complete:e[n+2]};else{const h=Un(r,_i);c=Un(h.firestore,ba),f=h._query;const m=new c_(c);o={next:y=>{e[n]&&e[n](new po(c,m,h,y))},error:e[n+1],complete:e[n+2]},eC(r._query)}return(function(m,y,_,w){const T=new Xv(w),I=new Wv(y,T,_);return m.asyncQueue.enqueueAndForget((async()=>zv(await zh(m),I))),()=>{T.Nu(),m.asyncQueue.enqueueAndForget((async()=>Gv(await zh(m),I)))}})(gf(c),f,i,o)}function Ef(r,e){return(function(n,i){const o=new ai;return n.asyncQueue.enqueueAndForget((async()=>N2(await q2(n),i,o))),o.promise})(gf(r),e)}function aC(r,e,t){const n=t.docs.get(e._key),i=new c_(r);return new ho(r,i,e._key,n,new xu(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=vf(e)}set(e,t,n){this._verifyNotCommitted();const i=cy(e,this._firestore),o=l_(i.converter,t,n),c=Jv(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,n);return this._mutations.push(c.toMutation(i._key,Bn.none())),this}update(e,t,n,...i){this._verifyNotCommitted();const o=cy(e,this._firestore);let c;return c=typeof(t=qt(t))=="string"||t instanceof yf?KD(this._dataReader,"WriteBatch.update",o._key,t,n,i):WD(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(c.toMutation(o._key,Bn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=cy(e,this._firestore);return this._mutations=this._mutations.concat(new bp(t._key,Bn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new pe(ie.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function cy(r,e){if((r=qt(r)).firestore!==e)throw new pe(ie.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(){return new _f("deleteField")}function Qh(){return new e_("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(r){return gf(r=Un(r,ba)),new iL(r,(e=>Ef(r,e)))}(function(e,t=!0){(function(i){sc=i})(ac),Ul(new Eo("firestore",((n,{instanceIdentifier:i,options:o})=>{const c=n.getProvider("app").getImmediate(),f=new ba(new Zk(n.getProvider("auth-internal")),new tO(c,n.getProvider("app-check-internal")),(function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new pe(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qu(m.options.projectId,y)})(c,i),c);return o={useFetchStreams:t,...o},f._setSettings(o),f}),"PUBLIC").setMultipleInstances(!0)),as(Db,Cb,e),as(Db,Cb,"esm2020")})();var sL="firebase",oL="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */as(sL,oL,"app");const lL={apiKey:"AIzaSyCSI3fz-q0yaaOKhjdSIz0-2GLxXbSlSnU",authDomain:"balance-app-789fc.firebaseapp.com",projectId:"balance-app-789fc",storageBucket:"balance-app-789fc.firebasestorage.app",messagingSenderId:"715855398123",appId:"1:715855398123:web:5550df6e662206bf14aaae"},iC=YS(lL),jt=Wk(iC),De=Q2(iC),cL="_authContainer_1psqr_15",uL="_authContent_1psqr_31",fL="_formWrapper_1psqr_45",dL="_authFooter_1psqr_53",hL="_authTitle_1psqr_67",pL="_authInput_1psqr_85",mL="_authToggleLink_1psqr_131",gL="_errorMessage_1psqr_157",yL="_authButton_1psqr_177",kt={authContainer:cL,authContent:uL,formWrapper:fL,authFooter:dL,authTitle:hL,authInput:pL,authToggleLink:mL,errorMessage:gL,authButton:yL};function vL(){const[r,e]=N.useState(""),[t,n]=N.useState(""),[i,o]=N.useState("");yi();const c=async f=>{if(f.preventDefault(),o(""),!r||!t){o("   .");return}try{await kN(jt,r,t)}catch(h){console.error("Login Error:",h),o("   .")}};return C.jsx("div",{className:kt.authContainer,children:C.jsxs("div",{className:kt.authContent,children:[C.jsxs("form",{className:kt.formWrapper,onSubmit:c,children:[C.jsx("h2",{className:kt.authTitle,children:" !"}),C.jsx("input",{type:"email",className:kt.authInput,value:r,onChange:f=>e(f.target.value),placeholder:"","aria-label":""}),C.jsx("input",{type:"password",className:kt.authInput,value:t,onChange:f=>n(f.target.value),placeholder:"","aria-label":""})]}),C.jsxs("div",{className:kt.authFooter,children:[i&&C.jsx("p",{className:kt.errorMessage,children:i}),C.jsx("button",{type:"submit",className:kt.authButton,onClick:c,children:""}),C.jsxs("p",{className:kt.authToggleLink,children:[" ? ",C.jsx(fi,{to:"/signup",children:""})]})]})]})})}function _L(){const[r,e]=N.useState(""),[t,n]=N.useState(""),[i,o]=N.useState(""),[c,f]=N.useState(""),[h,m]=N.useState(""),y=async _=>{if(_.preventDefault(),m(""),!r||!t||!i||!c){m("  .");return}if(i!==c){m("  .");return}if(i.length<6){m(" 6  .");return}try{const T=(await NN(jt,t,i)).user;await xo(je(De,"users",T.uid),{uid:T.uid,realName:r.trim(),email:t,surveyCompleted:!1})}catch(w){console.error("Sign Up Error:",w),w.code==="auth/email-already-in-use"?m("   ."):w.code==="auth/invalid-email"?m("   ."):m("   .  .")}};return C.jsx("div",{className:kt.authContainer,children:C.jsxs("div",{className:kt.authContent,children:[C.jsxs("form",{className:kt.formWrapper,onSubmit:y,children:[C.jsx("h2",{className:kt.authTitle,children:"?"}),C.jsx("input",{className:kt.authInput,value:r,onChange:_=>e(_.target.value),placeholder:"","aria-label":""}),C.jsx("input",{type:"email",className:kt.authInput,value:t,onChange:_=>n(_.target.value),placeholder:"","aria-label":""}),C.jsx("input",{type:"password",className:kt.authInput,value:i,onChange:_=>o(_.target.value),placeholder:" (6 )","aria-label":""}),C.jsx("input",{type:"password",className:kt.authInput,value:c,onChange:_=>f(_.target.value),placeholder:" ","aria-label":" "})]}),C.jsxs("div",{className:kt.authFooter,children:[h&&C.jsx("p",{className:kt.errorMessage,children:h}),C.jsx("button",{type:"submit",className:kt.authButton,onClick:y,children:""}),C.jsxs("p",{className:kt.authToggleLink,children:["  ? ",C.jsx(fi,{to:"/login",children:""})]})]})]})})}const ST=[{text:"   ,    ?",answers:[{text:"   ",effects:{SHO:1,DRI:1}},{text:"   ",effects:{PAS:1.5}}]},{text:"    ?",answers:[{text:"   ",effects:{PAC:2}},{text:"    ",effects:{DRI:2}}]},{text:"   ?",answers:[{text:"   ",effects:{PAC:1,SHO:1}},{text:"   ",effects:{DRI:1,PAS:1}}]},{text:"    ?",answers:[{text:"   ",effects:{DEF:1,PAC:.5}},{text:"    ",effects:{SHO:.5,DEF:-.5}}]}],DT=[{text:"    ?",answers:[{text:"  ",effects:{PAC:1.5,DEF:.5}},{text:"   ",effects:{DEF:2}}]},{text:"    ?",answers:[{text:"    ",effects:{PAC:1,PAS:1}},{text:"   ",effects:{DRI:1,PAS:1}}]},{text:"    ?",answers:[{text:" 11  ",effects:{DEF:1.5}},{text:"     ",effects:{DEF:1,PAS:.5}}]},{text:"   ?",answers:[{text:"   ",effects:{PAC:1,PAS:1,DEF:-.5}},{text:"   ",effects:{DEF:1.5,PHY:.5}}]}],nh={ST:[{text:"   ?",answers:[{text:"  ",effects:{SHO:1.5,PAC:.5}},{text:"   ",effects:{PHY:1,SHO:1}}]},{text:"  ,  ?",answers:[{text:" ",effects:{PHY:1.5}},{text:"  ",effects:{PAC:1,DRI:.5}}]},{text:"     ?",answers:[{text:" ",effects:{PAC:1.5}},{text:"    ",effects:{PAS:1,DRI:.5}}]},{text:"     ?",answers:[{text:"  ",effects:{SHO:2}},{text:"    ",effects:{DRI:1.5,SHO:.5}}]}],LW:ST,RW:ST,CAM:[{text:"     ?",answers:[{text:" ",effects:{PAS:2}},{text:"  ",effects:{DRI:2}}]},{text:"     ?",answers:[{text:"    ",effects:{SHO:1.5}},{text:"    ",effects:{PAS:1.5}}]},{text:"   ?",answers:[{text:"   ",effects:{DRI:1,PAS:1}},{text:"   ",effects:{PAC:1,SHO:1}}]},{text:"      ?",answers:[{text:"  ",effects:{DRI:1.5}},{text:" 21 ",effects:{PAS:1.5}}]}],CM:[{text:"    ?",answers:[{text:"     ",effects:{PAS:1.5,PAC:.5}},{text:"    ",effects:{PAS:1,DRI:1}}]},{text:"   ?",answers:[{text:"  ",effects:{PAS:1,SHO:.5,DEF:-.5}},{text:"  ",effects:{DEF:1,PHY:.5,PAS:-.5}}]},{text:"     ?",answers:[{text:"   ",effects:{PAS:2}},{text:"   ",effects:{PHY:1.5,PAC:.5}}]},{text:"   ?",answers:[{text:"  ",effects:{DRI:1.5}},{text:"  ",effects:{DEF:1.5}}]}],CDM:[{text:"    ?",answers:[{text:"   ",effects:{DEF:1,PHY:1}},{text:"   ",effects:{PAC:1,DEF:1}}]},{text:"     ?",answers:[{text:"   ",effects:{DEF:2}},{text:"   ",effects:{DEF:1,PHY:1}}]},{text:"      ?",answers:[{text:"   ",effects:{PAS:1.5}},{text:"     ",effects:{PAS:1.5,PHY:-.5}}]},{text:"     ?",answers:[{text:"     ",effects:{DEF:2}},{text:"   ",effects:{PHY:1.5,PAC:.5}}]}],LB:DT,RB:DT,CB:[{text:"    ?",answers:[{text:"   ",effects:{DEF:2,PAC:-.5}},{text:"  ",effects:{DEF:1,PHY:1.5}}]},{text:"   ?",answers:[{text:"   ",effects:{PAS:1,DEF:.5}},{text:"   ",effects:{PAS:2}}]},{text:"    ?",answers:[{text:" ",effects:{PHY:2,DEF:.5}},{text:"    ",effects:{PAC:1,DEF:1.5}}]},{text:"     ?",answers:[{text:"  ",effects:{DEF:1,PAS:.5}},{text:"    ",effects:{DEF:1.5,PHY:.5}}]}],GK:[{text:" 11  ,  ?",answers:[{text:"   ",effects:{DEF:2,PHY:-.5}},{text:"   ",effects:{PAC:1,DEF:1.5}}]},{text:"      ?",answers:[{text:"  ()",effects:{DEF:1.5,PHY:.5}},{text:"  ()",effects:{DEF:2}}]},{text:"    ?",answers:[{text:"   ",effects:{PAS:2,DEF:-.5}},{text:"   ",effects:{PAS:1.5}}]},{text:"  ,  ?",answers:[{text:"   ",effects:{PHY:1.5,DEF:1}},{text:"   ",effects:{DEF:2}}]}]},wL=.8,EL=.2,bL=60,CT={ST:{PAC:1.1,SHO:1.4,PAS:1,DRI:1.2,DEF:.7,PHY:1.1},CAM:{PAC:1,SHO:1,PAS:1.4,DRI:1.2,DEF:.8,PHY:.9},CM:{PAC:.9,SHO:1,PAS:1.4,DRI:1.1,DEF:1,PHY:1},CDM:{PAC:.9,SHO:.8,PAS:1.1,DRI:.9,DEF:1.5,PHY:1.2},CB:{PAC:.8,SHO:.7,PAS:.9,DRI:.8,DEF:1.6,PHY:1.3},LB:{PAC:1.1,SHO:.7,PAS:1,DRI:1,DEF:1.4,PHY:1.1},LW:{PAC:1.3,SHO:1.2,PAS:1.1,DRI:1.4,DEF:.8,PHY:.9}},TL=(r,e)=>{let t=0,n=0,i=0;for(let c=0;c<r.length;c++)t+=r[c]*e[c],n+=r[c]**2,i+=e[c]**2;const o=Math.sqrt(n)*Math.sqrt(i);return o===0?0:t/o},SL=(r,e)=>{let t=0;for(let n=0;n<r.length;n++)t+=(r[n]-e[n])**2;return Math.sqrt(t)},DL=(r,e=25)=>1-Math.min(r/e,1),AT=(r,e)=>{let t=e;e==="RW"&&(t="LW"),e==="RB"&&(t="LB");const n=CT[t]?CT[t]:{PAC:1,SHO:1,PAS:1,DRI:1,DEF:1,PHY:1};return["PAC","SHO","PAS","DRI","DEF","PHY"].map(o=>(r[o]??bL)*(n[o]||1))},CL=(r,e,t)=>{if(!r||!e||!t)return[];const n=AT(r,t);return e.map(o=>{const c=AT(o,t),f=TL(n,c),h=SL(n,c),m=DL(h),y=wL*f+EL*m;return{name:o.Name,team:o.Team,ovr:o.OVR,score:y}}).sort((o,c)=>c.score-o.score).slice(0,5)},AL="_surveyContainer_1sg9s_13",RL="_progressBarContainer_1sg9s_29",IL="_progressBar_1sg9s_29",xL="_questionContent_1sg9s_61",ML="_questionText_1sg9s_93",NL="_answerFooter_1sg9s_107",kL="_positionFormation_1sg9s_121",OL="_positionLine_1sg9s_133",PL="_positionCard_1sg9s_145",LL="_answerButton_1sg9s_193",VL="_centeredContainer_1sg9s_247",UL="_analysisTitle_1sg9s_267",BL="_analysisSubtitle_1sg9s_279",jL="_errorMessage_1sg9s_291",vn={surveyContainer:AL,progressBarContainer:RL,progressBar:IL,questionContent:xL,questionText:ML,answerFooter:NL,positionFormation:kL,positionLine:OL,positionCard:PL,answerButton:LL,centeredContainer:VL,analysisTitle:UL,analysisSubtitle:BL,errorMessage:jL},HL=[["LW","ST","RW"],["CAM","CM","CDM"],["LB","CB","RB"],["GK"]],FL=60,qL=({onSelect:r})=>C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:vn.questionContent,children:[C.jsx("p",{children:"Q0."}),C.jsx("h2",{className:vn.questionText,children:"   ?"})]}),C.jsx("div",{className:vn.answerFooter,children:C.jsx("div",{className:vn.positionFormation,children:HL.map((e,t)=>C.jsx("div",{className:vn.positionLine,children:e.map(n=>C.jsx("button",{className:vn.positionCard,onClick:()=>r(n),children:n},n))},t))})})]}),YL=({question:r,onAnswer:e,questionNumber:t,totalQuestions:n})=>C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:vn.questionContent,children:[C.jsxs("p",{children:["Q",t,"."]}),C.jsx("h2",{className:vn.questionText,children:r.text})]}),C.jsx("div",{className:vn.answerFooter,children:r.answers.map((i,o)=>C.jsx("button",{className:vn.answerButton,onClick:()=>e(i.effects),children:i.text},o))})]}),zL=()=>C.jsxs("div",{className:vn.centeredContainer,children:[C.jsx("h2",{className:vn.analysisTitle,children:" ..."}),C.jsx("p",{className:vn.analysisSubtitle,children:"     ."})]});function GL({userProfile:r}){const[e,t]=N.useState("position"),[n,i]=N.useState(null),[o,c]=N.useState([]),[f,h]=N.useState(0),[m,y]=N.useState({PAC:0,SHO:0,PAS:0,DRI:0,DEF:0,PHY:0}),[_,w]=N.useState(""),T=yi();N.useEffect(()=>{if(e!=="answering"||!n)return;if(n==="GK"){const D=nh.GK||[];c(D.sort(()=>.5-Math.random()).slice(0,5));return}let ee=["RW","RB"].includes(n)?n.replace("R","L"):n;const J=nh[ee]||[];let re=[];for(const D in nh)D!==ee&&D!=="GK"&&re.push(...nh[D]);const M=re.sort(()=>.5-Math.random()).slice(0,6);c([...J,...M].sort(()=>.5-Math.random()))},[e,n]),N.useEffect(()=>{o.length>0&&f===o.length&&A()},[f,o]);const I=ee=>{i(ee),t("answering")},L=ee=>{const J={...m};for(const re in ee)re in J&&(J[re]+=ee[re]);y(J),h(re=>re+1)},A=async()=>{t("analyzing"),w("");const ee=jt.currentUser;if(!ee){w("    .  ."),t("position");return}try{const J=Object.keys(m).reduce((j,k)=>(j[k]=FL+Math.round(m[k]),j),{}),re=nr(De,"players"),M=os(re,zl("Position","==",n)),D=await fa(M);if(D.empty)throw new Error(`'${n}'     .`);const x=D.docs.map(j=>j.data()),P=CL(J,x,n),U=je(De,"users",ee.uid);if(await Gl(U,{surveyCompleted:!0,stats:J,preferredPosition:n,recommendedPlayers:P}),r?.teamId){const j=je(De,"teams",r.teamId,"members",ee.uid);await xo(j,{position:n},{merge:!0})}T("/")}catch(J){console.error("Survey Processing Error:",J),w(`   : ${J.message}`),t("position")}},B=o.length||(n==="GK"?5:10),H=f/B*100,z=()=>{switch(e){case"answering":const ee=o[f];return ee?C.jsx(YL,{question:ee,onAnswer:L,questionNumber:f+1,totalQuestions:B}):null;case"analyzing":return C.jsx(zL,{});case"position":default:return C.jsx(qL,{onSelect:I})}};return C.jsxs("div",{className:vn.surveyContainer,children:[C.jsx("div",{className:vn.progressBarContainer,children:C.jsx("div",{className:vn.progressBar,style:{width:`${H}%`}})}),_&&C.jsx("p",{className:vn.errorMessage,children:_}),z()]})}const QL="_overlay_j83m3_13",WL="_modal_j83m3_35",KL="_modalHeader_j83m3_59",$L="_closeButton_j83m3_91",XL="_form_j83m3_119",ZL="_description_j83m3_135",JL="_questionBlock_j83m3_163",eV="_error_j83m3_239",tV="_submitButton_j83m3_259",$a={overlay:QL,modal:WL,modalHeader:KL,closeButton:$L,form:XL,description:ZL,questionBlock:JL,error:eV,submitButton:tV},nV="_dropdownContainer_m57v0_11",rV="_dropdownHeader_m57v0_23",aV="_dropdownValue_m57v0_63",iV="_placeholder_m57v0_71",sV="_dropdownList_m57v0_79",oV="_dropdownItem_m57v0_113",lV="_arrow_m57v0_139",cV="_down_m57v0_157",uV="_up_m57v0_163",Xa={dropdownContainer:nV,dropdownHeader:rV,dropdownValue:aV,placeholder:iV,dropdownList:sV,dropdownItem:oV,arrow:lV,down:cV,up:uV},sC=({options:r,placeholder:e,value:t,onChange:n})=>{const[i,o]=N.useState(!1),c=N.useRef(null),f=m=>{n?.(m),o(!1)},h=(m,y)=>{(m.key==="Enter"||m.key===" ")&&(m.preventDefault(),f(y))};return N.useEffect(()=>{const m=_=>{c.current&&!c.current.contains(_.target)&&o(!1)},y=_=>{_.key==="Escape"&&o(!1)};return document.addEventListener("mousedown",m),document.addEventListener("keydown",y),()=>{document.removeEventListener("mousedown",m),document.removeEventListener("keydown",y)}},[]),C.jsxs("div",{className:Xa.dropdownContainer,ref:c,children:[C.jsxs("button",{type:"button",className:Xa.dropdownHeader,onClick:()=>o(m=>!m),"aria-haspopup":"listbox","aria-expanded":i,children:[t?C.jsx("span",{className:Xa.dropdownValue,children:t}):C.jsx("span",{className:Xa.placeholder,children:e||"..."}),C.jsx("span",{className:`${Xa.arrow} ${i?Xa.up:Xa.down}`})]}),i&&C.jsx("ul",{className:Xa.dropdownList,role:"listbox",children:r.map(m=>C.jsx("li",{role:"option","aria-selected":m===t,className:Xa.dropdownItem,onClick:()=>f(m),onKeyDown:y=>h(y,m),tabIndex:0,children:m},m))})]})},RT=1,bu=[{id:"bomber",text:"  (Best Attacker)",stat:"SHO"},{id:"midfielder",text:"   (MVP)",stat:"PAS"},{id:"defender",text:"  (Best Defender)",stat:"DEF"},{id:"goalkeeper",text:"  (Best Goalkeeper)",stat:"PHY"}],oC=({teamId:r,match:e,attendees:t=[],onClose:n})=>{const[i,o]=N.useState({}),[c,f]=N.useState(""),[h,m]=N.useState(!1),{playerOptionsList:y,uidToNameMap:_,nameToUidMap:w}=N.useMemo(()=>{const A=[],B=new Map,H=new Map;for(const z of t){const ee=`${z.name} (${z.pos||"N/A"})`;A.push(ee),B.set(z.uid,ee),H.set(ee,z.uid)}return A.sort(),{playerOptionsList:A,uidToNameMap:B,nameToUidMap:H}},[t]),T=(A,B)=>{const H=w.get(B);H&&o(z=>({...z,[A]:H}))},I=async(A,B,H)=>{try{const z={};bu.forEach(M=>{z[M.id]={}});for(const M of B)bu.forEach(D=>{const x=M[D.id];x&&(z[D.id][x]=(z[D.id][x]||0)+1)});const ee={},J=(M,D)=>{const P=(H.get(M)||{})[D]||60;ee[M]||(ee[M]={}),ee[M][`stats.${D}`]=P+1};bu.forEach(M=>{const D=z[M.id];for(const x in D)D[x]>=RT&&J(x,M.stat)});for(const M in ee){const D=je(De,"users",M);A.update(D,ee[M])}const re=je(De,"teams",r,"matches",e.id);A.update(re,{statsCalculated:!0})}catch(z){throw console.error("    :",z),new Error("  ")}},L=async A=>{if(A.preventDefault(),Object.keys(i).length<bu.length){f("  .");return}const B=jt.currentUser?.uid;if(!(!B||!r||!e?.id)){m(!0),f("");try{const H=Nu(De),z=nr(De,"teams",r,"matches",e.id,"surveys"),ee=je(z,B);H.set(ee,{...i,submittedAt:new Date});const J=je(De,"teams",r,"matches",e.id),re=(e.pendingSurveyParticipants||[]).filter(P=>P!==B);H.update(J,{pendingSurveyParticipants:re});const M=await fa(z),D=t.length,x=M.docs.length+1>=D;if(x){const P=[...M.docs.map(Ee=>Ee.data()),i],U=new Set(P.flatMap(Ee=>Object.values(Ee))),j=await Promise.all(Array.from(U).map(Ee=>gs(je(De,"users",Ee)))),k=new Map(j.map(Ee=>[Ee.id,Ee.data()?.stats||{}]));await I(H,P,k)}await H.commit(),alert(x?" .       !":" . ."),n()}catch(H){console.error("  :",H),f("   .  ."),m(!1)}}};return C.jsx("div",{className:$a.overlay,children:C.jsxs("div",{className:$a.modal,children:[C.jsxs("div",{className:$a.modalHeader,children:[C.jsx("h3",{children:"  "}),C.jsx("button",{onClick:n,className:$a.closeButton,disabled:h,children:""})]}),C.jsxs("form",{onSubmit:L,className:$a.form,children:[C.jsxs("p",{className:$a.description,children:["       1 .",C.jsx("br",{}),"    ",C.jsxs("strong",{children:[RT," "]}),"    ."]}),bu.map(A=>{const B=_.get(i[A.id]);return C.jsxs("div",{className:$a.questionBlock,children:[C.jsx("label",{children:A.text}),C.jsx(sC,{placeholder:" ",options:y,value:B,onChange:H=>T(A.id,H)})]},A.id)}),c&&C.jsx("p",{className:$a.error,children:c}),C.jsx("button",{type:"submit",className:$a.submitButton,disabled:h,children:h?" ...":" "})]})]})})},fV="_modalOverlay_cowt4_3",dV="_modalContent_cowt4_29",hV="_modalTitle_cowt4_49",pV="_modalMessage_cowt4_63",mV="_modalActions_cowt4_75",gV="_modalButton_cowt4_85",yV="_cancelButton_cowt4_107",vV="_confirmButton_cowt4_125",Za={modalOverlay:fV,modalContent:dV,modalTitle:hV,modalMessage:pV,modalActions:mV,modalButton:gV,cancelButton:yV,confirmButton:vV};function _V({title:r,message:e,onConfirm:t,onClose:n}){const i=o=>o.stopPropagation();return C.jsx("div",{className:Za.modalOverlay,onClick:n,children:C.jsxs("div",{className:Za.modalContent,onClick:i,children:[C.jsx("h2",{className:Za.modalTitle,children:r}),C.jsx("p",{className:Za.modalMessage,children:e}),C.jsxs("div",{className:Za.modalActions,children:[C.jsx("button",{className:`${Za.modalButton} ${Za.cancelButton}`,onClick:n,children:""}),C.jsx("button",{className:`${Za.modalButton} ${Za.confirmButton}`,onClick:t,children:""})]})]})})}const wV="_loadingContainer_619bv_13",EV="_choiceContainer_619bv_33",bV="_choiceContent_619bv_45",TV="_choiceTitle_619bv_57",SV="_choiceSubtitle_619bv_69",DV="_choiceListContainer_619bv_79",CV="_playerChoiceCard_619bv_89",AV="_mainContainer_619bv_125",RV="_mainHeader_619bv_137",IV="_logoutButton_619bv_157",xV="_profileContent_619bv_181",MV="_profileCard_619bv_189",NV="_mainProfileCard_619bv_207",kV="_playerTeam_619bv_215",OV="_playerOvr_619bv_217",PV="_playerInfo_619bv_229",LV="_profileName_619bv_237",VV="_playerName_619bv_237",UV="_statsGrid_619bv_289",BV="_statItem_619bv_309",jV="_statValue_619bv_309",HV="_menuContainer_619bv_331",FV="_menuCard_619bv_345",rt={loadingContainer:wV,choiceContainer:EV,choiceContent:bV,choiceTitle:TV,choiceSubtitle:SV,choiceListContainer:DV,playerChoiceCard:CV,mainContainer:AV,mainHeader:RV,logoutButton:IV,profileContent:xV,profileCard:MV,mainProfileCard:NV,playerTeam:kV,playerOvr:OV,playerInfo:PV,profileName:LV,playerName:VV,statsGrid:UV,statItem:BV,statValue:jV,menuContainer:HV,menuCard:FV},qV=({recommendedPlayers:r,onSelectPlayer:e})=>C.jsx("div",{className:rt.choiceContainer,children:C.jsxs("div",{className:rt.choiceContent,children:[C.jsx("h2",{className:rt.choiceTitle,children:" !"}),C.jsx("p",{className:rt.choiceSubtitle,children:"      ."}),C.jsx("div",{className:rt.choiceListContainer,children:r?.map((t,n)=>C.jsxs("button",{className:rt.playerChoiceCard,onClick:()=>e(t),children:[C.jsxs("div",{className:rt.playerInfo,children:[C.jsx("span",{className:rt.playerName,children:t.name}),C.jsx("span",{className:rt.playerTeam,children:t.team})]}),C.jsxs("div",{className:rt.playerOvr,children:[C.jsx("span",{children:"OVR"}),C.jsx("span",{children:t.ovr})]})]},n))})]})}),YV=({profile:r,myOvr:e,onLogout:t,onRedoSurvey:n})=>{const i=yi(),o=!!r?.teamId;return C.jsxs("div",{className:rt.mainContainer,children:[C.jsxs("header",{className:rt.mainHeader,children:[C.jsx("h2",{children:" "}),C.jsx("button",{onClick:t,className:rt.logoutButton,children:""})]}),C.jsxs("div",{className:rt.profileContent,children:[C.jsxs("div",{className:`${rt.profileCard} ${rt.mainProfileCard}`,children:[C.jsxs("div",{className:rt.playerInfo,children:[C.jsx("span",{className:rt.profileName,children:r.realName}),C.jsxs("span",{className:rt.playerTeam,children:[" : ",r.selectedPlayer.name]})]}),C.jsxs("div",{className:rt.playerOvr,children:[C.jsx("span",{children:"MY OVR"}),C.jsx("span",{children:e})]})]}),C.jsx("div",{className:rt.statsGrid,children:r.stats&&["DRI","PAC","PAS","PHY","SHO","DEF"].map(c=>C.jsxs("div",{className:rt.statItem,children:[C.jsx("span",{className:rt.statValue,children:r.stats[c]||60}),C.jsx("span",{className:rt.statName,children:c.toUpperCase()})]},c))}),C.jsxs("div",{className:rt.menuContainer,children:[C.jsx("h3",{children:" "}),o?C.jsxs("button",{className:rt.menuCard,onClick:()=>i(`/team/${r.teamId}`),children:[C.jsx("h4",{children:" "}),C.jsx("p",{children:"      ."})]}):C.jsxs(C.Fragment,{children:[C.jsxs(fi,{to:"/create-team",className:rt.menuCard,children:[C.jsx("h4",{children:" "}),C.jsx("p",{children:"    ."})]}),C.jsxs(fi,{to:"/join-team",className:rt.menuCard,children:[C.jsx("h4",{children:" "}),C.jsx("p",{children:"     ."})]})]})]}),C.jsxs("div",{className:rt.menuContainer,children:[C.jsx("h3",{children:" "}),C.jsxs("button",{className:rt.menuCard,onClick:n,children:[C.jsx("h4",{children:" "}),C.jsx("p",{children:"       ."})]})]})]})]})};function zV({userProfile:r}){const e=yi(),[t,n]=N.useState(null),[i,o]=N.useState(!1),c=N.useMemo(()=>{if(!r)return 60;if(typeof r.playerOvr=="number")return r.playerOvr;if(r.stats){const y=Object.values(r.stats).map(Number).filter(_=>!isNaN(_));if(y.length>0)return Math.round(y.reduce((_,w)=>_+w,0)/y.length)}return 60},[r]);N.useEffect(()=>{if(!r)return;const y=!!r.selectedPlayer,_=Array.isArray(r.recommendedPlayers)&&r.recommendedPlayers.length>0;!y&&!_&&e("/survey")},[r,e]),N.useEffect(()=>{const y=async()=>{const _=jt.currentUser?.uid,w=r?.teamId;if(!_||!w)return;const T=nr(De,"teams",w,"matches"),I=os(T,zl("pendingSurveyParticipants","array-contains",_),tC(1)),L=await fa(I);if(!L.empty){const A=L.docs[0],B={id:A.id,...A.data()},H=je(De,"teams",w,"matches",B.id,"surveys",_);if(!(await gs(H)).exists()){const ee=nr(De,"teams",w,"matches",B.id,"attendance"),J=os(ee,zl("status","==","yes")),M=(await fa(J)).docs.map(P=>P.id);if(M.length===0)return;const x=(await Promise.all(M.map(P=>gs(je(De,"users",P))))).map(P=>{if(!P.exists())return null;const U=P.data();let j=60;if(typeof U.playerOvr=="number")j=U.playerOvr;else if(U.stats){const k=Object.values(U.stats).filter(Ee=>typeof Ee=="number");k.length>0&&(j=Math.round(k.reduce((Ee,Se)=>Ee+Se,0)/k.length))}return{uid:P.id,name:U.realName,pos:U.position||"CM",ovr:j}}).filter(Boolean);n({match:B,attendees:x})}}};r?.teamId&&y()},[r]);const f=()=>{VN(jt).catch(y=>console.error("Logout Error:",y))},h=async y=>{const _=jt.currentUser;if(!(!_||!y))try{const w=je(De,"users",_.uid);await Gl(w,{selectedPlayer:y});const T=r?.teamId,I=y?.position||y?.pos||null;if(T&&I){const L=je(De,"teams",T,"members",_.uid);await xo(L,{position:I},{merge:!0})}}catch(w){console.error("Player selection failed:",w),alert("    .")}},m=async()=>{o(!1);const y=jt.currentUser;if(y)try{const _=je(De,"users",y.uid);await Gl(_,{surveyCompleted:!1,stats:ju(),recommendedPlayers:ju(),selectedPlayer:ju()}),e("/survey")}catch(_){console.error("Redo survey failed:",_),alert("    .")}};return r?C.jsxs(C.Fragment,{children:[t&&C.jsx(oC,{teamId:r.teamId,match:t.match,attendees:t.attendees,userProfile:r,onClose:()=>n(null)}),i&&C.jsx(_V,{title:" ",message:"  ?     .",onConfirm:m,onClose:()=>o(!1)}),r.selectedPlayer?C.jsx(YV,{profile:r,myOvr:c,onLogout:f,onRedoSurvey:()=>o(!0)}):C.jsx(qV,{recommendedPlayers:r.recommendedPlayers,onSelectPlayer:h})]}):C.jsx("div",{className:rt.loadingContainer,children:"   ..."})}const GV="_pageContainer_119fb_15",QV="_pageHeader_119fb_31",WV="_backButton_119fb_41",KV="_content_119fb_55",$V="_footer_119fb_69",XV="_loadingContainer_119fb_79",ZV="_title_119fb_99",JV="_input_119fb_117",e4="_button_119fb_165",t4="_errorMessage_119fb_211",na={pageContainer:GV,pageHeader:QV,backButton:WV,content:KV,footer:$V,loadingContainer:XV,title:ZV,input:JV,button:e4,errorMessage:t4};function n4(){const[r,e]=N.useState(""),[t,n]=N.useState(null),[i,o]=N.useState(!0),[c,f]=N.useState(!1),[h,m]=N.useState(""),y=yi();N.useEffect(()=>{(async()=>{const T=jt.currentUser;if(T){const I=je(De,"users",T.uid),L=await gs(I);L.exists()&&n(L.data())}o(!1)})()},[]);const _=async w=>{w.preventDefault(),m("");const T=r.trim();if(i||!t){m("   .");return}if(!T){m("  .");return}if(t.teamId){m("    .");return}f(!0);try{const I=jt.currentUser,L=nr(De,"teams"),A=T.toLowerCase(),B=os(L,zl("teamNameLower","==",A),tC(1));if(!(await fa(B)).empty)throw new Error("   .");const z=Math.random().toString(36).substring(2,8).toUpperCase(),J=(await rC(L,{teamName:T,teamNameLower:A,captainId:I.uid,inviteCode:z,createdAt:Qh()})).id,re=je(De,"teams",J,"members",I.uid);await xo(re,{realName:t.realName||"",position:t.preferredPosition||"CM",role:"captain",joinedAt:Qh()});const M=je(De,"users",I.uid);await Gl(M,{teamId:J,teamRole:"captain"}),y(`/team/${J}`)}catch(I){console.error("Team Creation Error:",I),m(I.message||"    .")}finally{f(!1)}};return i?C.jsx("div",{className:na.loadingContainer,children:"   ..."}):C.jsxs("div",{className:na.pageContainer,children:[C.jsx("header",{className:na.pageHeader,children:C.jsx(fi,{to:"/",className:na.backButton,children:""})}),C.jsx("div",{className:na.content,children:C.jsxs("form",{onSubmit:_,children:[C.jsx("h2",{className:na.title,children:"  "}),C.jsx("input",{className:na.input,value:r,onChange:w=>e(w.target.value),placeholder:"  ","aria-label":" ",maxLength:40})]})}),C.jsxs("div",{className:na.footer,children:[h&&C.jsx("p",{className:na.errorMessage,children:h}),C.jsx("button",{type:"submit",className:na.button,onClick:_,disabled:c,children:c?" ...":" "})]})]})}const r4="_pageContainer_1206a_15",a4="_pageHeader_1206a_31",i4="_backButton_1206a_41",s4="_content_1206a_55",o4="_footer_1206a_69",l4="_loadingContainer_1206a_79",c4="_title_1206a_99",u4="_input_1206a_117",f4="_button_1206a_165",d4="_errorMessage_1206a_211",ra={pageContainer:r4,pageHeader:a4,backButton:i4,content:s4,footer:o4,loadingContainer:l4,title:c4,input:u4,button:f4,errorMessage:d4};function h4(){const[r,e]=N.useState(""),[t,n]=N.useState(null),[i,o]=N.useState(!0),[c,f]=N.useState(!1),[h,m]=N.useState(""),y=yi();N.useEffect(()=>{(async()=>{const T=jt.currentUser;if(T){const I=je(De,"users",T.uid),L=await gs(I);L.exists()&&n(L.data())}o(!1)})()},[]);const _=async w=>{if(w.preventDefault(),m(""),i||!t){m("   .");return}if(!r.trim()){m("  .");return}if(t.teamId){m("    .");return}f(!0);const T=jt.currentUser;try{const I=nr(De,"teams"),L=os(I,zl("inviteCode","==",r.trim().toUpperCase())),A=await fa(L);if(A.empty)throw new Error("   .");const B=A.docs[0],H=B.id,z=B.data().teamName,ee=je(De,"teams",H,"members",T.uid);await xo(ee,{realName:t.realName,position:t.preferredPosition||"CM",role:"member"});const J=je(De,"users",T.uid);await Gl(J,{teamId:H,teamRole:"member"}),y(`/team/${H}`)}catch(I){console.error("Team Join Error:",I),m(I.message||"    .")}finally{f(!1)}};return i?C.jsx("div",{className:ra.loadingContainer,children:"   ..."}):C.jsxs("div",{className:ra.pageContainer,children:[C.jsx("header",{className:ra.pageHeader,children:C.jsx(fi,{to:"/",className:ra.backButton,children:""})}),C.jsx("div",{className:ra.content,children:C.jsxs("form",{onSubmit:_,children:[C.jsx("h2",{className:ra.title,children:" "}),C.jsx("input",{className:ra.input,value:r,onChange:w=>e(w.target.value),placeholder:"  ","aria-label":" "})]})}),C.jsxs("div",{className:ra.footer,children:[h&&C.jsx("p",{className:ra.errorMessage,children:h}),C.jsx("button",{className:ra.button,onClick:_,disabled:c,children:c?" ...":""})]})]})}const lC=6048e5,p4=864e5,Mp=6e4,Np=36e5,m4=1e3,IT=Symbol.for("constructDateFrom");function dt(r,e){return typeof r=="function"?r(e):r&&typeof r=="object"&&IT in r?r[IT](e):r instanceof Date?new r.constructor(e):new Date(e)}function be(r,e){return dt(e||r,r)}function kr(r,e,t){const n=be(r,t?.in);return isNaN(e)?dt(t?.in||r,NaN):(e&&n.setDate(n.getDate()+e),n)}function Vr(r,e,t){const n=be(r,t?.in);if(isNaN(e))return dt(r,NaN);if(!e)return n;const i=n.getDate(),o=dt(r,n.getTime());o.setMonth(n.getMonth()+e+1,0);const c=o.getDate();return i>=c?o:(n.setFullYear(o.getFullYear(),o.getMonth(),i),n)}function cC(r,e,t){return dt(r,+be(r)+e)}function g4(r,e,t){return cC(r,e*Np)}let y4={};function Mo(){return y4}function gi(r,e){const t=Mo(),n=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,i=be(r,e?.in),o=i.getDay(),c=(o<n?7:0)+o-n;return i.setDate(i.getDate()-c),i.setHours(0,0,0,0),i}function Ql(r,e){return gi(r,{...e,weekStartsOn:1})}function uC(r,e){const t=be(r,e?.in),n=t.getFullYear(),i=dt(t,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const o=Ql(i),c=dt(t,0);c.setFullYear(n,0,4),c.setHours(0,0,0,0);const f=Ql(c);return t.getTime()>=o.getTime()?n+1:t.getTime()>=f.getTime()?n:n-1}function Wh(r){const e=be(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function wi(r,...e){const t=dt.bind(null,e.find(n=>typeof n=="object"));return e.map(t)}function ys(r,e){const t=be(r,e?.in);return t.setHours(0,0,0,0),t}function Wl(r,e,t){const[n,i]=wi(t?.in,r,e),o=ys(n),c=ys(i),f=+o-Wh(o),h=+c-Wh(c);return Math.round((f-h)/p4)}function v4(r,e){const t=uC(r,e),n=dt(r,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Ql(n)}function Ky(r,e,t){const n=be(r,t?.in);return n.setTime(n.getTime()+e*Mp),n}function u_(r,e,t){return Vr(r,e*3,t)}function _4(r,e,t){return cC(r,e*1e3)}function Kh(r,e,t){return kr(r,e*7,t)}function ii(r,e,t){return Vr(r,e*12,t)}function xT(r,e){let t,n=e?.in;return r.forEach(i=>{!n&&typeof i=="object"&&(n=dt.bind(null,i));const o=be(i,n);(!t||t<o||isNaN(+o))&&(t=o)}),dt(n,t||NaN)}function MT(r,e){let t,n=e?.in;return r.forEach(i=>{!n&&typeof i=="object"&&(n=dt.bind(null,i));const o=be(i,n);(!t||t>o||isNaN(+o))&&(t=o)}),dt(n,t||NaN)}function fC(r,e,t){const[n,i]=wi(t?.in,r,e);return+ys(n)==+ys(i)}function si(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function $h(r){return!(!si(r)&&typeof r!="number"||isNaN(+be(r)))}function Xh(r,e,t){const[n,i]=wi(t?.in,r,e),o=n.getFullYear()-i.getFullYear(),c=n.getMonth()-i.getMonth();return o*12+c}function mo(r,e){const t=be(r,e?.in);return Math.trunc(t.getMonth()/3)+1}function Zh(r,e,t){const[n,i]=wi(t?.in,r,e),o=n.getFullYear()-i.getFullYear(),c=mo(n)-mo(i);return o*4+c}function Jh(r,e,t){const[n,i]=wi(t?.in,r,e);return n.getFullYear()-i.getFullYear()}function w4(r,e,t){const[n,i]=wi(t?.in,r,e),o=NT(n,i),c=Math.abs(Wl(n,i));n.setDate(n.getDate()-o*c);const f=+(NT(n,i)===-o),h=o*(c-f);return h===0?0:h}function NT(r,e){const t=r.getFullYear()-e.getFullYear()||r.getMonth()-e.getMonth()||r.getDate()-e.getDate()||r.getHours()-e.getHours()||r.getMinutes()-e.getMinutes()||r.getSeconds()-e.getSeconds()||r.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function dC(r,e){const t=be(r,e?.in);return t.setHours(23,59,59,999),t}function hC(r,e){const t=be(r,e?.in),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function $y(r,e){const t=be(r,e?.in),n=t.getMonth(),i=n-n%3;return t.setMonth(i,1),t.setHours(0,0,0,0),t}function pC(r,e){const t=be(r,e?.in);return t.setDate(1),t.setHours(0,0,0,0),t}function mC(r,e){const t=be(r,e?.in),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function kp(r,e){const t=be(r,e?.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function E4(r,e){const t=Mo(),n=t.weekStartsOn??t.locale?.options?.weekStartsOn??0,i=be(r,e?.in),o=i.getDay(),c=(o<n?-7:0)+6-(o-n);return i.setDate(i.getDate()+c),i.setHours(23,59,59,999),i}const b4={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},T4=(r,e,t)=>{let n;const i=b4[r];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function Pl(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const S4={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},D4={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},C4={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},A4={date:Pl({formats:S4,defaultWidth:"full"}),time:Pl({formats:D4,defaultWidth:"full"}),dateTime:Pl({formats:C4,defaultWidth:"full"})},R4={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},I4=(r,e,t,n)=>R4[r];function oa(r){return(e,t)=>{const n=t?.context?String(t.context):"standalone";let i;if(n==="formatting"&&r.formattingValues){const c=r.defaultFormattingWidth||r.defaultWidth,f=t?.width?String(t.width):c;i=r.formattingValues[f]||r.formattingValues[c]}else{const c=r.defaultWidth,f=t?.width?String(t.width):r.defaultWidth;i=r.values[f]||r.values[c]}const o=r.argumentCallback?r.argumentCallback(e):e;return i[o]}}const x4={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},M4={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},N4={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},k4={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},O4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},P4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},L4=(r,e)=>{const t=Number(r),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},V4={ordinalNumber:L4,era:oa({values:x4,defaultWidth:"wide"}),quarter:oa({values:M4,defaultWidth:"wide",argumentCallback:r=>r-1}),month:oa({values:N4,defaultWidth:"wide"}),day:oa({values:k4,defaultWidth:"wide"}),dayPeriod:oa({values:O4,defaultWidth:"wide",formattingValues:P4,defaultFormattingWidth:"wide"})};function la(r){return(e,t={})=>{const n=t.width,i=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],o=e.match(i);if(!o)return null;const c=o[0],f=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],h=Array.isArray(f)?B4(f,_=>_.test(c)):U4(f,_=>_.test(c));let m;m=r.valueCallback?r.valueCallback(h):h,m=t.valueCallback?t.valueCallback(m):m;const y=e.slice(c.length);return{value:m,rest:y}}}function U4(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function B4(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function gC(r){return(e,t={})=>{const n=e.match(r.matchPattern);if(!n)return null;const i=n[0],o=e.match(r.parsePattern);if(!o)return null;let c=r.valueCallback?r.valueCallback(o[0]):o[0];c=t.valueCallback?t.valueCallback(c):c;const f=e.slice(i.length);return{value:c,rest:f}}}const j4=/^(\d+)(th|st|nd|rd)?/i,H4=/\d+/i,F4={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},q4={any:[/^b/i,/^(a|c)/i]},Y4={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},z4={any:[/1/i,/2/i,/3/i,/4/i]},G4={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Q4={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},W4={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},K4={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},$4={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},X4={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Z4={ordinalNumber:gC({matchPattern:j4,parsePattern:H4,valueCallback:r=>parseInt(r,10)}),era:la({matchPatterns:F4,defaultMatchWidth:"wide",parsePatterns:q4,defaultParseWidth:"any"}),quarter:la({matchPatterns:Y4,defaultMatchWidth:"wide",parsePatterns:z4,defaultParseWidth:"any",valueCallback:r=>r+1}),month:la({matchPatterns:G4,defaultMatchWidth:"wide",parsePatterns:Q4,defaultParseWidth:"any"}),day:la({matchPatterns:W4,defaultMatchWidth:"wide",parsePatterns:K4,defaultParseWidth:"any"}),dayPeriod:la({matchPatterns:$4,defaultMatchWidth:"any",parsePatterns:X4,defaultParseWidth:"any"})},yC={code:"en-US",formatDistance:T4,formatLong:A4,formatRelative:I4,localize:V4,match:Z4,options:{weekStartsOn:0,firstWeekContainsDate:1}};function J4(r,e){const t=be(r,e?.in);return Wl(t,kp(t))+1}function f_(r,e){const t=be(r,e?.in),n=+Ql(t)-+v4(t);return Math.round(n/lC)+1}function d_(r,e){const t=be(r,e?.in),n=t.getFullYear(),i=Mo(),o=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,c=dt(e?.in||r,0);c.setFullYear(n+1,0,o),c.setHours(0,0,0,0);const f=gi(c,e),h=dt(e?.in||r,0);h.setFullYear(n,0,o),h.setHours(0,0,0,0);const m=gi(h,e);return+t>=+f?n+1:+t>=+m?n:n-1}function e3(r,e){const t=Mo(),n=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,i=d_(r,e),o=dt(e?.in||r,0);return o.setFullYear(i,0,n),o.setHours(0,0,0,0),gi(o,e)}function vC(r,e){const t=be(r,e?.in),n=+gi(t,e)-+e3(t,e);return Math.round(n/lC)+1}function ft(r,e){const t=r<0?"-":"",n=Math.abs(r).toString().padStart(e,"0");return t+n}const $i={y(r,e){const t=r.getFullYear(),n=t>0?t:1-t;return ft(e==="yy"?n%100:n,e.length)},M(r,e){const t=r.getMonth();return e==="M"?String(t+1):ft(t+1,2)},d(r,e){return ft(r.getDate(),e.length)},a(r,e){const t=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(r,e){return ft(r.getHours()%12||12,e.length)},H(r,e){return ft(r.getHours(),e.length)},m(r,e){return ft(r.getMinutes(),e.length)},s(r,e){return ft(r.getSeconds(),e.length)},S(r,e){const t=e.length,n=r.getMilliseconds(),i=Math.trunc(n*Math.pow(10,t-3));return ft(i,e.length)}},Sl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},kT={G:function(r,e,t){const n=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){const n=r.getFullYear(),i=n>0?n:1-n;return t.ordinalNumber(i,{unit:"year"})}return $i.y(r,e)},Y:function(r,e,t,n){const i=d_(r,n),o=i>0?i:1-i;if(e==="YY"){const c=o%100;return ft(c,2)}return e==="Yo"?t.ordinalNumber(o,{unit:"year"}):ft(o,e.length)},R:function(r,e){const t=uC(r);return ft(t,e.length)},u:function(r,e){const t=r.getFullYear();return ft(t,e.length)},Q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return ft(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return ft(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(r,e,t){const n=r.getMonth();switch(e){case"M":case"MM":return $i.M(r,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(r,e,t){const n=r.getMonth();switch(e){case"L":return String(n+1);case"LL":return ft(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(r,e,t,n){const i=vC(r,n);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):ft(i,e.length)},I:function(r,e,t){const n=f_(r);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):ft(n,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getDate(),{unit:"date"}):$i.d(r,e)},D:function(r,e,t){const n=J4(r);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):ft(n,e.length)},E:function(r,e,t){const n=r.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(r,e,t,n){const i=r.getDay(),o=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return ft(o,2);case"eo":return t.ordinalNumber(o,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(r,e,t,n){const i=r.getDay(),o=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return ft(o,e.length);case"co":return t.ordinalNumber(o,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(r,e,t){const n=r.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return ft(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(r,e,t){const i=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(r,e,t){const n=r.getHours();let i;switch(n===12?i=Sl.noon:n===0?i=Sl.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(r,e,t){const n=r.getHours();let i;switch(n>=17?i=Sl.evening:n>=12?i=Sl.afternoon:n>=4?i=Sl.morning:i=Sl.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){let n=r.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return $i.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getHours(),{unit:"hour"}):$i.H(r,e)},K:function(r,e,t){const n=r.getHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):ft(n,e.length)},k:function(r,e,t){let n=r.getHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):ft(n,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getMinutes(),{unit:"minute"}):$i.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getSeconds(),{unit:"second"}):$i.s(r,e)},S:function(r,e){return $i.S(r,e)},X:function(r,e,t){const n=r.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return PT(n);case"XXXX":case"XX":return so(n);case"XXXXX":case"XXX":default:return so(n,":")}},x:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"x":return PT(n);case"xxxx":case"xx":return so(n);case"xxxxx":case"xxx":default:return so(n,":")}},O:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+OT(n,":");case"OOOO":default:return"GMT"+so(n,":")}},z:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+OT(n,":");case"zzzz":default:return"GMT"+so(n,":")}},t:function(r,e,t){const n=Math.trunc(+r/1e3);return ft(n,e.length)},T:function(r,e,t){return ft(+r,e.length)}};function OT(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),i=Math.trunc(n/60),o=n%60;return o===0?t+String(i):t+String(i)+e+ft(o,2)}function PT(r,e){return r%60===0?(r>0?"-":"+")+ft(Math.abs(r)/60,2):so(r,e)}function so(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),i=ft(Math.trunc(n/60),2),o=ft(n%60,2);return t+i+e+o}const LT=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},_C=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},t3=(r,e)=>{const t=r.match(/(P+)(p+)?/)||[],n=t[1],i=t[2];if(!i)return LT(r,e);let o;switch(n){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",LT(n,e)).replace("{{time}}",_C(i,e))},Xy={p:_C,P:t3},n3=/^D+$/,r3=/^Y+$/,a3=["D","DD","YY","YYYY"];function i3(r){return n3.test(r)}function s3(r){return r3.test(r)}function o3(r,e,t){const n=l3(r,e,t);if(console.warn(n),a3.includes(r))throw new RangeError(n)}function l3(r,e,t){const n=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const c3=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,u3=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,f3=/^'([^]*?)'?$/,d3=/''/g,h3=/[a-zA-Z]/;function Zy(r,e,t){const n=Mo(),i=t?.locale??n.locale??yC,o=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,c=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,f=be(r,t?.in);if(!$h(f))throw new RangeError("Invalid time value");let h=e.match(u3).map(y=>{const _=y[0];if(_==="p"||_==="P"){const w=Xy[_];return w(y,i.formatLong)}return y}).join("").match(c3).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const _=y[0];if(_==="'")return{isToken:!1,value:p3(y)};if(kT[_])return{isToken:!0,value:y};if(_.match(h3))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:y}});i.localize.preprocessor&&(h=i.localize.preprocessor(f,h));const m={firstWeekContainsDate:o,weekStartsOn:c,locale:i};return h.map(y=>{if(!y.isToken)return y.value;const _=y.value;(!t?.useAdditionalWeekYearTokens&&s3(_)||!t?.useAdditionalDayOfYearTokens&&i3(_))&&o3(_,e,String(r));const w=kT[_[0]];return w(f,_,i.localize,m)}).join("")}function p3(r){const e=r.match(f3);return e?e[1].replace(d3,"'"):r}function VT(r,e){return be(r,e?.in).getDate()}function m3(r,e){return be(r,e?.in).getDay()}function g3(r,e){const t=be(r,e?.in),n=t.getFullYear(),i=t.getMonth(),o=dt(t,0);return o.setFullYear(n,i+1,0),o.setHours(0,0,0,0),o.getDate()}function y3(){return Object.assign({},Mo())}function oi(r,e){return be(r,e?.in).getHours()}function v3(r,e){const t=be(r,e?.in).getDay();return t===0?7:t}function li(r,e){return be(r,e?.in).getMinutes()}function In(r,e){return be(r,e?.in).getMonth()}function ls(r){return be(r).getSeconds()}function Jy(r){return+be(r)}function He(r,e){return be(r,e?.in).getFullYear()}function vs(r,e){return+be(r)>+be(e)}function da(r,e){return+be(r)<+be(e)}function _3(r,e){return+be(r)==+be(e)}function w3(r,e){const t=E3(e)?new e(0):dt(e,0);return t.setFullYear(r.getFullYear(),r.getMonth(),r.getDate()),t.setHours(r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()),t}function E3(r){return typeof r=="function"&&r.prototype?.constructor===r}const b3=10;class wC{subPriority=0;validate(e,t){return!0}}class T3 extends wC{constructor(e,t,n,i,o){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=i,o&&(this.subPriority=o)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}}class S3 extends wC{priority=b3;subPriority=-1;constructor(e,t){super(),this.context=e||(n=>dt(t,n))}set(e,t){return t.timestampIsSet?e:dt(e,w3(e,this.context))}}class at{run(e,t,n,i){const o=this.parse(e,t,n,i);return o?{setter:new T3(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(e,t,n){return!0}}class D3 extends at{priority=140;parse(e,t,n){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});case"GGGG":default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}set(e,t,n){return t.era=n,e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["R","u","t","T"]}const Ht={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ca={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Ft(r,e){return r&&{value:e(r.value),rest:r.rest}}function Rt(r,e){const t=e.match(r);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function ua(r,e){const t=e.match(r);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const n=t[1]==="+"?1:-1,i=t[2]?parseInt(t[2],10):0,o=t[3]?parseInt(t[3],10):0,c=t[5]?parseInt(t[5],10):0;return{value:n*(i*Np+o*Mp+c*m4),rest:e.slice(t[0].length)}}function EC(r){return Rt(Ht.anyDigitsSigned,r)}function Pt(r,e){switch(r){case 1:return Rt(Ht.singleDigit,e);case 2:return Rt(Ht.twoDigits,e);case 3:return Rt(Ht.threeDigits,e);case 4:return Rt(Ht.fourDigits,e);default:return Rt(new RegExp("^\\d{1,"+r+"}"),e)}}function ep(r,e){switch(r){case 1:return Rt(Ht.singleDigitSigned,e);case 2:return Rt(Ht.twoDigitsSigned,e);case 3:return Rt(Ht.threeDigitsSigned,e);case 4:return Rt(Ht.fourDigitsSigned,e);default:return Rt(new RegExp("^-?\\d{1,"+r+"}"),e)}}function h_(r){switch(r){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function bC(r,e){const t=e>0,n=t?e:1-e;let i;if(n<=50)i=r||100;else{const o=n+50,c=Math.trunc(o/100)*100,f=r>=o%100;i=r+c-(f?100:0)}return t?i:1-i}function TC(r){return r%400===0||r%4===0&&r%100!==0}class C3 extends at{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(e,t,n){const i=o=>({year:o,isTwoDigitYear:t==="yy"});switch(t){case"y":return Ft(Pt(4,e),i);case"yo":return Ft(n.ordinalNumber(e,{unit:"year"}),i);default:return Ft(Pt(t.length,e),i)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n){const i=e.getFullYear();if(n.isTwoDigitYear){const c=bC(n.year,i);return e.setFullYear(c,0,1),e.setHours(0,0,0,0),e}const o=!("era"in t)||t.era===1?n.year:1-n.year;return e.setFullYear(o,0,1),e.setHours(0,0,0,0),e}}class A3 extends at{priority=130;parse(e,t,n){const i=o=>({year:o,isTwoDigitYear:t==="YY"});switch(t){case"Y":return Ft(Pt(4,e),i);case"Yo":return Ft(n.ordinalNumber(e,{unit:"year"}),i);default:return Ft(Pt(t.length,e),i)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n,i){const o=d_(e,i);if(n.isTwoDigitYear){const f=bC(n.year,o);return e.setFullYear(f,0,i.firstWeekContainsDate),e.setHours(0,0,0,0),gi(e,i)}const c=!("era"in t)||t.era===1?n.year:1-n.year;return e.setFullYear(c,0,i.firstWeekContainsDate),e.setHours(0,0,0,0),gi(e,i)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class R3 extends at{priority=130;parse(e,t){return ep(t==="R"?4:t.length,e)}set(e,t,n){const i=dt(e,0);return i.setFullYear(n,0,4),i.setHours(0,0,0,0),Ql(i)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class I3 extends at{priority=130;parse(e,t){return ep(t==="u"?4:t.length,e)}set(e,t,n){return e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class x3 extends at{priority=120;parse(e,t,n){switch(t){case"Q":case"QQ":return Pt(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth((n-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class M3 extends at{priority=120;parse(e,t,n){switch(t){case"q":case"qq":return Pt(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth((n-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class N3 extends at{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(e,t,n){const i=o=>o-1;switch(t){case"M":return Ft(Rt(Ht.month,e),i);case"MM":return Ft(Pt(2,e),i);case"Mo":return Ft(n.ordinalNumber(e,{unit:"month"}),i);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}}class k3 extends at{priority=110;parse(e,t,n){const i=o=>o-1;switch(t){case"L":return Ft(Rt(Ht.month,e),i);case"LL":return Ft(Pt(2,e),i);case"Lo":return Ft(n.ordinalNumber(e,{unit:"month"}),i);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function O3(r,e,t){const n=be(r,t?.in),i=vC(n,t)-e;return n.setDate(n.getDate()-i*7),be(n,t?.in)}class P3 extends at{priority=100;parse(e,t,n){switch(t){case"w":return Rt(Ht.week,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return Pt(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n,i){return gi(O3(e,n,i),i)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function L3(r,e,t){const n=be(r,t?.in),i=f_(n,t)-e;return n.setDate(n.getDate()-i*7),n}class V3 extends at{priority=100;parse(e,t,n){switch(t){case"I":return Rt(Ht.week,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return Pt(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n){return Ql(L3(e,n))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const U3=[31,28,31,30,31,30,31,31,30,31,30,31],B3=[31,29,31,30,31,30,31,31,30,31,30,31];class j3 extends at{priority=90;subPriority=1;parse(e,t,n){switch(t){case"d":return Rt(Ht.date,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return Pt(t.length,e)}}validate(e,t){const n=e.getFullYear(),i=TC(n),o=e.getMonth();return i?t>=1&&t<=B3[o]:t>=1&&t<=U3[o]}set(e,t,n){return e.setDate(n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class H3 extends at{priority=90;subpriority=1;parse(e,t,n){switch(t){case"D":case"DD":return Rt(Ht.dayOfYear,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return Pt(t.length,e)}}validate(e,t){const n=e.getFullYear();return TC(n)?t>=1&&t<=366:t>=1&&t<=365}set(e,t,n){return e.setMonth(0,n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function p_(r,e,t){const n=Mo(),i=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=be(r,t?.in),c=o.getDay(),h=(e%7+7)%7,m=7-i,y=e<0||e>6?e-(c+m)%7:(h+m)%7-(c+m)%7;return kr(o,y,t)}class F3 extends at{priority=90;parse(e,t,n){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,i){return e=p_(e,n,i),e.setHours(0,0,0,0),e}incompatibleTokens=["D","i","e","c","t","T"]}class q3 extends at{priority=90;parse(e,t,n,i){const o=c=>{const f=Math.floor((c-1)/7)*7;return(c+i.weekStartsOn+6)%7+f};switch(t){case"e":case"ee":return Ft(Pt(t.length,e),o);case"eo":return Ft(n.ordinalNumber(e,{unit:"day"}),o);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,i){return e=p_(e,n,i),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class Y3 extends at{priority=90;parse(e,t,n,i){const o=c=>{const f=Math.floor((c-1)/7)*7;return(c+i.weekStartsOn+6)%7+f};switch(t){case"c":case"cc":return Ft(Pt(t.length,e),o);case"co":return Ft(n.ordinalNumber(e,{unit:"day"}),o);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,i){return e=p_(e,n,i),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function z3(r,e,t){const n=be(r,t?.in),i=v3(n,t),o=e-i;return kr(n,o,t)}class G3 extends at{priority=90;parse(e,t,n){const i=o=>o===0?7:o;switch(t){case"i":case"ii":return Pt(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return Ft(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),i);case"iiiii":return Ft(n.day(e,{width:"narrow",context:"formatting"}),i);case"iiiiii":return Ft(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),i);case"iiii":default:return Ft(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),i)}}validate(e,t){return t>=1&&t<=7}set(e,t,n){return e=z3(e,n),e.setHours(0,0,0,0),e}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class Q3 extends at{priority=80;parse(e,t,n){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(h_(n),0,0,0),e}incompatibleTokens=["b","B","H","k","t","T"]}class W3 extends at{priority=80;parse(e,t,n){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(h_(n),0,0,0),e}incompatibleTokens=["a","B","H","k","t","T"]}class K3 extends at{priority=80;parse(e,t,n){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(h_(n),0,0,0),e}incompatibleTokens=["a","b","t","T"]}class $3 extends at{priority=70;parse(e,t,n){switch(t){case"h":return Rt(Ht.hour12h,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return Pt(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,n){const i=e.getHours()>=12;return i&&n<12?e.setHours(n+12,0,0,0):!i&&n===12?e.setHours(0,0,0,0):e.setHours(n,0,0,0),e}incompatibleTokens=["H","K","k","t","T"]}class X3 extends at{priority=70;parse(e,t,n){switch(t){case"H":return Rt(Ht.hour23h,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return Pt(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,n){return e.setHours(n,0,0,0),e}incompatibleTokens=["a","b","h","K","k","t","T"]}class Z3 extends at{priority=70;parse(e,t,n){switch(t){case"K":return Rt(Ht.hour11h,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return Pt(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.getHours()>=12&&n<12?e.setHours(n+12,0,0,0):e.setHours(n,0,0,0),e}incompatibleTokens=["h","H","k","t","T"]}class J3 extends at{priority=70;parse(e,t,n){switch(t){case"k":return Rt(Ht.hour24h,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return Pt(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,n){const i=n<=24?n%24:n;return e.setHours(i,0,0,0),e}incompatibleTokens=["a","b","h","H","K","t","T"]}class e6 extends at{priority=60;parse(e,t,n){switch(t){case"m":return Rt(Ht.minute,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return Pt(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setMinutes(n,0,0),e}incompatibleTokens=["t","T"]}class t6 extends at{priority=50;parse(e,t,n){switch(t){case"s":return Rt(Ht.second,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return Pt(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setSeconds(n,0),e}incompatibleTokens=["t","T"]}class n6 extends at{priority=30;parse(e,t){const n=i=>Math.trunc(i*Math.pow(10,-t.length+3));return Ft(Pt(t.length,e),n)}set(e,t,n){return e.setMilliseconds(n),e}incompatibleTokens=["t","T"]}class r6 extends at{priority=10;parse(e,t){switch(t){case"X":return ua(ca.basicOptionalMinutes,e);case"XX":return ua(ca.basic,e);case"XXXX":return ua(ca.basicOptionalSeconds,e);case"XXXXX":return ua(ca.extendedOptionalSeconds,e);case"XXX":default:return ua(ca.extended,e)}}set(e,t,n){return t.timestampIsSet?e:dt(e,e.getTime()-Wh(e)-n)}incompatibleTokens=["t","T","x"]}class a6 extends at{priority=10;parse(e,t){switch(t){case"x":return ua(ca.basicOptionalMinutes,e);case"xx":return ua(ca.basic,e);case"xxxx":return ua(ca.basicOptionalSeconds,e);case"xxxxx":return ua(ca.extendedOptionalSeconds,e);case"xxx":default:return ua(ca.extended,e)}}set(e,t,n){return t.timestampIsSet?e:dt(e,e.getTime()-Wh(e)-n)}incompatibleTokens=["t","T","X"]}class i6 extends at{priority=40;parse(e){return EC(e)}set(e,t,n){return[dt(e,n*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class s6 extends at{priority=20;parse(e){return EC(e)}set(e,t,n){return[dt(e,n),{timestampIsSet:!0}]}incompatibleTokens="*"}const o6={G:new D3,y:new C3,Y:new A3,R:new R3,u:new I3,Q:new x3,q:new M3,M:new N3,L:new k3,w:new P3,I:new V3,d:new j3,D:new H3,E:new F3,e:new q3,c:new Y3,i:new G3,a:new Q3,b:new W3,B:new K3,h:new $3,H:new X3,K:new Z3,k:new J3,m:new e6,s:new t6,S:new n6,X:new r6,x:new a6,t:new i6,T:new s6},l6=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,c6=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,u6=/^'([^]*?)'?$/,f6=/''/g,d6=/\S/,h6=/[a-zA-Z]/;function p6(r,e,t,n){const i=()=>dt(n?.in||t,NaN),o=y3(),c=n?.locale??o.locale??yC,f=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,h=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??o.weekStartsOn??o.locale?.options?.weekStartsOn??0;if(!e)return r?i():be(t,n?.in);const m={firstWeekContainsDate:f,weekStartsOn:h,locale:c},y=[new S3(n?.in,t)],_=e.match(c6).map(A=>{const B=A[0];if(B in Xy){const H=Xy[B];return H(A,c.formatLong)}return A}).join("").match(l6),w=[];for(let A of _){const B=A[0],H=o6[B];if(H){const{incompatibleTokens:z}=H;if(Array.isArray(z)){const J=w.find(re=>z.includes(re.token)||re.token===B);if(J)throw new RangeError(`The format string mustn't contain \`${J.fullToken}\` and \`${A}\` at the same time`)}else if(H.incompatibleTokens==="*"&&w.length>0)throw new RangeError(`The format string mustn't contain \`${A}\` and any other token at the same time`);w.push({token:B,fullToken:A});const ee=H.run(r,A,c.match,m);if(!ee)return i();y.push(ee.setter),r=ee.rest}else{if(B.match(h6))throw new RangeError("Format string contains an unescaped latin alphabet character `"+B+"`");if(A==="''"?A="'":B==="'"&&(A=m6(A)),r.indexOf(A)===0)r=r.slice(A.length);else return i()}}if(r.length>0&&d6.test(r))return i();const T=y.map(A=>A.priority).sort((A,B)=>B-A).filter((A,B,H)=>H.indexOf(A)===B).map(A=>y.filter(B=>B.priority===A).sort((B,H)=>H.subPriority-B.subPriority)).map(A=>A[0]);let I=be(t,n?.in);if(isNaN(+I))return i();const L={};for(const A of T){if(!A.validate(I,m))return i();const B=A.set(I,L,m);Array.isArray(B)?(I=B[0],Object.assign(L,B[1])):I=B}return I}function m6(r){return r.match(u6)[1].replace(f6,"'")}function g6(r,e,t){const[n,i]=wi(t?.in,r,e);return n.getFullYear()===i.getFullYear()&&n.getMonth()===i.getMonth()}function y6(r,e,t){const[n,i]=wi(t?.in,r,e);return+$y(n)==+$y(i)}function v6(r,e,t){const[n,i]=wi(t?.in,r,e);return n.getFullYear()===i.getFullYear()}function Ju(r,e,t){const n=+be(r,t?.in),[i,o]=[+be(e.start,t?.in),+be(e.end,t?.in)].sort((c,f)=>c-f);return n>=i&&n<=o}function _6(r,e,t){return kr(r,-1,t)}function w6(r,e){const t=()=>dt(e?.in,NaN),i=S6(r);let o;if(i.date){const m=D6(i.date,2);o=C6(m.restDateString,m.year)}if(!o||isNaN(+o))return t();const c=+o;let f=0,h;if(i.time&&(f=A6(i.time),isNaN(f)))return t();if(i.timezone){if(h=R6(i.timezone),isNaN(h))return t()}else{const m=new Date(c+f),y=be(0,e?.in);return y.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),y.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),y}return be(c+f+h,e?.in)}const rh={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},E6=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,b6=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,T6=/^([+-])(\d{2})(?::?(\d{2}))?$/;function S6(r){const e={},t=r.split(rh.dateTimeDelimiter);let n;if(t.length>2)return e;if(/:/.test(t[0])?n=t[0]:(e.date=t[0],n=t[1],rh.timeZoneDelimiter.test(e.date)&&(e.date=r.split(rh.timeZoneDelimiter)[0],n=r.substr(e.date.length,r.length))),n){const i=rh.timezone.exec(n);i?(e.time=n.replace(i[1],""),e.timezone=i[1]):e.time=n}return e}function D6(r,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=r.match(t);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,o=n[2]?parseInt(n[2]):null;return{year:o===null?i:o*100,restDateString:r.slice((n[1]||n[2]).length)}}function C6(r,e){if(e===null)return new Date(NaN);const t=r.match(E6);if(!t)return new Date(NaN);const n=!!t[4],i=Tu(t[1]),o=Tu(t[2])-1,c=Tu(t[3]),f=Tu(t[4]),h=Tu(t[5])-1;if(n)return k6(e,f,h)?I6(e,f,h):new Date(NaN);{const m=new Date(0);return!M6(e,o,c)||!N6(e,i)?new Date(NaN):(m.setUTCFullYear(e,o,Math.max(i,c)),m)}}function Tu(r){return r?parseInt(r):1}function A6(r){const e=r.match(b6);if(!e)return NaN;const t=uy(e[1]),n=uy(e[2]),i=uy(e[3]);return O6(t,n,i)?t*Np+n*Mp+i*1e3:NaN}function uy(r){return r&&parseFloat(r.replace(",","."))||0}function R6(r){if(r==="Z")return 0;const e=r.match(T6);if(!e)return 0;const t=e[1]==="+"?-1:1,n=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return P6(n,i)?t*(n*Np+i*Mp):NaN}function I6(r,e,t){const n=new Date(0);n.setUTCFullYear(r,0,4);const i=n.getUTCDay()||7,o=(e-1)*7+t+1-i;return n.setUTCDate(n.getUTCDate()+o),n}const x6=[31,null,31,30,31,30,31,31,30,31,30,31];function SC(r){return r%400===0||r%4===0&&r%100!==0}function M6(r,e,t){return e>=0&&e<=11&&t>=1&&t<=(x6[e]||(SC(r)?29:28))}function N6(r,e){return e>=1&&e<=(SC(r)?366:365)}function k6(r,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function O6(r,e,t){return r===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&r>=0&&r<25}function P6(r,e){return e>=0&&e<=59}function _r(r,e,t){const n=be(r,t?.in),i=n.getFullYear(),o=n.getDate(),c=dt(r,0);c.setFullYear(i,e,15),c.setHours(0,0,0,0);const f=g3(c);return n.setMonth(e,Math.min(o,f)),n}function go(r,e,t){const n=be(r,t?.in);return n.setHours(e),n}function yo(r,e,t){const n=be(r,t?.in);return n.setMinutes(e),n}function Il(r,e,t){const n=be(r,t?.in),i=Math.trunc(n.getMonth()/3)+1,o=e-i;return _r(n,n.getMonth()+o*3)}function bh(r,e,t){const n=be(r,t?.in);return n.setSeconds(e),n}function ia(r,e,t){const n=be(r,t?.in);return isNaN(+n)?dt(r,NaN):(n.setFullYear(e),n)}function L6(r){return ys(Date.now(),r)}function vo(r,e,t){return Vr(r,-e,t)}function DC(r,e,t){return u_(r,-1,t)}function UT(r,e,t){return Kh(r,-1,t)}function Kl(r,e,t){return ii(r,-e,t)}const V6={lessThanXSeconds:{one:"1 ",other:"{{count}} "},xSeconds:{one:"1",other:"{{count}}"},halfAMinute:"30",lessThanXMinutes:{one:"1 ",other:"{{count}} "},xMinutes:{one:"1",other:"{{count}}"},aboutXHours:{one:" 1",other:" {{count}}"},xHours:{one:"1",other:"{{count}}"},xDays:{one:"1",other:"{{count}}"},aboutXWeeks:{one:" 1",other:" {{count}}"},xWeeks:{one:"1",other:"{{count}}"},aboutXMonths:{one:" 1",other:" {{count}}"},xMonths:{one:"1",other:"{{count}}"},aboutXYears:{one:" 1",other:" {{count}}"},xYears:{one:"1",other:"{{count}}"},overXYears:{one:"1 ",other:"{{count}} "},almostXYears:{one:" 1",other:" {{count}}"}},U6=(r,e,t)=>{let n;const i=V6[r];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?n+" ":n+" ":n},B6={full:"y M d EEEE",long:"y M d",medium:"y.MM.dd",short:"y.MM.dd"},j6={full:"a H mm ss zzzz",long:"a H:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},H6={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},F6={date:Pl({formats:B6,defaultWidth:"full"}),time:Pl({formats:j6,defaultWidth:"full"}),dateTime:Pl({formats:H6,defaultWidth:"full"})},q6={lastWeek:"'' eeee p",yesterday:"'' p",today:"'' p",tomorrow:"'' p",nextWeek:"'' eeee p",other:"P"},Y6=(r,e,t,n)=>q6[r],z6={narrow:["BC","AD"],abbreviated:["BC","AD"],wide:["",""]},G6={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1","2","3","4"]},Q6={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["1","2","3","4","5","6","7","8","9","10","11","12"],wide:["1","2","3","4","5","6","7","8","9","10","11","12"]},W6={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},K6={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},$6={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},X6=(r,e)=>{const t=Number(r);switch(String(e?.unit)){case"minute":case"second":return String(t);case"date":return t+"";default:return t+""}},Z6={ordinalNumber:X6,era:oa({values:z6,defaultWidth:"wide"}),quarter:oa({values:G6,defaultWidth:"wide",argumentCallback:r=>r-1}),month:oa({values:Q6,defaultWidth:"wide"}),day:oa({values:W6,defaultWidth:"wide"}),dayPeriod:oa({values:K6,defaultWidth:"wide",formattingValues:$6,defaultFormattingWidth:"wide"})},J6=/^(\d+)(|)?/i,e9=/\d+/i,t9={narrow:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(|)/i},n9={any:[/^(bc|)/i,/^(ad|)/i]},r9={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234]?/i},a9={any:[/1/i,/2/i,/3/i,/4/i]},i9={narrow:/^(1[012]|[123456789])/,abbreviated:/^(1[012]|[123456789])/i,wide:/^(1[012]|[123456789])/i},s9={any:[/^1?$/,/^2/,/^3/,/^4/,/^5/,/^6/,/^7/,/^8/,/^9/,/^10/,/^11/,/^12/]},o9={narrow:/^[]/,short:/^[]/,abbreviated:/^[]/,wide:/^[]/},l9={any:[/^/,/^/,/^/,/^/,/^/,/^/,/^/]},c9={any:/^(am|pm|||||||)/i},u9={any:{am:/^(am|)/i,pm:/^(pm|)/i,midnight:/^/i,noon:/^/i,morning:/^/i,afternoon:/^/i,evening:/^/i,night:/^/i}},f9={ordinalNumber:gC({matchPattern:J6,parsePattern:e9,valueCallback:r=>parseInt(r,10)}),era:la({matchPatterns:t9,defaultMatchWidth:"wide",parsePatterns:n9,defaultParseWidth:"any"}),quarter:la({matchPatterns:r9,defaultMatchWidth:"wide",parsePatterns:a9,defaultParseWidth:"any",valueCallback:r=>r+1}),month:la({matchPatterns:i9,defaultMatchWidth:"wide",parsePatterns:s9,defaultParseWidth:"any"}),day:la({matchPatterns:o9,defaultMatchWidth:"wide",parsePatterns:l9,defaultParseWidth:"any"}),dayPeriod:la({matchPatterns:c9,defaultMatchWidth:"any",parsePatterns:u9,defaultParseWidth:"any"})},ev={code:"ko",formatDistance:U6,formatLong:F6,formatRelative:Y6,localize:Z6,match:f9,options:{weekStartsOn:0,firstWeekContainsDate:1}};function CC(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var i=r.length;for(e=0;e<i;e++)r[e]&&(t=CC(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function wn(){for(var r,e,t=0,n="",i=arguments.length;t<i;t++)(r=arguments[t])&&(e=CC(r))&&(n&&(n+=" "),n+=e);return n}function Op(){return typeof window<"u"}function fc(r){return AC(r)?(r.nodeName||"").toLowerCase():"#document"}function ar(r){var e;return(r==null||(e=r.ownerDocument)==null?void 0:e.defaultView)||window}function Sa(r){var e;return(e=(AC(r)?r.ownerDocument:r.document)||window.document)==null?void 0:e.documentElement}function AC(r){return Op()?r instanceof Node||r instanceof ar(r).Node:!1}function Vn(r){return Op()?r instanceof Element||r instanceof ar(r).Element:!1}function Ta(r){return Op()?r instanceof HTMLElement||r instanceof ar(r).HTMLElement:!1}function BT(r){return!Op()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof ar(r).ShadowRoot}const d9=new Set(["inline","contents"]);function bf(r){const{overflow:e,overflowX:t,overflowY:n,display:i}=Tr(r);return/auto|scroll|overlay|hidden|clip/.test(e+n+t)&&!d9.has(i)}const h9=new Set(["table","td","th"]);function p9(r){return h9.has(fc(r))}const m9=[":popover-open",":modal"];function Pp(r){return m9.some(e=>{try{return r.matches(e)}catch{return!1}})}const g9=["transform","translate","scale","rotate","perspective"],y9=["transform","translate","scale","rotate","perspective","filter"],v9=["paint","layout","strict","content"];function m_(r){const e=g_(),t=Vn(r)?Tr(r):r;return g9.some(n=>t[n]?t[n]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||y9.some(n=>(t.willChange||"").includes(n))||v9.some(n=>(t.contain||"").includes(n))}function _9(r){let e=_s(r);for(;Ta(e)&&!$l(e);){if(m_(e))return e;if(Pp(e))return null;e=_s(e)}return null}function g_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const w9=new Set(["html","body","#document"]);function $l(r){return w9.has(fc(r))}function Tr(r){return ar(r).getComputedStyle(r)}function Lp(r){return Vn(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function _s(r){if(fc(r)==="html")return r;const e=r.assignedSlot||r.parentNode||BT(r)&&r.host||Sa(r);return BT(e)?e.host:e}function RC(r){const e=_s(r);return $l(e)?r.ownerDocument?r.ownerDocument.body:r.body:Ta(e)&&bf(e)?e:RC(e)}function ef(r,e,t){var n;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=RC(r),o=i===((n=r.ownerDocument)==null?void 0:n.body),c=ar(i);if(o){const f=tv(c);return e.concat(c,c.visualViewport||[],bf(i)?i:[],f&&t?ef(f):[])}return e.concat(i,ef(i,[],t))}function tv(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}const Xl=Math.min,_o=Math.max,tp=Math.round,ah=Math.floor,wa=r=>({x:r,y:r}),E9={left:"right",right:"left",bottom:"top",top:"bottom"},b9={start:"end",end:"start"};function T9(r,e,t){return _o(r,Xl(e,t))}function Vp(r,e){return typeof r=="function"?r(e):r}function Zl(r){return r.split("-")[0]}function Tf(r){return r.split("-")[1]}function S9(r){return r==="x"?"y":"x"}function y_(r){return r==="y"?"height":"width"}const D9=new Set(["top","bottom"]);function uo(r){return D9.has(Zl(r))?"y":"x"}function v_(r){return S9(uo(r))}function C9(r,e,t){t===void 0&&(t=!1);const n=Tf(r),i=v_(r),o=y_(i);let c=i==="x"?n===(t?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(c=np(c)),[c,np(c)]}function A9(r){const e=np(r);return[nv(r),e,nv(e)]}function nv(r){return r.replace(/start|end/g,e=>b9[e])}const jT=["left","right"],HT=["right","left"],R9=["top","bottom"],I9=["bottom","top"];function x9(r,e,t){switch(r){case"top":case"bottom":return t?e?HT:jT:e?jT:HT;case"left":case"right":return e?R9:I9;default:return[]}}function M9(r,e,t,n){const i=Tf(r);let o=x9(Zl(r),t==="start",n);return i&&(o=o.map(c=>c+"-"+i),e&&(o=o.concat(o.map(nv)))),o}function np(r){return r.replace(/left|right|bottom|top/g,e=>E9[e])}function N9(r){return{top:0,right:0,bottom:0,left:0,...r}}function IC(r){return typeof r!="number"?N9(r):{top:r,right:r,bottom:r,left:r}}function rp(r){const{x:e,y:t,width:n,height:i}=r;return{width:n,height:i,top:t,left:e,right:e+n,bottom:t+i,x:e,y:t}}var k9=typeof document<"u",O9=function(){},ap=k9?N.useLayoutEffect:O9;const P9={...vS},L9=P9.useInsertionEffect,V9=L9||(r=>r());function U9(r){const e=N.useRef(()=>{});return V9(()=>{e.current=r}),N.useCallback(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.current==null?void 0:e.current(...n)},[])}function FT(r,e,t){let{reference:n,floating:i}=r;const o=uo(e),c=v_(e),f=y_(c),h=Zl(e),m=o==="y",y=n.x+n.width/2-i.width/2,_=n.y+n.height/2-i.height/2,w=n[f]/2-i[f]/2;let T;switch(h){case"top":T={x:y,y:n.y-i.height};break;case"bottom":T={x:y,y:n.y+n.height};break;case"right":T={x:n.x+n.width,y:_};break;case"left":T={x:n.x-i.width,y:_};break;default:T={x:n.x,y:n.y}}switch(Tf(e)){case"start":T[c]-=w*(t&&m?-1:1);break;case"end":T[c]+=w*(t&&m?-1:1);break}return T}const B9=async(r,e,t)=>{const{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:c}=t,f=o.filter(Boolean),h=await(c.isRTL==null?void 0:c.isRTL(e));let m=await c.getElementRects({reference:r,floating:e,strategy:i}),{x:y,y:_}=FT(m,n,h),w=n,T={},I=0;for(let L=0;L<f.length;L++){const{name:A,fn:B}=f[L],{x:H,y:z,data:ee,reset:J}=await B({x:y,y:_,initialPlacement:n,placement:w,strategy:i,middlewareData:T,rects:m,platform:c,elements:{reference:r,floating:e}});y=H??y,_=z??_,T={...T,[A]:{...T[A],...ee}},J&&I<=50&&(I++,typeof J=="object"&&(J.placement&&(w=J.placement),J.rects&&(m=J.rects===!0?await c.getElementRects({reference:r,floating:e,strategy:i}):J.rects),{x:y,y:_}=FT(m,w,h)),L=-1)}return{x:y,y:_,placement:w,strategy:i,middlewareData:T}};async function j9(r,e){var t;e===void 0&&(e={});const{x:n,y:i,platform:o,rects:c,elements:f,strategy:h}=r,{boundary:m="clippingAncestors",rootBoundary:y="viewport",elementContext:_="floating",altBoundary:w=!1,padding:T=0}=Vp(e,r),I=IC(T),A=f[w?_==="floating"?"reference":"floating":_],B=rp(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(A)))==null||t?A:A.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(f.floating)),boundary:m,rootBoundary:y,strategy:h})),H=_==="floating"?{x:n,y:i,width:c.floating.width,height:c.floating.height}:c.reference,z=await(o.getOffsetParent==null?void 0:o.getOffsetParent(f.floating)),ee=await(o.isElement==null?void 0:o.isElement(z))?await(o.getScale==null?void 0:o.getScale(z))||{x:1,y:1}:{x:1,y:1},J=rp(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:H,offsetParent:z,strategy:h}):H);return{top:(B.top-J.top+I.top)/ee.y,bottom:(J.bottom-B.bottom+I.bottom)/ee.y,left:(B.left-J.left+I.left)/ee.x,right:(J.right-B.right+I.right)/ee.x}}const H9=r=>({name:"arrow",options:r,async fn(e){const{x:t,y:n,placement:i,rects:o,platform:c,elements:f,middlewareData:h}=e,{element:m,padding:y=0}=Vp(r,e)||{};if(m==null)return{};const _=IC(y),w={x:t,y:n},T=v_(i),I=y_(T),L=await c.getDimensions(m),A=T==="y",B=A?"top":"left",H=A?"bottom":"right",z=A?"clientHeight":"clientWidth",ee=o.reference[I]+o.reference[T]-w[T]-o.floating[I],J=w[T]-o.reference[T],re=await(c.getOffsetParent==null?void 0:c.getOffsetParent(m));let M=re?re[z]:0;(!M||!await(c.isElement==null?void 0:c.isElement(re)))&&(M=f.floating[z]||o.floating[I]);const D=ee/2-J/2,x=M/2-L[I]/2-1,P=Xl(_[B],x),U=Xl(_[H],x),j=P,k=M-L[I]-U,Ee=M/2-L[I]/2+D,Se=T9(j,Ee,k),Y=!h.arrow&&Tf(i)!=null&&Ee!==Se&&o.reference[I]/2-(Ee<j?P:U)-L[I]/2<0,ae=Y?Ee<j?Ee-j:Ee-k:0;return{[T]:w[T]+ae,data:{[T]:Se,centerOffset:Ee-Se-ae,...Y&&{alignmentOffset:ae}},reset:Y}}}),F9=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(e){var t,n;const{placement:i,middlewareData:o,rects:c,initialPlacement:f,platform:h,elements:m}=e,{mainAxis:y=!0,crossAxis:_=!0,fallbackPlacements:w,fallbackStrategy:T="bestFit",fallbackAxisSideDirection:I="none",flipAlignment:L=!0,...A}=Vp(r,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const B=Zl(i),H=uo(f),z=Zl(f)===f,ee=await(h.isRTL==null?void 0:h.isRTL(m.floating)),J=w||(z||!L?[np(f)]:A9(f)),re=I!=="none";!w&&re&&J.push(...M9(f,L,I,ee));const M=[f,...J],D=await j9(e,A),x=[];let P=((n=o.flip)==null?void 0:n.overflows)||[];if(y&&x.push(D[B]),_){const Ee=C9(i,c,ee);x.push(D[Ee[0]],D[Ee[1]])}if(P=[...P,{placement:i,overflows:x}],!x.every(Ee=>Ee<=0)){var U,j;const Ee=(((U=o.flip)==null?void 0:U.index)||0)+1,Se=M[Ee];if(Se&&(!(_==="alignment"?H!==uo(Se):!1)||P.every(de=>uo(de.placement)===H?de.overflows[0]>0:!0)))return{data:{index:Ee,overflows:P},reset:{placement:Se}};let Y=(j=P.filter(ae=>ae.overflows[0]<=0).sort((ae,de)=>ae.overflows[1]-de.overflows[1])[0])==null?void 0:j.placement;if(!Y)switch(T){case"bestFit":{var k;const ae=(k=P.filter(de=>{if(re){const oe=uo(de.placement);return oe===H||oe==="y"}return!0}).map(de=>[de.placement,de.overflows.filter(oe=>oe>0).reduce((oe,O)=>oe+O,0)]).sort((de,oe)=>de[1]-oe[1])[0])==null?void 0:k[0];ae&&(Y=ae);break}case"initialPlacement":Y=f;break}if(i!==Y)return{reset:{placement:Y}}}return{}}}},q9=new Set(["left","top"]);async function Y9(r,e){const{placement:t,platform:n,elements:i}=r,o=await(n.isRTL==null?void 0:n.isRTL(i.floating)),c=Zl(t),f=Tf(t),h=uo(t)==="y",m=q9.has(c)?-1:1,y=o&&h?-1:1,_=Vp(e,r);let{mainAxis:w,crossAxis:T,alignmentAxis:I}=typeof _=="number"?{mainAxis:_,crossAxis:0,alignmentAxis:null}:{mainAxis:_.mainAxis||0,crossAxis:_.crossAxis||0,alignmentAxis:_.alignmentAxis};return f&&typeof I=="number"&&(T=f==="end"?I*-1:I),h?{x:T*y,y:w*m}:{x:w*m,y:T*y}}const z9=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(e){var t,n;const{x:i,y:o,placement:c,middlewareData:f}=e,h=await Y9(e,r);return c===((t=f.offset)==null?void 0:t.placement)&&(n=f.arrow)!=null&&n.alignmentOffset?{}:{x:i+h.x,y:o+h.y,data:{...h,placement:c}}}}};function xC(r){const e=Tr(r);let t=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=Ta(r),o=i?r.offsetWidth:t,c=i?r.offsetHeight:n,f=tp(t)!==o||tp(n)!==c;return f&&(t=o,n=c),{width:t,height:n,$:f}}function __(r){return Vn(r)?r:r.contextElement}function Ll(r){const e=__(r);if(!Ta(e))return wa(1);const t=e.getBoundingClientRect(),{width:n,height:i,$:o}=xC(e);let c=(o?tp(t.width):t.width)/n,f=(o?tp(t.height):t.height)/i;return(!c||!Number.isFinite(c))&&(c=1),(!f||!Number.isFinite(f))&&(f=1),{x:c,y:f}}const G9=wa(0);function MC(r){const e=ar(r);return!g_()||!e.visualViewport?G9:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Q9(r,e,t){return e===void 0&&(e=!1),!t||e&&t!==ar(r)?!1:e}function Co(r,e,t,n){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=r.getBoundingClientRect(),o=__(r);let c=wa(1);e&&(n?Vn(n)&&(c=Ll(n)):c=Ll(r));const f=Q9(o,t,n)?MC(o):wa(0);let h=(i.left+f.x)/c.x,m=(i.top+f.y)/c.y,y=i.width/c.x,_=i.height/c.y;if(o){const w=ar(o),T=n&&Vn(n)?ar(n):n;let I=w,L=tv(I);for(;L&&n&&T!==I;){const A=Ll(L),B=L.getBoundingClientRect(),H=Tr(L),z=B.left+(L.clientLeft+parseFloat(H.paddingLeft))*A.x,ee=B.top+(L.clientTop+parseFloat(H.paddingTop))*A.y;h*=A.x,m*=A.y,y*=A.x,_*=A.y,h+=z,m+=ee,I=ar(L),L=tv(I)}}return rp({width:y,height:_,x:h,y:m})}function Up(r,e){const t=Lp(r).scrollLeft;return e?e.left+t:Co(Sa(r)).left+t}function NC(r,e){const t=r.getBoundingClientRect(),n=t.left+e.scrollLeft-Up(r,t),i=t.top+e.scrollTop;return{x:n,y:i}}function W9(r){let{elements:e,rect:t,offsetParent:n,strategy:i}=r;const o=i==="fixed",c=Sa(n),f=e?Pp(e.floating):!1;if(n===c||f&&o)return t;let h={scrollLeft:0,scrollTop:0},m=wa(1);const y=wa(0),_=Ta(n);if((_||!_&&!o)&&((fc(n)!=="body"||bf(c))&&(h=Lp(n)),Ta(n))){const T=Co(n);m=Ll(n),y.x=T.x+n.clientLeft,y.y=T.y+n.clientTop}const w=c&&!_&&!o?NC(c,h):wa(0);return{width:t.width*m.x,height:t.height*m.y,x:t.x*m.x-h.scrollLeft*m.x+y.x+w.x,y:t.y*m.y-h.scrollTop*m.y+y.y+w.y}}function K9(r){return Array.from(r.getClientRects())}function $9(r){const e=Sa(r),t=Lp(r),n=r.ownerDocument.body,i=_o(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),o=_o(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let c=-t.scrollLeft+Up(r);const f=-t.scrollTop;return Tr(n).direction==="rtl"&&(c+=_o(e.clientWidth,n.clientWidth)-i),{width:i,height:o,x:c,y:f}}const qT=25;function X9(r,e){const t=ar(r),n=Sa(r),i=t.visualViewport;let o=n.clientWidth,c=n.clientHeight,f=0,h=0;if(i){o=i.width,c=i.height;const y=g_();(!y||y&&e==="fixed")&&(f=i.offsetLeft,h=i.offsetTop)}const m=Up(n);if(m<=0){const y=n.ownerDocument,_=y.body,w=getComputedStyle(_),T=y.compatMode==="CSS1Compat"&&parseFloat(w.marginLeft)+parseFloat(w.marginRight)||0,I=Math.abs(n.clientWidth-_.clientWidth-T);I<=qT&&(o-=I)}else m<=qT&&(o+=m);return{width:o,height:c,x:f,y:h}}const Z9=new Set(["absolute","fixed"]);function J9(r,e){const t=Co(r,!0,e==="fixed"),n=t.top+r.clientTop,i=t.left+r.clientLeft,o=Ta(r)?Ll(r):wa(1),c=r.clientWidth*o.x,f=r.clientHeight*o.y,h=i*o.x,m=n*o.y;return{width:c,height:f,x:h,y:m}}function YT(r,e,t){let n;if(e==="viewport")n=X9(r,t);else if(e==="document")n=$9(Sa(r));else if(Vn(e))n=J9(e,t);else{const i=MC(r);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return rp(n)}function kC(r,e){const t=_s(r);return t===e||!Vn(t)||$l(t)?!1:Tr(t).position==="fixed"||kC(t,e)}function eU(r,e){const t=e.get(r);if(t)return t;let n=ef(r,[],!1).filter(f=>Vn(f)&&fc(f)!=="body"),i=null;const o=Tr(r).position==="fixed";let c=o?_s(r):r;for(;Vn(c)&&!$l(c);){const f=Tr(c),h=m_(c);!h&&f.position==="fixed"&&(i=null),(o?!h&&!i:!h&&f.position==="static"&&!!i&&Z9.has(i.position)||bf(c)&&!h&&kC(r,c))?n=n.filter(y=>y!==c):i=f,c=_s(c)}return e.set(r,n),n}function tU(r){let{element:e,boundary:t,rootBoundary:n,strategy:i}=r;const c=[...t==="clippingAncestors"?Pp(e)?[]:eU(e,this._c):[].concat(t),n],f=c[0],h=c.reduce((m,y)=>{const _=YT(e,y,i);return m.top=_o(_.top,m.top),m.right=Xl(_.right,m.right),m.bottom=Xl(_.bottom,m.bottom),m.left=_o(_.left,m.left),m},YT(e,f,i));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function nU(r){const{width:e,height:t}=xC(r);return{width:e,height:t}}function rU(r,e,t){const n=Ta(e),i=Sa(e),o=t==="fixed",c=Co(r,!0,o,e);let f={scrollLeft:0,scrollTop:0};const h=wa(0);function m(){h.x=Up(i)}if(n||!n&&!o)if((fc(e)!=="body"||bf(i))&&(f=Lp(e)),n){const T=Co(e,!0,o,e);h.x=T.x+e.clientLeft,h.y=T.y+e.clientTop}else i&&m();o&&!n&&i&&m();const y=i&&!n&&!o?NC(i,f):wa(0),_=c.left+f.scrollLeft-h.x-y.x,w=c.top+f.scrollTop-h.y-y.y;return{x:_,y:w,width:c.width,height:c.height}}function fy(r){return Tr(r).position==="static"}function zT(r,e){if(!Ta(r)||Tr(r).position==="fixed")return null;if(e)return e(r);let t=r.offsetParent;return Sa(r)===t&&(t=t.ownerDocument.body),t}function OC(r,e){const t=ar(r);if(Pp(r))return t;if(!Ta(r)){let i=_s(r);for(;i&&!$l(i);){if(Vn(i)&&!fy(i))return i;i=_s(i)}return t}let n=zT(r,e);for(;n&&p9(n)&&fy(n);)n=zT(n,e);return n&&$l(n)&&fy(n)&&!m_(n)?t:n||_9(r)||t}const aU=async function(r){const e=this.getOffsetParent||OC,t=this.getDimensions,n=await t(r.floating);return{reference:rU(r.reference,await e(r.floating),r.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function iU(r){return Tr(r).direction==="rtl"}const sU={convertOffsetParentRelativeRectToViewportRelativeRect:W9,getDocumentElement:Sa,getClippingRect:tU,getOffsetParent:OC,getElementRects:aU,getClientRects:K9,getDimensions:nU,getScale:Ll,isElement:Vn,isRTL:iU};function PC(r,e){return r.x===e.x&&r.y===e.y&&r.width===e.width&&r.height===e.height}function oU(r,e){let t=null,n;const i=Sa(r);function o(){var f;clearTimeout(n),(f=t)==null||f.disconnect(),t=null}function c(f,h){f===void 0&&(f=!1),h===void 0&&(h=1),o();const m=r.getBoundingClientRect(),{left:y,top:_,width:w,height:T}=m;if(f||e(),!w||!T)return;const I=ah(_),L=ah(i.clientWidth-(y+w)),A=ah(i.clientHeight-(_+T)),B=ah(y),z={rootMargin:-I+"px "+-L+"px "+-A+"px "+-B+"px",threshold:_o(0,Xl(1,h))||1};let ee=!0;function J(re){const M=re[0].intersectionRatio;if(M!==h){if(!ee)return c();M?c(!1,M):n=setTimeout(()=>{c(!1,1e-7)},1e3)}M===1&&!PC(m,r.getBoundingClientRect())&&c(),ee=!1}try{t=new IntersectionObserver(J,{...z,root:i.ownerDocument})}catch{t=new IntersectionObserver(J,z)}t.observe(r)}return c(!0),o}function lU(r,e,t,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:h=!1}=n,m=__(r),y=i||o?[...m?ef(m):[],...ef(e)]:[];y.forEach(B=>{i&&B.addEventListener("scroll",t,{passive:!0}),o&&B.addEventListener("resize",t)});const _=m&&f?oU(m,t):null;let w=-1,T=null;c&&(T=new ResizeObserver(B=>{let[H]=B;H&&H.target===m&&T&&(T.unobserve(e),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var z;(z=T)==null||z.observe(e)})),t()}),m&&!h&&T.observe(m),T.observe(e));let I,L=h?Co(r):null;h&&A();function A(){const B=Co(r);L&&!PC(L,B)&&t(),L=B,I=requestAnimationFrame(A)}return t(),()=>{var B;y.forEach(H=>{i&&H.removeEventListener("scroll",t),o&&H.removeEventListener("resize",t)}),_?.(),(B=T)==null||B.disconnect(),T=null,h&&cancelAnimationFrame(I)}}const cU=z9,uU=F9,GT=H9,fU=(r,e,t)=>{const n=new Map,i={platform:sU,...t},o={...i.platform,_c:n};return B9(r,e,{...i,platform:o})};var dU=typeof document<"u",hU=function(){},Th=dU?N.useLayoutEffect:hU;function ip(r,e){if(r===e)return!0;if(typeof r!=typeof e)return!1;if(typeof r=="function"&&r.toString()===e.toString())return!0;let t,n,i;if(r&&e&&typeof r=="object"){if(Array.isArray(r)){if(t=r.length,t!==e.length)return!1;for(n=t;n--!==0;)if(!ip(r[n],e[n]))return!1;return!0}if(i=Object.keys(r),t=i.length,t!==Object.keys(e).length)return!1;for(n=t;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=t;n--!==0;){const o=i[n];if(!(o==="_owner"&&r.$$typeof)&&!ip(r[o],e[o]))return!1}return!0}return r!==r&&e!==e}function LC(r){return typeof window>"u"?1:(r.ownerDocument.defaultView||window).devicePixelRatio||1}function QT(r,e){const t=LC(r);return Math.round(e*t)/t}function dy(r){const e=N.useRef(r);return Th(()=>{e.current=r}),e}function pU(r){r===void 0&&(r={});const{placement:e="bottom",strategy:t="absolute",middleware:n=[],platform:i,elements:{reference:o,floating:c}={},transform:f=!0,whileElementsMounted:h,open:m}=r,[y,_]=N.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[w,T]=N.useState(n);ip(w,n)||T(n);const[I,L]=N.useState(null),[A,B]=N.useState(null),H=N.useCallback(de=>{de!==re.current&&(re.current=de,L(de))},[]),z=N.useCallback(de=>{de!==M.current&&(M.current=de,B(de))},[]),ee=o||I,J=c||A,re=N.useRef(null),M=N.useRef(null),D=N.useRef(y),x=h!=null,P=dy(h),U=dy(i),j=dy(m),k=N.useCallback(()=>{if(!re.current||!M.current)return;const de={placement:e,strategy:t,middleware:w};U.current&&(de.platform=U.current),fU(re.current,M.current,de).then(oe=>{const O={...oe,isPositioned:j.current!==!1};Ee.current&&!ip(D.current,O)&&(D.current=O,rf.flushSync(()=>{_(O)}))})},[w,e,t,U,j]);Th(()=>{m===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,_(de=>({...de,isPositioned:!1})))},[m]);const Ee=N.useRef(!1);Th(()=>(Ee.current=!0,()=>{Ee.current=!1}),[]),Th(()=>{if(ee&&(re.current=ee),J&&(M.current=J),ee&&J){if(P.current)return P.current(ee,J,k);k()}},[ee,J,k,P,x]);const Se=N.useMemo(()=>({reference:re,floating:M,setReference:H,setFloating:z}),[H,z]),Y=N.useMemo(()=>({reference:ee,floating:J}),[ee,J]),ae=N.useMemo(()=>{const de={position:t,left:0,top:0};if(!Y.floating)return de;const oe=QT(Y.floating,y.x),O=QT(Y.floating,y.y);return f?{...de,transform:"translate("+oe+"px, "+O+"px)",...LC(Y.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:oe,top:O}},[t,f,Y.floating,y.x,y.y]);return N.useMemo(()=>({...y,update:k,refs:Se,elements:Y,floatingStyles:ae}),[y,k,Se,Y,ae])}const mU=r=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:r,fn(t){const{element:n,padding:i}=typeof r=="function"?r(t):r;return n&&e(n)?n.current!=null?GT({element:n.current,padding:i}).fn(t):{}:n?GT({element:n,padding:i}).fn(t):{}}}},gU=(r,e)=>({...cU(r),options:[r,e]}),yU=(r,e)=>({...uU(r),options:[r,e]}),vU=(r,e)=>({...mU(r),options:[r,e]}),_U={...vS};let WT=!1,wU=0;const KT=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+wU++;function EU(){const[r,e]=N.useState(()=>WT?KT():void 0);return ap(()=>{r==null&&e(KT())},[]),N.useEffect(()=>{WT=!0},[]),r}const bU=_U.useId,VC=bU||EU,TU=N.forwardRef(function(e,t){const{context:{placement:n,elements:{floating:i},middlewareData:{arrow:o,shift:c}},width:f=14,height:h=7,tipRadius:m=0,strokeWidth:y=0,staticOffset:_,stroke:w,d:T,style:{transform:I,...L}={},...A}=e,B=VC(),[H,z]=N.useState(!1);if(ap(()=>{if(!i)return;Tr(i).direction==="rtl"&&z(!0)},[i]),!i)return null;const[ee,J]=n.split("-"),re=ee==="top"||ee==="bottom";let M=_;(re&&c!=null&&c.x||!re&&c!=null&&c.y)&&(M=null);const D=y*2,x=D/2,P=f/2*(m/-8+1),U=h/2*m/4,j=!!T,k=M&&J==="end"?"bottom":"top";let Ee=M&&J==="end"?"right":"left";M&&H&&(Ee=J==="end"?"left":"right");const Se=o?.x!=null?M||o.x:"",Y=o?.y!=null?M||o.y:"",ae=T||"M0,0"+(" H"+f)+(" L"+(f-P)+","+(h-U))+(" Q"+f/2+","+h+" "+P+","+(h-U))+" Z",de={top:j?"rotate(180deg)":"",left:j?"rotate(90deg)":"rotate(-90deg)",bottom:j?"":"rotate(180deg)",right:j?"rotate(-90deg)":"rotate(90deg)"}[ee];return C.jsxs("svg",{...A,"aria-hidden":!0,ref:t,width:j?f:f+D,height:f,viewBox:"0 0 "+f+" "+(h>f?h:f),style:{position:"absolute",pointerEvents:"none",[Ee]:Se,[k]:Y,[ee]:re||j?"100%":"calc(100% - "+D/2+"px)",transform:[de,I].filter(oe=>!!oe).join(" "),...L},children:[D>0&&C.jsx("path",{clipPath:"url(#"+B+")",fill:"none",stroke:w,strokeWidth:D+(T?0:1),d:ae}),C.jsx("path",{stroke:D&&!T?A.fill:"none",d:ae}),C.jsx("clipPath",{id:B,children:C.jsx("rect",{x:-x,y:x*(j?-1:1),width:f+D,height:f})})]})});function SU(){const r=new Map;return{emit(e,t){var n;(n=r.get(e))==null||n.forEach(i=>i(t))},on(e,t){r.has(e)||r.set(e,new Set),r.get(e).add(t)},off(e,t){var n;(n=r.get(e))==null||n.delete(t)}}}const DU=N.createContext(null),CU=N.createContext(null),AU=()=>{var r;return((r=N.useContext(DU))==null?void 0:r.id)||null},RU=()=>N.useContext(CU);function IU(r){const{open:e=!1,onOpenChange:t,elements:n}=r,i=VC(),o=N.useRef({}),[c]=N.useState(()=>SU()),f=AU()!=null,[h,m]=N.useState(n.reference),y=U9((T,I,L)=>{o.current.openEvent=T?I:void 0,c.emit("openchange",{open:T,event:I,reason:L,nested:f}),t?.(T,I,L)}),_=N.useMemo(()=>({setPositionReference:m}),[]),w=N.useMemo(()=>({reference:h||n.reference||null,floating:n.floating||null,domReference:n.reference}),[h,n.reference,n.floating]);return N.useMemo(()=>({dataRef:o,open:e,onOpenChange:y,elements:w,events:c,floatingId:i,refs:_}),[e,y,w,c,i,_])}function xU(r){r===void 0&&(r={});const{nodeId:e}=r,t=IU({...r,elements:{reference:null,floating:null,...r.elements}}),n=r.rootContext||t,i=n.elements,[o,c]=N.useState(null),[f,h]=N.useState(null),y=i?.domReference||o,_=N.useRef(null),w=RU();ap(()=>{y&&(_.current=y)},[y]);const T=pU({...r,elements:{...i,...f&&{reference:f}}}),I=N.useCallback(z=>{const ee=Vn(z)?{getBoundingClientRect:()=>z.getBoundingClientRect(),getClientRects:()=>z.getClientRects(),contextElement:z}:z;h(ee),T.refs.setReference(ee)},[T.refs]),L=N.useCallback(z=>{(Vn(z)||z===null)&&(_.current=z,c(z)),(Vn(T.refs.reference.current)||T.refs.reference.current===null||z!==null&&!Vn(z))&&T.refs.setReference(z)},[T.refs]),A=N.useMemo(()=>({...T.refs,setReference:L,setPositionReference:I,domReference:_}),[T.refs,L,I]),B=N.useMemo(()=>({...T.elements,domReference:y}),[T.elements,y]),H=N.useMemo(()=>({...T,...n,refs:A,elements:B,nodeId:e}),[T,A,B,e,n]);return ap(()=>{n.dataRef.current.floatingContext=H;const z=w?.nodesRef.current.find(ee=>ee.id===e);z&&(z.context=H)}),N.useMemo(()=>({...T,context:H,refs:A,elements:B}),[T,A,B,H])}/*!
  react-datepicker v8.7.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var rv=function(e,t){return rv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},rv(e,t)};function bn(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");rv(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Ge=function(){return Ge=Object.assign||function(t){for(var n,i=1,o=arguments.length;i<o;i++){n=arguments[i];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(t[c]=n[c])}return t},Ge.apply(this,arguments)};function ha(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))}var MU=function(r){var e=r.showTimeSelectOnly,t=e===void 0?!1:e,n=r.showTime,i=n===void 0?!1:n,o=r.className,c=r.children,f=t?"Choose Time":"Choose Date".concat(i?" and Time":"");return te.createElement("div",{className:o,role:"dialog","aria-label":f,"aria-modal":"true"},c)},NU=function(r,e){var t=N.useRef(null),n=N.useRef(r);n.current=r;var i=N.useCallback(function(o){var c,f=o.composed&&o.composedPath&&o.composedPath().find(function(h){return h instanceof Node})||o.target;t.current&&!t.current.contains(f)&&(e&&f instanceof HTMLElement&&f.classList.contains(e)||(c=n.current)===null||c===void 0||c.call(n,o))},[e]);return N.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),t},Bp=function(r){var e=r.children,t=r.onClickOutside,n=r.className,i=r.containerRef,o=r.style,c=r.ignoreClass,f=NU(t,c);return te.createElement("div",{className:n,style:o,ref:function(h){f.current=h,i&&(i.current=h)}},e)},me;(function(r){r.ArrowUp="ArrowUp",r.ArrowDown="ArrowDown",r.ArrowLeft="ArrowLeft",r.ArrowRight="ArrowRight",r.PageUp="PageUp",r.PageDown="PageDown",r.Home="Home",r.End="End",r.Enter="Enter",r.Space=" ",r.Tab="Tab",r.Escape="Escape",r.Backspace="Backspace",r.X="x"})(me||(me={}));function UC(){var r=typeof window<"u"?window:globalThis;return r}var Sf=12;function st(r){if(r==null)return new Date;var e=typeof r=="string"?w6(r):be(r);return jp(e)?e:new Date}function hy(r,e,t,n,i){i===void 0&&(i=st());for(var o=Jl(t)||Jl(w_()),c=Array.isArray(e)?e:[e],f=0,h=c;f<h.length;f++){var m=h[f],y=p6(r,m,i,{locale:o});if(jp(y)&&(!n||r===bt(y,m,t)))return y}return null}function jp(r,e){return $h(r)&&!da(r,new Date("1/1/1800"))}function bt(r,e,t){if(t==="en")return Zy(r,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=t?Jl(t):void 0;return t&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),n=n||Jl(w_()),Zy(r,e,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function vr(r,e){var t=e.dateFormat,n=e.locale,i=Array.isArray(t)&&t.length>0?t[0]:t;return r&&bt(r,i,n)||""}var BC=" - ";function kU(r,e,t){if(!r&&!e)return"";var n=r?vr(r,t):"",i=e?vr(e,t):"",o=t.rangeSeparator||BC;return"".concat(n).concat(o).concat(i)}function OU(r,e){if(!r?.length)return"";var t=r[0]?vr(r[0],e):"";if(r.length===1)return t;if(r.length===2&&r[1]){var n=vr(r[1],e);return"".concat(t,", ").concat(n)}var i=r.length-1;return"".concat(t," (+").concat(i,")")}function py(r,e){var t=e.hour,n=t===void 0?0:t,i=e.minute,o=i===void 0?0:i,c=e.second,f=c===void 0?0:c;return go(yo(bh(r,f),o),n)}function PU(r){return f_(r)}function LU(r,e){return bt(r,"ddd",e)}function Sh(r){return ys(r)}function cs(r,e,t){var n=Jl(e||w_());return gi(r,{locale:n,weekStartsOn:t})}function ci(r){return pC(r)}function ku(r){return kp(r)}function $T(r){return $y(r)}function XT(){return ys(st())}function ZT(r){return dC(r)}function VU(r){return E4(r)}function UU(r){return hC(r)}function sa(r,e){return r&&e?v6(r,e):!r&&!e}function Ln(r,e){return r&&e?g6(r,e):!r&&!e}function sp(r,e){return r&&e?y6(r,e):!r&&!e}function ze(r,e){return r&&e?fC(r,e):!r&&!e}function fo(r,e){return r&&e?_3(r,e):!r&&!e}function oo(r,e,t){var n,i=ys(e),o=dC(t);try{n=Ju(r,{start:i,end:o})}catch{n=!1}return n}function w_(){var r=UC();return r.__localeId__}function Jl(r){if(typeof r=="string"){var e=UC();return e.__localeData__?e.__localeData__[r]:void 0}else return r}function BU(r,e,t){return e(bt(r,"EEEE",t))}function jU(r,e){return bt(r,"EEEEEE",e)}function HU(r,e){return bt(r,"EEE",e)}function E_(r,e){return bt(_r(st(),r),"LLLL",e)}function jC(r,e){return bt(_r(st(),r),"LLL",e)}function FU(r,e){return bt(Il(st(),r),"QQQ",e)}function wr(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,o=t.excludeDates,c=t.excludeDateIntervals,f=t.includeDates,h=t.includeDateIntervals,m=t.filterDate;return Df(r,{minDate:n,maxDate:i})||o&&o.some(function(y){return y instanceof Date?ze(r,y):ze(r,y.date)})||c&&c.some(function(y){var _=y.start,w=y.end;return Ju(r,{start:_,end:w})})||f&&!f.some(function(y){return ze(r,y)})||h&&!h.some(function(y){var _=y.start,w=y.end;return Ju(r,{start:_,end:w})})||m&&!m(st(r))||!1}function b_(r,e){var t=e===void 0?{}:e,n=t.excludeDates,i=t.excludeDateIntervals;return i&&i.length>0?i.some(function(o){var c=o.start,f=o.end;return Ju(r,{start:c,end:f})}):n&&n.some(function(o){var c;return o instanceof Date?ze(r,o):ze(r,(c=o.date)!==null&&c!==void 0?c:new Date)})||!1}function HC(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,o=t.excludeDates,c=t.includeDates,f=t.filterDate;return Df(r,{minDate:n?pC(n):void 0,maxDate:i?hC(i):void 0})||o?.some(function(h){return Ln(r,h instanceof Date?h:h.date)})||c&&!c.some(function(h){return Ln(r,h)})||f&&!f(st(r))||!1}function ih(r,e,t,n){var i=He(r),o=In(r),c=He(e),f=In(e),h=He(n);return i===c&&i===h?o<=t&&t<=f:i<c?h===i&&o<=t||h===c&&f>=t||h<c&&h>i:!1}function qU(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,o=t.excludeDates,c=t.includeDates;return Df(r,{minDate:n,maxDate:i})||o&&o.some(function(f){return Ln(f instanceof Date?f:f.date,r)})||c&&!c.some(function(f){return Ln(f,r)})||!1}function sh(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,o=t.excludeDates,c=t.includeDates,f=t.filterDate;return Df(r,{minDate:n,maxDate:i})||o?.some(function(h){return sp(r,h instanceof Date?h:h.date)})||c&&!c.some(function(h){return sp(r,h)})||f&&!f(st(r))||!1}function oh(r,e,t){if(!e||!t||!$h(e)||!$h(t))return!1;var n=He(e),i=He(t);return n<=r&&i>=r}function Dh(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,o=t.excludeDates,c=t.includeDates,f=t.filterDate,h=new Date(r,0,1);return Df(h,{minDate:n?kp(n):void 0,maxDate:i?mC(i):void 0})||o?.some(function(m){return sa(h,m instanceof Date?m:m.date)})||c&&!c.some(function(m){return sa(h,m)})||f&&!f(st(h))||!1}function lh(r,e,t,n){var i=He(r),o=mo(r),c=He(e),f=mo(e),h=He(n);return i===c&&i===h?o<=t&&t<=f:i<c?h===i&&o<=t||h===c&&f>=t||h<c&&h>i:!1}function Df(r,e){var t,n=e===void 0?{}:e,i=n.minDate,o=n.maxDate;return(t=i&&Wl(r,i)<0||o&&Wl(r,o)>0)!==null&&t!==void 0?t:!1}function JT(r,e){return e.some(function(t){return oi(t)===oi(r)&&li(t)===li(r)&&ls(t)===ls(r)})}function eS(r,e){var t=e===void 0?{}:e,n=t.excludeTimes,i=t.includeTimes,o=t.filterTime;return n&&JT(r,n)||i&&!JT(r,i)||o&&!o(r)||!1}function tS(r,e){var t=e.minTime,n=e.maxTime;if(!t||!n)throw new Error("Both minTime and maxTime props required");var i=st();i=go(i,oi(r)),i=yo(i,li(r)),i=bh(i,ls(r));var o=st();o=go(o,oi(t)),o=yo(o,li(t)),o=bh(o,ls(t));var c=st();c=go(c,oi(n)),c=yo(c,li(n)),c=bh(c,ls(n));var f;try{f=!Ju(i,{start:o,end:c})}catch{f=!1}return f}function nS(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.includeDates,o=vo(r,1);return n&&Xh(n,o)>0||i&&i.every(function(c){return Xh(c,o)>0})||!1}function rS(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.includeDates,o=Vr(r,1);return n&&Xh(o,n)>0||i&&i.every(function(c){return Xh(o,c)>0})||!1}function YU(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.includeDates,o=kp(r),c=DC(o);return n&&Zh(n,c)>0||i&&i.every(function(f){return Zh(f,c)>0})||!1}function zU(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.includeDates,o=mC(r),c=u_(o,1);return n&&Zh(c,n)>0||i&&i.every(function(f){return Zh(c,f)>0})||!1}function aS(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.includeDates,o=Kl(r,1);return n&&Jh(n,o)>0||i&&i.every(function(c){return Jh(c,o)>0})||!1}function GU(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.yearItemNumber,o=i===void 0?Sf:i,c=ku(Kl(r,o)),f=ti(c,o).endPeriod,h=n&&He(n);return h&&h>f||!1}function iS(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.includeDates,o=ii(r,1);return n&&Jh(o,n)>0||i&&i.every(function(c){return Jh(o,c)>0})||!1}function QU(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.yearItemNumber,o=i===void 0?Sf:i,c=ii(r,o),f=ti(c,o).startPeriod,h=n&&He(n);return h&&h<f||!1}function FC(r){var e=r.minDate,t=r.includeDates;if(t&&e){var n=t.filter(function(i){return Wl(i,e)>=0});return MT(n)}else return t?MT(t):e}function qC(r){var e=r.maxDate,t=r.includeDates;if(t&&e){var n=t.filter(function(i){return Wl(i,e)<=0});return xT(n)}else return t?xT(t):e}function sS(r,e){var t;r===void 0&&(r=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var n=new Map,i=0,o=r.length;i<o;i++){var c=r[i];if(si(c)){var f=bt(c,"MM.dd.yyyy"),h=n.get(f)||[];h.includes(e)||(h.push(e),n.set(f,h))}else if(typeof c=="object"){var m=Object.keys(c),y=(t=m[0])!==null&&t!==void 0?t:"",_=c[y];if(typeof y=="string"&&Array.isArray(_))for(var w=0,T=_.length;w<T;w++){var I=_[w];if(I){var f=bt(I,"MM.dd.yyyy"),h=n.get(f)||[];h.includes(y)||(h.push(y),n.set(f,h))}}}}return n}function WU(r,e){return r.length!==e.length?!1:r.every(function(t,n){return t===e[n]})}function KU(r,e){r===void 0&&(r=[]),e===void 0&&(e="react-datepicker__day--holidays");var t=new Map;return r.forEach(function(n){var i=n.date,o=n.holidayName;if(si(i)){var c=bt(i,"MM.dd.yyyy"),f=t.get(c)||{className:"",holidayNames:[]};if(!("className"in f&&f.className===e&&WU(f.holidayNames,[o]))){f.className=e;var h=f.holidayNames;f.holidayNames=h?ha(ha([],h,!0),[o],!1):[o],t.set(c,f)}}}),t}function $U(r,e,t,n,i){for(var o=i.length,c=[],f=0;f<o;f++){var h=r,m=i[f];m&&(h=g4(h,oi(m)),h=Ky(h,li(m)),h=_4(h,ls(m)));var y=Ky(r,(t+1)*n);vs(h,e)&&da(h,y)&&m!=null&&c.push(m)}return c}function oS(r){return r<10?"0".concat(r):"".concat(r)}function ti(r,e){e===void 0&&(e=Sf);var t=Math.ceil(He(r)/e)*e,n=t-(e-1);return{startPeriod:n,endPeriod:t}}function XU(r){var e=new Date(r.getFullYear(),r.getMonth(),r.getDate()),t=new Date(r.getFullYear(),r.getMonth(),r.getDate(),24);return Math.round((+t-+e)/36e5)}function lS(r){var e=r.getSeconds(),t=r.getMilliseconds();return be(r.getTime()-e*1e3-t)}function ZU(r,e){return lS(r).getTime()===lS(e).getTime()}function cS(r){if(!si(r))throw new Error("Invalid date");var e=new Date(r);return e.setHours(0,0,0,0),e}function my(r,e){if(!si(r)||!si(e))throw new Error("Invalid date received");var t=cS(r),n=cS(e);return da(t,n)}function YC(r){return r.key===me.Space}var JU=(function(r){bn(e,r);function e(t){var n=r.call(this,t)||this;return n.inputRef=te.createRef(),n.onTimeChange=function(i){var o,c;n.setState({time:i});var f=n.props.date,h=f instanceof Date&&!isNaN(+f),m=h?f:new Date;if(i?.includes(":")){var y=i.split(":"),_=y[0],w=y[1];m.setHours(Number(_)),m.setMinutes(Number(w))}(c=(o=n.props).onChange)===null||c===void 0||c.call(o,m)},n.renderTimeInput=function(){var i=n.state.time,o=n.props,c=o.date,f=o.timeString,h=o.customTimeInput;return h?N.cloneElement(h,{date:c,value:i,onChange:n.onTimeChange}):te.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var m;(m=n.inputRef.current)===null||m===void 0||m.focus()},required:!0,value:i,onChange:function(m){n.onTimeChange(m.target.value||f)}})},n.state={time:n.props.timeString},n}return e.getDerivedStateFromProps=function(t,n){return t.timeString!==n.time?{time:t.timeString}:null},e.prototype.render=function(){return te.createElement("div",{className:"react-datepicker__input-time-container"},te.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),te.createElement("div",{className:"react-datepicker-time__input-container"},te.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e})(N.Component),eB=(function(r){bn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.dayEl=N.createRef(),t.handleClick=function(n){!t.isDisabled()&&t.props.onClick&&t.props.onClick(n)},t.handleMouseEnter=function(n){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(n)},t.handleOnKeyDown=function(n){var i,o,c=n.key;c===me.Space&&(n.preventDefault(),n.key=me.Enter),(o=(i=t.props).handleOnKeyDown)===null||o===void 0||o.call(i,n)},t.isSameDay=function(n){return ze(t.props.day,n)},t.isKeyboardSelected=function(){var n;if(t.props.disabledKeyboardNavigation)return!1;var i=t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(c){return t.isSameDayOrWeek(c)}):t.isSameDayOrWeek(t.props.selected),o=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!i&&t.isSameDayOrWeek(t.props.preSelection)&&!o},t.isDisabled=function(n){return n===void 0&&(n=t.props.day),wr(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return b_(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return ze(t.props.day,cs(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(n){return t.props.showWeekPicker&&ze(n,cs(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(n){return t.isSameDay(n)||t.isSameWeek(n)},t.getHighLightedClass=function(){var n=t.props,i=n.day,o=n.highlightDates;if(!o)return!1;var c=bt(i,"MM.dd.yyyy");return o.get(c)},t.getHolidaysClass=function(){var n,i=t.props,o=i.day,c=i.holidays;if(!c)return[void 0];var f=bt(o,"MM.dd.yyyy");return c.has(f)?[(n=c.get(f))===null||n===void 0?void 0:n.className]:[void 0]},t.isInRange=function(){var n=t.props,i=n.day,o=n.startDate,c=n.endDate;return!o||!c?!1:oo(i,o,c)},t.isInSelectingRange=function(){var n,i=t.props,o=i.day,c=i.selectsStart,f=i.selectsEnd,h=i.selectsRange,m=i.selectsDisabledDaysInRange,y=i.startDate,_=i.swapRange,w=i.endDate,T=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;if(!(c||f||h)||!T||!m&&t.isDisabled())return!1;if(c&&w&&(da(T,w)||fo(T,w)))return oo(o,T,w);if(f&&y&&(vs(T,y)||fo(T,y)))return oo(o,y,T);if(h&&y&&!w){if(fo(T,y)||vs(T,y))return oo(o,y,T);if(_&&da(T,y))return oo(o,T,y)}return!1},t.isSelectingRangeStart=function(){var n;if(!t.isInSelectingRange())return!1;var i=t.props,o=i.day,c=i.startDate,f=i.selectsStart,h=i.swapRange,m=i.selectsRange,y=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return f?ze(o,y):m&&h&&c&&y?ze(o,da(y,c)?y:c):ze(o,c)},t.isSelectingRangeEnd=function(){var n;if(!t.isInSelectingRange())return!1;var i=t.props,o=i.day,c=i.endDate,f=i.selectsEnd,h=i.selectsRange,m=i.swapRange,y=i.startDate,_=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return f?ze(o,_):h&&m&&y&&_?ze(o,da(_,y)?y:_):h?ze(o,_):ze(o,c)},t.isRangeStart=function(){var n=t.props,i=n.day,o=n.startDate,c=n.endDate;return!o||!c?!1:ze(o,i)},t.isRangeEnd=function(){var n=t.props,i=n.day,o=n.startDate,c=n.endDate;return!o||!c?!1:ze(c,i)},t.isWeekend=function(){var n=m3(t.props.day);return n===0||n===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===In(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(In(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(st())},t.isSelected=function(){var n;return t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(i){return t.isSameDayOrWeek(i)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(n){var i=t.props.dayClassName?t.props.dayClassName(n):void 0;return wn("react-datepicker__day",i,"react-datepicker__day--"+LU(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var n=t.props,i=n.day,o=n.ariaLabelPrefixWhenEnabled,c=o===void 0?"Choose":o,f=n.ariaLabelPrefixWhenDisabled,h=f===void 0?"Not available":f,m=t.isDisabled()||t.isExcluded()?h:c;return"".concat(m," ").concat(bt(i,"PPPP",t.props.locale))},t.getTitle=function(){var n=t.props,i=n.day,o=n.holidays,c=o===void 0?new Map:o,f=n.excludeDates,h=bt(i,"MM.dd.yyyy"),m=[];return c.has(h)&&m.push.apply(m,c.get(h).holidayNames),t.isExcluded()&&m.push(f?.filter(function(y){return y instanceof Date?ze(y,i):ze(y?.date,i)}).map(function(y){if(!(y instanceof Date))return y?.message})),m.join(", ")},t.getTabIndex=function(){var n=t.props.selected,i=t.props.preSelection,o=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(n)&&ze(i,n))?0:-1;return o},t.handleFocusDay=function(){var n;t.shouldFocusDay()&&((n=t.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(VT(t.props.day),t.props.day):VT(t.props.day)},t.render=function(){return te.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"gridcell",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&te.createElement("span",{className:"overlay"},t.getTitle()))},t}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},e.prototype.isDayActiveElement=function(){var t,n,i;return((n=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e})(N.Component),tB=(function(r){bn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.weekNumberEl=N.createRef(),t.handleClick=function(n){t.props.onClick&&t.props.onClick(n)},t.handleOnKeyDown=function(n){var i,o,c=n.key;c===me.Space&&(n.preventDefault(),n.key=me.Enter),(o=(i=t.props).handleOnKeyDown)===null||o===void 0||o.call(i,n)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!ze(t.props.date,t.props.selected)&&ze(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||ze(t.props.date,t.props.selected)&&ze(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(n){var i=!1;t.getTabIndex()===0&&!n?.isInputFocused&&ze(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(i=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},e.prototype.render=function(){var t=this.props,n=t.weekNumber,i=t.isWeekDisabled,o=t.ariaLabelPrefix,c=o===void 0?e.defaultProps.ariaLabelPrefix:o,f=t.onClick,h={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!f&&!i,"react-datepicker__week-number--selected":!!f&&ze(this.props.date,this.props.selected)};return te.createElement("div",{ref:this.weekNumberEl,className:wn(h),"aria-label":"".concat(c," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:"gridcell"},n)},e})(N.Component),nB=(function(r){bn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isDisabled=function(n){return wr(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(n,i){t.props.onDayClick&&t.props.onDayClick(n,i)},t.handleDayMouseEnter=function(n){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(n)},t.handleWeekClick=function(n,i,o){for(var c,f,h,m=new Date(n),y=0;y<7;y++){var _=new Date(n);_.setDate(_.getDate()+y);var w=!t.isDisabled(_);if(w){m=_;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(m,i,o),t.props.showWeekPicker&&t.handleDayClick(m,o),((c=t.props.shouldCloseOnSelect)!==null&&c!==void 0?c:e.defaultProps.shouldCloseOnSelect)&&((h=(f=t.props).setOpen)===null||h===void 0||h.call(f,!1))},t.formatWeekNumber=function(n){return t.props.formatWeekNumber?t.props.formatWeekNumber(n):PU(n)},t.isWeekDisabled=function(){for(var n=t.startOfWeek(),i=kr(n,6),o=new Date(n);o<=i;){if(!t.isDisabled(o))return!1;o=kr(o,1)}return!0},t.renderDays=function(){var n=t.startOfWeek(),i=[],o=t.formatWeekNumber(n);if(t.props.showWeekNumber){var c=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,n,o):void 0;i.push(te.createElement(tB,Ge({key:"W"},e.defaultProps,t.props,{weekNumber:o,isWeekDisabled:t.isWeekDisabled(),date:n,onClick:c})))}return i.concat([0,1,2,3,4,5,6].map(function(f){var h=kr(n,f);return te.createElement(eB,Ge({},e.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:h.valueOf(),day:h,onClick:t.handleDayClick.bind(t,h),onMouseEnter:t.handleDayMouseEnter.bind(t,h)}))}))},t.startOfWeek=function(){return cs(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!ze(t.startOfWeek(),t.props.selected)&&ze(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":ze(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},n=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return te.createElement("div",{className:wn(t,n),role:"row"},this.renderDays())},e})(N.Component),Su,rB=6,Vl={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},gy=(Su={},Su[Vl.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Su[Vl.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Su[Vl.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Su),ch=1;function uS(r,e){return r?Vl.FOUR_COLUMNS:e?Vl.TWO_COLUMNS:Vl.THREE_COLUMNS}var aB=(function(r){bn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.MONTH_REFS=ha([],Array(12),!0).map(function(){return N.createRef()}),t.QUARTER_REFS=ha([],Array(4),!0).map(function(){return N.createRef()}),t.isDisabled=function(n){return wr(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(n){return b_(n,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(n,i){var o,c;(c=(o=t.props).onDayClick)===null||c===void 0||c.call(o,n,i,t.props.orderInDisplay)},t.handleDayMouseEnter=function(n){var i,o;(o=(i=t.props).onDayMouseEnter)===null||o===void 0||o.call(i,n)},t.handleMouseLeave=function(){var n,i;(i=(n=t.props).onMouseLeave)===null||i===void 0||i.call(n)},t.isRangeStartMonth=function(n){var i=t.props,o=i.day,c=i.startDate,f=i.endDate;return!c||!f?!1:Ln(_r(o,n),c)},t.isRangeStartQuarter=function(n){var i=t.props,o=i.day,c=i.startDate,f=i.endDate;return!c||!f?!1:sp(Il(o,n),c)},t.isRangeEndMonth=function(n){var i=t.props,o=i.day,c=i.startDate,f=i.endDate;return!c||!f?!1:Ln(_r(o,n),f)},t.isRangeEndQuarter=function(n){var i=t.props,o=i.day,c=i.startDate,f=i.endDate;return!c||!f?!1:sp(Il(o,n),f)},t.isInSelectingRangeMonth=function(n){var i,o=t.props,c=o.day,f=o.selectsStart,h=o.selectsEnd,m=o.selectsRange,y=o.startDate,_=o.endDate,w=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(f||h||m)||!w?!1:f&&_?ih(w,_,n,c):h&&y||m&&y&&!_?ih(y,w,n,c):!1},t.isSelectingMonthRangeStart=function(n){var i;if(!t.isInSelectingRangeMonth(n))return!1;var o=t.props,c=o.day,f=o.startDate,h=o.selectsStart,m=_r(c,n),y=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return h?Ln(m,y):Ln(m,f)},t.isSelectingMonthRangeEnd=function(n){var i;if(!t.isInSelectingRangeMonth(n))return!1;var o=t.props,c=o.day,f=o.endDate,h=o.selectsEnd,m=o.selectsRange,y=_r(c,n),_=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return h||m?Ln(y,_):Ln(y,f)},t.isInSelectingRangeQuarter=function(n){var i,o=t.props,c=o.day,f=o.selectsStart,h=o.selectsEnd,m=o.selectsRange,y=o.startDate,_=o.endDate,w=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(f||h||m)||!w?!1:f&&_?lh(w,_,n,c):h&&y||m&&y&&!_?lh(y,w,n,c):!1},t.isWeekInMonth=function(n){var i=t.props.day,o=kr(n,6);return Ln(n,i)||Ln(o,i)},t.isCurrentMonth=function(n,i){return He(n)===He(st())&&i===In(st())},t.isCurrentQuarter=function(n,i){return He(n)===He(st())&&i===mo(st())},t.isSelectedMonth=function(n,i,o){return In(o)===i&&He(n)===He(o)},t.isSelectMonthInList=function(n,i,o){return o.some(function(c){return t.isSelectedMonth(n,i,c)})},t.isSelectedQuarter=function(n,i,o){return mo(n)===i&&He(n)===He(o)},t.isMonthSelected=function(){var n=t.props,i=n.day,o=n.selected,c=n.selectedDates,f=n.selectsMultiple,h=In(i);return f?c?.some(function(m){return t.isSelectedMonth(i,h,m)}):!!o&&t.isSelectedMonth(i,h,o)},t.renderWeeks=function(){for(var n=[],i=t.props.fixedHeight,o=0,c=!1,f=cs(ci(t.props.day),t.props.locale,t.props.calendarStartDay),h=function(I){return t.props.showWeekPicker?cs(I,t.props.locale,t.props.calendarStartDay):t.props.preSelection},m=function(I){return t.props.showWeekPicker?cs(I,t.props.locale,t.props.calendarStartDay):t.props.selected},y=t.props.selected?m(t.props.selected):void 0,_=t.props.preSelection?h(t.props.preSelection):void 0;n.push(te.createElement(nB,Ge({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:o,day:f,month:In(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:y,preSelection:_,showWeekNumber:t.props.showWeekNumbers}))),!c;){o++,f=Kh(f,1);var w=i&&o>=rB,T=!i&&!t.isWeekInMonth(f);if(w||T)if(t.props.peekNextMonth)c=!0;else break}return n},t.onMonthClick=function(n,i){var o=t.isMonthDisabledForLabelDate(i),c=o.isDisabled,f=o.labelDate;c||t.handleDayClick(ci(f),n)},t.onMonthMouseEnter=function(n){var i=t.isMonthDisabledForLabelDate(n),o=i.isDisabled,c=i.labelDate;o||t.handleDayMouseEnter(ci(c))},t.handleMonthNavigation=function(n,i){var o,c,f,h;(c=(o=t.props).setPreSelection)===null||c===void 0||c.call(o,i),(h=(f=t.MONTH_REFS[n])===null||f===void 0?void 0:f.current)===null||h===void 0||h.focus()},t.handleKeyboardNavigation=function(n,i,o){var c,f=t.props,h=f.selected,m=f.preSelection,y=f.setPreSelection,_=f.minDate,w=f.maxDate,T=f.showFourColumnMonthYearPicker,I=f.showTwoColumnMonthYearPicker;if(m){var L=uS(T,I),A=t.getVerticalOffset(L),B=(c=gy[L])===null||c===void 0?void 0:c.grid,H=function(M,D,x){var P,U,j=D,k=x;switch(M){case me.ArrowRight:j=Vr(D,ch),k=x===11?0:x+ch;break;case me.ArrowLeft:j=vo(D,ch),k=x===0?11:x-ch;break;case me.ArrowUp:j=vo(D,A),k=!((P=B?.[0])===null||P===void 0)&&P.includes(x)?x+12-A:x-A;break;case me.ArrowDown:j=Vr(D,A),k=!((U=B?.[B.length-1])===null||U===void 0)&&U.includes(x)?x-12+A:x+A;break}return{newCalculatedDate:j,newCalculatedMonth:k}},z=function(M,D,x){for(var P=40,U=M,j=!1,k=0,Ee=H(U,D,x),Se=Ee.newCalculatedDate,Y=Ee.newCalculatedMonth;!j;){if(k>=P){Se=D,Y=x;break}if(_&&Se<_){U=me.ArrowRight;var ae=H(U,Se,Y);Se=ae.newCalculatedDate,Y=ae.newCalculatedMonth}if(w&&Se>w){U=me.ArrowLeft;var ae=H(U,Se,Y);Se=ae.newCalculatedDate,Y=ae.newCalculatedMonth}if(qU(Se,t.props)){var ae=H(U,Se,Y);Se=ae.newCalculatedDate,Y=ae.newCalculatedMonth}else j=!0;k++}return{newCalculatedDate:Se,newCalculatedMonth:Y}};if(i===me.Enter){t.isMonthDisabled(o)||(t.onMonthClick(n,o),y?.(h));return}var ee=z(i,m,o),J=ee.newCalculatedDate,re=ee.newCalculatedMonth;switch(i){case me.ArrowRight:case me.ArrowLeft:case me.ArrowUp:case me.ArrowDown:t.handleMonthNavigation(re,J);break}}},t.getVerticalOffset=function(n){var i,o;return(o=(i=gy[n])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&o!==void 0?o:0},t.onMonthKeyDown=function(n,i){var o=t.props,c=o.disabledKeyboardNavigation,f=o.handleOnMonthKeyDown,h=n.key;h!==me.Tab&&n.preventDefault(),c||t.handleKeyboardNavigation(n,h,i),f&&f(n)},t.onQuarterClick=function(n,i){var o=Il(t.props.day,i);sh(o,t.props)||t.handleDayClick($T(o),n)},t.onQuarterMouseEnter=function(n){var i=Il(t.props.day,n);sh(i,t.props)||t.handleDayMouseEnter($T(i))},t.handleQuarterNavigation=function(n,i){var o,c,f,h;t.isDisabled(i)||t.isExcluded(i)||((c=(o=t.props).setPreSelection)===null||c===void 0||c.call(o,i),(h=(f=t.QUARTER_REFS[n-1])===null||f===void 0?void 0:f.current)===null||h===void 0||h.focus())},t.onQuarterKeyDown=function(n,i){var o,c,f=n.key;if(!t.props.disabledKeyboardNavigation)switch(f){case me.Enter:t.onQuarterClick(n,i),(c=(o=t.props).setPreSelection)===null||c===void 0||c.call(o,t.props.selected);break;case me.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===4?1:i+1,u_(t.props.preSelection,1));break;case me.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===1?4:i-1,DC(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(n){var i,o=t.props,c=o.day,f=o.minDate,h=o.maxDate,m=o.excludeDates,y=o.includeDates,_=_r(c,n);return{isDisabled:(i=(f||h||m||y)&&HC(_,t.props))!==null&&i!==void 0?i:!1,labelDate:_}},t.isMonthDisabled=function(n){var i=t.isMonthDisabledForLabelDate(n).isDisabled;return i},t.getMonthClassNames=function(n){var i=t.props,o=i.day,c=i.startDate,f=i.endDate,h=i.preSelection,m=i.monthClassName,y=m?m(_r(o,n)):void 0,_=t.getSelection();return wn("react-datepicker__month-text","react-datepicker__month-".concat(n),y,{"react-datepicker__month-text--disabled":t.isMonthDisabled(n),"react-datepicker__month-text--selected":_?t.isSelectMonthInList(o,n,_):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&h&&t.isSelectedMonth(o,n,h)&&!t.isMonthSelected()&&!t.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":c&&f?ih(c,f,n,o):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(n),"react-datepicker__month-text--range-end":t.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":t.isCurrentMonth(o,n)})},t.getTabIndex=function(n){if(t.props.preSelection==null)return"-1";var i=In(t.props.preSelection),o=t.isMonthDisabledForLabelDate(i).isDisabled,c=n===i&&!(o||t.props.disabledKeyboardNavigation)?"0":"-1";return c},t.getQuarterTabIndex=function(n){if(t.props.preSelection==null)return"-1";var i=mo(t.props.preSelection),o=sh(t.props.day,t.props),c=n===i&&!(o||t.props.disabledKeyboardNavigation)?"0":"-1";return c},t.getAriaLabel=function(n){var i=t.props,o=i.chooseDayAriaLabelPrefix,c=o===void 0?"Choose":o,f=i.disabledDayAriaLabelPrefix,h=f===void 0?"Not available":f,m=i.day,y=i.locale,_=_r(m,n),w=t.isDisabled(_)||t.isExcluded(_)?h:c;return"".concat(w," ").concat(bt(_,"MMMM yyyy",y))},t.getQuarterClassNames=function(n){var i=t.props,o=i.day,c=i.startDate,f=i.endDate,h=i.selected,m=i.minDate,y=i.maxDate,_=i.excludeDates,w=i.includeDates,T=i.filterDate,I=i.preSelection,L=i.disabledKeyboardNavigation,A=(m||y||_||w||T)&&sh(Il(o,n),t.props);return wn("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":A,"react-datepicker__quarter-text--selected":h?t.isSelectedQuarter(o,n,h):void 0,"react-datepicker__quarter-text--keyboard-selected":!L&&I&&t.isSelectedQuarter(o,n,I)&&!A,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":c&&f?lh(c,f,n,o):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(n),"react-datepicker__quarter-text--today":t.isCurrentQuarter(o,n)})},t.getMonthContent=function(n){var i=t.props,o=i.showFullMonthYearPicker,c=i.renderMonthContent,f=i.locale,h=i.day,m=jC(n,f),y=E_(n,f);return c?c(n,m,y,h):o?y:m},t.getQuarterContent=function(n){var i,o=t.props,c=o.renderQuarterContent,f=o.locale,h=FU(n,f);return(i=c?.(n,h))!==null&&i!==void 0?i:h},t.renderMonths=function(){var n,i=t.props,o=i.showTwoColumnMonthYearPicker,c=i.showFourColumnMonthYearPicker,f=i.day,h=i.selected,m=(n=gy[uS(c,o)])===null||n===void 0?void 0:n.grid;return m?.map(function(y,_){return te.createElement("div",{className:"react-datepicker__month-wrapper",key:_},y.map(function(w,T){return te.createElement("div",{ref:t.MONTH_REFS[w],key:T,onClick:function(I){t.onMonthClick(I,w)},onKeyDown:function(I){YC(I)&&(I.preventDefault(),I.key=me.Enter),t.onMonthKeyDown(I,w)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(w)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(w)}:void 0,tabIndex:Number(t.getTabIndex(w)),className:t.getMonthClassNames(w),"aria-disabled":t.isMonthDisabled(w),role:"option","aria-label":t.getAriaLabel(w),"aria-current":t.isCurrentMonth(f,w)?"date":void 0,"aria-selected":h?t.isSelectedMonth(f,w,h):void 0},t.getMonthContent(w))}))})},t.renderQuarters=function(){var n=t.props,i=n.day,o=n.selected,c=[1,2,3,4];return te.createElement("div",{className:"react-datepicker__quarter-wrapper"},c.map(function(f,h){return te.createElement("div",{key:h,ref:t.QUARTER_REFS[h],role:"option",onClick:function(m){t.onQuarterClick(m,f)},onKeyDown:function(m){t.onQuarterKeyDown(m,f)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(f)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(f)}:void 0,className:t.getQuarterClassNames(f),"aria-selected":o?t.isSelectedQuarter(i,f,o):void 0,tabIndex:Number(t.getQuarterTabIndex(f)),"aria-current":t.isCurrentQuarter(i,f)?"date":void 0},t.getQuarterContent(f))}))},t.getClassNames=function(){var n=t.props,i=n.selectingDate,o=n.selectsStart,c=n.selectsEnd,f=n.showMonthYearPicker,h=n.showQuarterYearPicker,m=n.showWeekPicker;return wn("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(o||c)},{"react-datepicker__monthPicker":f},{"react-datepicker__quarterPicker":h},{"react-datepicker__weekPicker":m})},t}return e.prototype.getSelection=function(){var t=this.props,n=t.selected,i=t.selectedDates,o=t.selectsMultiple;if(o)return i;if(n)return[n]},e.prototype.render=function(){var t=this.props,n=t.showMonthYearPicker,i=t.showQuarterYearPicker,o=t.day,c=t.ariaLabelPrefix,f=c===void 0?"Month ":c,h=f?f.trim()+" ":"",m=n||i;return m?te.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(h).concat(bt(o,"MMMM, yyyy",this.props.locale)),role:"listbox"},n?this.renderMonths():this.renderQuarters()):te.createElement("div",{role:"table"},this.props.dayNamesHeader&&te.createElement("div",{role:"rowgroup"},this.props.dayNamesHeader),te.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(h).concat(bt(o,"MMMM, yyyy",this.props.locale)),role:"rowgroup"},this.renderWeeks()))},e})(N.Component),iB=(function(r){bn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.monthOptionButtonsRef={},t.isSelectedMonth=function(n){return t.props.month===n},t.handleOptionKeyDown=function(n,i){var o;switch(i.key){case"Enter":i.preventDefault(),t.onChange(n);break;case"Escape":i.preventDefault(),t.props.onCancel();break;case"ArrowUp":case"ArrowDown":{i.preventDefault();var c=(n+(i.key==="ArrowUp"?-1:1)+t.props.monthNames.length)%t.props.monthNames.length;(o=t.monthOptionButtonsRef[c])===null||o===void 0||o.focus();break}}},t.renderOptions=function(){return t.monthOptionButtonsRef={},t.props.monthNames.map(function(n,i){return te.createElement("div",{ref:function(o){t.monthOptionButtonsRef[i]=o,t.isSelectedMonth(i)&&o?.focus()},role:"button",tabIndex:0,className:t.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:t.onChange.bind(t,i),onKeyDown:t.handleOptionKeyDown.bind(t,i),"aria-selected":t.isSelectedMonth(i)?"true":void 0},t.isSelectedMonth(i)?te.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",n)})},t.onChange=function(n){return t.props.onChange(n)},t.handleClickOutside=function(){return t.props.onCancel()},t}return e.prototype.render=function(){return te.createElement(Bp,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e})(N.Component),sB=(function(r){bn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(n){return n.map(function(i,o){return te.createElement("option",{key:i,value:o},i)})},t.renderSelectMode=function(n){return te.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(i){return t.onChange(parseInt(i.target.value))}},t.renderSelectOptions(n))},t.renderReadView=function(n,i){return te.createElement("button",{key:"read",type:"button",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},te.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),te.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[t.props.month]))},t.renderDropdown=function(n){return te.createElement(iB,Ge({key:"dropdown"},t.props,{monthNames:n,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(n){var i=t.state.dropdownVisible,o=[t.renderReadView(!i,n)];return i&&o.unshift(t.renderDropdown(n)),o},t.onChange=function(n){t.toggleDropdown(),n!==t.props.month&&t.props.onChange(n)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(o){return jC(o,t.props.locale)}:function(o){return E_(o,t.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(n);break;case"select":i=this.renderSelectMode(n);break}return te.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},e})(N.Component);function oB(r,e){for(var t=[],n=ci(r),i=ci(e);!vs(n,i);)t.push(st(n)),n=Vr(n,1);return t}var lB=(function(r){bn(e,r);function e(t){var n=r.call(this,t)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(i){var o=Jy(i),c=sa(n.props.date,i)&&Ln(n.props.date,i);return te.createElement("div",{className:c?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:o,onClick:n.onChange.bind(n,o),"aria-selected":c?"true":void 0},c?te.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",bt(i,n.props.dateFormat,n.props.locale))})},n.onChange=function(i){return n.props.onChange(i)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:oB(n.props.minDate,n.props.maxDate)},n}return e.prototype.render=function(){var t=wn({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return te.createElement(Bp,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},e})(N.Component),cB=(function(r){bn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=ci(t.props.minDate),i=ci(t.props.maxDate),o=[];!vs(n,i);){var c=Jy(n);o.push(te.createElement("option",{key:c,value:c},bt(n,t.props.dateFormat,t.props.locale))),n=Vr(n,1)}return o},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return te.createElement("select",{value:Jy(ci(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){var i=bt(t.props.date,t.props.dateFormat,t.props.locale);return te.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},te.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),te.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},t.renderDropdown=function(){return te.createElement(lB,Ge({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,i=[t.renderReadView(!n)];return n&&i.unshift(t.renderDropdown()),i},t.onChange=function(n){t.toggleDropdown();var i=st(n);sa(t.props.date,i)&&Ln(t.props.date,i)||t.props.onChange(i)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return te.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},e})(N.Component),uB=(function(r){bn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,i,o;t.list&&(t.list.scrollTop=(o=t.centerLi&&e.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((i=(n=t.header)===null||n===void 0?void 0:n.clientHeight)!==null&&i!==void 0?i:0):t.list.clientHeight,t.centerLi))!==null&&o!==void 0?o:0)})},t.handleClick=function(n){var i,o;(t.props.minTime||t.props.maxTime)&&tS(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&eS(n,t.props)||(o=(i=t.props).onChange)===null||o===void 0||o.call(i,n)},t.isSelectedTime=function(n){return t.props.selected&&ZU(t.props.selected,n)},t.isDisabledTime=function(n){return(t.props.minTime||t.props.maxTime)&&tS(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&eS(n,t.props)},t.liClasses=function(n){var i,o=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(n):void 0];return t.isSelectedTime(n)&&o.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(n)&&o.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(oi(n)*3600+li(n)*60+ls(n))%(((i=t.props.intervals)!==null&&i!==void 0?i:e.defaultProps.intervals)*60)!==0&&o.push("react-datepicker__time-list-item--injected"),o.join(" ")},t.handleOnKeyDown=function(n,i){var o,c;n.key===me.Space&&(n.preventDefault(),n.key=me.Enter),(n.key===me.ArrowUp||n.key===me.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===me.ArrowDown||n.key===me.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===me.Enter&&t.handleClick(i),(c=(o=t.props).handleOnKeyDown)===null||c===void 0||c.call(o,n)},t.renderTimes=function(){for(var n,i=[],o=typeof t.props.format=="string"?t.props.format:"p",c=(n=t.props.intervals)!==null&&n!==void 0?n:e.defaultProps.intervals,f=t.props.selected||t.props.openToDate||st(),h=Sh(f),m=t.props.injectTimes&&t.props.injectTimes.sort(function(A,B){return A.getTime()-B.getTime()}),y=60*XU(f),_=y/c,w=0;w<_;w++){var T=Ky(h,w*c);if(i.push(T),m){var I=$U(h,T,w,c,m);i=i.concat(I)}}var L=i.reduce(function(A,B){return B.getTime()<=f.getTime()?B:A},i[0]);return i.map(function(A){return te.createElement("li",{key:A.valueOf(),onClick:t.handleClick.bind(t,A),className:t.liClasses(A),ref:function(B){A===L&&(t.centerLi=B)},onKeyDown:function(B){t.handleOnKeyDown(B,A)},tabIndex:A===L?0:-1,role:"option","aria-selected":t.isSelectedTime(A)?"true":void 0,"aria-disabled":t.isDisabledTime(A)?"true":void 0},bt(A,o,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?te.createElement(te.Fragment,null):te.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){t.header=n}},te.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},e.prototype.componentWillUnmount=function(){var t;(t=this.resizeObserver)===null||t===void 0||t.disconnect()},e.prototype.observeDatePickerHeightChanges=function(){var t=this,n=this.props.monthRef;this.updateContainerHeight(),n&&(this.resizeObserver=new ResizeObserver(function(){t.updateContainerHeight()}),this.resizeObserver.observe(n))},e.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var t=this,n,i=this.state.height;return te.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),te.createElement("div",{className:"react-datepicker__time"},te.createElement("div",{className:"react-datepicker__time-box"},te.createElement("ul",{className:"react-datepicker__time-list",ref:function(o){t.list=o},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(t,n){return n.offsetTop-(t/2-n.clientHeight/2)},e})(N.Component),fS=3,fB=(function(r){bn(e,r);function e(t){var n=r.call(this,t)||this;return n.YEAR_REFS=ha([],Array(n.props.yearItemNumber),!0).map(function(){return N.createRef()}),n.isDisabled=function(i){return wr(i,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(i){return b_(i,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var i;return(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection},n.updateFocusOnPaginate=function(i){var o=function(){var c,f;(f=(c=n.YEAR_REFS[i])===null||c===void 0?void 0:c.current)===null||f===void 0||f.focus()};window.requestAnimationFrame(o)},n.handleYearClick=function(i,o){n.props.onDayClick&&n.props.onDayClick(i,o)},n.handleYearNavigation=function(i,o){var c,f,h,m,y=n.props,_=y.date,w=y.yearItemNumber;if(!(_===void 0||w===void 0)){var T=ti(_,w).startPeriod;n.isDisabled(o)||n.isExcluded(o)||((f=(c=n.props).setPreSelection)===null||f===void 0||f.call(c,o),i-T<0?n.updateFocusOnPaginate(w-(T-i)):i-T>=w?n.updateFocusOnPaginate(Math.abs(w-(i-T))):(m=(h=n.YEAR_REFS[i-T])===null||h===void 0?void 0:h.current)===null||m===void 0||m.focus())}},n.isSameDay=function(i,o){return ze(i,o)},n.isCurrentYear=function(i){return i===He(st())},n.isRangeStart=function(i){return n.props.startDate&&n.props.endDate&&sa(ia(st(),i),n.props.startDate)},n.isRangeEnd=function(i){return n.props.startDate&&n.props.endDate&&sa(ia(st(),i),n.props.endDate)},n.isInRange=function(i){return oh(i,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(i){var o=n.props,c=o.selectsStart,f=o.selectsEnd,h=o.selectsRange,m=o.startDate,y=o.endDate;return!(c||f||h)||!n.selectingDate()?!1:c&&y?oh(i,n.selectingDate(),y):f&&m||h&&m&&!y?oh(i,m,n.selectingDate()):!1},n.isSelectingRangeStart=function(i){var o;if(!n.isInSelectingRange(i))return!1;var c=n.props,f=c.startDate,h=c.selectsStart,m=ia(st(),i);return h?sa(m,(o=n.selectingDate())!==null&&o!==void 0?o:null):sa(m,f??null)},n.isSelectingRangeEnd=function(i){var o;if(!n.isInSelectingRange(i))return!1;var c=n.props,f=c.endDate,h=c.selectsEnd,m=c.selectsRange,y=ia(st(),i);return h||m?sa(y,(o=n.selectingDate())!==null&&o!==void 0?o:null):sa(y,f??null)},n.isKeyboardSelected=function(i){if(!(n.props.disabledKeyboardNavigation||n.props.date===void 0||n.props.preSelection==null)){var o=n.props,c=o.minDate,f=o.maxDate,h=o.excludeDates,m=o.includeDates,y=o.filterDate,_=o.selected,w=ku(ia(n.props.date,i)),T=(c||f||h||m||y)&&Dh(i,n.props),I=!!_&&ze(w,ku(_)),L=ze(w,ku(n.props.preSelection));return!n.props.inline&&!I&&L&&!T}},n.isSelectedYear=function(i){var o=n.props,c=o.selectsMultiple,f=o.selected,h=o.selectedDates;return c?h?.some(function(m){return i===He(m)}):!!f&&i===He(f)},n.onYearClick=function(i,o){var c=n.props.date;c!==void 0&&n.handleYearClick(ku(ia(c,o)),i)},n.onYearKeyDown=function(i,o){var c,f,h=i.key,m=n.props,y=m.date,_=m.yearItemNumber,w=m.handleOnKeyDown;if(h!==me.Tab&&i.preventDefault(),!n.props.disabledKeyboardNavigation)switch(h){case me.Enter:if(n.props.selected==null)break;n.onYearClick(i,o),(f=(c=n.props).setPreSelection)===null||f===void 0||f.call(c,n.props.selected);break;case me.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(o+1,ii(n.props.preSelection,1));break;case me.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(o-1,Kl(n.props.preSelection,1));break;case me.ArrowUp:{if(y===void 0||_===void 0||n.props.preSelection==null)break;var T=ti(y,_).startPeriod,I=fS,L=o-I;if(L<T){var A=_%I;o>=T&&o<T+A?I=A:I+=A,L=o-I}n.handleYearNavigation(L,Kl(n.props.preSelection,I));break}case me.ArrowDown:{if(y===void 0||_===void 0||n.props.preSelection==null)break;var B=ti(y,_).endPeriod,I=fS,L=o+I;if(L>B){var A=_%I;o<=B&&o>B-A?I=A:I+=A,L=o+I}n.handleYearNavigation(L,ii(n.props.preSelection,I));break}}w&&w(i)},n.getYearClassNames=function(i){var o=n.props,c=o.date,f=o.minDate,h=o.maxDate,m=o.excludeDates,y=o.includeDates,_=o.filterDate,w=o.yearClassName;return wn("react-datepicker__year-text","react-datepicker__year-".concat(i),c?w?.(ia(c,i)):void 0,{"react-datepicker__year-text--selected":n.isSelectedYear(i),"react-datepicker__year-text--disabled":(f||h||m||y||_)&&Dh(i,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(i),"react-datepicker__year-text--range-start":n.isRangeStart(i),"react-datepicker__year-text--range-end":n.isRangeEnd(i),"react-datepicker__year-text--in-range":n.isInRange(i),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(i),"react-datepicker__year-text--today":n.isCurrentYear(i)})},n.getYearTabIndex=function(i){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var o=He(n.props.preSelection),c=Dh(i,n.props);return i===o&&!c?"0":"-1"},n.getYearContent=function(i){return n.props.renderYearContent?n.props.renderYearContent(i):i},n}return e.prototype.render=function(){var t=this,n=[],i=this.props,o=i.date,c=i.yearItemNumber,f=i.onYearMouseEnter,h=i.onYearMouseLeave;if(o===void 0)return null;for(var m=ti(o,c),y=m.startPeriod,_=m.endPeriod,w=function(L){n.push(te.createElement("div",{ref:T.YEAR_REFS[L-y],onClick:function(A){t.onYearClick(A,L)},onKeyDown:function(A){YC(A)&&(A.preventDefault(),A.key=me.Enter),t.onYearKeyDown(A,L)},tabIndex:Number(T.getYearTabIndex(L)),className:T.getYearClassNames(L),onMouseEnter:T.props.usePointerEvent?void 0:function(A){return f(A,L)},onPointerEnter:T.props.usePointerEvent?function(A){return f(A,L)}:void 0,onMouseLeave:T.props.usePointerEvent?void 0:function(A){return h(A,L)},onPointerLeave:T.props.usePointerEvent?function(A){return h(A,L)}:void 0,key:L,"aria-current":T.isCurrentYear(L)?"date":void 0},T.getYearContent(L)))},T=this,I=y;I<=_;I++)w(I);return te.createElement("div",{className:"react-datepicker__year"},te.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},e})(N.Component);function dB(r,e,t,n){for(var i=[],o=0;o<2*e+1;o++){var c=r+e-o,f=!0;t&&(f=He(t)<=c),n&&f&&(f=He(n)>=c),f&&i.push(c)}return i}var hB=(function(r){bn(e,r);function e(t){var n=r.call(this,t)||this;n.yearOptionButtonsRef={},n.handleOptionKeyDown=function(f,h){var m;switch(h.key){case"Enter":h.preventDefault(),n.onChange(f);break;case"Escape":h.preventDefault(),n.props.onCancel();break;case"ArrowUp":case"ArrowDown":{h.preventDefault();var y=f+(h.key==="ArrowUp"?1:-1);n.yearOptionButtonsRef[y]&&((m=n.yearOptionButtonsRef[y])===null||m===void 0||m.focus());break}}},n.renderOptions=function(){n.yearOptionButtonsRef={};var f=n.props.year,h=n.state.yearsList.map(function(_){return te.createElement("div",{ref:function(w){n.yearOptionButtonsRef[_]=w,_===f&&w?.focus()},role:"button",tabIndex:0,className:f===_?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:_,onClick:n.onChange.bind(n,_),onKeyDown:n.handleOptionKeyDown.bind(n,_),"aria-selected":f===_?"true":void 0},f===_?te.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",_)}),m=n.props.minDate?He(n.props.minDate):null,y=n.props.maxDate?He(n.props.maxDate):null;return(!y||!n.state.yearsList.find(function(_){return _===y}))&&h.unshift(te.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},te.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!m||!n.state.yearsList.find(function(_){return _===m}))&&h.push(te.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},te.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),h},n.onChange=function(f){n.props.onChange(f)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(f){var h=n.state.yearsList.map(function(m){return m+f});n.setState({yearsList:h})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var i=t.yearDropdownItemNumber,o=t.scrollableYearDropdown,c=i||(o?10:5);return n.state={yearsList:dB(n.props.year,c,n.props.minDate,n.props.maxDate)},n.dropdownRef=N.createRef(),n}return e.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var n=t.children?Array.from(t.children):null,i=n?n.find(function(o){return o.ariaSelected}):null;t.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},e.prototype.render=function(){var t=wn({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return te.createElement(Bp,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e})(N.Component),pB=(function(r){bn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=t.props.minDate?He(t.props.minDate):1900,i=t.props.maxDate?He(t.props.maxDate):2100,o=[],c=n;c<=i;c++)o.push(te.createElement("option",{key:c,value:c},c));return o},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return te.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){return te.createElement("button",{key:"read",type:"button",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:t.toggleDropdown},te.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),te.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return te.createElement(hB,Ge({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,i=[t.renderReadView(!n)];return n&&i.unshift(t.renderDropdown()),i},t.onChange=function(n){t.toggleDropdown(),n!==t.props.year&&t.props.onChange(n)},t.toggleDropdown=function(n){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,n)})},t.handleYearChange=function(n,i){var o;(o=t.onSelect)===null||o===void 0||o.call(t,n,i),t.setOpen()},t.onSelect=function(n,i){var o,c;(c=(o=t.props).onSelect)===null||c===void 0||c.call(o,n,i)},t.setOpen=function(){var n,i;(i=(n=t.props).setOpen)===null||i===void 0||i.call(n,!0)},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return te.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},e})(N.Component),mB=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],zC="react-datepicker-ignore-onclickoutside",gB=function(r){var e=(r.className||"").split(/\s+/);return mB.some(function(t){return e.indexOf(t)>=0})},yB=(function(r){bn(e,r);function e(t){var n=r.call(this,t)||this;return n.monthContainer=void 0,n.handleClickOutside=function(i){n.props.onClickOutside(i)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(i){var o,c;gB(i.target)&&((c=(o=n.props).onDropdownFocus)===null||c===void 0||c.call(o,i))},n.getDateInView=function(){var i=n.props,o=i.preSelection,c=i.selected,f=i.openToDate,h=FC(n.props),m=qC(n.props),y=st(),_=f||c||o;return _||(h&&da(y,h)?h:m&&vs(y,m)?m:y)},n.increaseMonth=function(){n.setState(function(i){var o=i.date;return{date:Vr(o,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(i){var o=i.date;return{date:vo(o,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(i,o,c){n.props.onSelect(i,o,c),n.props.setPreSelection&&n.props.setPreSelection(i)},n.handleDayMouseEnter=function(i){n.setState({selectingDate:i}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(i)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(i,o){n.setState({selectingDate:ia(st(),o)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(i,o)},n.handleYearMouseLeave=function(i,o){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(i,o)},n.handleYearChange=function(i){var o,c,f,h;(c=(o=n.props).onYearChange)===null||c===void 0||c.call(o,i),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(i),(h=(f=n.props).setOpen)===null||h===void 0||h.call(f,!0)),n.props.setPreSelection&&n.props.setPreSelection(i)},n.getEnabledPreSelectionDateForMonth=function(i){if(!wr(i,n.props))return i;for(var o=ci(i),c=UU(i),f=w4(c,o),h=null,m=0;m<=f;m++){var y=kr(o,m);if(!wr(y,n.props)){h=y;break}}return h},n.handleMonthChange=function(i){var o,c,f,h=(o=n.getEnabledPreSelectionDateForMonth(i))!==null&&o!==void 0?o:i;n.handleCustomMonthChange(h),n.props.adjustDateOnChange&&(n.props.onSelect(h),(f=(c=n.props).setOpen)===null||f===void 0||f.call(c,!0)),n.props.setPreSelection&&n.props.setPreSelection(h)},n.handleCustomMonthChange=function(i){var o,c;(c=(o=n.props).onMonthChange)===null||c===void 0||c.call(o,i),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(i){n.handleYearChange(i),n.handleMonthChange(i)},n.changeYear=function(i){n.setState(function(o){var c=o.date;return{date:ia(c,Number(i))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(i){n.setState(function(o){var c=o.date;return{date:_r(c,Number(i))}},function(){return n.handleMonthChange(n.state.date)})},n.changeMonthYear=function(i){n.setState(function(o){var c=o.date;return{date:ia(_r(c,In(i)),He(i))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(i){i===void 0&&(i=n.state.date);var o=cs(i,n.props.locale,n.props.calendarStartDay),c=[];return n.props.showWeekNumbers&&c.push(te.createElement("div",{key:"W",className:"react-datepicker__day-name",role:"columnheader"},te.createElement("span",{className:"react-datepicker__sr-only"},"Week number"),te.createElement("span",{"aria-hidden":"true"},n.props.weekLabel||"#"))),c.concat([0,1,2,3,4,5,6].map(function(f){var h=kr(o,f),m=n.formatWeekday(h,n.props.locale),y=n.props.weekDayClassName?n.props.weekDayClassName(h):void 0;return te.createElement("div",{key:f,role:"columnheader",className:wn("react-datepicker__day-name",y)},te.createElement("span",{className:"react-datepicker__sr-only"},bt(h,"EEEE",n.props.locale)),te.createElement("span",{"aria-hidden":"true"},m))}))},n.formatWeekday=function(i,o){return n.props.formatWeekDay?BU(i,n.props.formatWeekDay,o):n.props.useWeekdaysShort?HU(i,o):jU(i,o)},n.decreaseYear=function(){n.setState(function(i){var o,c=i.date;return{date:Kl(c,n.props.showYearPicker?(o=n.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var i,o,c;if(!n.props.renderCustomHeader){var f=(i=n.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,h=n.props.showPreviousMonths?f-1:0,m=(o=n.props.monthSelectedIn)!==null&&o!==void 0?o:h,y=vo(n.state.date,m),_;switch(!0){case n.props.showMonthYearPicker:_=aS(n.state.date,n.props);break;case n.props.showYearPicker:_=GU(n.state.date,n.props);break;case n.props.showQuarterYearPicker:_=YU(n.state.date,n.props);break;default:_=nS(y,n.props);break}if(!(!((c=n.props.forceShowMonthNavigation)!==null&&c!==void 0?c:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&_||n.props.showTimeSelectOnly)){var w=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],T=["react-datepicker__navigation","react-datepicker__navigation--previous"],I=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(I=n.decreaseYear),_&&n.props.showDisabledMonthNavigation&&(T.push("react-datepicker__navigation--previous--disabled"),I=void 0);var L=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,A=n.props,B=A.previousMonthButtonLabel,H=B===void 0?e.defaultProps.previousMonthButtonLabel:B,z=A.previousYearButtonLabel,ee=z===void 0?e.defaultProps.previousYearButtonLabel:z,J=n.props,re=J.previousMonthAriaLabel,M=re===void 0?typeof H=="string"?H:"Previous Month":re,D=J.previousYearAriaLabel,x=D===void 0?typeof ee=="string"?ee:"Previous Year":D;return te.createElement("button",{type:"button",className:T.join(" "),onClick:I,onKeyDown:n.props.handleOnKeyDown,"aria-label":L?x:M},te.createElement("span",{className:w.join(" ")},L?ee:H))}}},n.increaseYear=function(){n.setState(function(i){var o,c=i.date;return{date:ii(c,n.props.showYearPicker?(o=n.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var i;if(!n.props.renderCustomHeader){var o;switch(!0){case n.props.showMonthYearPicker:o=iS(n.state.date,n.props);break;case n.props.showYearPicker:o=QU(n.state.date,n.props);break;case n.props.showQuarterYearPicker:o=zU(n.state.date,n.props);break;default:o=rS(n.state.date,n.props);break}if(!(!((i=n.props.forceShowMonthNavigation)!==null&&i!==void 0?i:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&o||n.props.showTimeSelectOnly)){var c=["react-datepicker__navigation","react-datepicker__navigation--next"],f=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&c.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&c.push("react-datepicker__navigation--next--with-today-button");var h=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(h=n.increaseYear),o&&n.props.showDisabledMonthNavigation&&(c.push("react-datepicker__navigation--next--disabled"),h=void 0);var m=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,y=n.props,_=y.nextMonthButtonLabel,w=_===void 0?e.defaultProps.nextMonthButtonLabel:_,T=y.nextYearButtonLabel,I=T===void 0?e.defaultProps.nextYearButtonLabel:T,L=n.props,A=L.nextMonthAriaLabel,B=A===void 0?typeof w=="string"?w:"Next Month":A,H=L.nextYearAriaLabel,z=H===void 0?typeof I=="string"?I:"Next Year":H;return te.createElement("button",{type:"button",className:c.join(" "),onClick:h,onKeyDown:n.props.handleOnKeyDown,"aria-label":m?z:B},te.createElement("span",{className:f.join(" ")},m?I:w))}}},n.renderCurrentMonth=function(i){i===void 0&&(i=n.state.date);var o=["react-datepicker__current-month"];return n.props.showYearDropdown&&o.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&o.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&o.push("react-datepicker__current-month--hasMonthYearDropdown"),te.createElement("h2",{className:o.join(" ")},bt(i,n.props.dateFormat,n.props.locale))},n.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showYearDropdown||i))return te.createElement(pB,Ge({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:He(n.state.date)}))},n.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showMonthDropdown||i))return te.createElement(sB,Ge({},e.defaultProps,n.props,{month:In(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showMonthYearDropdown||i))return te.createElement(cB,Ge({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(i){n.props.onSelect(XT(),i),n.props.setPreSelection&&n.props.setPreSelection(XT())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return te.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDayNamesHeader=function(i){return te.createElement("div",{className:"react-datepicker__day-names",role:"row"},n.header(i))},n.renderDefaultHeader=function(i){var o=i.monthDate,c=i.i;return te.createElement("div",{className:"react-datepicker__header ".concat(n.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},n.renderCurrentMonth(o),te.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(c!==0),n.renderMonthYearDropdown(c!==0),n.renderYearDropdown(c!==0)))},n.renderCustomHeader=function(i){var o,c,f=i.monthDate,h=i.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var m=n.props,y=m.showYearPicker,_=m.yearItemNumber,w;if(y){var T=ti(f,_),I=T.startPeriod,L=T.endPeriod;w={startYear:I,endYear:L}}var A=nS(n.state.date,n.props),B=rS(n.state.date,n.props),H=aS(n.state.date,n.props),z=iS(n.state.date,n.props);return te.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(c=(o=n.props).renderCustomHeader)===null||c===void 0?void 0:c.call(o,Ge(Ge(Ge({},n.state),y&&{visibleYearsRange:w}),{customHeaderCount:h,monthDate:f,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:A,nextMonthButtonDisabled:B,prevYearButtonDisabled:H,nextYearButtonDisabled:z})))},n.renderYearHeader=function(i){var o=i.monthDate,c=n.props,f=c.showYearPicker,h=c.yearItemNumber,m=h===void 0?e.defaultProps.yearItemNumber:h,y=ti(o,m),_=y.startPeriod,w=y.endPeriod;return te.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},f?"".concat(_," - ").concat(w):He(o))},n.renderHeader=function(i){var o=i.monthDate,c=i.i,f=c===void 0?0:c,h={monthDate:o,i:f};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(h);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(h);default:return n.renderDefaultHeader(h)}},n.renderMonths=function(){var i,o;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var c=[],f=(i=n.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,h=n.props.showPreviousMonths?f-1:0,m=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?ii(n.state.date,h):vo(n.state.date,h),y=(o=n.props.monthSelectedIn)!==null&&o!==void 0?o:h,_=0;_<f;++_){var w=_-y+h,T=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?ii(m,w):Vr(m,w),I="month-".concat(_),L=_<f-1,A=_>0;c.push(te.createElement("div",{key:I,ref:function(B){n.monthContainer=B??void 0},className:"react-datepicker__month-container"},n.renderHeader({monthDate:T,i:_}),te.createElement(aB,Ge({},e.defaultProps,n.props,{containerRef:n.containerRef,ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:T,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:_,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:L,monthShowsDuplicateDaysStart:A,dayNamesHeader:n.renderDayNamesHeader(T)}))))}return c}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return te.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),te.createElement(fB,Ge({},e.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return te.createElement(uB,Ge({},e.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var i=n.props.selected?new Date(n.props.selected):void 0,o=i&&jp(i)&&!!n.props.selected,c=o?"".concat(oS(i.getHours()),":").concat(oS(i.getMinutes())):"";if(n.props.showTimeInput)return te.createElement(JU,Ge({},e.defaultProps,n.props,{date:i,timeString:c,onChange:n.props.onTimeChange}))},n.renderAriaLiveRegion=function(){var i,o=ti(n.state.date,(i=n.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber),c=o.startPeriod,f=o.endPeriod,h;return n.props.showYearPicker?h="".concat(c," - ").concat(f):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?h=He(n.state.date):h="".concat(E_(In(n.state.date),n.props.locale)," ").concat(He(n.state.date)),te.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&h)},n.renderChildren=function(){if(n.props.children)return te.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=N.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:zC,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Sf}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=(function(){t.setState({monthContainer:t.monthContainer})})())},e.prototype.componentDidUpdate=function(t){var n=this;if(this.props.preSelection&&(!ze(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var i=!Ln(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!ze(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var t=this.props.container||MU;return te.createElement(Bp,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},te.createElement("div",{style:{display:"contents"},ref:this.containerRef},te.createElement(t,{className:wn("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},e})(N.Component),vB=function(r){var e=r.icon,t=r.className,n=t===void 0?"":t,i=r.onClick,o="react-datepicker__calendar-icon";if(typeof e=="string")return te.createElement("i",{className:"".concat(o," ").concat(e," ").concat(n),"aria-hidden":"true",onClick:i});if(te.isValidElement(e)){var c=e;return te.cloneElement(c,{className:"".concat(c.props.className||""," ").concat(o," ").concat(n),onClick:function(f){typeof c.props.onClick=="function"&&c.props.onClick(f),typeof i=="function"&&i(f)}})}return te.createElement("svg",{className:"".concat(o," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},te.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},GC=(function(r){bn(e,r);function e(t){var n=r.call(this,t)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return XI.createPortal(this.props.children,this.el)},e})(N.Component),_B="[tabindex], a, button, input, select, textarea",wB=function(r){return(r instanceof HTMLAnchorElement||!r.disabled)&&r.tabIndex!==-1},QC=(function(r){bn(e,r);function e(t){var n=r.call(this,t)||this;return n.getTabChildren=function(){var i;return Array.prototype.slice.call((i=n.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(_B),1,-1).filter(wB)},n.handleFocusStart=function(){var i=n.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},n.handleFocusEnd=function(){var i=n.getTabChildren();i&&i.length>1&&i[0].focus()},n.tabLoopRef=N.createRef(),n}return e.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:e.defaultProps.enableTabLoop)?te.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},te.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,te.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e})(N.Component);function EB(r){function e(t){var n,i=typeof t.hidePopper=="boolean"?t.hidePopper:!0,o=N.useRef(null),c=xU(Ge({open:!i,whileElementsMounted:lU,placement:t.popperPlacement,middleware:ha([yU({padding:15}),gU(10),vU({element:o})],(n=t.popperModifiers)!==null&&n!==void 0?n:[],!0)},t.popperProps)),f=Ge(Ge({},t),{hidePopper:i,popperProps:Ge(Ge({},c),{arrowRef:o})});return te.createElement(r,Ge({},f))}return e.displayName="withFloating(".concat(r.displayName||r.name||"Component",")"),e}var bB=function(r){var e=r.className,t=r.wrapperClassName,n=r.hidePopper,i=n===void 0?!0:n,o=r.popperComponent,c=r.targetComponent,f=r.enableTabLoop,h=r.popperOnKeyDown,m=r.portalId,y=r.portalHost,_=r.popperProps,w=r.showArrow,T=void 0;if(!i){var I=wn("react-datepicker-popper",e);T=te.createElement(QC,{enableTabLoop:f},te.createElement("div",{ref:_.refs.setFloating,style:_.floatingStyles,className:I,"data-placement":_.placement,onKeyDown:h},o,w&&te.createElement(TU,{ref:_.arrowRef,context:_.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}r.popperContainer&&(T=N.createElement(r.popperContainer,{},T)),m&&!i&&(T=te.createElement(GC,{portalId:m,portalHost:y},T));var L=wn("react-datepicker-wrapper",t);return te.createElement(te.Fragment,null,te.createElement("div",{ref:_.refs.setReference,className:L},c),T)},TB=EB(bB);function SB(r,e){return r&&e?In(r)!==In(e)||He(r)!==He(e):r!==e}var yy="Date input not valid.",dS=(function(r){bn(e,r);function e(t){var n=r.call(this,t)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){return n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:st()},n.modifyHolidays=function(){var i;return(i=n.props.holidays)===null||i===void 0?void 0:i.reduce(function(o,c){var f=new Date(c.date);return jp(f)?ha(ha([],o,!0),[Ge(Ge({},c),{date:f})],!1):o},[])},n.calcInitialState=function(){var i,o=n.getPreSelection(),c=FC(n.props),f=qC(n.props),h=c&&da(o,Sh(c))?c:f&&vs(o,ZT(f))?f:o;return{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=n.props.selectsRange?n.props.startDate:n.props.selected)!==null&&i!==void 0?i:h,highlightDates:sS(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.getInputValue=function(){var i,o=n.props,c=o.locale,f=o.startDate,h=o.endDate,m=o.rangeSeparator,y=o.selected,_=o.selectedDates,w=o.selectsMultiple,T=o.selectsRange,I=o.value,L=(i=n.props.dateFormat)!==null&&i!==void 0?i:e.defaultProps.dateFormat,A=n.state.inputValue;return typeof I=="string"?I:typeof A=="string"?A:T?kU(f,h,{dateFormat:L,locale:c,rangeSeparator:m}):w?OU(_??[],{dateFormat:L,locale:c}):vr(y,{dateFormat:L,locale:c})},n.resetHiddenStatus=function(){n.setState(Ge(Ge({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState(Ge(Ge({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.setFocus=function(){var i,o;(o=(i=n.input)===null||i===void 0?void 0:i.focus)===null||o===void 0||o.call(i,{preventScroll:!0})},n.setBlur=function(){var i,o;(o=(i=n.input)===null||i===void 0?void 0:i.blur)===null||o===void 0||o.call(i),n.cancelFocusInput()},n.deferBlur=function(){requestAnimationFrame(function(){n.setBlur()})},n.setOpen=function(i,o){o===void 0&&(o=!1),n.setState({open:i,preSelection:i&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:vy},function(){i||n.setState(function(c){return{focused:o?c.focused:!1}},function(){!o&&n.deferBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return si(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(i){var o,c,f=n.state.wasHidden,h=f?n.state.open:!0;f&&n.resetHiddenStatus(),n.state.preventFocus||((c=(o=n.props).onFocus)===null||c===void 0||c.call(o,i),h&&!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.resetInputValue=function(){n.setState(Ge(Ge({},n.state),{inputValue:null}))},n.handleBlur=function(i){var o,c;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((c=(o=n.props).onBlur)===null||c===void 0||c.call(o,i)),n.resetInputValue(),n.state.open&&n.props.open===!1&&n.setOpen(!1),n.setState({focused:!1})},n.handleCalendarClickOutside=function(i){var o,c;n.props.inline||n.setOpen(!1),(c=(o=n.props).onClickOutside)===null||c===void 0||c.call(o,i),n.props.withPortal&&i.preventDefault()},n.handleChange=function(){for(var i,o,c,f,h,m=[],y=0;y<arguments.length;y++)m[y]=arguments[y];var _=m[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,m),!_||typeof _.isDefaultPrevented!="function"||_.isDefaultPrevented()))){n.setState({inputValue:_?.target instanceof HTMLInputElement?_.target.value:null,lastPreSelectChange:DB});var w=n.props,T=w.selectsRange,I=w.startDate,L=w.endDate,A=(i=n.props.dateFormat)!==null&&i!==void 0?i:e.defaultProps.dateFormat,B=(o=n.props.strictParsing)!==null&&o!==void 0?o:e.defaultProps.strictParsing,H=_?.target instanceof HTMLInputElement?_.target.value:"";if(T){var z=n.props.rangeSeparator,ee=z.trim(),J=H.split(A.includes(ee)?z:ee,2).map(function(k){return k.trim()}),re=J[0],M=J[1],D=hy(re??"",A,n.props.locale,B),x=D?hy(M??"",A,n.props.locale,B):null,P=I?.getTime()!==D?.getTime(),U=L?.getTime()!==x?.getTime();if(!P&&!U||D&&wr(D,n.props)||x&&wr(x,n.props))return;(f=(c=n.props).onChange)===null||f===void 0||f.call(c,[D,x],_)}else{var j=hy(H,A,n.props.locale,B,(h=n.props.selected)!==null&&h!==void 0?h:void 0);(j||!H)&&n.setSelected(j,_,!0)}}},n.handleSelect=function(i,o,c){if(!n.props.readOnly){var f=n.props,h=f.selectsRange,m=f.startDate,y=f.endDate,_=f.swapRange,w=!h||m&&!y&&(_||!my(i,m));n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&w&&n.sendFocusBackToInput(),n.props.onChangeRaw&&n.props.onChangeRaw(o),n.setSelected(i,o,!1,c),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect?n.setPreSelection(i):w&&n.setOpen(!1)}},n.setSelected=function(i,o,c,f){var h,m,y=i;if(n.props.showYearPicker){if(y!==null&&Dh(He(y),n.props))return}else if(n.props.showMonthYearPicker){if(y!==null&&HC(y,n.props))return}else if(y!==null&&wr(y,n.props))return;var _=n.props,w=_.onChange,T=_.selectsRange,I=_.startDate,L=_.endDate,A=_.selectsMultiple,B=_.selectedDates,H=_.minTime,z=_.swapRange;if(!fo(n.props.selected,y)||n.props.allowSameDay||T||A)if(y!==null&&(n.props.selected&&(!c||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(y=py(y,{hour:oi(n.props.selected),minute:li(n.props.selected),second:ls(n.props.selected)})),!c&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&H&&(y=py(y,{hour:H.getHours(),minute:H.getMinutes(),second:H.getSeconds()})),n.props.inline||n.setState({preSelection:y}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:f})),T){var ee=!I&&!L,J=I&&!L,re=!I&&!!L,M=I&&L;ee?w?.([y,null],o):J?y===null?w?.([null,null],o):my(y,I)?w?.(z?[y,I]:[y,null],o):w?.([I,y],o):re&&(y&&my(y,L)?w?.([y,L],o):w?.([y,null],o)),M&&w?.([y,null],o)}else if(A){if(y!==null)if(!B?.length)w?.([y],o);else{var D=B.some(function(P){return ze(P,y)});if(D){var x=B.filter(function(P){return!ze(P,y)});w?.(x,o)}else w?.(ha(ha([],B,!0),[y],!1),o)}}else w?.(y,o);c||((m=(h=n.props).onSelect)===null||m===void 0||m.call(h,y,o),n.setState({inputValue:null}))},n.setPreSelection=function(i){if(!n.props.readOnly){var o=si(n.props.minDate),c=si(n.props.maxDate),f=!0;if(i){var h=Sh(i);if(o&&c)f=oo(i,n.props.minDate,n.props.maxDate);else if(o){var m=Sh(n.props.minDate);f=vs(i,m)||fo(h,m)}else if(c){var y=ZT(n.props.maxDate);f=da(i,y)||fo(h,y)}}f&&n.setState({preSelection:i})}},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(i){var o,c;if(!(n.props.selectsRange||n.props.selectsMultiple)){var f=n.props.selected?n.props.selected:n.getPreSelection(),h=n.props.selected?i:py(f,{hour:oi(i),minute:li(i)});n.setState({preSelection:h}),(c=(o=n.props).onChange)===null||c===void 0||c.call(o,h),n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var i,o;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(o=(i=n.props).onInputClick)===null||o===void 0||o.call(i)},n.onInputKeyDown=function(i){var o,c,f,h,m,y;(c=(o=n.props).onKeyDown)===null||c===void 0||c.call(o,i);var _=i.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(_===me.ArrowDown||_===me.ArrowUp||_===me.Enter)&&((f=n.onInputClick)===null||f===void 0||f.call(n));return}if(n.state.open){if(_===me.ArrowDown||_===me.ArrowUp){i.preventDefault();var w=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',T=((h=n.calendar)===null||h===void 0?void 0:h.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(w);T instanceof HTMLElement&&T.focus({preventScroll:!0});return}var I=st(n.state.preSelection);_===me.Enter?(i.preventDefault(),i.target.blur(),n.inputOk()&&n.state.lastPreSelectChange===vy?(n.handleSelect(I,i),!n.props.shouldCloseOnSelect&&n.setPreSelection(I)):n.setOpen(!1)):_===me.Escape?(i.preventDefault(),i.target.blur(),n.sendFocusBackToInput(),n.setOpen(!1)):_===me.Tab&&n.setOpen(!1),n.inputOk()||(y=(m=n.props).onInputError)===null||y===void 0||y.call(m,{code:1,msg:yy})}},n.onPortalKeyDown=function(i){var o=i.key;o===me.Escape&&(i.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(i){var o,c,f,h,m,y,_=n.props,w=_.minDate,T=_.maxDate,I=_.disabledKeyboardNavigation,L=_.showWeekPicker,A=_.shouldCloseOnSelect,B=_.locale,H=_.calendarStartDay,z=_.adjustDateOnChange,ee=_.inline;if((c=(o=n.props).onKeyDown)===null||c===void 0||c.call(o,i),!I){var J=i.key,re=i.shiftKey,M=st(n.state.preSelection),D=function(Se,Y){var ae=Y;switch(Se){case me.ArrowRight:ae=L?Kh(Y,1):kr(Y,1);break;case me.ArrowLeft:ae=L?UT(Y):_6(Y);break;case me.ArrowUp:ae=UT(Y);break;case me.ArrowDown:ae=Kh(Y,1);break;case me.PageUp:ae=re?Kl(Y,1):vo(Y,1);break;case me.PageDown:ae=re?ii(Y,1):Vr(Y,1);break;case me.Home:ae=cs(Y,B,H);break;case me.End:ae=VU(Y);break}return ae},x=function(Se,Y){for(var ae=40,de=Se,oe=!1,O=0,$=D(Se,Y);!oe;){if(O>=ae){$=Y;break}w&&$<w&&(de=me.ArrowRight,$=wr(w,n.props)?D(de,$):w),T&&$>T&&(de=me.ArrowLeft,$=wr(T,n.props)?D(de,$):T),wr($,n.props)?((de===me.PageUp||de===me.Home)&&(de=me.ArrowRight),(de===me.PageDown||de===me.End)&&(de=me.ArrowLeft),$=D(de,$)):oe=!0,O++}return $};if(J===me.Enter){i.preventDefault(),n.handleSelect(M,i),!A&&n.setPreSelection(M);return}else if(J===me.Escape){i.preventDefault(),n.setOpen(!1),n.inputOk()||(h=(f=n.props).onInputError)===null||h===void 0||h.call(f,{code:1,msg:yy});return}var P=null;switch(J){case me.ArrowLeft:case me.ArrowRight:case me.ArrowUp:case me.ArrowDown:case me.PageUp:case me.PageDown:case me.Home:case me.End:P=x(J,M);break}if(!P){(y=(m=n.props).onInputError)===null||y===void 0||y.call(m,{code:1,msg:yy});return}if(i.preventDefault(),n.setState({lastPreSelectChange:vy}),z&&n.setSelected(P),n.setPreSelection(P),ee){var U=In(M),j=In(P),k=He(M),Ee=He(P);U!==j||k!==Ee?n.setState({shouldFocusDayInline:!0}):n.setState({shouldFocusDayInline:!1})}}},n.onPopperKeyDown=function(i){var o=i.key;o===me.Escape&&(i.preventDefault(),n.sendFocusBackToInput(),n.setOpen(!1))},n.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),n.sendFocusBackToInput();var o=n.props,c=o.selectsRange,f=o.onChange;f?.(c?[null,null]:null,i),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(i){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(i)&&n.setOpen(!1)},n.renderCalendar=function(){var i,o;return!n.props.inline&&!n.isCalendarOpen()?null:te.createElement(yB,Ge({showMonthYearDropdown:void 0,ref:function(c){n.calendar=c}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(i=n.props.dateFormatCalendar)!==null&&i!==void 0?i:e.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:KU(n.modifyHolidays()),outsideClickIgnoreClass:n.props.outsideClickIgnoreClass,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(o=n.props.dropdownMode)!==null&&o!==void 0?o:e.defaultProps.dropdownMode}),n.props.children)},n.renderAriaLiveRegion=function(){var i,o=n.props.locale,c=(i=n.props.dateFormat)!==null&&i!==void 0?i:e.defaultProps.dateFormat,f=n.props.showTimeInput||n.props.showTimeSelect,h=f?"PPPPp":"PPPP",m;return n.props.selectsRange?m="Selected start date: ".concat(vr(n.props.startDate,{dateFormat:h,locale:o}),". ").concat(n.props.endDate?"End date: "+vr(n.props.endDate,{dateFormat:h,locale:o}):""):n.props.showTimeSelectOnly?m="Selected time: ".concat(vr(n.props.selected,{dateFormat:c,locale:o})):n.props.showYearPicker?m="Selected year: ".concat(vr(n.props.selected,{dateFormat:"yyyy",locale:o})):n.props.showMonthYearPicker?m="Selected month: ".concat(vr(n.props.selected,{dateFormat:"MMMM yyyy",locale:o})):n.props.showQuarterYearPicker?m="Selected quarter: ".concat(vr(n.props.selected,{dateFormat:"yyyy, QQQ",locale:o})):m="Selected date: ".concat(vr(n.props.selected,{dateFormat:h,locale:o})),te.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},m)},n.renderDateInput=function(){var i,o,c=wn(n.props.className,(i={},i[n.props.outsideClickIgnoreClass||e.defaultProps.outsideClickIgnoreClass]=n.state.open,i)),f=n.props.customInput||te.createElement("input",{type:"text"}),h=n.props.customInputRef||"ref";return N.cloneElement(f,(o={},o[h]=function(m){n.input=m},o.value=n.getInputValue(),o.onBlur=n.handleBlur,o.onChange=n.handleChange,o.onClick=n.onInputClick,o.onFocus=n.handleFocus,o.onKeyDown=n.onInputKeyDown,o.id=n.props.id,o.name=n.props.name,o.form=n.props.form,o.autoFocus=n.props.autoFocus,o.placeholder=n.props.placeholderText,o.disabled=n.props.disabled,o.autoComplete=n.props.autoComplete,o.className=wn(f.props.className,c),o.title=n.props.title,o.readOnly=n.props.readOnly,o.required=n.props.required,o.tabIndex=n.props.tabIndex,o["aria-describedby"]=n.props.ariaDescribedBy,o["aria-invalid"]=n.props.ariaInvalid,o["aria-labelledby"]=n.props.ariaLabelledBy,o["aria-required"]=n.props.ariaRequired,o))},n.renderClearButton=function(){var i=n.props,o=i.isClearable,c=i.disabled,f=i.selected,h=i.startDate,m=i.endDate,y=i.clearButtonTitle,_=i.clearButtonClassName,w=_===void 0?"":_,T=i.ariaLabelClose,I=T===void 0?"Close":T,L=i.selectedDates,A=i.readOnly;return o&&!A&&(f!=null||h!=null||m!=null||L?.length)?te.createElement("button",{type:"button",className:wn("react-datepicker__close-icon",w,{"react-datepicker__close-icon--disabled":c}),disabled:c,"aria-label":I,onClick:n.onClearClick,title:y,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:zC,readOnly:!1,rangeSeparator:BC,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Sf,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(t,n){var i,o,c,f;t.inline&&SB(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:sS(this.props.highlightDates)}),!n.focused&&!fo(t.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((o=(i=this.props).onCalendarOpen)===null||o===void 0||o.call(i)),n.open===!0&&this.state.open===!1&&((f=(c=this.props).onCalendarClose)===null||f===void 0||f.call(c)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var t=this.props,n=t.showIcon,i=t.icon,o=t.calendarIconClassname,c=t.calendarIconClassName,f=t.toggleCalendarOnIconClick,h=this.state.open;return o&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),te.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&te.createElement(vB,Ge({icon:i,className:wn(c,!c&&o,h&&"react-datepicker-ignore-onclickoutside")},f?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var n=this.state.open?te.createElement(QC,{enableTabLoop:this.props.enableTabLoop},te.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(n=te.createElement(GC,Ge({portalId:this.props.portalId},this.props),n)),te.createElement("div",null,this.renderInputContainer(),n)}return te.createElement(TB,Ge({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e})(N.Component),DB="input",vy="navigate";const CB="_overlay_n0m3g_15",AB="_content_n0m3g_39",RB="_header_n0m3g_75",IB="_title_n0m3g_91",xB="_closeButton_n0m3g_99",MB="_footer_n0m3g_127",NB="_buttonGroup_n0m3g_137",kB="_body_n0m3g_151",OB="_field_n0m3g_161",PB="_fieldLabel_n0m3g_169",LB="_fieldRow_n0m3g_179",VB="_input_n0m3g_189",UB="_button_n0m3g_137",BB="_primary_n0m3g_243",jB="_secondary_n0m3g_271",HB="_errorMessage_n0m3g_285",Ve={overlay:CB,content:AB,header:RB,title:IB,closeButton:xB,footer:MB,buttonGroup:NB,body:kB,field:OB,fieldLabel:PB,fieldRow:LB,input:VB,button:UB,primary:BB,secondary:jB,errorMessage:HB},FB=({teamId:r,onClose:e})=>{const[t,n]=N.useState(null),[i,o]=N.useState(null),[c,f]=N.useState(""),[h,m]=N.useState(""),[y,_]=N.useState(!1);N.useEffect(()=>{const A=B=>{B.key==="Escape"&&e()};return window.addEventListener("keydown",A),()=>window.removeEventListener("keydown",A)},[e]);const w=new Date,T=fC(t,w)?yo(go(w,w.getHours()),Math.ceil(w.getMinutes()/15)*15):go(yo(new Date,0),0),I=go(yo(new Date,45),23),L=async()=>{if(m(""),!t||!i||!c.trim()){m(", ,   .");return}const A=new Date(t.getFullYear(),t.getMonth(),t.getDate(),i.getHours(),i.getMinutes());if(A<new Date){m("      .");return}_(!0);try{await rC(nr(De,"teams",r,"matches"),{when:Et.fromDate(A),location:c.trim(),createdBy:jt.currentUser.uid,createdAt:Qh(),status:"pending"}),e()}catch(B){console.error("Match creation error:",B),m("    .")}finally{_(!1)}};return rf.createPortal(C.jsx("div",{className:Ve.overlay,onMouseDown:e,children:C.jsxs("div",{className:Ve.content,onMouseDown:A=>A.stopPropagation(),children:[C.jsxs("div",{className:Ve.header,children:[C.jsx("h2",{className:Ve.title,children:"  "}),C.jsx("button",{type:"button","aria-label":"",className:Ve.closeButton,onClick:e,children:""})]}),C.jsxs("div",{className:Ve.body,children:[C.jsxs("div",{className:Ve.field,children:[C.jsx("span",{className:Ve.fieldLabel,children:" "}),C.jsxs("div",{className:Ve.fieldRow,children:[C.jsx(dS,{selected:t,onChange:A=>n(A),locale:ev,dateFormat:"yyyy.MM.dd (EEE)",placeholderText:" ",minDate:L6(),className:Ve.input,popperPlacement:"bottom-start",showPopperArrow:!1,isClearable:!0}),C.jsx(dS,{selected:i,onChange:A=>o(A),locale:ev,showTimeSelect:!0,showTimeSelectOnly:!0,timeIntervals:15,timeCaption:"",dateFormat:"HH:mm",placeholderText:" ",className:Ve.input,minTime:T,maxTime:I,popperPlacement:"bottom-start",showPopperArrow:!1})]})]}),C.jsxs("label",{className:Ve.field,children:[C.jsx("span",{className:Ve.fieldLabel,children:""}),C.jsx("input",{className:Ve.input,value:c,onChange:A=>f(A.target.value),placeholder:":  "})]})]}),C.jsxs("div",{className:Ve.footer,children:[h&&C.jsx("p",{className:Ve.errorMessage,children:h}),C.jsxs("div",{className:Ve.buttonGroup,children:[C.jsx("button",{type:"button",className:`${Ve.button} ${Ve.secondary}`,onClick:e,children:""}),C.jsx("button",{type:"button",className:`${Ve.button} ${Ve.primary}`,onClick:L,disabled:y,children:y?" ...":""})]})]})]})}),document.body)},WC=r=>{const e=String(r||"").toUpperCase();return e.includes("GK")?"GK":e.includes("CB")?"CB":e.includes("RB")||e.includes("RWB")?"RB":e.includes("LB")||e.includes("LWB")?"LB":e.includes("CDM")||e==="DM"?"CDM":e.includes("CAM")?"CAM":e.includes("CM")||e.includes("RCM")||e.includes("LCM")||e==="MID"||e==="MF"?"CM":e.includes("RW")||e==="RM"?"RW":e.includes("LW")||e==="LM"?"LW":e.includes("ST")||e.includes("CF")||e.includes("FW")?"ST":"CM"},qB={RB:{RB:0,CB:1,CDM:2,LB:3,CM:4,RW:5,LW:6,CAM:7,ST:8},LB:{LB:0,CB:1,CDM:2,RB:3,CM:4,LW:5,RW:6,CAM:7,ST:8},CB:{CB:0,RB:1,LB:1,CDM:2,CM:3,RW:5,LW:5,ST:7,CAM:8},CDM:{CDM:0,CM:1,CB:2,RB:3,LB:3,CAM:4,RW:5,LW:5,ST:6},CM:{CM:0,CDM:1,CAM:1,RW:3,LW:3,RB:4,LB:4,ST:4,CB:5},CAM:{CAM:0,CM:1,ST:2,RW:3,LW:3,CDM:4,RB:6,LB:6,CB:7},ST:{ST:0,CAM:2,RW:3,LW:3,CM:4,CDM:5,RB:7,LB:7,CB:8},RW:{RW:0,ST:3,CAM:3,CM:4,LW:5,CDM:6,RB:6,LB:7,CB:8},LW:{LW:0,ST:3,CAM:3,CM:4,RW:5,CDM:6,LB:6,RB:7,CB:8}},YB=(r,e)=>r==="GK"&&e!=="GK"||e==="GK"&&r!=="GK"?1/0:r===e?0:qB[r]?.[e]??99,hS=(r,e,t)=>{const n=y=>e.get(y)?.ovr||0,i=y=>WC(e.get(y)?.pos)==="GK",o=r.filter(i).sort((y,_)=>n(_)-n(y)),c=r.filter(y=>!i(y)).sort((y,_)=>n(_)-n(y)),f=[];o.length>0&&f.push(o[0]);const h=[...o.slice(1),...c];f.push(...h.slice(0,t-f.length));const m=r.filter(y=>!f.includes(y));return{starters:f,bench:m}},pS=(r,e,t)=>{let n=new Set(r);const i=e.map(f=>({slot:f,uid:null})),o=f=>t.get(f)?.ovr||0,c=f=>WC(t.get(f)?.pos);return i.forEach(f=>{const h=[...n].filter(m=>c(m)===f.slot);if(h.length>0){const m=h.sort((y,_)=>o(_)-o(y))[0];f.uid=m,n.delete(m)}}),i.forEach(f=>{if(f.uid||n.size===0)return;const h=[...n].filter(m=>isFinite(YB(f.slot,c(m))));if(h.length>0){const m=Math.floor(Math.random()*h.length),y=h[m];f.uid=y,n.delete(y)}}),i},zB=(r,e)=>{const t=new Map(r.map(m=>[m.uid,m])),n=m=>t.get(m)?.ovr||0,i=r.filter(m=>e[m.uid]==="A").map(m=>m.uid),o=r.filter(m=>e[m.uid]==="B").map(m=>m.uid);let c=r.filter(m=>!e[m.uid]);for(let m=c.length-1;m>0;m--){const y=Math.floor(Math.random()*(m+1));[c[m],c[y]]=[c[y],c[m]]}let f=i.reduce((m,y)=>m+n(y),0),h=o.reduce((m,y)=>m+n(y),0);return c.forEach(m=>{f<=h?(i.push(m.uid),f+=m.ovr):(o.push(m.uid),h+=m.ovr)}),{teamA:i,teamB:o}},_y=(r,e,t,n)=>{const i={"4-4-2":["GK","RB","CB","CB","LB","RM","CM","CM","LM","ST","ST"],"4-2-4":["GK","RB","CB","CB","LB","CDM","CM","RW","ST","ST","LW"],"4-3-3":["GK","RB","CB","CB","LB","CM","CDM","CAM","RW","ST","LW"]},o=new Map(r.map(A=>[A.uid,A])),c=i[t]||i["4-3-3"],f=i[n]||i["4-3-3"],{teamA:h,teamB:m}=zB(r,e),{starters:y,bench:_}=hS(h,o,c.length),{starters:w,bench:T}=hS(m,o,f.length),I=pS(y,c,o),L=pS(w,f,o);return{teams:{A:h,B:m},slots:{A:I,B:L},bench:{A:_,B:T}}},av=r=>String(r||"").replace(/\s*\([^)]*\)\s*/g,"").trim(),mS=(r=[],e)=>{if(!r||r.length===0)return 0;const t=r.reduce((n,i)=>n+(e.get(i)?.ovr||0),0);return Math.round(t/r.length)},GB="_squadHeader_1e2ry_19",QB="_headerTop_1e2ry_31",WB="_matchInfo_1e2ry_45",KB="_tabs_1e2ry_55",$B="_activeTab_1e2ry_91",XB="_controls_1e2ry_103",ZB="_shuffleButton_1e2ry_117",JB="_readOnlyFormation_1e2ry_179",e5="_ovrSummary_1e2ry_205",t5="_pane_1e2ry_229",n5="_paneHeader_1e2ry_237",r5="_slotList_1e2ry_269",a5="_benchList_1e2ry_269",i5="_slotItem_1e2ry_281",s5="_slotPlayerInfo_1e2ry_303",o5="_slotPosition_1e2ry_317",l5="_slotName_1e2ry_327",c5="_slotActions_1e2ry_337",u5="_slotOvr_1e2ry_351",f5="_pinButton_1e2ry_365",d5="_pinned_1e2ry_399",h5="_otherTeamPin_1e2ry_409",p5="_benchTitle_1e2ry_429",Be={squadHeader:GB,headerTop:QB,matchInfo:WB,tabs:KB,activeTab:$B,controls:XB,shuffleButton:ZB,readOnlyFormation:JB,ovrSummary:e5,pane:t5,paneHeader:n5,slotList:r5,benchList:a5,slotItem:i5,slotPlayerInfo:s5,slotPosition:o5,slotName:l5,slotActions:c5,slotOvr:u5,pinButton:f5,pinned:d5,otherTeamPin:h5,benchTitle:p5},m5=({match:r,page:e,setPage:t,formation:n,onFormationChange:i,onShuffle:o,onSave:c,onClose:f,avgOvr:h,canManage:m})=>{const y=r?.when?.toDate?new Intl.DateTimeFormat("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit",weekday:"short",hour:"2-digit",minute:"2-digit"}).format(r.when.toDate()):"-";return C.jsxs("div",{className:`${Ve.header} ${Be.squadHeader}`,children:[C.jsxs("div",{className:Be.headerTop,children:[C.jsx("h3",{className:Ve.title,children:" "}),C.jsx("button",{className:Ve.closeButton,onClick:f,children:""})]}),C.jsx("div",{className:Be.matchInfo,children:y}),C.jsxs("div",{className:Be.tabs,children:[C.jsx("button",{onClick:()=>t(0),className:e===0?Be.activeTab:"",children:"1"}),C.jsx("button",{onClick:()=>t(1),className:e===1?Be.activeTab:"",children:"2"}),C.jsx("button",{onClick:()=>t(2),className:e===2?Be.activeTab:"",children:""})]}),e!==2&&C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:Be.controls,children:[m?C.jsx(sC,{value:n,onChange:i,options:["4-3-3","4-4-2","4-2-4"],placeholder:""}):C.jsxs("div",{className:Be.readOnlyFormation,children:[C.jsx("span",{children:""}),C.jsx("span",{children:n})]}),m&&C.jsx("button",{className:Be.shuffleButton,onClick:o,children:" "})]}),C.jsxs("div",{className:Be.ovrSummary,children:[C.jsxs("span",{children:["1  ",h.A]}),C.jsxs("span",{children:["2  ",h.B]})]})]})]})},gS=({title:r,teamLabel:e,slots:t,bench:n,attendeesMap:i,pins:o,canManage:c,onPin:f,onUnpin:h})=>C.jsxs("div",{className:Be.pane,children:[C.jsx("div",{className:Be.paneHeader,children:C.jsx("span",{children:r})}),C.jsx("div",{className:Be.slotList,children:t.map((m,y)=>{const _=m.uid?i.get(m.uid):null,w=o[m.uid]===e;return C.jsxs("div",{className:Be.slotItem,children:[C.jsxs("div",{className:Be.slotPlayerInfo,children:[C.jsx("span",{className:Be.slotPosition,children:m.slot}),C.jsx("span",{className:Be.slotName,children:_?av(_.name):""}),o[m.uid]&&!w&&C.jsxs("span",{className:Be.otherTeamPin,children:[o[m.uid]," "]})]}),C.jsxs("div",{className:Be.slotActions,children:[_&&c&&C.jsx("button",{className:`${Be.pinButton} ${w?Be.pinned:""}`,title:w?" ":"  ",onClick:()=>w?h(m.uid):f(m.uid,e),children:""}),C.jsx("span",{className:Be.slotOvr,children:_?_.ovr:"-"})]})]},`${m.slot}-${y}`)})}),n.length>0&&C.jsxs(C.Fragment,{children:[C.jsxs("h4",{className:Be.benchTitle,children:[" (",n.length,")"]}),C.jsx("div",{className:Be.benchList,children:n.map(m=>{const y=i.get(m);if(!y)return null;const _=o[m]===e;return C.jsxs("div",{className:Be.slotItem,children:[C.jsxs("div",{className:Be.slotPlayerInfo,children:[C.jsx("span",{className:Be.slotName,children:av(y.name)}),o[m]&&!_&&C.jsxs("span",{className:Be.otherTeamPin,children:[o[m]," "]})]}),C.jsxs("div",{className:Be.slotActions,children:[c&&C.jsx("button",{className:`${Be.pinButton} ${_?Be.pinned:""}`,title:_?" ":"  ",onClick:()=>_?h(m):f(m,e),children:""}),C.jsx("span",{className:Be.slotOvr,children:y.ovr})]})]},`bench-${m}`)})})]})]}),g5=({attendees:r})=>{const e=N.useMemo(()=>[...r].sort((t,n)=>(n.ovr||0)-(t.ovr||0)),[r]);return C.jsxs("div",{className:Be.pane,children:[C.jsxs("div",{className:Be.paneHeader,children:[C.jsx("span",{children:" "}),C.jsxs("span",{children:[" ",r.length,""]})]}),C.jsx("div",{className:Be.slotList,children:e.map(t=>C.jsxs("div",{className:Be.slotItem,children:[C.jsx("span",{className:Be.slotName,children:av(t.name)}),C.jsx("span",{className:Be.slotOvr,children:t.ovr})]},t.uid))})]})},y5=({open:r,onClose:e,teamId:t,match:n,attendees:i=[],canManage:o})=>{const[c,f]=N.useState("4-3-3"),[h,m]=N.useState("4-3-3"),[y,_]=N.useState({teams:{A:[],B:[]},slots:{A:[],B:[]},bench:{A:[],B:[]}}),[w,T]=N.useState({}),[I,L]=N.useState(0),A=N.useMemo(()=>new Map(i.map(re=>[re.uid,re])),[i]),{avgOvr:B,currentSquad:H}=N.useMemo(()=>{if(!y||!y.teams)return{avgOvr:{A:0,B:0},currentSquad:y};const{teams:re}=y;return{avgOvr:{A:mS(re.A,A),B:mS(re.B,A)},currentSquad:y}},[y,A]);N.useEffect(()=>{if(!r||!t||!n)return;(async()=>{try{const M=je(De,"teams",t,"matches",n.id,"meta","squad"),D=await gs(M);if(D.exists()&&i.length>0){const x=D.data();f(x.formationA||"4-3-3"),m(x.formationB||"4-3-3"),T(x.pins||{}),_(x)}else f("4-3-3"),m("4-3-3"),T({}),_(_y(i,{},"4-3-3","4-3-3"))}catch(M){console.error("  :",M)}})()},[r,t,n,i.length]),N.useEffect(()=>{!r||i.length===0||_(_y(i,w,c,h))},[w,c,h]);const z=(re,M)=>{M==="A"?f(re):m(re)},ee=async()=>{if(!(!t||!n||!o))try{await xo(je(De,"teams",t,"matches",n.id,"meta","squad"),{...H,formationA:c,formationB:h,pins:w,updatedAt:Qh(),by:jt.currentUser?.uid||null}),alert(" ."),e()}catch(re){console.error("  :",re),alert("  .")}},J=()=>{const re=_y(i,w,c,h);_(re)};return!r||!n?null:rf.createPortal(C.jsx("div",{className:Ve.overlay,onMouseDown:e,children:C.jsxs("div",{className:Ve.content,style:{height:"90vh",maxHeight:"700px"},onMouseDown:re=>re.stopPropagation(),children:[C.jsx(m5,{match:n,page:I,setPage:L,formation:I===0?c:h,onFormationChange:re=>z(re,I===0?"A":"B"),onShuffle:J,onSave:ee,onClose:e,avgOvr:B,canManage:o}),C.jsxs("div",{className:Ve.body,style:{overflowY:"auto",flex:1},children:[H.slots&&I===0&&C.jsx(gS,{title:"1",teamLabel:"A",slots:H.slots.A,bench:H.bench.A,attendeesMap:A,pins:w,canManage:o,onPin:(re,M)=>T(D=>({...D,[re]:M})),onUnpin:re=>T(M=>{const D={...M};return delete D[re],D})}),H.slots&&I===1&&C.jsx(gS,{title:"2",teamLabel:"B",slots:H.slots.B,bench:H.bench.B,attendeesMap:A,pins:w,canManage:o,onPin:(re,M)=>T(D=>({...D,[re]:M})),onUnpin:re=>T(M=>{const D={...M};return delete D[re],D})}),I===2&&C.jsx(g5,{attendees:i})]}),C.jsxs("div",{className:Ve.footer,children:[o&&C.jsx("button",{className:`${Ve.button} ${Ve.primary}`,onClick:ee,children:""}),C.jsx("button",{className:`${Ve.button} ${Ve.secondary}`,onClick:e,children:""})]})]})}),document.body)},v5="_body_15k8o_11",_5="_matchInfo_15k8o_23",w5="_category_15k8o_33",E5="_categoryTitle_15k8o_41",b5="_noVotes_15k8o_57",T5="_resultsList_15k8o_69",S5="_resultItem_15k8o_81",lo={body:v5,matchInfo:_5,category:w5,categoryTitle:E5,noVotes:b5,resultsList:T5,resultItem:S5},wy=({title:r,results:e=[]})=>C.jsxs("section",{className:lo.category,children:[C.jsxs("h4",{className:lo.categoryTitle,children:[r," "]}),e.length===0?C.jsx("div",{className:lo.noVotes,children:" "}):C.jsx("ul",{className:lo.resultsList,children:e.map(t=>C.jsxs("li",{className:lo.resultItem,children:[C.jsx("span",{children:t.name}),C.jsxs("span",{children:[t.cnt,""]})]},`${r}-${t.uid}`))})]}),D5=({open:r,onClose:e,match:t,data:n})=>{if(!r||!t||!n)return null;const i=t.when?.toDate?new Intl.DateTimeFormat("ko-KR",{dateStyle:"medium",timeStyle:"short"}).format(t.when.toDate()):"-";return rf.createPortal(C.jsx("div",{className:Ve.overlay,onMouseDown:e,children:C.jsxs("div",{className:Ve.content,onMouseDown:o=>o.stopPropagation(),children:[C.jsxs("div",{className:Ve.header,children:[C.jsx("h3",{className:Ve.title,children:" "}),C.jsx("button",{className:Ve.closeButton,onClick:e,children:""})]}),C.jsxs("div",{className:`${Ve.body} ${lo.body}`,children:[C.jsxs("p",{className:lo.matchInfo,children:[C.jsx("strong",{children:i}),C.jsx("br",{}),t.location," "]}),C.jsx(wy,{title:"",results:n.attack}),C.jsx(wy,{title:"",results:n.defense}),C.jsx(wy,{title:"MVP",results:n.mvp})]}),C.jsx("div",{className:Ve.footer,children:C.jsx("button",{className:`${Ve.button} ${Ve.secondary}`,onClick:e,children:""})})]})}),document.body)},C5="_pageContainer_1jsw8_19",A5="_content_1jsw8_31",R5="_loadingContainer_1jsw8_39",I5="_section_1jsw8_55",x5="_emptyState_1jsw8_69",M5="_header_1jsw8_87",N5="_headerMain_1jsw8_99",k5="_headerActions_1jsw8_113",O5="_actionButton_1jsw8_123",P5="_actionLink_1jsw8_145",L5="_inviteCode_1jsw8_157",V5="_card_1jsw8_9",U5="_cardClickableArea_1jsw8_215",B5="_cardActions_1jsw8_9",j5="_attendanceButtons_1jsw8_231",H5="_attButton_1jsw8_241",F5="_active_1jsw8_259",q5="_adminActions_1jsw8_269",Y5="_adminButton_1jsw8_281",z5="_primary_1jsw8_297",G5="_danger_1jsw8_299",Q5="_deleteButton_1jsw8_301",W5="_cardCompleted_1jsw8_317",K5="_memberCard_1jsw8_329",$5="_captainCard_1jsw8_359",X5="_viceCard_1jsw8_361",Z5="_memberHeader_1jsw8_367",J5="_memberName_1jsw8_381",ej="_memberOvr_1jsw8_393",tj="_memberMeta_1jsw8_407",nj="_captainActions_1jsw8_417",rj="_createMatchButton_1jsw8_475",aj="_topRightActions_1jsw8_535",Pe={pageContainer:C5,content:A5,loadingContainer:R5,section:I5,emptyState:x5,header:M5,headerMain:N5,headerActions:k5,actionButton:O5,actionLink:P5,inviteCode:L5,card:V5,cardClickableArea:U5,cardActions:B5,attendanceButtons:j5,attButton:H5,active:F5,adminActions:q5,adminButton:Y5,primary:z5,danger:G5,deleteButton:Q5,cardCompleted:W5,memberCard:K5,captainCard:$5,viceCard:X5,memberHeader:Z5,memberName:J5,memberOvr:ej,memberMeta:tj,captainActions:nj,createMatchButton:rj,topRightActions:aj};function ij({userProfile:r}){const{teamId:e}=aI(),t=yi(),[n,i]=N.useState(null),[o,c]=N.useState([]),[f,h]=N.useState([]),[m,y]=N.useState({}),[_,w]=N.useState(!0),[T,I]=N.useState(!1),[L,A]=N.useState(!1),[B,H]=N.useState({open:!1,match:null,attendees:[]}),[z,ee]=N.useState({open:!1,match:null,attendees:[]}),[J,re]=N.useState({open:!1,match:null,data:null}),M=N.useMemo(()=>r?.teamId===e?(r?.teamRole||"member").toLowerCase():"",[r,e]),D=M==="captain",x=M.includes("vice"),P=D||x;N.useEffect(()=>{if(!e)return;w(!0);const oe=je(De,"teams",e),O=Mu(oe,we=>{we.exists()?i(we.data()):t("/")}),$=os(nr(De,"teams",e,"members")),fe=Mu($,async we=>{const ye=we.docs.map(vt=>({id:vt.id,...vt.data()})),et=await Promise.all(ye.map(vt=>gs(je(De,"users",vt.id)).catch(()=>null))),Oe=new Map(et.filter(Boolean).map(vt=>[vt.id,vt.data()])),un=[];for(const vt of ye){const Ct=Oe.get(vt.id);if(!Ct||Ct.teamId!==e){P&&aL(je(De,"teams",e,"members",vt.id));continue}let jn=60;if(typeof Ct.playerOvr=="number")jn=Ct.playerOvr;else if(Ct.stats){const ir=Object.values(Ct.stats).filter(Sr=>typeof Sr=="number");ir.length>0&&(jn=Math.round(ir.reduce((Sr,fn)=>Sr+fn,0)/ir.length))}un.push({...vt,selectedPlayerName:Ct.selectedPlayer?.name||null,position:Ct.position||vt.position,displayOvr:jn})}const Mn=vt=>{const Ct=String(vt||"member").toLowerCase();return Ct==="captain"?0:Ct.includes("vice")?1:2},Gn=[...un].sort((vt,Ct)=>{const jn=Mn(vt.role),ir=Mn(Ct.role);if(jn!==ir)return jn-ir;const Sr=vt.displayOvr||0,fn=Ct.displayOvr||0;return fn!==Sr?fn-Sr:(vt.realName||"").localeCompare(Ct.realName||"","ko")});c(Gn),w(!1)}),ue=os(nr(De,"teams",e,"matches"),tL("when","desc")),ge=Mu(ue,we=>{h(we.docs.map(ye=>({id:ye.id,...ye.data()}))),w(!1)});return()=>{O(),fe(),ge()}},[e,t,P]),N.useEffect(()=>{const oe=jt.currentUser?.uid;if(!e||!oe||f.length===0){y({});return}const O=f.map($=>Mu(je(De,"teams",e,"matches",$.id,"attendance",oe),fe=>{y(ue=>({...ue,[$.id]:fe.exists()?fe.data().status:"none"}))}));return()=>O.forEach($=>$())},[e,f]);const U=N.useCallback(async oe=>{if(!e||!oe?.id)return[];const O=nr(De,"teams",e,"matches",oe.id,"attendance"),$=os(O,zl("status","==","yes")),ue=(await fa($)).docs.map(we=>we.id);return ue.length===0?[]:(await Promise.all(ue.map(we=>gs(je(De,"users",we))))).map(we=>{if(!we.exists())return null;const ye=we.data(),et=ye.realName;let Oe=60;if(typeof ye.playerOvr=="number")Oe=ye.playerOvr;else if(ye.stats){const un=Object.values(ye.stats).filter(Mn=>typeof Mn=="number");un.length>0&&(Oe=Math.round(un.reduce((Mn,Gn)=>Mn+Gn,0)/un.length))}return{uid:we.id,name:et,pos:ye.position||"CM",ovr:Oe}}).filter(Boolean)},[e]),j=N.useCallback(async oe=>{try{const O=await U(oe);if(oe.status==="completed"){const $=new Map(O.map(ye=>[ye.uid,ye.name])),fe=nr(De,"teams",e,"matches",oe.id,"surveys"),ue=await fa(fe),ge={attack:new Map,defense:new Map,mvp:new Map};ue.docs.forEach(ye=>{const et=ye.data()||{};(et.attack||[]).forEach(Oe=>ge.attack.set(Oe,(ge.attack.get(Oe)||0)+1)),(et.defense||[]).forEach(Oe=>ge.defense.set(Oe,(ge.defense.get(Oe)||0)+1)),et.mvp&&ge.mvp.set(et.mvp,(ge.mvp.get(et.mvp)||0)+1)});const we=ye=>[...ye.entries()].map(([et,Oe])=>({uid:et,cnt:Oe,name:$.get(et)||"()"})).sort((et,Oe)=>Oe.cnt-et.cnt);re({open:!0,match:oe,data:{attack:we(ge.attack),defense:we(ge.defense),mvp:we(ge.mvp)}})}else H({open:!0,match:oe,attendees:O})}catch(O){console.error("   :",O),alert("    .")}},[e,U]),k=async oe=>{if(!e)return;const $=(oe.role||"").toLowerCase().includes("vice")?"member":"vice-captain";try{const fe=Nu(De),ue=je(De,"teams",e,"members",oe.id);fe.update(ue,{role:$});const ge=je(De,"users",oe.id);fe.update(ge,{teamRole:$}),await fe.commit()}catch(fe){console.error(" / :",fe),alert("    .")}},Ee=async()=>{const oe=jt.currentUser?.uid;if(!oe||!e){alert(":      .");return}if(window.confirm("   ?     .")){I(!0);try{const O=Nu(De),$=je(De,"teams",e,"members",oe);O.delete($);const fe=je(De,"users",oe);O.update(fe,{teamId:ju(),teamRole:ju()}),await O.commit(),t("/")}catch(O){console.error("  :",O),alert("    ."),I(!1)}}},Se=async oe=>{const O=jt.currentUser?.uid;if(!(!e||!O||!oe.id||O===oe.id)&&window.confirm(`${oe.realName}  ?     .`))try{const $=Nu(De),fe=je(De,"teams",e,"members",oe.id),ue=je(De,"users",oe.id);$.update(fe,{role:"captain"}),$.update(ue,{teamRole:"captain"});const ge=je(De,"teams",e,"members",O),we=je(De,"users",O);$.update(ge,{role:"member"}),$.update(we,{teamRole:"member"}),await $.commit()}catch($){console.error("  :",$),alert("    .")}},Y=async(oe,O)=>{const $=jt.currentUser?.uid;if(!$||!e||!oe){console.error("   /  .");return}try{const fe=je(De,"teams",e,"matches",oe,"attendance",$);await xo(fe,{status:O})}catch(fe){console.error("   :",fe),alert("     .")}},ae=async oe=>{if(!(!e||!oe?.id)&&window.confirm("   ?       ."))try{const O=Nu(De),$=nr(De,"teams",e,"matches",oe.id,"attendance");(await fa($)).docs.forEach(ye=>O.delete(ye.ref));const ue=nr(De,"teams",e,"matches",oe.id,"surveys");(await fa(ue)).docs.forEach(ye=>O.delete(ye.ref));const we=je(De,"teams",e,"matches",oe.id);O.delete(we),await O.commit()}catch(O){console.error("  :",O),alert("    .")}},de=async oe=>{if(!(!e||!oe?.id))try{const O=await U(oe);if(!O||O.length===0){alert(` 0    .
 ''  .`);return}const $=O.map(we=>we.uid),fe=je(De,"teams",e,"matches",oe.id);await Gl(fe,{status:"completed",pendingSurveyParticipants:$});const ue=jt.currentUser?.uid;$.includes(ue)?ee({open:!0,match:oe,attendees:O}):alert("  .")}catch(O){console.error("   :",O),alert("    .")}};return _&&!n?C.jsx("div",{className:Pe.loadingContainer,children:"   ..."}):C.jsxs("div",{className:Pe.pageContainer,children:[C.jsx(sj,{teamInfo:n,isCaptain:D,onLeaveTeam:Ee,isLeaving:T}),C.jsxs("main",{className:Pe.content,children:[C.jsxs("section",{className:Pe.section,children:[C.jsxs("h3",{children:["  (",f.length,")"]}),f.length===0?C.jsx("div",{className:Pe.emptyState,children:"  ."}):f.map(oe=>C.jsx(oj,{match:oe,myStatus:m[oe.id]||"none",canManage:P,onCardClick:()=>j(oe),onSetAttendance:O=>Y(oe.id,O),onComplete:()=>de(oe),onCancel:()=>ae(oe),onDelete:()=>ae(oe)},oe.id))]}),P&&C.jsx("section",{className:Pe.section,children:C.jsxs("button",{className:Pe.createMatchButton,onClick:()=>A(!0),children:[C.jsx("h4",{children:"  "}),C.jsx("p",{children:"     ."})]})}),C.jsxs("section",{className:Pe.section,children:[C.jsxs("h3",{children:["  (",o.length,")"]}),o.map(oe=>C.jsx(lj,{member:oe,isMyCard:jt.currentUser?.uid===oe.id,isCaptainView:D,onDelegateCaptain:()=>Se(oe),onSetVice:()=>k(oe)},oe.id))]})]}),L&&C.jsx(FB,{teamId:e,onClose:()=>A(!1)}),B.open&&C.jsx(y5,{...B,onClose:()=>H(oe=>({...oe,open:!1})),teamId:e,canManage:P}),z.open&&C.jsx(oC,{...z,onClose:()=>ee(oe=>({...oe,open:!1})),teamId:e,userProfile:r}),J.open&&C.jsx(D5,{...J,onClose:()=>re(oe=>({...oe,open:!1}))})]})}const sj=({teamInfo:r,isCaptain:e,onLeaveTeam:t,isLeaving:n})=>C.jsxs("header",{className:Pe.header,children:[C.jsxs("div",{className:Pe.headerMain,children:[C.jsx("h2",{className:Pe.headerTitle,children:r?.teamName||" "}),C.jsxs("div",{className:Pe.headerActions,children:[!e&&C.jsx("button",{className:Pe.actionButton,onClick:t,disabled:n,children:n?" ":" "}),C.jsx(fi,{to:"/",className:Pe.actionLink,children:" "})]})]}),C.jsxs("div",{className:Pe.inviteCode,children:[" : ",C.jsx("strong",{children:r?.inviteCode||"-"})]})]}),oj=({match:r,myStatus:e,canManage:t,onCardClick:n,onSetAttendance:i,onComplete:o,onCancel:c,onDelete:f})=>{const h=r.when?.toDate?Zy(r.when.toDate(),"yyyy.MM.dd (EEE) HH:mm",{locale:ev}):"-",m=!r.status||r.status==="pending",y=r.status==="completed";return C.jsxs("div",{className:`${Pe.card} ${y?Pe.cardCompleted:""}`,children:[t&&C.jsx("div",{className:Pe.topRightActions,children:y&&C.jsx("button",{onClick:_=>{_.stopPropagation(),f()},title:" ",className:Pe.deleteButton,children:""})}),C.jsxs("div",{role:"button",tabIndex:0,className:Pe.cardClickableArea,onClick:n,onKeyDown:_=>_.key==="Enter"&&n(),children:[C.jsx("h4",{children:h}),C.jsx("p",{children:r.location})]}),m&&C.jsxs("div",{className:Pe.cardActions,children:[C.jsxs("div",{className:Pe.attendanceButtons,children:[C.jsx("button",{className:`${Pe.attButton} ${e==="yes"?Pe.active:""}`,onClick:()=>i("yes"),children:""}),C.jsx("button",{className:`${Pe.attButton} ${e==="maybe"?Pe.active:""}`,onClick:()=>i("maybe"),children:""}),C.jsx("button",{className:`${Pe.attButton} ${e==="no"?Pe.active:""}`,onClick:()=>i("no"),children:""})]}),t&&C.jsxs("div",{className:Pe.adminActions,children:[C.jsx("button",{className:`${Pe.adminButton} ${Pe.primary}`,onClick:()=>o(),children:" "}),C.jsx("button",{className:`${Pe.adminButton} ${Pe.danger}`,onClick:()=>c(),children:" "})]})]})]})},lj=({member:r,isMyCard:e,isCaptainView:t,onDelegateCaptain:n,onSetVice:i})=>{const o=r.selectedPlayerName?`${r.realName} (${r.selectedPlayerName})`:r.realName,c=(r.role||"member").toLowerCase(),f=c==="captain",h=c.includes("vice");return C.jsxs("div",{className:`${Pe.memberCard} ${f?Pe.captainCard:""} ${h?Pe.viceCard:""}`,children:[C.jsxs("div",{className:Pe.memberHeader,children:[C.jsx("div",{className:Pe.memberName,children:o}),C.jsx("div",{className:Pe.memberOvr,children:r.displayOvr??"-"})]}),C.jsxs("div",{className:Pe.memberMeta,children:[r.position||"-","  ",r.role||"member"]}),t&&!e&&!f&&C.jsxs("div",{className:Pe.captainActions,children:[C.jsx("button",{onClick:n,children:" "}),C.jsx("button",{onClick:i,className:h?Pe.active:"",children:" "})]})]})};function cj(){const[r,e]=N.useState(null),[t,n]=N.useState(null),[i,o]=N.useState(!0);if(N.useEffect(()=>{const f=LN(jt,h=>{e(h),h||o(!1)});return()=>f()},[]),N.useEffect(()=>{if(r){const f=je(De,"users",r.uid),h=Mu(f,m=>{m.exists()?n(m.data()):n(null),o(!1)},m=>{console.error("  :",m),o(!1)});return()=>h()}else n(null)},[r]),i)return C.jsx("div",{className:"loading-container",children:" ..."});const c=()=>r?t?.surveyCompleted?C.jsxs(Kg,{children:[C.jsx(Mr,{path:"/",element:C.jsx(zV,{userProfile:t})}),C.jsx(Mr,{path:"/create-team",element:C.jsx(n4,{})}),C.jsx(Mr,{path:"/join-team",element:C.jsx(h4,{})}),C.jsx(Mr,{path:"/team/:teamId",element:C.jsx(ij,{userProfile:t})}),C.jsx(Mr,{path:"*",element:C.jsx(Wg,{to:"/"})})]}):C.jsxs(Kg,{children:[C.jsx(Mr,{path:"/survey",element:C.jsx(GL,{userProfile:t})}),C.jsx(Mr,{path:"*",element:C.jsx(Wg,{to:"/survey"})})]}):C.jsxs(Kg,{children:[C.jsx(Mr,{path:"/login",element:C.jsx(vL,{})}),C.jsx(Mr,{path:"/signup",element:C.jsx(_L,{})}),C.jsx(Mr,{path:"*",element:C.jsx(Wg,{to:"/login"})})]});return C.jsx(HI,{children:c()})}RR.createRoot(document.getElementById("root")).render(C.jsx(N.StrictMode,{children:C.jsx(cj,{})}));
