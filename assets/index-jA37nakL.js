var Ek=Object.defineProperty;var Tk=(n,e,t)=>e in n?Ek(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var K=(n,e,t)=>Tk(n,typeof e!="symbol"?e+"":e,t);function Sk(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();function vE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var yE={exports:{}},Wd={},_E={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zl=Symbol.for("react.element"),Ck=Symbol.for("react.portal"),Ik=Symbol.for("react.fragment"),kk=Symbol.for("react.strict_mode"),Dk=Symbol.for("react.profiler"),Pk=Symbol.for("react.provider"),bk=Symbol.for("react.context"),xk=Symbol.for("react.forward_ref"),Rk=Symbol.for("react.suspense"),Ak=Symbol.for("react.memo"),Nk=Symbol.for("react.lazy"),jy=Symbol.iterator;function Mk(n){return n===null||typeof n!="object"?null:(n=jy&&n[jy]||n["@@iterator"],typeof n=="function"?n:null)}var wE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},EE=Object.assign,TE={};function Jo(n,e,t){this.props=n,this.context=e,this.refs=TE,this.updater=t||wE}Jo.prototype.isReactComponent={};Jo.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Jo.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function SE(){}SE.prototype=Jo.prototype;function Rm(n,e,t){this.props=n,this.context=e,this.refs=TE,this.updater=t||wE}var Am=Rm.prototype=new SE;Am.constructor=Rm;EE(Am,Jo.prototype);Am.isPureReactComponent=!0;var By=Array.isArray,CE=Object.prototype.hasOwnProperty,Nm={current:null},IE={key:!0,ref:!0,__self:!0,__source:!0};function kE(n,e,t){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)CE.call(e,r)&&!IE.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:zl,type:n,key:i,ref:o,props:s,_owner:Nm.current}}function Ok(n,e){return{$$typeof:zl,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function Mm(n){return typeof n=="object"&&n!==null&&n.$$typeof===zl}function Lk(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var Uy=/\/+/g;function tf(n,e){return typeof n=="object"&&n!==null&&n.key!=null?Lk(""+n.key):e.toString(36)}function hc(n,e,t,r,s){var i=typeof n;(i==="undefined"||i==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case zl:case Ck:o=!0}}if(o)return o=n,s=s(o),n=r===""?"."+tf(o,0):r,By(s)?(t="",n!=null&&(t=n.replace(Uy,"$&/")+"/"),hc(s,e,t,"",function(c){return c})):s!=null&&(Mm(s)&&(s=Ok(s,t+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Uy,"$&/")+"/")+n)),e.push(s)),1;if(o=0,r=r===""?".":r+":",By(n))for(var a=0;a<n.length;a++){i=n[a];var l=r+tf(i,a);o+=hc(i,e,t,l,s)}else if(l=Mk(n),typeof l=="function")for(n=l.call(n),a=0;!(i=n.next()).done;)i=i.value,l=r+tf(i,a++),o+=hc(i,e,t,l,s);else if(i==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Lu(n,e,t){if(n==null)return n;var r=[],s=0;return hc(n,r,"","",function(i){return e.call(t,i,s++)}),r}function Vk(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Xt={current:null},fc={transition:null},Fk={ReactCurrentDispatcher:Xt,ReactCurrentBatchConfig:fc,ReactCurrentOwner:Nm};function DE(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:Lu,forEach:function(n,e,t){Lu(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Lu(n,function(){e++}),e},toArray:function(n){return Lu(n,function(e){return e})||[]},only:function(n){if(!Mm(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};ve.Component=Jo;ve.Fragment=Ik;ve.Profiler=Dk;ve.PureComponent=Rm;ve.StrictMode=kk;ve.Suspense=Rk;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fk;ve.act=DE;ve.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=EE({},n.props),s=n.key,i=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Nm.current),e.key!==void 0&&(s=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)CE.call(e,l)&&!IE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:zl,type:n.type,key:s,ref:i,props:r,_owner:o}};ve.createContext=function(n){return n={$$typeof:bk,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:Pk,_context:n},n.Consumer=n};ve.createElement=kE;ve.createFactory=function(n){var e=kE.bind(null,n);return e.type=n,e};ve.createRef=function(){return{current:null}};ve.forwardRef=function(n){return{$$typeof:xk,render:n}};ve.isValidElement=Mm;ve.lazy=function(n){return{$$typeof:Nk,_payload:{_status:-1,_result:n},_init:Vk}};ve.memo=function(n,e){return{$$typeof:Ak,type:n,compare:e===void 0?null:e}};ve.startTransition=function(n){var e=fc.transition;fc.transition={};try{n()}finally{fc.transition=e}};ve.unstable_act=DE;ve.useCallback=function(n,e){return Xt.current.useCallback(n,e)};ve.useContext=function(n){return Xt.current.useContext(n)};ve.useDebugValue=function(){};ve.useDeferredValue=function(n){return Xt.current.useDeferredValue(n)};ve.useEffect=function(n,e){return Xt.current.useEffect(n,e)};ve.useId=function(){return Xt.current.useId()};ve.useImperativeHandle=function(n,e,t){return Xt.current.useImperativeHandle(n,e,t)};ve.useInsertionEffect=function(n,e){return Xt.current.useInsertionEffect(n,e)};ve.useLayoutEffect=function(n,e){return Xt.current.useLayoutEffect(n,e)};ve.useMemo=function(n,e){return Xt.current.useMemo(n,e)};ve.useReducer=function(n,e,t){return Xt.current.useReducer(n,e,t)};ve.useRef=function(n){return Xt.current.useRef(n)};ve.useState=function(n){return Xt.current.useState(n)};ve.useSyncExternalStore=function(n,e,t){return Xt.current.useSyncExternalStore(n,e,t)};ve.useTransition=function(){return Xt.current.useTransition()};ve.version="18.3.1";_E.exports=ve;var R=_E.exports;const j=vE(R),Om=Sk({__proto__:null,default:j},[R]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jk=R,Bk=Symbol.for("react.element"),Uk=Symbol.for("react.fragment"),Wk=Object.prototype.hasOwnProperty,$k=jk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Hk={key:!0,ref:!0,__self:!0,__source:!0};function PE(n,e,t){var r,s={},i=null,o=null;t!==void 0&&(i=""+t),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Wk.call(e,r)&&!Hk.hasOwnProperty(r)&&(s[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Bk,type:n,key:i,ref:o,props:s,_owner:$k.current}}Wd.Fragment=Uk;Wd.jsx=PE;Wd.jsxs=PE;yE.exports=Wd;var E=yE.exports,bE={exports:{}},gn={},xE={exports:{}},RE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(B,F){var H=B.length;B.push(F);e:for(;0<H;){var Q=H-1>>>1,J=B[Q];if(0<s(J,F))B[Q]=F,B[H]=J,H=Q;else break e}}function t(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var F=B[0],H=B.pop();if(H!==F){B[0]=H;e:for(var Q=0,J=B.length,le=J>>>1;Q<le;){var De=2*(Q+1)-1,Se=B[De],ge=De+1,$e=B[ge];if(0>s(Se,H))ge<J&&0>s($e,Se)?(B[Q]=$e,B[ge]=H,Q=ge):(B[Q]=Se,B[De]=H,Q=De);else if(ge<J&&0>s($e,H))B[Q]=$e,B[ge]=H,Q=ge;else break e}}return F}function s(B,F){var H=B.sortIndex-F.sortIndex;return H!==0?H:B.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;n.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,p=3,g=!1,_=!1,D=!1,I=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(B){for(var F=t(c);F!==null;){if(F.callback===null)r(c);else if(F.startTime<=B)r(c),F.sortIndex=F.expirationTime,e(l,F);else break;F=t(c)}}function A(B){if(D=!1,T(B),!_)if(t(l)!==null)_=!0,ee(L);else{var F=t(c);F!==null&&ie(A,F.startTime-B)}}function L(B,F){_=!1,D&&(D=!1,w(v),v=-1),g=!0;var H=p;try{for(T(F),h=t(l);h!==null&&(!(h.expirationTime>F)||B&&!x());){var Q=h.callback;if(typeof Q=="function"){h.callback=null,p=h.priorityLevel;var J=Q(h.expirationTime<=F);F=n.unstable_now(),typeof J=="function"?h.callback=J:h===t(l)&&r(l),T(F)}else r(l);h=t(l)}if(h!==null)var le=!0;else{var De=t(c);De!==null&&ie(A,De.startTime-F),le=!1}return le}finally{h=null,p=H,g=!1}}var M=!1,S=null,v=-1,C=5,P=-1;function x(){return!(n.unstable_now()-P<C)}function N(){if(S!==null){var B=n.unstable_now();P=B;var F=!0;try{F=S(!0,B)}finally{F?b():(M=!1,S=null)}}else M=!1}var b;if(typeof y=="function")b=function(){y(N)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,re=se.port2;se.port1.onmessage=N,b=function(){re.postMessage(null)}}else b=function(){I(N,0)};function ee(B){S=B,M||(M=!0,b())}function ie(B,F){v=I(function(){B(n.unstable_now())},F)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(B){B.callback=null},n.unstable_continueExecution=function(){_||g||(_=!0,ee(L))},n.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<B?Math.floor(1e3/B):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(B){switch(p){case 1:case 2:case 3:var F=3;break;default:F=p}var H=p;p=F;try{return B()}finally{p=H}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(B,F){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var H=p;p=B;try{return F()}finally{p=H}},n.unstable_scheduleCallback=function(B,F,H){var Q=n.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?Q+H:Q):H=Q,B){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=H+J,B={id:d++,callback:F,priorityLevel:B,startTime:H,expirationTime:J,sortIndex:-1},H>Q?(B.sortIndex=H,e(c,B),t(l)===null&&B===t(c)&&(D?(w(v),v=-1):D=!0,ie(A,H-Q))):(B.sortIndex=J,e(l,B),_||g||(_=!0,ee(L))),B},n.unstable_shouldYield=x,n.unstable_wrapCallback=function(B){var F=p;return function(){var H=p;p=F;try{return B.apply(this,arguments)}finally{p=H}}}})(RE);xE.exports=RE;var Yk=xE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zk=R,mn=Yk;function $(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var AE=new Set,hl={};function Oi(n,e){Po(n,e),Po(n+"Capture",e)}function Po(n,e){for(hl[n]=e,n=0;n<e.length;n++)AE.add(e[n])}var Lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rp=Object.prototype.hasOwnProperty,qk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Wy={},$y={};function Qk(n){return rp.call($y,n)?!0:rp.call(Wy,n)?!1:qk.test(n)?$y[n]=!0:(Wy[n]=!0,!1)}function Kk(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function Gk(n,e,t,r){if(e===null||typeof e>"u"||Kk(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Jt(n,e,t,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Dt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Dt[n]=new Jt(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Dt[e]=new Jt(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Dt[n]=new Jt(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Dt[n]=new Jt(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Dt[n]=new Jt(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Dt[n]=new Jt(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Dt[n]=new Jt(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Dt[n]=new Jt(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Dt[n]=new Jt(n,5,!1,n.toLowerCase(),null,!1,!1)});var Lm=/[\-:]([a-z])/g;function Vm(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(Lm,Vm);Dt[e]=new Jt(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(Lm,Vm);Dt[e]=new Jt(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(Lm,Vm);Dt[e]=new Jt(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Dt[n]=new Jt(n,1,!1,n.toLowerCase(),null,!1,!1)});Dt.xlinkHref=new Jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Dt[n]=new Jt(n,1,!1,n.toLowerCase(),null,!0,!0)});function Fm(n,e,t,r){var s=Dt.hasOwnProperty(e)?Dt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Gk(e,t,s,r)&&(t=null),r||s===null?Qk(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):s.mustUseProperty?n[s.propertyName]=t===null?s.type===3?!1:"":t:(e=s.attributeName,r=s.attributeNamespace,t===null?n.removeAttribute(e):(s=s.type,t=s===3||s===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Yr=zk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vu=Symbol.for("react.element"),to=Symbol.for("react.portal"),no=Symbol.for("react.fragment"),jm=Symbol.for("react.strict_mode"),sp=Symbol.for("react.profiler"),NE=Symbol.for("react.provider"),ME=Symbol.for("react.context"),Bm=Symbol.for("react.forward_ref"),ip=Symbol.for("react.suspense"),op=Symbol.for("react.suspense_list"),Um=Symbol.for("react.memo"),as=Symbol.for("react.lazy"),OE=Symbol.for("react.offscreen"),Hy=Symbol.iterator;function Ca(n){return n===null||typeof n!="object"?null:(n=Hy&&n[Hy]||n["@@iterator"],typeof n=="function"?n:null)}var Qe=Object.assign,nf;function Fa(n){if(nf===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);nf=e&&e[1]||""}return`
`+nf+n}var rf=!1;function sf(n,e){if(!n||rf)return"";rf=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){r=c}n.call(e.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{rf=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Fa(n):""}function Xk(n){switch(n.tag){case 5:return Fa(n.type);case 16:return Fa("Lazy");case 13:return Fa("Suspense");case 19:return Fa("SuspenseList");case 0:case 2:case 15:return n=sf(n.type,!1),n;case 11:return n=sf(n.type.render,!1),n;case 1:return n=sf(n.type,!0),n;default:return""}}function ap(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case no:return"Fragment";case to:return"Portal";case sp:return"Profiler";case jm:return"StrictMode";case ip:return"Suspense";case op:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case ME:return(n.displayName||"Context")+".Consumer";case NE:return(n._context.displayName||"Context")+".Provider";case Bm:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Um:return e=n.displayName||null,e!==null?e:ap(n.type)||"Memo";case as:e=n._payload,n=n._init;try{return ap(n(e))}catch{}}return null}function Jk(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ap(e);case 8:return e===jm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Os(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function LE(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Zk(n){var e=LE(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var s=t.get,i=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Fu(n){n._valueTracker||(n._valueTracker=Zk(n))}function VE(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=LE(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function jc(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function lp(n,e){var t=e.checked;return Qe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function Yy(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=Os(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function FE(n,e){e=e.checked,e!=null&&Fm(n,"checked",e,!1)}function up(n,e){FE(n,e);var t=Os(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?cp(n,e.type,t):e.hasOwnProperty("defaultValue")&&cp(n,e.type,Os(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function zy(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function cp(n,e,t){(e!=="number"||jc(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var ja=Array.isArray;function mo(n,e,t,r){if(n=n.options,e){e={};for(var s=0;s<t.length;s++)e["$"+t[s]]=!0;for(t=0;t<n.length;t++)s=e.hasOwnProperty("$"+n[t].value),n[t].selected!==s&&(n[t].selected=s),s&&r&&(n[t].defaultSelected=!0)}else{for(t=""+Os(t),e=null,s=0;s<n.length;s++){if(n[s].value===t){n[s].selected=!0,r&&(n[s].defaultSelected=!0);return}e!==null||n[s].disabled||(e=n[s])}e!==null&&(e.selected=!0)}}function dp(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return Qe({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function qy(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error($(92));if(ja(t)){if(1<t.length)throw Error($(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Os(t)}}function jE(n,e){var t=Os(e.value),r=Os(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function Qy(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function BE(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hp(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?BE(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var ju,UE=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,s){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,s)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(ju=ju||document.createElement("div"),ju.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ju.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function fl(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Xa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eD=["Webkit","ms","Moz","O"];Object.keys(Xa).forEach(function(n){eD.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Xa[e]=Xa[n]})});function WE(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Xa.hasOwnProperty(n)&&Xa[n]?(""+e).trim():e+"px"}function $E(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,s=WE(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,s):n[t]=s}}var tD=Qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fp(n,e){if(e){if(tD[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function pp(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mp=null;function Wm(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var gp=null,go=null,vo=null;function Ky(n){if(n=Kl(n)){if(typeof gp!="function")throw Error($(280));var e=n.stateNode;e&&(e=qd(e),gp(n.stateNode,n.type,e))}}function HE(n){go?vo?vo.push(n):vo=[n]:go=n}function YE(){if(go){var n=go,e=vo;if(vo=go=null,Ky(n),e)for(n=0;n<e.length;n++)Ky(e[n])}}function zE(n,e){return n(e)}function qE(){}var of=!1;function QE(n,e,t){if(of)return n(e,t);of=!0;try{return zE(n,e,t)}finally{of=!1,(go!==null||vo!==null)&&(qE(),YE())}}function pl(n,e){var t=n.stateNode;if(t===null)return null;var r=qd(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error($(231,e,typeof t));return t}var vp=!1;if(Lr)try{var Ia={};Object.defineProperty(Ia,"passive",{get:function(){vp=!0}}),window.addEventListener("test",Ia,Ia),window.removeEventListener("test",Ia,Ia)}catch{vp=!1}function nD(n,e,t,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(d){this.onError(d)}}var Ja=!1,Bc=null,Uc=!1,yp=null,rD={onError:function(n){Ja=!0,Bc=n}};function sD(n,e,t,r,s,i,o,a,l){Ja=!1,Bc=null,nD.apply(rD,arguments)}function iD(n,e,t,r,s,i,o,a,l){if(sD.apply(this,arguments),Ja){if(Ja){var c=Bc;Ja=!1,Bc=null}else throw Error($(198));Uc||(Uc=!0,yp=c)}}function Li(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function KE(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function Gy(n){if(Li(n)!==n)throw Error($(188))}function oD(n){var e=n.alternate;if(!e){if(e=Li(n),e===null)throw Error($(188));return e!==n?null:n}for(var t=n,r=e;;){var s=t.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){t=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===t)return Gy(s),n;if(i===r)return Gy(s),e;i=i.sibling}throw Error($(188))}if(t.return!==r.return)t=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o)throw Error($(189))}}if(t.alternate!==r)throw Error($(190))}if(t.tag!==3)throw Error($(188));return t.stateNode.current===t?n:e}function GE(n){return n=oD(n),n!==null?XE(n):null}function XE(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=XE(n);if(e!==null)return e;n=n.sibling}return null}var JE=mn.unstable_scheduleCallback,Xy=mn.unstable_cancelCallback,aD=mn.unstable_shouldYield,lD=mn.unstable_requestPaint,nt=mn.unstable_now,uD=mn.unstable_getCurrentPriorityLevel,$m=mn.unstable_ImmediatePriority,ZE=mn.unstable_UserBlockingPriority,Wc=mn.unstable_NormalPriority,cD=mn.unstable_LowPriority,eT=mn.unstable_IdlePriority,$d=null,rr=null;function dD(n){if(rr&&typeof rr.onCommitFiberRoot=="function")try{rr.onCommitFiberRoot($d,n,void 0,(n.current.flags&128)===128)}catch{}}var Mn=Math.clz32?Math.clz32:pD,hD=Math.log,fD=Math.LN2;function pD(n){return n>>>=0,n===0?32:31-(hD(n)/fD|0)|0}var Bu=64,Uu=4194304;function Ba(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function $c(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,s=n.suspendedLanes,i=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~s;a!==0?r=Ba(a):(i&=o,i!==0&&(r=Ba(i)))}else o=t&~s,o!==0?r=Ba(o):i!==0&&(r=Ba(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-Mn(e),s=1<<t,r|=n[t],e&=~s;return r}function mD(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gD(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,s=n.expirationTimes,i=n.pendingLanes;0<i;){var o=31-Mn(i),a=1<<o,l=s[o];l===-1?(!(a&t)||a&r)&&(s[o]=mD(a,e)):l<=e&&(n.expiredLanes|=a),i&=~a}}function _p(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function tT(){var n=Bu;return Bu<<=1,!(Bu&4194240)&&(Bu=64),n}function af(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function ql(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Mn(e),n[e]=t}function vD(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var s=31-Mn(t),i=1<<s;e[s]=0,r[s]=-1,n[s]=-1,t&=~i}}function Hm(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-Mn(t),s=1<<r;s&e|n[r]&e&&(n[r]|=e),t&=~s}}var Ne=0;function nT(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var rT,Ym,sT,iT,oT,wp=!1,Wu=[],_s=null,ws=null,Es=null,ml=new Map,gl=new Map,us=[],yD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jy(n,e){switch(n){case"focusin":case"focusout":_s=null;break;case"dragenter":case"dragleave":ws=null;break;case"mouseover":case"mouseout":Es=null;break;case"pointerover":case"pointerout":ml.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":gl.delete(e.pointerId)}}function ka(n,e,t,r,s,i){return n===null||n.nativeEvent!==i?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Kl(e),e!==null&&Ym(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),n)}function _D(n,e,t,r,s){switch(e){case"focusin":return _s=ka(_s,n,e,t,r,s),!0;case"dragenter":return ws=ka(ws,n,e,t,r,s),!0;case"mouseover":return Es=ka(Es,n,e,t,r,s),!0;case"pointerover":var i=s.pointerId;return ml.set(i,ka(ml.get(i)||null,n,e,t,r,s)),!0;case"gotpointercapture":return i=s.pointerId,gl.set(i,ka(gl.get(i)||null,n,e,t,r,s)),!0}return!1}function aT(n){var e=li(n.target);if(e!==null){var t=Li(e);if(t!==null){if(e=t.tag,e===13){if(e=KE(t),e!==null){n.blockedOn=e,oT(n.priority,function(){sT(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function pc(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=Ep(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);mp=r,t.target.dispatchEvent(r),mp=null}else return e=Kl(t),e!==null&&Ym(e),n.blockedOn=t,!1;e.shift()}return!0}function Zy(n,e,t){pc(n)&&t.delete(e)}function wD(){wp=!1,_s!==null&&pc(_s)&&(_s=null),ws!==null&&pc(ws)&&(ws=null),Es!==null&&pc(Es)&&(Es=null),ml.forEach(Zy),gl.forEach(Zy)}function Da(n,e){n.blockedOn===e&&(n.blockedOn=null,wp||(wp=!0,mn.unstable_scheduleCallback(mn.unstable_NormalPriority,wD)))}function vl(n){function e(s){return Da(s,n)}if(0<Wu.length){Da(Wu[0],n);for(var t=1;t<Wu.length;t++){var r=Wu[t];r.blockedOn===n&&(r.blockedOn=null)}}for(_s!==null&&Da(_s,n),ws!==null&&Da(ws,n),Es!==null&&Da(Es,n),ml.forEach(e),gl.forEach(e),t=0;t<us.length;t++)r=us[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<us.length&&(t=us[0],t.blockedOn===null);)aT(t),t.blockedOn===null&&us.shift()}var yo=Yr.ReactCurrentBatchConfig,Hc=!0;function ED(n,e,t,r){var s=Ne,i=yo.transition;yo.transition=null;try{Ne=1,zm(n,e,t,r)}finally{Ne=s,yo.transition=i}}function TD(n,e,t,r){var s=Ne,i=yo.transition;yo.transition=null;try{Ne=4,zm(n,e,t,r)}finally{Ne=s,yo.transition=i}}function zm(n,e,t,r){if(Hc){var s=Ep(n,e,t,r);if(s===null)vf(n,e,r,Yc,t),Jy(n,r);else if(_D(s,n,e,t,r))r.stopPropagation();else if(Jy(n,r),e&4&&-1<yD.indexOf(n)){for(;s!==null;){var i=Kl(s);if(i!==null&&rT(i),i=Ep(n,e,t,r),i===null&&vf(n,e,r,Yc,t),i===s)break;s=i}s!==null&&r.stopPropagation()}else vf(n,e,r,null,t)}}var Yc=null;function Ep(n,e,t,r){if(Yc=null,n=Wm(r),n=li(n),n!==null)if(e=Li(n),e===null)n=null;else if(t=e.tag,t===13){if(n=KE(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Yc=n,null}function lT(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uD()){case $m:return 1;case ZE:return 4;case Wc:case cD:return 16;case eT:return 536870912;default:return 16}default:return 16}}var ms=null,qm=null,mc=null;function uT(){if(mc)return mc;var n,e=qm,t=e.length,r,s="value"in ms?ms.value:ms.textContent,i=s.length;for(n=0;n<t&&e[n]===s[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===s[i-r];r++);return mc=s.slice(n,1<r?1-r:void 0)}function gc(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function $u(){return!0}function e_(){return!1}function vn(n){function e(t,r,s,i,o){this._reactName=t,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?$u:e_,this.isPropagationStopped=e_,this}return Qe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=$u)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=$u)},persist:function(){},isPersistent:$u}),e}var Zo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qm=vn(Zo),Ql=Qe({},Zo,{view:0,detail:0}),SD=vn(Ql),lf,uf,Pa,Hd=Qe({},Ql,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Km,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Pa&&(Pa&&n.type==="mousemove"?(lf=n.screenX-Pa.screenX,uf=n.screenY-Pa.screenY):uf=lf=0,Pa=n),lf)},movementY:function(n){return"movementY"in n?n.movementY:uf}}),t_=vn(Hd),CD=Qe({},Hd,{dataTransfer:0}),ID=vn(CD),kD=Qe({},Ql,{relatedTarget:0}),cf=vn(kD),DD=Qe({},Zo,{animationName:0,elapsedTime:0,pseudoElement:0}),PD=vn(DD),bD=Qe({},Zo,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),xD=vn(bD),RD=Qe({},Zo,{data:0}),n_=vn(RD),AD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ND={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function OD(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=MD[n])?!!e[n]:!1}function Km(){return OD}var LD=Qe({},Ql,{key:function(n){if(n.key){var e=AD[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=gc(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?ND[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Km,charCode:function(n){return n.type==="keypress"?gc(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?gc(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),VD=vn(LD),FD=Qe({},Hd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),r_=vn(FD),jD=Qe({},Ql,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Km}),BD=vn(jD),UD=Qe({},Zo,{propertyName:0,elapsedTime:0,pseudoElement:0}),WD=vn(UD),$D=Qe({},Hd,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),HD=vn($D),YD=[9,13,27,32],Gm=Lr&&"CompositionEvent"in window,Za=null;Lr&&"documentMode"in document&&(Za=document.documentMode);var zD=Lr&&"TextEvent"in window&&!Za,cT=Lr&&(!Gm||Za&&8<Za&&11>=Za),s_=" ",i_=!1;function dT(n,e){switch(n){case"keyup":return YD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hT(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ro=!1;function qD(n,e){switch(n){case"compositionend":return hT(e);case"keypress":return e.which!==32?null:(i_=!0,s_);case"textInput":return n=e.data,n===s_&&i_?null:n;default:return null}}function QD(n,e){if(ro)return n==="compositionend"||!Gm&&dT(n,e)?(n=uT(),mc=qm=ms=null,ro=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return cT&&e.locale!=="ko"?null:e.data;default:return null}}var KD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function o_(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!KD[n.type]:e==="textarea"}function fT(n,e,t,r){HE(r),e=zc(e,"onChange"),0<e.length&&(t=new Qm("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var el=null,yl=null;function GD(n){CT(n,0)}function Yd(n){var e=oo(n);if(VE(e))return n}function XD(n,e){if(n==="change")return e}var pT=!1;if(Lr){var df;if(Lr){var hf="oninput"in document;if(!hf){var a_=document.createElement("div");a_.setAttribute("oninput","return;"),hf=typeof a_.oninput=="function"}df=hf}else df=!1;pT=df&&(!document.documentMode||9<document.documentMode)}function l_(){el&&(el.detachEvent("onpropertychange",mT),yl=el=null)}function mT(n){if(n.propertyName==="value"&&Yd(yl)){var e=[];fT(e,yl,n,Wm(n)),QE(GD,e)}}function JD(n,e,t){n==="focusin"?(l_(),el=e,yl=t,el.attachEvent("onpropertychange",mT)):n==="focusout"&&l_()}function ZD(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Yd(yl)}function eP(n,e){if(n==="click")return Yd(e)}function tP(n,e){if(n==="input"||n==="change")return Yd(e)}function nP(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Vn=typeof Object.is=="function"?Object.is:nP;function _l(n,e){if(Vn(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var s=t[r];if(!rp.call(e,s)||!Vn(n[s],e[s]))return!1}return!0}function u_(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function c_(n,e){var t=u_(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=u_(t)}}function gT(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?gT(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function vT(){for(var n=window,e=jc();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=jc(n.document)}return e}function Xm(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function rP(n){var e=vT(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&gT(t.ownerDocument.documentElement,t)){if(r!==null&&Xm(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var s=t.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!n.extend&&i>r&&(s=r,r=i,i=s),s=c_(t,i);var o=c_(t,r);s&&o&&(n.rangeCount!==1||n.anchorNode!==s.node||n.anchorOffset!==s.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),n.removeAllRanges(),i>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var sP=Lr&&"documentMode"in document&&11>=document.documentMode,so=null,Tp=null,tl=null,Sp=!1;function d_(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Sp||so==null||so!==jc(r)||(r=so,"selectionStart"in r&&Xm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),tl&&_l(tl,r)||(tl=r,r=zc(Tp,"onSelect"),0<r.length&&(e=new Qm("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=so)))}function Hu(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var io={animationend:Hu("Animation","AnimationEnd"),animationiteration:Hu("Animation","AnimationIteration"),animationstart:Hu("Animation","AnimationStart"),transitionend:Hu("Transition","TransitionEnd")},ff={},yT={};Lr&&(yT=document.createElement("div").style,"AnimationEvent"in window||(delete io.animationend.animation,delete io.animationiteration.animation,delete io.animationstart.animation),"TransitionEvent"in window||delete io.transitionend.transition);function zd(n){if(ff[n])return ff[n];if(!io[n])return n;var e=io[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in yT)return ff[n]=e[t];return n}var _T=zd("animationend"),wT=zd("animationiteration"),ET=zd("animationstart"),TT=zd("transitionend"),ST=new Map,h_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $s(n,e){ST.set(n,e),Oi(e,[n])}for(var pf=0;pf<h_.length;pf++){var mf=h_[pf],iP=mf.toLowerCase(),oP=mf[0].toUpperCase()+mf.slice(1);$s(iP,"on"+oP)}$s(_T,"onAnimationEnd");$s(wT,"onAnimationIteration");$s(ET,"onAnimationStart");$s("dblclick","onDoubleClick");$s("focusin","onFocus");$s("focusout","onBlur");$s(TT,"onTransitionEnd");Po("onMouseEnter",["mouseout","mouseover"]);Po("onMouseLeave",["mouseout","mouseover"]);Po("onPointerEnter",["pointerout","pointerover"]);Po("onPointerLeave",["pointerout","pointerover"]);Oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Oi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ua="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aP=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ua));function f_(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,iD(r,e,void 0,n),n.currentTarget=null}function CT(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;f_(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;f_(s,a,c),i=l}}}if(Uc)throw n=yp,Uc=!1,yp=null,n}function je(n,e){var t=e[Pp];t===void 0&&(t=e[Pp]=new Set);var r=n+"__bubble";t.has(r)||(IT(e,n,2,!1),t.add(r))}function gf(n,e,t){var r=0;e&&(r|=4),IT(t,n,r,e)}var Yu="_reactListening"+Math.random().toString(36).slice(2);function wl(n){if(!n[Yu]){n[Yu]=!0,AE.forEach(function(t){t!=="selectionchange"&&(aP.has(t)||gf(t,!1,n),gf(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Yu]||(e[Yu]=!0,gf("selectionchange",!1,e))}}function IT(n,e,t,r){switch(lT(e)){case 1:var s=ED;break;case 4:s=TD;break;default:s=zm}t=s.bind(null,e,t,n),s=void 0,!vp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?n.addEventListener(e,t,{capture:!0,passive:s}):n.addEventListener(e,t,!0):s!==void 0?n.addEventListener(e,t,{passive:s}):n.addEventListener(e,t,!1)}function vf(n,e,t,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=li(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}QE(function(){var c=i,d=Wm(t),h=[];e:{var p=ST.get(n);if(p!==void 0){var g=Qm,_=n;switch(n){case"keypress":if(gc(t)===0)break e;case"keydown":case"keyup":g=VD;break;case"focusin":_="focus",g=cf;break;case"focusout":_="blur",g=cf;break;case"beforeblur":case"afterblur":g=cf;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=t_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=ID;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=BD;break;case _T:case wT:case ET:g=PD;break;case TT:g=WD;break;case"scroll":g=SD;break;case"wheel":g=HD;break;case"copy":case"cut":case"paste":g=xD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=r_}var D=(e&4)!==0,I=!D&&n==="scroll",w=D?p!==null?p+"Capture":null:p;D=[];for(var y=c,T;y!==null;){T=y;var A=T.stateNode;if(T.tag===5&&A!==null&&(T=A,w!==null&&(A=pl(y,w),A!=null&&D.push(El(y,A,T)))),I)break;y=y.return}0<D.length&&(p=new g(p,_,null,t,d),h.push({event:p,listeners:D}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",g=n==="mouseout"||n==="pointerout",p&&t!==mp&&(_=t.relatedTarget||t.fromElement)&&(li(_)||_[Vr]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(_=t.relatedTarget||t.toElement,g=c,_=_?li(_):null,_!==null&&(I=Li(_),_!==I||_.tag!==5&&_.tag!==6)&&(_=null)):(g=null,_=c),g!==_)){if(D=t_,A="onMouseLeave",w="onMouseEnter",y="mouse",(n==="pointerout"||n==="pointerover")&&(D=r_,A="onPointerLeave",w="onPointerEnter",y="pointer"),I=g==null?p:oo(g),T=_==null?p:oo(_),p=new D(A,y+"leave",g,t,d),p.target=I,p.relatedTarget=T,A=null,li(d)===c&&(D=new D(w,y+"enter",_,t,d),D.target=T,D.relatedTarget=I,A=D),I=A,g&&_)t:{for(D=g,w=_,y=0,T=D;T;T=Qi(T))y++;for(T=0,A=w;A;A=Qi(A))T++;for(;0<y-T;)D=Qi(D),y--;for(;0<T-y;)w=Qi(w),T--;for(;y--;){if(D===w||w!==null&&D===w.alternate)break t;D=Qi(D),w=Qi(w)}D=null}else D=null;g!==null&&p_(h,p,g,D,!1),_!==null&&I!==null&&p_(h,I,_,D,!0)}}e:{if(p=c?oo(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var L=XD;else if(o_(p))if(pT)L=tP;else{L=ZD;var M=JD}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(L=eP);if(L&&(L=L(n,c))){fT(h,L,t,d);break e}M&&M(n,p,c),n==="focusout"&&(M=p._wrapperState)&&M.controlled&&p.type==="number"&&cp(p,"number",p.value)}switch(M=c?oo(c):window,n){case"focusin":(o_(M)||M.contentEditable==="true")&&(so=M,Tp=c,tl=null);break;case"focusout":tl=Tp=so=null;break;case"mousedown":Sp=!0;break;case"contextmenu":case"mouseup":case"dragend":Sp=!1,d_(h,t,d);break;case"selectionchange":if(sP)break;case"keydown":case"keyup":d_(h,t,d)}var S;if(Gm)e:{switch(n){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else ro?dT(n,t)&&(v="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(v="onCompositionStart");v&&(cT&&t.locale!=="ko"&&(ro||v!=="onCompositionStart"?v==="onCompositionEnd"&&ro&&(S=uT()):(ms=d,qm="value"in ms?ms.value:ms.textContent,ro=!0)),M=zc(c,v),0<M.length&&(v=new n_(v,n,null,t,d),h.push({event:v,listeners:M}),S?v.data=S:(S=hT(t),S!==null&&(v.data=S)))),(S=zD?qD(n,t):QD(n,t))&&(c=zc(c,"onBeforeInput"),0<c.length&&(d=new n_("onBeforeInput","beforeinput",null,t,d),h.push({event:d,listeners:c}),d.data=S))}CT(h,e)})}function El(n,e,t){return{instance:n,listener:e,currentTarget:t}}function zc(n,e){for(var t=e+"Capture",r=[];n!==null;){var s=n,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=pl(n,t),i!=null&&r.unshift(El(n,i,s)),i=pl(n,e),i!=null&&r.push(El(n,i,s))),n=n.return}return r}function Qi(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function p_(n,e,t,r,s){for(var i=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=pl(t,i),l!=null&&o.unshift(El(t,l,a))):s||(l=pl(t,i),l!=null&&o.push(El(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var lP=/\r\n?/g,uP=/\u0000|\uFFFD/g;function m_(n){return(typeof n=="string"?n:""+n).replace(lP,`
`).replace(uP,"")}function zu(n,e,t){if(e=m_(e),m_(n)!==e&&t)throw Error($(425))}function qc(){}var Cp=null,Ip=null;function kp(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Dp=typeof setTimeout=="function"?setTimeout:void 0,cP=typeof clearTimeout=="function"?clearTimeout:void 0,g_=typeof Promise=="function"?Promise:void 0,dP=typeof queueMicrotask=="function"?queueMicrotask:typeof g_<"u"?function(n){return g_.resolve(null).then(n).catch(hP)}:Dp;function hP(n){setTimeout(function(){throw n})}function yf(n,e){var t=e,r=0;do{var s=t.nextSibling;if(n.removeChild(t),s&&s.nodeType===8)if(t=s.data,t==="/$"){if(r===0){n.removeChild(s),vl(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=s}while(t);vl(e)}function Ts(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function v_(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var ea=Math.random().toString(36).slice(2),Qn="__reactFiber$"+ea,Tl="__reactProps$"+ea,Vr="__reactContainer$"+ea,Pp="__reactEvents$"+ea,fP="__reactListeners$"+ea,pP="__reactHandles$"+ea;function li(n){var e=n[Qn];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Vr]||t[Qn]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=v_(n);n!==null;){if(t=n[Qn])return t;n=v_(n)}return e}n=t,t=n.parentNode}return null}function Kl(n){return n=n[Qn]||n[Vr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function oo(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error($(33))}function qd(n){return n[Tl]||null}var bp=[],ao=-1;function Hs(n){return{current:n}}function Ue(n){0>ao||(n.current=bp[ao],bp[ao]=null,ao--)}function Ve(n,e){ao++,bp[ao]=n.current,n.current=e}var Ls={},Ut=Hs(Ls),nn=Hs(!1),wi=Ls;function bo(n,e){var t=n.type.contextTypes;if(!t)return Ls;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in t)s[i]=e[i];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=s),s}function rn(n){return n=n.childContextTypes,n!=null}function Qc(){Ue(nn),Ue(Ut)}function y_(n,e,t){if(Ut.current!==Ls)throw Error($(168));Ve(Ut,e),Ve(nn,t)}function kT(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error($(108,Jk(n)||"Unknown",s));return Qe({},t,r)}function Kc(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Ls,wi=Ut.current,Ve(Ut,n),Ve(nn,nn.current),!0}function __(n,e,t){var r=n.stateNode;if(!r)throw Error($(169));t?(n=kT(n,e,wi),r.__reactInternalMemoizedMergedChildContext=n,Ue(nn),Ue(Ut),Ve(Ut,n)):Ue(nn),Ve(nn,t)}var Er=null,Qd=!1,_f=!1;function DT(n){Er===null?Er=[n]:Er.push(n)}function mP(n){Qd=!0,DT(n)}function Ys(){if(!_f&&Er!==null){_f=!0;var n=0,e=Ne;try{var t=Er;for(Ne=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}Er=null,Qd=!1}catch(s){throw Er!==null&&(Er=Er.slice(n+1)),JE($m,Ys),s}finally{Ne=e,_f=!1}}return null}var lo=[],uo=0,Gc=null,Xc=0,_n=[],wn=0,Ei=null,Tr=1,Sr="";function ti(n,e){lo[uo++]=Xc,lo[uo++]=Gc,Gc=n,Xc=e}function PT(n,e,t){_n[wn++]=Tr,_n[wn++]=Sr,_n[wn++]=Ei,Ei=n;var r=Tr;n=Sr;var s=32-Mn(r)-1;r&=~(1<<s),t+=1;var i=32-Mn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Tr=1<<32-Mn(e)+s|t<<s|r,Sr=i+n}else Tr=1<<i|t<<s|r,Sr=n}function Jm(n){n.return!==null&&(ti(n,1),PT(n,1,0))}function Zm(n){for(;n===Gc;)Gc=lo[--uo],lo[uo]=null,Xc=lo[--uo],lo[uo]=null;for(;n===Ei;)Ei=_n[--wn],_n[wn]=null,Sr=_n[--wn],_n[wn]=null,Tr=_n[--wn],_n[wn]=null}var fn=null,dn=null,He=!1,Nn=null;function bT(n,e){var t=Tn(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function w_(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,fn=n,dn=Ts(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,fn=n,dn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Ei!==null?{id:Tr,overflow:Sr}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Tn(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,fn=n,dn=null,!0):!1;default:return!1}}function xp(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Rp(n){if(He){var e=dn;if(e){var t=e;if(!w_(n,e)){if(xp(n))throw Error($(418));e=Ts(t.nextSibling);var r=fn;e&&w_(n,e)?bT(r,t):(n.flags=n.flags&-4097|2,He=!1,fn=n)}}else{if(xp(n))throw Error($(418));n.flags=n.flags&-4097|2,He=!1,fn=n}}}function E_(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;fn=n}function qu(n){if(n!==fn)return!1;if(!He)return E_(n),He=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!kp(n.type,n.memoizedProps)),e&&(e=dn)){if(xp(n))throw xT(),Error($(418));for(;e;)bT(n,e),e=Ts(e.nextSibling)}if(E_(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error($(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){dn=Ts(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}dn=null}}else dn=fn?Ts(n.stateNode.nextSibling):null;return!0}function xT(){for(var n=dn;n;)n=Ts(n.nextSibling)}function xo(){dn=fn=null,He=!1}function eg(n){Nn===null?Nn=[n]:Nn.push(n)}var gP=Yr.ReactCurrentBatchConfig;function ba(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error($(309));var r=t.stateNode}if(!r)throw Error($(147,n));var s=r,i=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof n!="string")throw Error($(284));if(!t._owner)throw Error($(290,n))}return n}function Qu(n,e){throw n=Object.prototype.toString.call(e),Error($(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function T_(n){var e=n._init;return e(n._payload)}function RT(n){function e(w,y){if(n){var T=w.deletions;T===null?(w.deletions=[y],w.flags|=16):T.push(y)}}function t(w,y){if(!n)return null;for(;y!==null;)e(w,y),y=y.sibling;return null}function r(w,y){for(w=new Map;y!==null;)y.key!==null?w.set(y.key,y):w.set(y.index,y),y=y.sibling;return w}function s(w,y){return w=ks(w,y),w.index=0,w.sibling=null,w}function i(w,y,T){return w.index=T,n?(T=w.alternate,T!==null?(T=T.index,T<y?(w.flags|=2,y):T):(w.flags|=2,y)):(w.flags|=1048576,y)}function o(w){return n&&w.alternate===null&&(w.flags|=2),w}function a(w,y,T,A){return y===null||y.tag!==6?(y=kf(T,w.mode,A),y.return=w,y):(y=s(y,T),y.return=w,y)}function l(w,y,T,A){var L=T.type;return L===no?d(w,y,T.props.children,A,T.key):y!==null&&(y.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===as&&T_(L)===y.type)?(A=s(y,T.props),A.ref=ba(w,y,T),A.return=w,A):(A=Sc(T.type,T.key,T.props,null,w.mode,A),A.ref=ba(w,y,T),A.return=w,A)}function c(w,y,T,A){return y===null||y.tag!==4||y.stateNode.containerInfo!==T.containerInfo||y.stateNode.implementation!==T.implementation?(y=Df(T,w.mode,A),y.return=w,y):(y=s(y,T.children||[]),y.return=w,y)}function d(w,y,T,A,L){return y===null||y.tag!==7?(y=mi(T,w.mode,A,L),y.return=w,y):(y=s(y,T),y.return=w,y)}function h(w,y,T){if(typeof y=="string"&&y!==""||typeof y=="number")return y=kf(""+y,w.mode,T),y.return=w,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Vu:return T=Sc(y.type,y.key,y.props,null,w.mode,T),T.ref=ba(w,null,y),T.return=w,T;case to:return y=Df(y,w.mode,T),y.return=w,y;case as:var A=y._init;return h(w,A(y._payload),T)}if(ja(y)||Ca(y))return y=mi(y,w.mode,T,null),y.return=w,y;Qu(w,y)}return null}function p(w,y,T,A){var L=y!==null?y.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return L!==null?null:a(w,y,""+T,A);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Vu:return T.key===L?l(w,y,T,A):null;case to:return T.key===L?c(w,y,T,A):null;case as:return L=T._init,p(w,y,L(T._payload),A)}if(ja(T)||Ca(T))return L!==null?null:d(w,y,T,A,null);Qu(w,T)}return null}function g(w,y,T,A,L){if(typeof A=="string"&&A!==""||typeof A=="number")return w=w.get(T)||null,a(y,w,""+A,L);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Vu:return w=w.get(A.key===null?T:A.key)||null,l(y,w,A,L);case to:return w=w.get(A.key===null?T:A.key)||null,c(y,w,A,L);case as:var M=A._init;return g(w,y,T,M(A._payload),L)}if(ja(A)||Ca(A))return w=w.get(T)||null,d(y,w,A,L,null);Qu(y,A)}return null}function _(w,y,T,A){for(var L=null,M=null,S=y,v=y=0,C=null;S!==null&&v<T.length;v++){S.index>v?(C=S,S=null):C=S.sibling;var P=p(w,S,T[v],A);if(P===null){S===null&&(S=C);break}n&&S&&P.alternate===null&&e(w,S),y=i(P,y,v),M===null?L=P:M.sibling=P,M=P,S=C}if(v===T.length)return t(w,S),He&&ti(w,v),L;if(S===null){for(;v<T.length;v++)S=h(w,T[v],A),S!==null&&(y=i(S,y,v),M===null?L=S:M.sibling=S,M=S);return He&&ti(w,v),L}for(S=r(w,S);v<T.length;v++)C=g(S,w,v,T[v],A),C!==null&&(n&&C.alternate!==null&&S.delete(C.key===null?v:C.key),y=i(C,y,v),M===null?L=C:M.sibling=C,M=C);return n&&S.forEach(function(x){return e(w,x)}),He&&ti(w,v),L}function D(w,y,T,A){var L=Ca(T);if(typeof L!="function")throw Error($(150));if(T=L.call(T),T==null)throw Error($(151));for(var M=L=null,S=y,v=y=0,C=null,P=T.next();S!==null&&!P.done;v++,P=T.next()){S.index>v?(C=S,S=null):C=S.sibling;var x=p(w,S,P.value,A);if(x===null){S===null&&(S=C);break}n&&S&&x.alternate===null&&e(w,S),y=i(x,y,v),M===null?L=x:M.sibling=x,M=x,S=C}if(P.done)return t(w,S),He&&ti(w,v),L;if(S===null){for(;!P.done;v++,P=T.next())P=h(w,P.value,A),P!==null&&(y=i(P,y,v),M===null?L=P:M.sibling=P,M=P);return He&&ti(w,v),L}for(S=r(w,S);!P.done;v++,P=T.next())P=g(S,w,v,P.value,A),P!==null&&(n&&P.alternate!==null&&S.delete(P.key===null?v:P.key),y=i(P,y,v),M===null?L=P:M.sibling=P,M=P);return n&&S.forEach(function(N){return e(w,N)}),He&&ti(w,v),L}function I(w,y,T,A){if(typeof T=="object"&&T!==null&&T.type===no&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Vu:e:{for(var L=T.key,M=y;M!==null;){if(M.key===L){if(L=T.type,L===no){if(M.tag===7){t(w,M.sibling),y=s(M,T.props.children),y.return=w,w=y;break e}}else if(M.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===as&&T_(L)===M.type){t(w,M.sibling),y=s(M,T.props),y.ref=ba(w,M,T),y.return=w,w=y;break e}t(w,M);break}else e(w,M);M=M.sibling}T.type===no?(y=mi(T.props.children,w.mode,A,T.key),y.return=w,w=y):(A=Sc(T.type,T.key,T.props,null,w.mode,A),A.ref=ba(w,y,T),A.return=w,w=A)}return o(w);case to:e:{for(M=T.key;y!==null;){if(y.key===M)if(y.tag===4&&y.stateNode.containerInfo===T.containerInfo&&y.stateNode.implementation===T.implementation){t(w,y.sibling),y=s(y,T.children||[]),y.return=w,w=y;break e}else{t(w,y);break}else e(w,y);y=y.sibling}y=Df(T,w.mode,A),y.return=w,w=y}return o(w);case as:return M=T._init,I(w,y,M(T._payload),A)}if(ja(T))return _(w,y,T,A);if(Ca(T))return D(w,y,T,A);Qu(w,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,y!==null&&y.tag===6?(t(w,y.sibling),y=s(y,T),y.return=w,w=y):(t(w,y),y=kf(T,w.mode,A),y.return=w,w=y),o(w)):t(w,y)}return I}var Ro=RT(!0),AT=RT(!1),Jc=Hs(null),Zc=null,co=null,tg=null;function ng(){tg=co=Zc=null}function rg(n){var e=Jc.current;Ue(Jc),n._currentValue=e}function Ap(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function _o(n,e){Zc=n,tg=co=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(tn=!0),n.firstContext=null)}function Cn(n){var e=n._currentValue;if(tg!==n)if(n={context:n,memoizedValue:e,next:null},co===null){if(Zc===null)throw Error($(308));co=n,Zc.dependencies={lanes:0,firstContext:n}}else co=co.next=n;return e}var ui=null;function sg(n){ui===null?ui=[n]:ui.push(n)}function NT(n,e,t,r){var s=e.interleaved;return s===null?(t.next=t,sg(e)):(t.next=s.next,s.next=t),e.interleaved=t,Fr(n,r)}function Fr(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var ls=!1;function ig(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function MT(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Pr(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Ss(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Ce&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Fr(n,t)}return s=r.interleaved,s===null?(e.next=e,sg(r)):(e.next=s.next,s.next=e),r.interleaved=e,Fr(n,t)}function vc(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,Hm(n,t)}}function S_(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var s=null,i=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};i===null?s=i=o:i=i.next=o,t=t.next}while(t!==null);i===null?s=i=e:i=i.next=e}else s=i=e;t={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function ed(n,e,t,r){var s=n.updateQueue;ls=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=n.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=c=l=null,a=i;do{var p=a.lane,g=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=n,D=a;switch(p=e,g=t,D.tag){case 1:if(_=D.payload,typeof _=="function"){h=_.call(g,h,p);break e}h=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=D.payload,p=typeof _=="function"?_.call(g,h,p):_,p==null)break e;h=Qe({},h,p);break e;case 2:ls=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,l=h):d=d.next=g,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Si|=o,n.lanes=o,n.memoizedState=h}}function C_(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],s=r.callback;if(s!==null){if(r.callback=null,r=t,typeof s!="function")throw Error($(191,s));s.call(r)}}}var Gl={},sr=Hs(Gl),Sl=Hs(Gl),Cl=Hs(Gl);function ci(n){if(n===Gl)throw Error($(174));return n}function og(n,e){switch(Ve(Cl,e),Ve(Sl,n),Ve(sr,Gl),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:hp(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=hp(e,n)}Ue(sr),Ve(sr,e)}function Ao(){Ue(sr),Ue(Sl),Ue(Cl)}function OT(n){ci(Cl.current);var e=ci(sr.current),t=hp(e,n.type);e!==t&&(Ve(Sl,n),Ve(sr,t))}function ag(n){Sl.current===n&&(Ue(sr),Ue(Sl))}var Ye=Hs(0);function td(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var wf=[];function lg(){for(var n=0;n<wf.length;n++)wf[n]._workInProgressVersionPrimary=null;wf.length=0}var yc=Yr.ReactCurrentDispatcher,Ef=Yr.ReactCurrentBatchConfig,Ti=0,qe=null,ft=null,gt=null,nd=!1,nl=!1,Il=0,vP=0;function Nt(){throw Error($(321))}function ug(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Vn(n[t],e[t]))return!1;return!0}function cg(n,e,t,r,s,i){if(Ti=i,qe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,yc.current=n===null||n.memoizedState===null?EP:TP,n=t(r,s),nl){i=0;do{if(nl=!1,Il=0,25<=i)throw Error($(301));i+=1,gt=ft=null,e.updateQueue=null,yc.current=SP,n=t(r,s)}while(nl)}if(yc.current=rd,e=ft!==null&&ft.next!==null,Ti=0,gt=ft=qe=null,nd=!1,e)throw Error($(300));return n}function dg(){var n=Il!==0;return Il=0,n}function Yn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?qe.memoizedState=gt=n:gt=gt.next=n,gt}function In(){if(ft===null){var n=qe.alternate;n=n!==null?n.memoizedState:null}else n=ft.next;var e=gt===null?qe.memoizedState:gt.next;if(e!==null)gt=e,ft=n;else{if(n===null)throw Error($(310));ft=n,n={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},gt===null?qe.memoizedState=gt=n:gt=gt.next=n}return gt}function kl(n,e){return typeof e=="function"?e(n):e}function Tf(n){var e=In(),t=e.queue;if(t===null)throw Error($(311));t.lastRenderedReducer=n;var r=ft,s=r.baseQueue,i=t.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,t.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((Ti&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:n(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,qe.lanes|=d,Si|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Vn(r,e.memoizedState)||(tn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){s=n;do i=s.lane,qe.lanes|=i,Si|=i,s=s.next;while(s!==n)}else s===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function Sf(n){var e=In(),t=e.queue;if(t===null)throw Error($(311));t.lastRenderedReducer=n;var r=t.dispatch,s=t.pending,i=e.memoizedState;if(s!==null){t.pending=null;var o=s=s.next;do i=n(i,o.action),o=o.next;while(o!==s);Vn(i,e.memoizedState)||(tn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),t.lastRenderedState=i}return[i,r]}function LT(){}function VT(n,e){var t=qe,r=In(),s=e(),i=!Vn(r.memoizedState,s);if(i&&(r.memoizedState=s,tn=!0),r=r.queue,hg(BT.bind(null,t,r,n),[n]),r.getSnapshot!==e||i||gt!==null&&gt.memoizedState.tag&1){if(t.flags|=2048,Dl(9,jT.bind(null,t,r,s,e),void 0,null),vt===null)throw Error($(349));Ti&30||FT(t,e,s)}return s}function FT(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=qe.updateQueue,e===null?(e={lastEffect:null,stores:null},qe.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function jT(n,e,t,r){e.value=t,e.getSnapshot=r,UT(e)&&WT(n)}function BT(n,e,t){return t(function(){UT(e)&&WT(n)})}function UT(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Vn(n,t)}catch{return!0}}function WT(n){var e=Fr(n,1);e!==null&&On(e,n,1,-1)}function I_(n){var e=Yn();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:kl,lastRenderedState:n},e.queue=n,n=n.dispatch=wP.bind(null,qe,n),[e.memoizedState,n]}function Dl(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=qe.updateQueue,e===null?(e={lastEffect:null,stores:null},qe.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function $T(){return In().memoizedState}function _c(n,e,t,r){var s=Yn();qe.flags|=n,s.memoizedState=Dl(1|e,t,void 0,r===void 0?null:r)}function Kd(n,e,t,r){var s=In();r=r===void 0?null:r;var i=void 0;if(ft!==null){var o=ft.memoizedState;if(i=o.destroy,r!==null&&ug(r,o.deps)){s.memoizedState=Dl(e,t,i,r);return}}qe.flags|=n,s.memoizedState=Dl(1|e,t,i,r)}function k_(n,e){return _c(8390656,8,n,e)}function hg(n,e){return Kd(2048,8,n,e)}function HT(n,e){return Kd(4,2,n,e)}function YT(n,e){return Kd(4,4,n,e)}function zT(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function qT(n,e,t){return t=t!=null?t.concat([n]):null,Kd(4,4,zT.bind(null,e,n),t)}function fg(){}function QT(n,e){var t=In();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&ug(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function KT(n,e){var t=In();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&ug(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function GT(n,e,t){return Ti&21?(Vn(t,e)||(t=tT(),qe.lanes|=t,Si|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,tn=!0),n.memoizedState=t)}function yP(n,e){var t=Ne;Ne=t!==0&&4>t?t:4,n(!0);var r=Ef.transition;Ef.transition={};try{n(!1),e()}finally{Ne=t,Ef.transition=r}}function XT(){return In().memoizedState}function _P(n,e,t){var r=Is(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},JT(n))ZT(e,t);else if(t=NT(n,e,t,r),t!==null){var s=Qt();On(t,n,r,s),eS(t,e,r)}}function wP(n,e,t){var r=Is(n),s={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(JT(n))ZT(e,s);else{var i=n.alternate;if(n.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,t);if(s.hasEagerState=!0,s.eagerState=a,Vn(a,o)){var l=e.interleaved;l===null?(s.next=s,sg(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}t=NT(n,e,s,r),t!==null&&(s=Qt(),On(t,n,r,s),eS(t,e,r))}}function JT(n){var e=n.alternate;return n===qe||e!==null&&e===qe}function ZT(n,e){nl=nd=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function eS(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,Hm(n,t)}}var rd={readContext:Cn,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useInsertionEffect:Nt,useLayoutEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useMutableSource:Nt,useSyncExternalStore:Nt,useId:Nt,unstable_isNewReconciler:!1},EP={readContext:Cn,useCallback:function(n,e){return Yn().memoizedState=[n,e===void 0?null:e],n},useContext:Cn,useEffect:k_,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,_c(4194308,4,zT.bind(null,e,n),t)},useLayoutEffect:function(n,e){return _c(4194308,4,n,e)},useInsertionEffect:function(n,e){return _c(4,2,n,e)},useMemo:function(n,e){var t=Yn();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=Yn();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=_P.bind(null,qe,n),[r.memoizedState,n]},useRef:function(n){var e=Yn();return n={current:n},e.memoizedState=n},useState:I_,useDebugValue:fg,useDeferredValue:function(n){return Yn().memoizedState=n},useTransition:function(){var n=I_(!1),e=n[0];return n=yP.bind(null,n[1]),Yn().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=qe,s=Yn();if(He){if(t===void 0)throw Error($(407));t=t()}else{if(t=e(),vt===null)throw Error($(349));Ti&30||FT(r,e,t)}s.memoizedState=t;var i={value:t,getSnapshot:e};return s.queue=i,k_(BT.bind(null,r,i,n),[n]),r.flags|=2048,Dl(9,jT.bind(null,r,i,t,e),void 0,null),t},useId:function(){var n=Yn(),e=vt.identifierPrefix;if(He){var t=Sr,r=Tr;t=(r&~(1<<32-Mn(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=Il++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=vP++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},TP={readContext:Cn,useCallback:QT,useContext:Cn,useEffect:hg,useImperativeHandle:qT,useInsertionEffect:HT,useLayoutEffect:YT,useMemo:KT,useReducer:Tf,useRef:$T,useState:function(){return Tf(kl)},useDebugValue:fg,useDeferredValue:function(n){var e=In();return GT(e,ft.memoizedState,n)},useTransition:function(){var n=Tf(kl)[0],e=In().memoizedState;return[n,e]},useMutableSource:LT,useSyncExternalStore:VT,useId:XT,unstable_isNewReconciler:!1},SP={readContext:Cn,useCallback:QT,useContext:Cn,useEffect:hg,useImperativeHandle:qT,useInsertionEffect:HT,useLayoutEffect:YT,useMemo:KT,useReducer:Sf,useRef:$T,useState:function(){return Sf(kl)},useDebugValue:fg,useDeferredValue:function(n){var e=In();return ft===null?e.memoizedState=n:GT(e,ft.memoizedState,n)},useTransition:function(){var n=Sf(kl)[0],e=In().memoizedState;return[n,e]},useMutableSource:LT,useSyncExternalStore:VT,useId:XT,unstable_isNewReconciler:!1};function Rn(n,e){if(n&&n.defaultProps){e=Qe({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function Np(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:Qe({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var Gd={isMounted:function(n){return(n=n._reactInternals)?Li(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=Qt(),s=Is(n),i=Pr(r,s);i.payload=e,t!=null&&(i.callback=t),e=Ss(n,i,s),e!==null&&(On(e,n,s,r),vc(e,n,s))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=Qt(),s=Is(n),i=Pr(r,s);i.tag=1,i.payload=e,t!=null&&(i.callback=t),e=Ss(n,i,s),e!==null&&(On(e,n,s,r),vc(e,n,s))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Qt(),r=Is(n),s=Pr(t,r);s.tag=2,e!=null&&(s.callback=e),e=Ss(n,s,r),e!==null&&(On(e,n,r,t),vc(e,n,r))}};function D_(n,e,t,r,s,i,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!_l(t,r)||!_l(s,i):!0}function tS(n,e,t){var r=!1,s=Ls,i=e.contextType;return typeof i=="object"&&i!==null?i=Cn(i):(s=rn(e)?wi:Ut.current,r=e.contextTypes,i=(r=r!=null)?bo(n,s):Ls),e=new e(t,i),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Gd,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=i),e}function P_(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&Gd.enqueueReplaceState(e,e.state,null)}function Mp(n,e,t,r){var s=n.stateNode;s.props=t,s.state=n.memoizedState,s.refs={},ig(n);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Cn(i):(i=rn(e)?wi:Ut.current,s.context=bo(n,i)),s.state=n.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Np(n,e,i,t),s.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Gd.enqueueReplaceState(s,s.state,null),ed(n,t,s,r),s.state=n.memoizedState),typeof s.componentDidMount=="function"&&(n.flags|=4194308)}function No(n,e){try{var t="",r=e;do t+=Xk(r),r=r.return;while(r);var s=t}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:n,source:e,stack:s,digest:null}}function Cf(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function Op(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var CP=typeof WeakMap=="function"?WeakMap:Map;function nS(n,e,t){t=Pr(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){id||(id=!0,Yp=r),Op(n,e)},t}function rS(n,e,t){t=Pr(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;t.payload=function(){return r(s)},t.callback=function(){Op(n,e)}}var i=n.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(t.callback=function(){Op(n,e),typeof r!="function"&&(Cs===null?Cs=new Set([this]):Cs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function b_(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new CP;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(t)||(s.add(t),n=FP.bind(null,n,e,t),e.then(n,n))}function x_(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function R_(n,e,t,r,s){return n.mode&1?(n.flags|=65536,n.lanes=s,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Pr(-1,1),e.tag=2,Ss(t,e,1))),t.lanes|=1),n)}var IP=Yr.ReactCurrentOwner,tn=!1;function Yt(n,e,t,r){e.child=n===null?AT(e,null,t,r):Ro(e,n.child,t,r)}function A_(n,e,t,r,s){t=t.render;var i=e.ref;return _o(e,s),r=cg(n,e,t,r,i,s),t=dg(),n!==null&&!tn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~s,jr(n,e,s)):(He&&t&&Jm(e),e.flags|=1,Yt(n,e,r,s),e.child)}function N_(n,e,t,r,s){if(n===null){var i=t.type;return typeof i=="function"&&!Eg(i)&&i.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=i,sS(n,e,i,r,s)):(n=Sc(t.type,null,r,e,e.mode,s),n.ref=e.ref,n.return=e,e.child=n)}if(i=n.child,!(n.lanes&s)){var o=i.memoizedProps;if(t=t.compare,t=t!==null?t:_l,t(o,r)&&n.ref===e.ref)return jr(n,e,s)}return e.flags|=1,n=ks(i,r),n.ref=e.ref,n.return=e,e.child=n}function sS(n,e,t,r,s){if(n!==null){var i=n.memoizedProps;if(_l(i,r)&&n.ref===e.ref)if(tn=!1,e.pendingProps=r=i,(n.lanes&s)!==0)n.flags&131072&&(tn=!0);else return e.lanes=n.lanes,jr(n,e,s)}return Lp(n,e,t,r,s)}function iS(n,e,t){var r=e.pendingProps,s=r.children,i=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(fo,ln),ln|=t;else{if(!(t&1073741824))return n=i!==null?i.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Ve(fo,ln),ln|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:t,Ve(fo,ln),ln|=r}else i!==null?(r=i.baseLanes|t,e.memoizedState=null):r=t,Ve(fo,ln),ln|=r;return Yt(n,e,s,t),e.child}function oS(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function Lp(n,e,t,r,s){var i=rn(t)?wi:Ut.current;return i=bo(e,i),_o(e,s),t=cg(n,e,t,r,i,s),r=dg(),n!==null&&!tn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~s,jr(n,e,s)):(He&&r&&Jm(e),e.flags|=1,Yt(n,e,t,s),e.child)}function M_(n,e,t,r,s){if(rn(t)){var i=!0;Kc(e)}else i=!1;if(_o(e,s),e.stateNode===null)wc(n,e),tS(e,t,r),Mp(e,t,r,s),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=Cn(c):(c=rn(t)?wi:Ut.current,c=bo(e,c));var d=t.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&P_(e,o,r,c),ls=!1;var p=e.memoizedState;o.state=p,ed(e,r,o,s),l=e.memoizedState,a!==r||p!==l||nn.current||ls?(typeof d=="function"&&(Np(e,t,d,r),l=e.memoizedState),(a=ls||D_(e,t,a,r,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,MT(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:Rn(e.type,a),o.props=c,h=e.pendingProps,p=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=Cn(l):(l=rn(t)?wi:Ut.current,l=bo(e,l));var g=t.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&P_(e,o,r,l),ls=!1,p=e.memoizedState,o.state=p,ed(e,r,o,s);var _=e.memoizedState;a!==h||p!==_||nn.current||ls?(typeof g=="function"&&(Np(e,t,g,r),_=e.memoizedState),(c=ls||D_(e,t,c,r,p,_,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),r=!1)}return Vp(n,e,t,r,i,s)}function Vp(n,e,t,r,s,i){oS(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&__(e,t,!1),jr(n,e,i);r=e.stateNode,IP.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=Ro(e,n.child,null,i),e.child=Ro(e,null,a,i)):Yt(n,e,a,i),e.memoizedState=r.state,s&&__(e,t,!0),e.child}function aS(n){var e=n.stateNode;e.pendingContext?y_(n,e.pendingContext,e.pendingContext!==e.context):e.context&&y_(n,e.context,!1),og(n,e.containerInfo)}function O_(n,e,t,r,s){return xo(),eg(s),e.flags|=256,Yt(n,e,t,r),e.child}var Fp={dehydrated:null,treeContext:null,retryLane:0};function jp(n){return{baseLanes:n,cachePool:null,transitions:null}}function lS(n,e,t){var r=e.pendingProps,s=Ye.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(s|=1),Ve(Ye,s&1),n===null)return Rp(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Zd(o,r,0,null),n=mi(n,r,t,null),i.return=e,n.return=e,i.sibling=n,e.child=i,e.child.memoizedState=jp(t),e.memoizedState=Fp,n):pg(e,o));if(s=n.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return kP(n,e,o,r,a,s,t);if(i){i=r.fallback,o=e.mode,s=n.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ks(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=ks(a,i):(i=mi(i,o,t,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=n.child.memoizedState,o=o===null?jp(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=n.childLanes&~t,e.memoizedState=Fp,r}return i=n.child,n=i.sibling,r=ks(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function pg(n,e){return e=Zd({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Ku(n,e,t,r){return r!==null&&eg(r),Ro(e,n.child,null,t),n=pg(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function kP(n,e,t,r,s,i,o){if(t)return e.flags&256?(e.flags&=-257,r=Cf(Error($(422))),Ku(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Zd({mode:"visible",children:r.children},s,0,null),i=mi(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ro(e,n.child,null,o),e.child.memoizedState=jp(o),e.memoizedState=Fp,i);if(!(e.mode&1))return Ku(n,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error($(419)),r=Cf(i,r,void 0),Ku(n,e,o,r)}if(a=(o&n.childLanes)!==0,tn||a){if(r=vt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Fr(n,s),On(r,n,s,-1))}return wg(),r=Cf(Error($(421))),Ku(n,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=n.child,e=jP.bind(null,n),s._reactRetry=e,null):(n=i.treeContext,dn=Ts(s.nextSibling),fn=e,He=!0,Nn=null,n!==null&&(_n[wn++]=Tr,_n[wn++]=Sr,_n[wn++]=Ei,Tr=n.id,Sr=n.overflow,Ei=e),e=pg(e,r.children),e.flags|=4096,e)}function L_(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),Ap(n.return,e,t)}function If(n,e,t,r,s){var i=n.memoizedState;i===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=t,i.tailMode=s)}function uS(n,e,t){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Yt(n,e,r.children,t),r=Ye.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&L_(n,t,e);else if(n.tag===19)L_(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Ve(Ye,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(t=e.child,s=null;t!==null;)n=t.alternate,n!==null&&td(n)===null&&(s=t),t=t.sibling;t=s,t===null?(s=e.child,e.child=null):(s=t.sibling,t.sibling=null),If(e,!1,s,t,i);break;case"backwards":for(t=null,s=e.child,e.child=null;s!==null;){if(n=s.alternate,n!==null&&td(n)===null){e.child=s;break}n=s.sibling,s.sibling=t,t=s,s=n}If(e,!0,t,null,i);break;case"together":If(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function wc(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function jr(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Si|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error($(153));if(e.child!==null){for(n=e.child,t=ks(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=ks(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function DP(n,e,t){switch(e.tag){case 3:aS(e),xo();break;case 5:OT(e);break;case 1:rn(e.type)&&Kc(e);break;case 4:og(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ve(Jc,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ve(Ye,Ye.current&1),e.flags|=128,null):t&e.child.childLanes?lS(n,e,t):(Ve(Ye,Ye.current&1),n=jr(n,e,t),n!==null?n.sibling:null);Ve(Ye,Ye.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return uS(n,e,t);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ve(Ye,Ye.current),r)break;return null;case 22:case 23:return e.lanes=0,iS(n,e,t)}return jr(n,e,t)}var cS,Bp,dS,hS;cS=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};Bp=function(){};dS=function(n,e,t,r){var s=n.memoizedProps;if(s!==r){n=e.stateNode,ci(sr.current);var i=null;switch(t){case"input":s=lp(n,s),r=lp(n,r),i=[];break;case"select":s=Qe({},s,{value:void 0}),r=Qe({},r,{value:void 0}),i=[];break;case"textarea":s=dp(n,s),r=dp(n,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=qc)}fp(t,r);var o;t=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(hl.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(i||(i=[]),i.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(hl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&je("scroll",n),i||a===l||(i=[])):(i=i||[]).push(c,l))}t&&(i=i||[]).push("style",t);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};hS=function(n,e,t,r){t!==r&&(e.flags|=4)};function xa(n,e){if(!He)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Mt(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var s=n.child;s!==null;)t|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=n,s=s.sibling;else for(s=n.child;s!==null;)t|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=n,s=s.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function PP(n,e,t){var r=e.pendingProps;switch(Zm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(e),null;case 1:return rn(e.type)&&Qc(),Mt(e),null;case 3:return r=e.stateNode,Ao(),Ue(nn),Ue(Ut),lg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(qu(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Nn!==null&&(Qp(Nn),Nn=null))),Bp(n,e),Mt(e),null;case 5:ag(e);var s=ci(Cl.current);if(t=e.type,n!==null&&e.stateNode!=null)dS(n,e,t,r,s),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error($(166));return Mt(e),null}if(n=ci(sr.current),qu(e)){r=e.stateNode,t=e.type;var i=e.memoizedProps;switch(r[Qn]=e,r[Tl]=i,n=(e.mode&1)!==0,t){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(s=0;s<Ua.length;s++)je(Ua[s],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":Yy(r,i),je("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},je("invalid",r);break;case"textarea":qy(r,i),je("invalid",r)}fp(t,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&zu(r.textContent,a,n),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&zu(r.textContent,a,n),s=["children",""+a]):hl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&je("scroll",r)}switch(t){case"input":Fu(r),zy(r,i,!0);break;case"textarea":Fu(r),Qy(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=qc)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=BE(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[Qn]=e,n[Tl]=r,cS(n,e,!1,!1),e.stateNode=n;e:{switch(o=pp(t,r),t){case"dialog":je("cancel",n),je("close",n),s=r;break;case"iframe":case"object":case"embed":je("load",n),s=r;break;case"video":case"audio":for(s=0;s<Ua.length;s++)je(Ua[s],n);s=r;break;case"source":je("error",n),s=r;break;case"img":case"image":case"link":je("error",n),je("load",n),s=r;break;case"details":je("toggle",n),s=r;break;case"input":Yy(n,r),s=lp(n,r),je("invalid",n);break;case"option":s=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},s=Qe({},r,{value:void 0}),je("invalid",n);break;case"textarea":qy(n,r),s=dp(n,r),je("invalid",n);break;default:s=r}fp(t,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?$E(n,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&UE(n,l)):i==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&fl(n,l):typeof l=="number"&&fl(n,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(hl.hasOwnProperty(i)?l!=null&&i==="onScroll"&&je("scroll",n):l!=null&&Fm(n,i,l,o))}switch(t){case"input":Fu(n),zy(n,r,!1);break;case"textarea":Fu(n),Qy(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Os(r.value));break;case"select":n.multiple=!!r.multiple,i=r.value,i!=null?mo(n,!!r.multiple,i,!1):r.defaultValue!=null&&mo(n,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(n.onclick=qc)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Mt(e),null;case 6:if(n&&e.stateNode!=null)hS(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error($(166));if(t=ci(Cl.current),ci(sr.current),qu(e)){if(r=e.stateNode,t=e.memoizedProps,r[Qn]=e,(i=r.nodeValue!==t)&&(n=fn,n!==null))switch(n.tag){case 3:zu(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&zu(r.nodeValue,t,(n.mode&1)!==0)}i&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Qn]=e,e.stateNode=r}return Mt(e),null;case 13:if(Ue(Ye),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(He&&dn!==null&&e.mode&1&&!(e.flags&128))xT(),xo(),e.flags|=98560,i=!1;else if(i=qu(e),r!==null&&r.dehydrated!==null){if(n===null){if(!i)throw Error($(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error($(317));i[Qn]=e}else xo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Mt(e),i=!1}else Nn!==null&&(Qp(Nn),Nn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||Ye.current&1?pt===0&&(pt=3):wg())),e.updateQueue!==null&&(e.flags|=4),Mt(e),null);case 4:return Ao(),Bp(n,e),n===null&&wl(e.stateNode.containerInfo),Mt(e),null;case 10:return rg(e.type._context),Mt(e),null;case 17:return rn(e.type)&&Qc(),Mt(e),null;case 19:if(Ue(Ye),i=e.memoizedState,i===null)return Mt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)xa(i,!1);else{if(pt!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=td(n),o!==null){for(e.flags|=128,xa(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)i=t,n=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=n,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,n=o.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Ve(Ye,Ye.current&1|2),e.child}n=n.sibling}i.tail!==null&&nt()>Mo&&(e.flags|=128,r=!0,xa(i,!1),e.lanes=4194304)}else{if(!r)if(n=td(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),xa(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!He)return Mt(e),null}else 2*nt()-i.renderingStartTime>Mo&&t!==1073741824&&(e.flags|=128,r=!0,xa(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(t=i.last,t!==null?t.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=nt(),e.sibling=null,t=Ye.current,Ve(Ye,r?t&1|2:t&1),e):(Mt(e),null);case 22:case 23:return _g(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ln&1073741824&&(Mt(e),e.subtreeFlags&6&&(e.flags|=8192)):Mt(e),null;case 24:return null;case 25:return null}throw Error($(156,e.tag))}function bP(n,e){switch(Zm(e),e.tag){case 1:return rn(e.type)&&Qc(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Ao(),Ue(nn),Ue(Ut),lg(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return ag(e),null;case 13:if(Ue(Ye),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error($(340));xo()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Ue(Ye),null;case 4:return Ao(),null;case 10:return rg(e.type._context),null;case 22:case 23:return _g(),null;case 24:return null;default:return null}}var Gu=!1,Vt=!1,xP=typeof WeakSet=="function"?WeakSet:Set,G=null;function ho(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){Ze(n,e,r)}else t.current=null}function Up(n,e,t){try{t()}catch(r){Ze(n,e,r)}}var V_=!1;function RP(n,e){if(Cp=Hc,n=vT(),Xm(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{t.nodeType,i.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=n,p=null;t:for(;;){for(var g;h!==t||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)p=h,h=g;for(;;){if(h===n)break t;if(p===t&&++c===s&&(a=o),p===i&&++d===r&&(l=o),(g=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=g}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(Ip={focusedElem:n,selectionRange:t},Hc=!1,G=e;G!==null;)if(e=G,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,G=n;else for(;G!==null;){e=G;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var D=_.memoizedProps,I=_.memoizedState,w=e.stateNode,y=w.getSnapshotBeforeUpdate(e.elementType===e.type?D:Rn(e.type,D),I);w.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(A){Ze(e,e.return,A)}if(n=e.sibling,n!==null){n.return=e.return,G=n;break}G=e.return}return _=V_,V_=!1,_}function rl(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&n)===n){var i=s.destroy;s.destroy=void 0,i!==void 0&&Up(e,t,i)}s=s.next}while(s!==r)}}function Xd(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function Wp(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function fS(n){var e=n.alternate;e!==null&&(n.alternate=null,fS(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Qn],delete e[Tl],delete e[Pp],delete e[fP],delete e[pP])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function pS(n){return n.tag===5||n.tag===3||n.tag===4}function F_(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||pS(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function $p(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=qc));else if(r!==4&&(n=n.child,n!==null))for($p(n,e,t),n=n.sibling;n!==null;)$p(n,e,t),n=n.sibling}function Hp(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(Hp(n,e,t),n=n.sibling;n!==null;)Hp(n,e,t),n=n.sibling}var wt=null,An=!1;function ns(n,e,t){for(t=t.child;t!==null;)mS(n,e,t),t=t.sibling}function mS(n,e,t){if(rr&&typeof rr.onCommitFiberUnmount=="function")try{rr.onCommitFiberUnmount($d,t)}catch{}switch(t.tag){case 5:Vt||ho(t,e);case 6:var r=wt,s=An;wt=null,ns(n,e,t),wt=r,An=s,wt!==null&&(An?(n=wt,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):wt.removeChild(t.stateNode));break;case 18:wt!==null&&(An?(n=wt,t=t.stateNode,n.nodeType===8?yf(n.parentNode,t):n.nodeType===1&&yf(n,t),vl(n)):yf(wt,t.stateNode));break;case 4:r=wt,s=An,wt=t.stateNode.containerInfo,An=!0,ns(n,e,t),wt=r,An=s;break;case 0:case 11:case 14:case 15:if(!Vt&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Up(t,e,o),s=s.next}while(s!==r)}ns(n,e,t);break;case 1:if(!Vt&&(ho(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){Ze(t,e,a)}ns(n,e,t);break;case 21:ns(n,e,t);break;case 22:t.mode&1?(Vt=(r=Vt)||t.memoizedState!==null,ns(n,e,t),Vt=r):ns(n,e,t);break;default:ns(n,e,t)}}function j_(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new xP),e.forEach(function(r){var s=BP.bind(null,n,r);t.has(r)||(t.add(r),r.then(s,s))})}}function bn(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var s=t[r];try{var i=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:wt=a.stateNode,An=!1;break e;case 3:wt=a.stateNode.containerInfo,An=!0;break e;case 4:wt=a.stateNode.containerInfo,An=!0;break e}a=a.return}if(wt===null)throw Error($(160));mS(i,o,s),wt=null,An=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Ze(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)gS(e,n),e=e.sibling}function gS(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(bn(e,n),Wn(n),r&4){try{rl(3,n,n.return),Xd(3,n)}catch(D){Ze(n,n.return,D)}try{rl(5,n,n.return)}catch(D){Ze(n,n.return,D)}}break;case 1:bn(e,n),Wn(n),r&512&&t!==null&&ho(t,t.return);break;case 5:if(bn(e,n),Wn(n),r&512&&t!==null&&ho(t,t.return),n.flags&32){var s=n.stateNode;try{fl(s,"")}catch(D){Ze(n,n.return,D)}}if(r&4&&(s=n.stateNode,s!=null)){var i=n.memoizedProps,o=t!==null?t.memoizedProps:i,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&FE(s,i),pp(a,o);var c=pp(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?$E(s,h):d==="dangerouslySetInnerHTML"?UE(s,h):d==="children"?fl(s,h):Fm(s,d,h,c)}switch(a){case"input":up(s,i);break;case"textarea":jE(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?mo(s,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?mo(s,!!i.multiple,i.defaultValue,!0):mo(s,!!i.multiple,i.multiple?[]:"",!1))}s[Tl]=i}catch(D){Ze(n,n.return,D)}}break;case 6:if(bn(e,n),Wn(n),r&4){if(n.stateNode===null)throw Error($(162));s=n.stateNode,i=n.memoizedProps;try{s.nodeValue=i}catch(D){Ze(n,n.return,D)}}break;case 3:if(bn(e,n),Wn(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{vl(e.containerInfo)}catch(D){Ze(n,n.return,D)}break;case 4:bn(e,n),Wn(n);break;case 13:bn(e,n),Wn(n),s=n.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(vg=nt())),r&4&&j_(n);break;case 22:if(d=t!==null&&t.memoizedState!==null,n.mode&1?(Vt=(c=Vt)||d,bn(e,n),Vt=c):bn(e,n),Wn(n),r&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!d&&n.mode&1)for(G=n,d=n.child;d!==null;){for(h=G=d;G!==null;){switch(p=G,g=p.child,p.tag){case 0:case 11:case 14:case 15:rl(4,p,p.return);break;case 1:ho(p,p.return);var _=p.stateNode;if(typeof _.componentWillUnmount=="function"){r=p,t=p.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(D){Ze(r,t,D)}}break;case 5:ho(p,p.return);break;case 22:if(p.memoizedState!==null){U_(h);continue}}g!==null?(g.return=p,G=g):U_(h)}d=d.sibling}e:for(d=null,h=n;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=WE("display",o))}catch(D){Ze(n,n.return,D)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(D){Ze(n,n.return,D)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:bn(e,n),Wn(n),r&4&&j_(n);break;case 21:break;default:bn(e,n),Wn(n)}}function Wn(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(pS(t)){var r=t;break e}t=t.return}throw Error($(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(fl(s,""),r.flags&=-33);var i=F_(n);Hp(n,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=F_(n);$p(n,a,o);break;default:throw Error($(161))}}catch(l){Ze(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function AP(n,e,t){G=n,vS(n)}function vS(n,e,t){for(var r=(n.mode&1)!==0;G!==null;){var s=G,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Gu;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Vt;a=Gu;var c=Vt;if(Gu=o,(Vt=l)&&!c)for(G=s;G!==null;)o=G,l=o.child,o.tag===22&&o.memoizedState!==null?W_(s):l!==null?(l.return=o,G=l):W_(s);for(;i!==null;)G=i,vS(i),i=i.sibling;G=s,Gu=a,Vt=c}B_(n)}else s.subtreeFlags&8772&&i!==null?(i.return=s,G=i):B_(n)}}function B_(n){for(;G!==null;){var e=G;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Vt||Xd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Vt)if(t===null)r.componentDidMount();else{var s=e.elementType===e.type?t.memoizedProps:Rn(e.type,t.memoizedProps);r.componentDidUpdate(s,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&C_(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}C_(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&vl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}Vt||e.flags&512&&Wp(e)}catch(p){Ze(e,e.return,p)}}if(e===n){G=null;break}if(t=e.sibling,t!==null){t.return=e.return,G=t;break}G=e.return}}function U_(n){for(;G!==null;){var e=G;if(e===n){G=null;break}var t=e.sibling;if(t!==null){t.return=e.return,G=t;break}G=e.return}}function W_(n){for(;G!==null;){var e=G;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{Xd(4,e)}catch(l){Ze(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Ze(e,s,l)}}var i=e.return;try{Wp(e)}catch(l){Ze(e,i,l)}break;case 5:var o=e.return;try{Wp(e)}catch(l){Ze(e,o,l)}}}catch(l){Ze(e,e.return,l)}if(e===n){G=null;break}var a=e.sibling;if(a!==null){a.return=e.return,G=a;break}G=e.return}}var NP=Math.ceil,sd=Yr.ReactCurrentDispatcher,mg=Yr.ReactCurrentOwner,Sn=Yr.ReactCurrentBatchConfig,Ce=0,vt=null,ut=null,It=0,ln=0,fo=Hs(0),pt=0,Pl=null,Si=0,Jd=0,gg=0,sl=null,Zt=null,vg=0,Mo=1/0,wr=null,id=!1,Yp=null,Cs=null,Xu=!1,gs=null,od=0,il=0,zp=null,Ec=-1,Tc=0;function Qt(){return Ce&6?nt():Ec!==-1?Ec:Ec=nt()}function Is(n){return n.mode&1?Ce&2&&It!==0?It&-It:gP.transition!==null?(Tc===0&&(Tc=tT()),Tc):(n=Ne,n!==0||(n=window.event,n=n===void 0?16:lT(n.type)),n):1}function On(n,e,t,r){if(50<il)throw il=0,zp=null,Error($(185));ql(n,t,r),(!(Ce&2)||n!==vt)&&(n===vt&&(!(Ce&2)&&(Jd|=t),pt===4&&cs(n,It)),sn(n,r),t===1&&Ce===0&&!(e.mode&1)&&(Mo=nt()+500,Qd&&Ys()))}function sn(n,e){var t=n.callbackNode;gD(n,e);var r=$c(n,n===vt?It:0);if(r===0)t!==null&&Xy(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&Xy(t),e===1)n.tag===0?mP($_.bind(null,n)):DT($_.bind(null,n)),dP(function(){!(Ce&6)&&Ys()}),t=null;else{switch(nT(r)){case 1:t=$m;break;case 4:t=ZE;break;case 16:t=Wc;break;case 536870912:t=eT;break;default:t=Wc}t=IS(t,yS.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function yS(n,e){if(Ec=-1,Tc=0,Ce&6)throw Error($(327));var t=n.callbackNode;if(wo()&&n.callbackNode!==t)return null;var r=$c(n,n===vt?It:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=ad(n,r);else{e=r;var s=Ce;Ce|=2;var i=wS();(vt!==n||It!==e)&&(wr=null,Mo=nt()+500,pi(n,e));do try{LP();break}catch(a){_S(n,a)}while(!0);ng(),sd.current=i,Ce=s,ut!==null?e=0:(vt=null,It=0,e=pt)}if(e!==0){if(e===2&&(s=_p(n),s!==0&&(r=s,e=qp(n,s))),e===1)throw t=Pl,pi(n,0),cs(n,r),sn(n,nt()),t;if(e===6)cs(n,r);else{if(s=n.current.alternate,!(r&30)&&!MP(s)&&(e=ad(n,r),e===2&&(i=_p(n),i!==0&&(r=i,e=qp(n,i))),e===1))throw t=Pl,pi(n,0),cs(n,r),sn(n,nt()),t;switch(n.finishedWork=s,n.finishedLanes=r,e){case 0:case 1:throw Error($(345));case 2:ni(n,Zt,wr);break;case 3:if(cs(n,r),(r&130023424)===r&&(e=vg+500-nt(),10<e)){if($c(n,0)!==0)break;if(s=n.suspendedLanes,(s&r)!==r){Qt(),n.pingedLanes|=n.suspendedLanes&s;break}n.timeoutHandle=Dp(ni.bind(null,n,Zt,wr),e);break}ni(n,Zt,wr);break;case 4:if(cs(n,r),(r&4194240)===r)break;for(e=n.eventTimes,s=-1;0<r;){var o=31-Mn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=nt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*NP(r/1960))-r,10<r){n.timeoutHandle=Dp(ni.bind(null,n,Zt,wr),r);break}ni(n,Zt,wr);break;case 5:ni(n,Zt,wr);break;default:throw Error($(329))}}}return sn(n,nt()),n.callbackNode===t?yS.bind(null,n):null}function qp(n,e){var t=sl;return n.current.memoizedState.isDehydrated&&(pi(n,e).flags|=256),n=ad(n,e),n!==2&&(e=Zt,Zt=t,e!==null&&Qp(e)),n}function Qp(n){Zt===null?Zt=n:Zt.push.apply(Zt,n)}function MP(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var s=t[r],i=s.getSnapshot;s=s.value;try{if(!Vn(i(),s))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function cs(n,e){for(e&=~gg,e&=~Jd,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Mn(e),r=1<<t;n[t]=-1,e&=~r}}function $_(n){if(Ce&6)throw Error($(327));wo();var e=$c(n,0);if(!(e&1))return sn(n,nt()),null;var t=ad(n,e);if(n.tag!==0&&t===2){var r=_p(n);r!==0&&(e=r,t=qp(n,r))}if(t===1)throw t=Pl,pi(n,0),cs(n,e),sn(n,nt()),t;if(t===6)throw Error($(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,ni(n,Zt,wr),sn(n,nt()),null}function yg(n,e){var t=Ce;Ce|=1;try{return n(e)}finally{Ce=t,Ce===0&&(Mo=nt()+500,Qd&&Ys())}}function Ci(n){gs!==null&&gs.tag===0&&!(Ce&6)&&wo();var e=Ce;Ce|=1;var t=Sn.transition,r=Ne;try{if(Sn.transition=null,Ne=1,n)return n()}finally{Ne=r,Sn.transition=t,Ce=e,!(Ce&6)&&Ys()}}function _g(){ln=fo.current,Ue(fo)}function pi(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,cP(t)),ut!==null)for(t=ut.return;t!==null;){var r=t;switch(Zm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Qc();break;case 3:Ao(),Ue(nn),Ue(Ut),lg();break;case 5:ag(r);break;case 4:Ao();break;case 13:Ue(Ye);break;case 19:Ue(Ye);break;case 10:rg(r.type._context);break;case 22:case 23:_g()}t=t.return}if(vt=n,ut=n=ks(n.current,null),It=ln=e,pt=0,Pl=null,gg=Jd=Si=0,Zt=sl=null,ui!==null){for(e=0;e<ui.length;e++)if(t=ui[e],r=t.interleaved,r!==null){t.interleaved=null;var s=r.next,i=t.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}t.pending=r}ui=null}return n}function _S(n,e){do{var t=ut;try{if(ng(),yc.current=rd,nd){for(var r=qe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}nd=!1}if(Ti=0,gt=ft=qe=null,nl=!1,Il=0,mg.current=null,t===null||t.return===null){pt=1,Pl=e,ut=null;break}e:{var i=n,o=t.return,a=t,l=e;if(e=It,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=x_(o);if(g!==null){g.flags&=-257,R_(g,o,a,i,e),g.mode&1&&b_(i,c,e),e=g,l=c;var _=e.updateQueue;if(_===null){var D=new Set;D.add(l),e.updateQueue=D}else _.add(l);break e}else{if(!(e&1)){b_(i,c,e),wg();break e}l=Error($(426))}}else if(He&&a.mode&1){var I=x_(o);if(I!==null){!(I.flags&65536)&&(I.flags|=256),R_(I,o,a,i,e),eg(No(l,a));break e}}i=l=No(l,a),pt!==4&&(pt=2),sl===null?sl=[i]:sl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=nS(i,l,e);S_(i,w);break e;case 1:a=l;var y=i.type,T=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Cs===null||!Cs.has(T)))){i.flags|=65536,e&=-e,i.lanes|=e;var A=rS(i,a,e);S_(i,A);break e}}i=i.return}while(i!==null)}TS(t)}catch(L){e=L,ut===t&&t!==null&&(ut=t=t.return);continue}break}while(!0)}function wS(){var n=sd.current;return sd.current=rd,n===null?rd:n}function wg(){(pt===0||pt===3||pt===2)&&(pt=4),vt===null||!(Si&268435455)&&!(Jd&268435455)||cs(vt,It)}function ad(n,e){var t=Ce;Ce|=2;var r=wS();(vt!==n||It!==e)&&(wr=null,pi(n,e));do try{OP();break}catch(s){_S(n,s)}while(!0);if(ng(),Ce=t,sd.current=r,ut!==null)throw Error($(261));return vt=null,It=0,pt}function OP(){for(;ut!==null;)ES(ut)}function LP(){for(;ut!==null&&!aD();)ES(ut)}function ES(n){var e=CS(n.alternate,n,ln);n.memoizedProps=n.pendingProps,e===null?TS(n):ut=e,mg.current=null}function TS(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=bP(t,e),t!==null){t.flags&=32767,ut=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{pt=6,ut=null;return}}else if(t=PP(t,e,ln),t!==null){ut=t;return}if(e=e.sibling,e!==null){ut=e;return}ut=e=n}while(e!==null);pt===0&&(pt=5)}function ni(n,e,t){var r=Ne,s=Sn.transition;try{Sn.transition=null,Ne=1,VP(n,e,t,r)}finally{Sn.transition=s,Ne=r}return null}function VP(n,e,t,r){do wo();while(gs!==null);if(Ce&6)throw Error($(327));t=n.finishedWork;var s=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error($(177));n.callbackNode=null,n.callbackPriority=0;var i=t.lanes|t.childLanes;if(vD(n,i),n===vt&&(ut=vt=null,It=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Xu||(Xu=!0,IS(Wc,function(){return wo(),null})),i=(t.flags&15990)!==0,t.subtreeFlags&15990||i){i=Sn.transition,Sn.transition=null;var o=Ne;Ne=1;var a=Ce;Ce|=4,mg.current=null,RP(n,t),gS(t,n),rP(Ip),Hc=!!Cp,Ip=Cp=null,n.current=t,AP(t),lD(),Ce=a,Ne=o,Sn.transition=i}else n.current=t;if(Xu&&(Xu=!1,gs=n,od=s),i=n.pendingLanes,i===0&&(Cs=null),dD(t.stateNode),sn(n,nt()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)s=e[t],r(s.value,{componentStack:s.stack,digest:s.digest});if(id)throw id=!1,n=Yp,Yp=null,n;return od&1&&n.tag!==0&&wo(),i=n.pendingLanes,i&1?n===zp?il++:(il=0,zp=n):il=0,Ys(),null}function wo(){if(gs!==null){var n=nT(od),e=Sn.transition,t=Ne;try{if(Sn.transition=null,Ne=16>n?16:n,gs===null)var r=!1;else{if(n=gs,gs=null,od=0,Ce&6)throw Error($(331));var s=Ce;for(Ce|=4,G=n.current;G!==null;){var i=G,o=i.child;if(G.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(G=c;G!==null;){var d=G;switch(d.tag){case 0:case 11:case 15:rl(8,d,i)}var h=d.child;if(h!==null)h.return=d,G=h;else for(;G!==null;){d=G;var p=d.sibling,g=d.return;if(fS(d),d===c){G=null;break}if(p!==null){p.return=g,G=p;break}G=g}}}var _=i.alternate;if(_!==null){var D=_.child;if(D!==null){_.child=null;do{var I=D.sibling;D.sibling=null,D=I}while(D!==null)}}G=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,G=o;else e:for(;G!==null;){if(i=G,i.flags&2048)switch(i.tag){case 0:case 11:case 15:rl(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,G=w;break e}G=i.return}}var y=n.current;for(G=y;G!==null;){o=G;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,G=T;else e:for(o=y;G!==null;){if(a=G,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Xd(9,a)}}catch(L){Ze(a,a.return,L)}if(a===o){G=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,G=A;break e}G=a.return}}if(Ce=s,Ys(),rr&&typeof rr.onPostCommitFiberRoot=="function")try{rr.onPostCommitFiberRoot($d,n)}catch{}r=!0}return r}finally{Ne=t,Sn.transition=e}}return!1}function H_(n,e,t){e=No(t,e),e=nS(n,e,1),n=Ss(n,e,1),e=Qt(),n!==null&&(ql(n,1,e),sn(n,e))}function Ze(n,e,t){if(n.tag===3)H_(n,n,t);else for(;e!==null;){if(e.tag===3){H_(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Cs===null||!Cs.has(r))){n=No(t,n),n=rS(e,n,1),e=Ss(e,n,1),n=Qt(),e!==null&&(ql(e,1,n),sn(e,n));break}}e=e.return}}function FP(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=Qt(),n.pingedLanes|=n.suspendedLanes&t,vt===n&&(It&t)===t&&(pt===4||pt===3&&(It&130023424)===It&&500>nt()-vg?pi(n,0):gg|=t),sn(n,e)}function SS(n,e){e===0&&(n.mode&1?(e=Uu,Uu<<=1,!(Uu&130023424)&&(Uu=4194304)):e=1);var t=Qt();n=Fr(n,e),n!==null&&(ql(n,e,t),sn(n,t))}function jP(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),SS(n,t)}function BP(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,s=n.memoizedState;s!==null&&(t=s.retryLane);break;case 19:r=n.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(e),SS(n,t)}var CS;CS=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||nn.current)tn=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return tn=!1,DP(n,e,t);tn=!!(n.flags&131072)}else tn=!1,He&&e.flags&1048576&&PT(e,Xc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;wc(n,e),n=e.pendingProps;var s=bo(e,Ut.current);_o(e,t),s=cg(null,e,r,n,s,t);var i=dg();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,rn(r)?(i=!0,Kc(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ig(e),s.updater=Gd,e.stateNode=s,s._reactInternals=e,Mp(e,r,n,t),e=Vp(null,e,r,!0,i,t)):(e.tag=0,He&&i&&Jm(e),Yt(null,e,s,t),e=e.child),e;case 16:r=e.elementType;e:{switch(wc(n,e),n=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=WP(r),n=Rn(r,n),s){case 0:e=Lp(null,e,r,n,t);break e;case 1:e=M_(null,e,r,n,t);break e;case 11:e=A_(null,e,r,n,t);break e;case 14:e=N_(null,e,r,Rn(r.type,n),t);break e}throw Error($(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Rn(r,s),Lp(n,e,r,s,t);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Rn(r,s),M_(n,e,r,s,t);case 3:e:{if(aS(e),n===null)throw Error($(387));r=e.pendingProps,i=e.memoizedState,s=i.element,MT(n,e),ed(e,r,null,t);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=No(Error($(423)),e),e=O_(n,e,r,t,s);break e}else if(r!==s){s=No(Error($(424)),e),e=O_(n,e,r,t,s);break e}else for(dn=Ts(e.stateNode.containerInfo.firstChild),fn=e,He=!0,Nn=null,t=AT(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(xo(),r===s){e=jr(n,e,t);break e}Yt(n,e,r,t)}e=e.child}return e;case 5:return OT(e),n===null&&Rp(e),r=e.type,s=e.pendingProps,i=n!==null?n.memoizedProps:null,o=s.children,kp(r,s)?o=null:i!==null&&kp(r,i)&&(e.flags|=32),oS(n,e),Yt(n,e,o,t),e.child;case 6:return n===null&&Rp(e),null;case 13:return lS(n,e,t);case 4:return og(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Ro(e,null,r,t):Yt(n,e,r,t),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Rn(r,s),A_(n,e,r,s,t);case 7:return Yt(n,e,e.pendingProps,t),e.child;case 8:return Yt(n,e,e.pendingProps.children,t),e.child;case 12:return Yt(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Ve(Jc,r._currentValue),r._currentValue=o,i!==null)if(Vn(i.value,o)){if(i.children===s.children&&!nn.current){e=jr(n,e,t);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Pr(-1,t&-t),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=t,l=i.alternate,l!==null&&(l.lanes|=t),Ap(i.return,t,e),a.lanes|=t;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error($(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),Ap(o,t,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Yt(n,e,s.children,t),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,_o(e,t),s=Cn(s),r=r(s),e.flags|=1,Yt(n,e,r,t),e.child;case 14:return r=e.type,s=Rn(r,e.pendingProps),s=Rn(r.type,s),N_(n,e,r,s,t);case 15:return sS(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Rn(r,s),wc(n,e),e.tag=1,rn(r)?(n=!0,Kc(e)):n=!1,_o(e,t),tS(e,r,s),Mp(e,r,s,t),Vp(null,e,r,!0,n,t);case 19:return uS(n,e,t);case 22:return iS(n,e,t)}throw Error($(156,e.tag))};function IS(n,e){return JE(n,e)}function UP(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(n,e,t,r){return new UP(n,e,t,r)}function Eg(n){return n=n.prototype,!(!n||!n.isReactComponent)}function WP(n){if(typeof n=="function")return Eg(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Bm)return 11;if(n===Um)return 14}return 2}function ks(n,e){var t=n.alternate;return t===null?(t=Tn(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Sc(n,e,t,r,s,i){var o=2;if(r=n,typeof n=="function")Eg(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case no:return mi(t.children,s,i,e);case jm:o=8,s|=8;break;case sp:return n=Tn(12,t,e,s|2),n.elementType=sp,n.lanes=i,n;case ip:return n=Tn(13,t,e,s),n.elementType=ip,n.lanes=i,n;case op:return n=Tn(19,t,e,s),n.elementType=op,n.lanes=i,n;case OE:return Zd(t,s,i,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case NE:o=10;break e;case ME:o=9;break e;case Bm:o=11;break e;case Um:o=14;break e;case as:o=16,r=null;break e}throw Error($(130,n==null?n:typeof n,""))}return e=Tn(o,t,e,s),e.elementType=n,e.type=r,e.lanes=i,e}function mi(n,e,t,r){return n=Tn(7,n,r,e),n.lanes=t,n}function Zd(n,e,t,r){return n=Tn(22,n,r,e),n.elementType=OE,n.lanes=t,n.stateNode={isHidden:!1},n}function kf(n,e,t){return n=Tn(6,n,null,e),n.lanes=t,n}function Df(n,e,t){return e=Tn(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function $P(n,e,t,r,s){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=af(0),this.expirationTimes=af(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=af(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Tg(n,e,t,r,s,i,o,a,l){return n=new $P(n,e,t,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Tn(3,null,null,e),n.current=i,i.stateNode=n,i.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},ig(i),n}function HP(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:to,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function kS(n){if(!n)return Ls;n=n._reactInternals;e:{if(Li(n)!==n||n.tag!==1)throw Error($(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(rn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($(171))}if(n.tag===1){var t=n.type;if(rn(t))return kT(n,t,e)}return e}function DS(n,e,t,r,s,i,o,a,l){return n=Tg(t,r,!0,n,s,i,o,a,l),n.context=kS(null),t=n.current,r=Qt(),s=Is(t),i=Pr(r,s),i.callback=e??null,Ss(t,i,s),n.current.lanes=s,ql(n,s,r),sn(n,r),n}function eh(n,e,t,r){var s=e.current,i=Qt(),o=Is(s);return t=kS(t),e.context===null?e.context=t:e.pendingContext=t,e=Pr(i,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=Ss(s,e,o),n!==null&&(On(n,s,o,i),vc(n,s,o)),o}function ld(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Y_(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function Sg(n,e){Y_(n,e),(n=n.alternate)&&Y_(n,e)}function YP(){return null}var PS=typeof reportError=="function"?reportError:function(n){console.error(n)};function Cg(n){this._internalRoot=n}th.prototype.render=Cg.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error($(409));eh(n,e,null,null)};th.prototype.unmount=Cg.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Ci(function(){eh(null,n,null,null)}),e[Vr]=null}};function th(n){this._internalRoot=n}th.prototype.unstable_scheduleHydration=function(n){if(n){var e=iT();n={blockedOn:null,target:n,priority:e};for(var t=0;t<us.length&&e!==0&&e<us[t].priority;t++);us.splice(t,0,n),t===0&&aT(n)}};function Ig(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function nh(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function z_(){}function zP(n,e,t,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=ld(o);i.call(c)}}var o=DS(e,r,n,0,null,!1,!1,"",z_);return n._reactRootContainer=o,n[Vr]=o.current,wl(n.nodeType===8?n.parentNode:n),Ci(),o}for(;s=n.lastChild;)n.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=ld(l);a.call(c)}}var l=Tg(n,0,!1,null,null,!1,!1,"",z_);return n._reactRootContainer=l,n[Vr]=l.current,wl(n.nodeType===8?n.parentNode:n),Ci(function(){eh(e,l,t,r)}),l}function rh(n,e,t,r,s){var i=t._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=ld(o);a.call(l)}}eh(e,o,n,s)}else o=zP(t,e,n,s,r);return ld(o)}rT=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Ba(e.pendingLanes);t!==0&&(Hm(e,t|1),sn(e,nt()),!(Ce&6)&&(Mo=nt()+500,Ys()))}break;case 13:Ci(function(){var r=Fr(n,1);if(r!==null){var s=Qt();On(r,n,1,s)}}),Sg(n,1)}};Ym=function(n){if(n.tag===13){var e=Fr(n,134217728);if(e!==null){var t=Qt();On(e,n,134217728,t)}Sg(n,134217728)}};sT=function(n){if(n.tag===13){var e=Is(n),t=Fr(n,e);if(t!==null){var r=Qt();On(t,n,e,r)}Sg(n,e)}};iT=function(){return Ne};oT=function(n,e){var t=Ne;try{return Ne=n,e()}finally{Ne=t}};gp=function(n,e,t){switch(e){case"input":if(up(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var s=qd(r);if(!s)throw Error($(90));VE(r),up(r,s)}}}break;case"textarea":jE(n,t);break;case"select":e=t.value,e!=null&&mo(n,!!t.multiple,e,!1)}};zE=yg;qE=Ci;var qP={usingClientEntryPoint:!1,Events:[Kl,oo,qd,HE,YE,yg]},Ra={findFiberByHostInstance:li,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},QP={bundleType:Ra.bundleType,version:Ra.version,rendererPackageName:Ra.rendererPackageName,rendererConfig:Ra.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yr.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=GE(n),n===null?null:n.stateNode},findFiberByHostInstance:Ra.findFiberByHostInstance||YP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ju.isDisabled&&Ju.supportsFiber)try{$d=Ju.inject(QP),rr=Ju}catch{}}gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qP;gn.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ig(e))throw Error($(200));return HP(n,e,null,t)};gn.createRoot=function(n,e){if(!Ig(n))throw Error($(299));var t=!1,r="",s=PS;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Tg(n,1,!1,null,null,t,!1,r,s),n[Vr]=e.current,wl(n.nodeType===8?n.parentNode:n),new Cg(e)};gn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error($(188)):(n=Object.keys(n).join(","),Error($(268,n)));return n=GE(e),n=n===null?null:n.stateNode,n};gn.flushSync=function(n){return Ci(n)};gn.hydrate=function(n,e,t){if(!nh(e))throw Error($(200));return rh(null,n,e,!0,t)};gn.hydrateRoot=function(n,e,t){if(!Ig(n))throw Error($(405));var r=t!=null&&t.hydratedSources||null,s=!1,i="",o=PS;if(t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=DS(e,null,n,1,t??null,s,!1,i,o),n[Vr]=e.current,wl(n),r)for(n=0;n<r.length;n++)t=r[n],s=t._getVersion,s=s(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,s]:e.mutableSourceEagerHydrationData.push(t,s);return new th(e)};gn.render=function(n,e,t){if(!nh(e))throw Error($(200));return rh(null,n,e,!1,t)};gn.unmountComponentAtNode=function(n){if(!nh(n))throw Error($(40));return n._reactRootContainer?(Ci(function(){rh(null,null,n,!1,function(){n._reactRootContainer=null,n[Vr]=null})}),!0):!1};gn.unstable_batchedUpdates=yg;gn.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!nh(t))throw Error($(200));if(n==null||n._reactInternals===void 0)throw Error($(38));return rh(n,e,t,!1,r)};gn.version="18.3.1-next-f1338f8080-20240426";function bS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bS)}catch(n){console.error(n)}}bS(),bE.exports=gn;var ta=bE.exports;const KP=vE(ta);var xS,q_=ta;xS=q_.createRoot,q_.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bl(){return bl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},bl.apply(this,arguments)}var vs;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(vs||(vs={}));const Q_="popstate";function GP(n){n===void 0&&(n={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Kp("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:ud(s)}return JP(e,t,null,n)}function ot(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function RS(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function XP(){return Math.random().toString(36).substr(2,8)}function K_(n,e){return{usr:n.state,key:n.key,idx:e}}function Kp(n,e,t,r){return t===void 0&&(t=null),bl({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?na(e):e,{state:t,key:e&&e.key||r||XP()})}function ud(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function na(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function JP(n,e,t,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=vs.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(bl({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=vs.Pop;let I=d(),w=I==null?null:I-c;c=I,l&&l({action:a,location:D.location,delta:w})}function p(I,w){a=vs.Push;let y=Kp(D.location,I,w);c=d()+1;let T=K_(y,c),A=D.createHref(y);try{o.pushState(T,"",A)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;s.location.assign(A)}i&&l&&l({action:a,location:D.location,delta:1})}function g(I,w){a=vs.Replace;let y=Kp(D.location,I,w);c=d();let T=K_(y,c),A=D.createHref(y);o.replaceState(T,"",A),i&&l&&l({action:a,location:D.location,delta:0})}function _(I){let w=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof I=="string"?I:ud(I);return y=y.replace(/ $/,"%20"),ot(w,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,w)}let D={get action(){return a},get location(){return n(s,o)},listen(I){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Q_,h),l=I,()=>{s.removeEventListener(Q_,h),l=null}},createHref(I){return e(s,I)},createURL:_,encodeLocation(I){let w=_(I);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:g,go(I){return o.go(I)}};return D}var G_;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(G_||(G_={}));function ZP(n,e,t){return t===void 0&&(t="/"),eb(n,e,t)}function eb(n,e,t,r){let s=typeof e=="string"?na(e):e,i=kg(s.pathname||"/",t);if(i==null)return null;let o=AS(n);tb(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=fb(i);a=cb(o[l],c)}return a}function AS(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(ot(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Ds([r,l.relativePath]),d=t.concat(l);i.children&&i.children.length>0&&(ot(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),AS(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:lb(c,i.index),routesMeta:d})};return n.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of NS(i.path))s(i,o,l)}),e}function NS(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),i=t.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=NS(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function tb(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:ub(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const nb=/^:[\w-]+$/,rb=3,sb=2,ib=1,ob=10,ab=-2,X_=n=>n==="*";function lb(n,e){let t=n.split("/"),r=t.length;return t.some(X_)&&(r+=ab),e&&(r+=sb),t.filter(s=>!X_(s)).reduce((s,i)=>s+(nb.test(i)?rb:i===""?ib:ob),r)}function ub(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function cb(n,e,t){let{routesMeta:r}=n,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=db({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Ds([i,h.pathname]),pathnameBase:vb(Ds([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=Ds([i,h.pathnameBase]))}return o}function db(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=hb(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:p,isOptional:g}=d;if(p==="*"){let D=a[h]||"";o=i.slice(0,i.length-D.length).replace(/(.)\/+$/,"$1")}const _=a[h];return g&&!_?c[p]=void 0:c[p]=(_||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:n}}function hb(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),RS(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function fb(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return RS(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function kg(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function pb(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?na(n):n;return{pathname:t?t.startsWith("/")?t:mb(t,e):e,search:yb(r),hash:_b(s)}}function mb(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Pf(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function gb(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Dg(n,e){let t=gb(n);return e?t.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function Pg(n,e,t,r){r===void 0&&(r=!1);let s;typeof n=="string"?s=na(n):(s=bl({},n),ot(!s.pathname||!s.pathname.includes("?"),Pf("?","pathname","search",s)),ot(!s.pathname||!s.pathname.includes("#"),Pf("#","pathname","hash",s)),ot(!s.search||!s.search.includes("#"),Pf("#","search","hash",s)));let i=n===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=t;else{let h=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=pb(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Ds=n=>n.join("/").replace(/\/\/+/g,"/"),vb=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),yb=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,_b=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function wb(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const MS=["post","put","patch","delete"];new Set(MS);const Eb=["get",...MS];new Set(Eb);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xl(){return xl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},xl.apply(this,arguments)}const bg=R.createContext(null),Tb=R.createContext(null),zs=R.createContext(null),sh=R.createContext(null),zr=R.createContext({outlet:null,matches:[],isDataRoute:!1}),OS=R.createContext(null);function Sb(n,e){let{relative:t}=e===void 0?{}:e;ra()||ot(!1);let{basename:r,navigator:s}=R.useContext(zs),{hash:i,pathname:o,search:a}=VS(n,{relative:t}),l=o;return r!=="/"&&(l=o==="/"?r:Ds([r,o])),s.createHref({pathname:l,search:a,hash:i})}function ra(){return R.useContext(sh)!=null}function Xl(){return ra()||ot(!1),R.useContext(sh).location}function LS(n){R.useContext(zs).static||R.useLayoutEffect(n)}function qs(){let{isDataRoute:n}=R.useContext(zr);return n?Vb():Cb()}function Cb(){ra()||ot(!1);let n=R.useContext(bg),{basename:e,future:t,navigator:r}=R.useContext(zs),{matches:s}=R.useContext(zr),{pathname:i}=Xl(),o=JSON.stringify(Dg(s,t.v7_relativeSplatPath)),a=R.useRef(!1);return LS(()=>{a.current=!0}),R.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=Pg(c,JSON.parse(o),i,d.relative==="path");n==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ds([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,i,n])}function Ib(){let{matches:n}=R.useContext(zr),e=n[n.length-1];return e?e.params:{}}function VS(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=R.useContext(zs),{matches:s}=R.useContext(zr),{pathname:i}=Xl(),o=JSON.stringify(Dg(s,r.v7_relativeSplatPath));return R.useMemo(()=>Pg(n,JSON.parse(o),i,t==="path"),[n,o,i,t])}function kb(n,e){return Db(n,e)}function Db(n,e,t,r){ra()||ot(!1);let{navigator:s}=R.useContext(zs),{matches:i}=R.useContext(zr),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Xl(),d;if(e){var h;let I=typeof e=="string"?na(e):e;l==="/"||(h=I.pathname)!=null&&h.startsWith(l)||ot(!1),d=I}else d=c;let p=d.pathname||"/",g=p;if(l!=="/"){let I=l.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(I.length).join("/")}let _=ZP(n,{pathname:g}),D=Ab(_&&_.map(I=>Object.assign({},I,{params:Object.assign({},a,I.params),pathname:Ds([l,s.encodeLocation?s.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?l:Ds([l,s.encodeLocation?s.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),i,t,r);return e&&D?R.createElement(sh.Provider,{value:{location:xl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:vs.Pop}},D):D}function Pb(){let n=Lb(),e=wb(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),t?R.createElement("pre",{style:s},t):null,null)}const bb=R.createElement(Pb,null);class xb extends R.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?R.createElement(zr.Provider,{value:this.props.routeContext},R.createElement(OS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Rb(n){let{routeContext:e,match:t,children:r}=n,s=R.useContext(bg);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),R.createElement(zr.Provider,{value:e},r)}function Ab(n,e,t,r){var s;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var i;if(!t)return null;if(t.errors)n=t.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=(s=t)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||ot(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(t&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:p,errors:g}=t,_=h.route.loader&&p[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||_){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,p)=>{let g,_=!1,D=null,I=null;t&&(g=a&&h.route.id?a[h.route.id]:void 0,D=h.route.errorElement||bb,l&&(c<0&&p===0?(Fb("route-fallback"),_=!0,I=null):c===p&&(_=!0,I=h.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,p+1)),y=()=>{let T;return g?T=D:_?T=I:h.route.Component?T=R.createElement(h.route.Component,null):h.route.element?T=h.route.element:T=d,R.createElement(Rb,{match:h,routeContext:{outlet:d,matches:w,isDataRoute:t!=null},children:T})};return t&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?R.createElement(xb,{location:t.location,revalidation:t.revalidation,component:D,error:g,children:y(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):y()},null)}var FS=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(FS||{}),jS=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(jS||{});function Nb(n){let e=R.useContext(bg);return e||ot(!1),e}function Mb(n){let e=R.useContext(Tb);return e||ot(!1),e}function Ob(n){let e=R.useContext(zr);return e||ot(!1),e}function BS(n){let e=Ob(),t=e.matches[e.matches.length-1];return t.route.id||ot(!1),t.route.id}function Lb(){var n;let e=R.useContext(OS),t=Mb(),r=BS();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function Vb(){let{router:n}=Nb(FS.UseNavigateStable),e=BS(jS.UseNavigateStable),t=R.useRef(!1);return LS(()=>{t.current=!0}),R.useCallback(function(s,i){i===void 0&&(i={}),t.current&&(typeof s=="number"?n.navigate(s):n.navigate(s,xl({fromRouteId:e},i)))},[n,e])}const J_={};function Fb(n,e,t){J_[n]||(J_[n]=!0)}function jb(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function bf(n){let{to:e,replace:t,state:r,relative:s}=n;ra()||ot(!1);let{future:i,static:o}=R.useContext(zs),{matches:a}=R.useContext(zr),{pathname:l}=Xl(),c=qs(),d=Pg(e,Dg(a,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(d);return R.useEffect(()=>c(JSON.parse(h),{replace:t,state:r,relative:s}),[c,h,s,t,r]),null}function xn(n){ot(!1)}function Bb(n){let{basename:e="/",children:t=null,location:r,navigationType:s=vs.Pop,navigator:i,static:o=!1,future:a}=n;ra()&&ot(!1);let l=e.replace(/^\/*/,"/"),c=R.useMemo(()=>({basename:l,navigator:i,static:o,future:xl({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=na(r));let{pathname:d="/",search:h="",hash:p="",state:g=null,key:_="default"}=r,D=R.useMemo(()=>{let I=kg(d,l);return I==null?null:{location:{pathname:I,search:h,hash:p,state:g,key:_},navigationType:s}},[l,d,h,p,g,_,s]);return D==null?null:R.createElement(zs.Provider,{value:c},R.createElement(sh.Provider,{children:t,value:D}))}function xf(n){let{children:e,location:t}=n;return kb(Gp(e),t)}new Promise(()=>{});function Gp(n,e){e===void 0&&(e=[]);let t=[];return R.Children.forEach(n,(r,s)=>{if(!R.isValidElement(r))return;let i=[...e,s];if(r.type===R.Fragment){t.push.apply(t,Gp(r.props.children,i));return}r.type!==xn&&ot(!1),!r.props.index||!r.props.children||ot(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Gp(r.props.children,i)),t.push(o)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xp(){return Xp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Xp.apply(this,arguments)}function Ub(n,e){if(n==null)return{};var t={},r=Object.keys(n),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}function Wb(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function $b(n,e){return n.button===0&&(!e||e==="_self")&&!Wb(n)}const Hb=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Yb="6";try{window.__reactRouterVersion=Yb}catch{}const zb="startTransition",Z_=Om[zb];function qb(n){let{basename:e,children:t,future:r,window:s}=n,i=R.useRef();i.current==null&&(i.current=GP({window:s,v5Compat:!0}));let o=i.current,[a,l]=R.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=R.useCallback(h=>{c&&Z_?Z_(()=>l(h)):l(h)},[l,c]);return R.useLayoutEffect(()=>o.listen(d),[o,d]),R.useEffect(()=>jb(r),[r]),R.createElement(Bb,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o,future:r})}const Qb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Kb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ii=R.forwardRef(function(e,t){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:h}=e,p=Ub(e,Hb),{basename:g}=R.useContext(zs),_,D=!1;if(typeof c=="string"&&Kb.test(c)&&(_=c,Qb))try{let T=new URL(window.location.href),A=c.startsWith("//")?new URL(T.protocol+c):new URL(c),L=kg(A.pathname,g);A.origin===T.origin&&L!=null?c=L+A.search+A.hash:D=!0}catch{}let I=Sb(c,{relative:s}),w=Gb(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:h});function y(T){r&&r(T),T.defaultPrevented||w(T)}return R.createElement("a",Xp({},p,{href:_||I,onClick:D||i?r:y,ref:t,target:l}))});var ew;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(ew||(ew={}));var tw;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(tw||(tw={}));function Gb(n,e){let{target:t,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=qs(),c=Xl(),d=VS(n,{relative:o});return R.useCallback(h=>{if($b(h,t)){h.preventDefault();let p=r!==void 0?r:ud(c)===ud(d);l(n,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,d,r,s,t,n,i,o,a])}var nw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},Xb=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=n[t++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=n[t++],o=n[t++],a=n[t++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=n[t++],o=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},WS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const i=n[s],o=s+1<n.length,a=o?n[s+1]:0,l=s+2<n.length,c=l?n[s+2]:0,d=i>>2,h=(i&3)<<4|a>>4;let p=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(p=64)),r.push(t[d],t[h],t[p],t[g])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(US(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Xb(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const i=t[n.charAt(s++)],a=s<n.length?t[n.charAt(s)]:0;++s;const c=s<n.length?t[n.charAt(s)]:64;++s;const h=s<n.length?t[n.charAt(s)]:64;if(++s,i==null||a==null||c==null||h==null)throw new Jb;const p=i<<2|a>>4;if(r.push(p),c!==64){const g=a<<4&240|c>>2;if(r.push(g),h!==64){const _=c<<6&192|h;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Jb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Zb=function(n){const e=US(n);return WS.encodeByteArray(e,!0)},cd=function(n){return Zb(n).replace(/\./g,"")},$S=function(n){try{return WS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx=()=>ex().__FIREBASE_DEFAULTS__,nx=()=>{if(typeof process>"u"||typeof nw>"u")return;const n=nw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},rx=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&$S(n[1]);return e&&JSON.parse(e)},ih=()=>{try{return tx()||nx()||rx()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},HS=n=>{var e,t;return(t=(e=ih())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},sx=n=>{const e=HS(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},YS=()=>{var n;return(n=ih())===null||n===void 0?void 0:n.config},zS=n=>{var e;return(e=ih())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,i=n.sub||n.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},n);return[cd(JSON.stringify(t)),cd(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ax(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function lx(){var n;const e=(n=ih())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ux(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cx(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function dx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hx(){const n=Wt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function fx(){return!lx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function px(){try{return typeof indexedDB=="object"}catch{return!1}}function mx(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx="FirebaseError";class qr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=gx,Object.setPrototypeOf(this,qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jl.prototype.create)}}class Jl{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?vx(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new qr(s,a,r)}}function vx(n,e){return n.replace(yx,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const yx=/\{\$([^}]+)}/g;function _x(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function dd(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const i=n[s],o=e[s];if(rw(i)&&rw(o)){if(!dd(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function rw(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Wa(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function $a(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function wx(n,e){const t=new Ex(n,e);return t.subscribe.bind(t)}class Ex{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Tx(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=Rf),s.error===void 0&&(s.error=Rf),s.complete===void 0&&(s.complete=Rf);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Tx(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Rf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(n){return n&&n._delegate?n._delegate:n}class ki{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new ix;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ix(e))try{this.getOrInitializeService({instanceIdentifier:ri})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=ri){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ri){return this.instances.has(e)}getOptions(e=ri){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Cx(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ri){return this.component?this.component.multipleInstances?e:ri:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Cx(n){return n===ri?void 0:n}function Ix(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Sx(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ee||(Ee={}));const Dx={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},Px=Ee.INFO,bx={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},xx=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=bx[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xg{constructor(e){this.name=e,this._logLevel=Px,this._logHandler=xx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Dx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...e),this._logHandler(this,Ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...e),this._logHandler(this,Ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...e),this._logHandler(this,Ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...e),this._logHandler(this,Ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...e),this._logHandler(this,Ee.ERROR,...e)}}const Rx=(n,e)=>e.some(t=>n instanceof t);let sw,iw;function Ax(){return sw||(sw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Nx(){return iw||(iw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qS=new WeakMap,Jp=new WeakMap,QS=new WeakMap,Af=new WeakMap,Rg=new WeakMap;function Mx(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",i),n.removeEventListener("error",o)},i=()=>{t(Ps(n.result)),s()},o=()=>{r(n.error),s()};n.addEventListener("success",i),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&qS.set(t,n)}).catch(()=>{}),Rg.set(e,n),e}function Ox(n){if(Jp.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",i),n.removeEventListener("error",o),n.removeEventListener("abort",o)},i=()=>{t(),s()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",i),n.addEventListener("error",o),n.addEventListener("abort",o)});Jp.set(n,e)}let Zp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Jp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||QS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ps(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Lx(n){Zp=n(Zp)}function Vx(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Nf(this),e,...t);return QS.set(r,e.sort?e.sort():[e]),Ps(r)}:Nx().includes(n)?function(...e){return n.apply(Nf(this),e),Ps(qS.get(this))}:function(...e){return Ps(n.apply(Nf(this),e))}}function Fx(n){return typeof n=="function"?Vx(n):(n instanceof IDBTransaction&&Ox(n),Rx(n,Ax())?new Proxy(n,Zp):n)}function Ps(n){if(n instanceof IDBRequest)return Mx(n);if(Af.has(n))return Af.get(n);const e=Fx(n);return e!==n&&(Af.set(n,e),Rg.set(e,n)),e}const Nf=n=>Rg.get(n);function jx(n,e,{blocked:t,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(n,e),a=Ps(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ps(o.result),l.oldVersion,l.newVersion,Ps(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const Bx=["get","getKey","getAll","getAllKeys","count"],Ux=["put","add","delete","clear"],Mf=new Map;function ow(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Mf.get(e))return Mf.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=Ux.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Bx.includes(t)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[t](...a),s&&l.done]))[0]};return Mf.set(e,i),i}Lx(n=>({...n,get:(e,t,r)=>ow(e,t)||n.get(e,t,r),has:(e,t)=>!!ow(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if($x(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function $x(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const em="@firebase/app",aw="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br=new xg("@firebase/app"),Hx="@firebase/app-compat",Yx="@firebase/analytics-compat",zx="@firebase/analytics",qx="@firebase/app-check-compat",Qx="@firebase/app-check",Kx="@firebase/auth",Gx="@firebase/auth-compat",Xx="@firebase/database",Jx="@firebase/data-connect",Zx="@firebase/database-compat",eR="@firebase/functions",tR="@firebase/functions-compat",nR="@firebase/installations",rR="@firebase/installations-compat",sR="@firebase/messaging",iR="@firebase/messaging-compat",oR="@firebase/performance",aR="@firebase/performance-compat",lR="@firebase/remote-config",uR="@firebase/remote-config-compat",cR="@firebase/storage",dR="@firebase/storage-compat",hR="@firebase/firestore",fR="@firebase/vertexai-preview",pR="@firebase/firestore-compat",mR="firebase",gR="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm="[DEFAULT]",vR={[em]:"fire-core",[Hx]:"fire-core-compat",[zx]:"fire-analytics",[Yx]:"fire-analytics-compat",[Qx]:"fire-app-check",[qx]:"fire-app-check-compat",[Kx]:"fire-auth",[Gx]:"fire-auth-compat",[Xx]:"fire-rtdb",[Jx]:"fire-data-connect",[Zx]:"fire-rtdb-compat",[eR]:"fire-fn",[tR]:"fire-fn-compat",[nR]:"fire-iid",[rR]:"fire-iid-compat",[sR]:"fire-fcm",[iR]:"fire-fcm-compat",[oR]:"fire-perf",[aR]:"fire-perf-compat",[lR]:"fire-rc",[uR]:"fire-rc-compat",[cR]:"fire-gcs",[dR]:"fire-gcs-compat",[hR]:"fire-fst",[pR]:"fire-fst-compat",[fR]:"fire-vertex","fire-js":"fire-js",[mR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd=new Map,yR=new Map,nm=new Map;function lw(n,e){try{n.container.addComponent(e)}catch(t){Br.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Oo(n){const e=n.name;if(nm.has(e))return Br.debug(`There were multiple attempts to register component ${e}.`),!1;nm.set(e,n);for(const t of hd.values())lw(t,n);for(const t of yR.values())lw(t,n);return!0}function Ag(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Zn(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bs=new Jl("app","Firebase",_R);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ki("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa=gR;function KS(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:tm,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw bs.create("bad-app-name",{appName:String(s)});if(t||(t=YS()),!t)throw bs.create("no-options");const i=hd.get(s);if(i){if(dd(t,i.options)&&dd(r,i.config))return i;throw bs.create("duplicate-app",{appName:s})}const o=new kx(s);for(const l of nm.values())o.addComponent(l);const a=new wR(t,r,o);return hd.set(s,a),a}function GS(n=tm){const e=hd.get(n);if(!e&&n===tm&&YS())return KS();if(!e)throw bs.create("no-app",{appName:n});return e}function xs(n,e,t){var r;let s=(r=vR[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Br.warn(a.join(" "));return}Oo(new ki(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER="firebase-heartbeat-database",TR=1,Rl="firebase-heartbeat-store";let Of=null;function XS(){return Of||(Of=jx(ER,TR,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Rl)}catch(t){console.warn(t)}}}}).catch(n=>{throw bs.create("idb-open",{originalErrorMessage:n.message})})),Of}async function SR(n){try{const t=(await XS()).transaction(Rl),r=await t.objectStore(Rl).get(JS(n));return await t.done,r}catch(e){if(e instanceof qr)Br.warn(e.message);else{const t=bs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Br.warn(t.message)}}}async function uw(n,e){try{const r=(await XS()).transaction(Rl,"readwrite");await r.objectStore(Rl).put(e,JS(n)),await r.done}catch(t){if(t instanceof qr)Br.warn(t.message);else{const r=bs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Br.warn(r.message)}}}function JS(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR=1024,IR=30*24*60*60*1e3;class kR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new PR(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=cw();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=IR}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Br.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=cw(),{heartbeatsToSend:r,unsentEntries:s}=DR(this._heartbeatsCache.heartbeats),i=cd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return Br.warn(t),""}}}function cw(){return new Date().toISOString().substring(0,10)}function DR(n,e=CR){const t=[];let r=n.slice();for(const s of n){const i=t.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),dw(t)>e){i.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),dw(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class PR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return px()?mx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await SR(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return uw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return uw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function dw(n){return cd(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(n){Oo(new ki("platform-logger",e=>new Wx(e),"PRIVATE")),Oo(new ki("heartbeat",e=>new kR(e),"PRIVATE")),xs(em,aw,n),xs(em,aw,"esm2017"),xs("fire-js","")}bR("");function Ng(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function ZS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xR=ZS,eC=new Jl("auth","Firebase",ZS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd=new xg("@firebase/auth");function RR(n,...e){fd.logLevel<=Ee.WARN&&fd.warn(`Auth (${sa}): ${n}`,...e)}function Cc(n,...e){fd.logLevel<=Ee.ERROR&&fd.error(`Auth (${sa}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(n,...e){throw Mg(n,...e)}function ir(n,...e){return Mg(n,...e)}function tC(n,e,t){const r=Object.assign(Object.assign({},xR()),{[e]:t});return new Jl("auth","Firebase",r).create(e,{appName:n.name})}function br(n){return tC(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Mg(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return eC.create(n,...e)}function oe(n,e,...t){if(!n)throw Mg(e,...t)}function Cr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Cc(e),new Error(e)}function Ur(n,e){n||Cr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function AR(){return hw()==="http:"||hw()==="https:"}function hw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AR()||cx()||"connection"in navigator)?navigator.onLine:!0}function MR(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ur(t>e,"Short delay should be less than long delay!"),this.isMobile=ax()||dx()}get(){return NR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(n,e){Ur(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR=new eu(3e4,6e4);function Qs(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ks(n,e,t,r,s={}){return rC(n,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Zl(Object.assign({key:n.config.apiKey},o)).slice(1),l=await n._getAdditionalHeaders();l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode);const c=Object.assign({method:e,headers:l},i);return ux()||(c.referrerPolicy="no-referrer"),nC.fetch()(sC(n,n.config.apiHost,t,a),c)})}async function rC(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},OR),e);try{const s=new FR(n),i=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Zu(n,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zu(n,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Zu(n,"email-already-in-use",o);if(l==="USER_DISABLED")throw Zu(n,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw tC(n,d,c);Fn(n,d)}}catch(s){if(s instanceof qr)throw s;Fn(n,"network-request-failed",{message:String(s)})}}async function tu(n,e,t,r,s={}){const i=await Ks(n,e,t,r,s);return"mfaPendingCredential"in i&&Fn(n,"multi-factor-auth-required",{_serverResponse:i}),i}function sC(n,e,t,r){const s=`${e}${t}?${r}`;return n.config.emulator?Og(n.config,s):`${n.config.apiScheme}://${s}`}function VR(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class FR{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ir(this.auth,"network-request-failed")),LR.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Zu(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=ir(n,e,r);return s.customData._tokenResponse=t,s}function fw(n){return n!==void 0&&n.enterprise!==void 0}class jR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return VR(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function BR(n,e){return Ks(n,"GET","/v2/recaptchaConfig",Qs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UR(n,e){return Ks(n,"POST","/v1/accounts:delete",e)}async function iC(n,e){return Ks(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ol(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function WR(n,e=!1){const t=at(n),r=await t.getIdToken(e),s=Lg(r);oe(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:ol(Lf(s.auth_time)),issuedAtTime:ol(Lf(s.iat)),expirationTime:ol(Lf(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Lf(n){return Number(n)*1e3}function Lg(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Cc("JWT malformed, contained fewer than 3 sections"),null;try{const s=$S(t);return s?JSON.parse(s):(Cc("Failed to decode base64 JWT payload"),null)}catch(s){return Cc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function pw(n){const e=Lg(n);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Al(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof qr&&$R(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function $R({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ol(this.lastLoginAt),this.creationTime=ol(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pd(n){var e;const t=n.auth,r=await n.getIdToken(),s=await Al(n,iC(t,{idToken:r}));oe(s==null?void 0:s.users.length,t,"internal-error");const i=s.users[0];n._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?oC(i.providerUserInfo):[],a=zR(n.providerData,o),l=n.isAnonymous,c=!(n.email&&i.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new sm(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(n,h)}async function YR(n){const e=at(n);await pd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function zR(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function oC(n){return n.map(e=>{var{providerId:t}=e,r=Ng(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qR(n,e){const t=await rC(n,{},async()=>{const r=Zl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=n.config,o=sC(n,s,"/v1/token",`key=${i}`),a=await n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",nC.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function QR(n,e){return Ks(n,"POST","/v2/accounts:revokeToken",Qs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):pw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){oe(e.length!==0,"internal-error");const t=pw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:i}=await qR(e,t);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:i}=t,o=new Eo;return r&&(oe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(oe(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(oe(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Eo,this.toJSON())}_performRefresh(){return Cr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(n,e){oe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ir{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,i=Ng(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new HR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new sm(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Al(this,this.stsTokenManager.getToken(this.auth,e));return oe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return WR(this,e)}reload(){return YR(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ir(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await pd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zn(this.auth.app))return Promise.reject(br(this.auth));const e=await this.getIdToken();return await Al(this,UR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,i,o,a,l,c,d;const h=(r=t.displayName)!==null&&r!==void 0?r:void 0,p=(s=t.email)!==null&&s!==void 0?s:void 0,g=(i=t.phoneNumber)!==null&&i!==void 0?i:void 0,_=(o=t.photoURL)!==null&&o!==void 0?o:void 0,D=(a=t.tenantId)!==null&&a!==void 0?a:void 0,I=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,w=(c=t.createdAt)!==null&&c!==void 0?c:void 0,y=(d=t.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:T,emailVerified:A,isAnonymous:L,providerData:M,stsTokenManager:S}=t;oe(T&&S,e,"internal-error");const v=Eo.fromJSON(this.name,S);oe(typeof T=="string",e,"internal-error"),rs(h,e.name),rs(p,e.name),oe(typeof A=="boolean",e,"internal-error"),oe(typeof L=="boolean",e,"internal-error"),rs(g,e.name),rs(_,e.name),rs(D,e.name),rs(I,e.name),rs(w,e.name),rs(y,e.name);const C=new Ir({uid:T,auth:e,email:p,emailVerified:A,displayName:h,isAnonymous:L,photoURL:_,phoneNumber:g,tenantId:D,stsTokenManager:v,createdAt:w,lastLoginAt:y});return M&&Array.isArray(M)&&(C.providerData=M.map(P=>Object.assign({},P))),I&&(C._redirectEventId=I),C}static async _fromIdTokenResponse(e,t,r=!1){const s=new Eo;s.updateFromServerResponse(t);const i=new Ir({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await pd(i),i}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];oe(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?oC(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Eo;a.updateFromIdToken(r);const l=new Ir({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new sm(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw=new Map;function kr(n){Ur(n instanceof Function,"Expected a class definition");let e=mw.get(n);return e?(Ur(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,mw.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}aC.type="NONE";const gw=aC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(n,e,t){return`firebase:${n}:${e}:${t}`}class To{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Ic(this.userKey,s.apiKey,i),this.fullPersistenceKey=Ic("persistence",s.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ir._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new To(kr(gw),e,r);const s=(await Promise.all(t.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||kr(gw);const o=Ic(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const d=await c._get(o);if(d){const h=Ir._fromJSON(e,d);c!==i&&(a=h),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new To(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(t.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new To(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fC(e))return"Blackberry";if(pC(e))return"Webos";if(uC(e))return"Safari";if((e.includes("chrome/")||cC(e))&&!e.includes("edge/"))return"Chrome";if(hC(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function lC(n=Wt()){return/firefox\//i.test(n)}function uC(n=Wt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cC(n=Wt()){return/crios\//i.test(n)}function dC(n=Wt()){return/iemobile/i.test(n)}function hC(n=Wt()){return/android/i.test(n)}function fC(n=Wt()){return/blackberry/i.test(n)}function pC(n=Wt()){return/webos/i.test(n)}function Vg(n=Wt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function KR(n=Wt()){var e;return Vg(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function GR(){return hx()&&document.documentMode===10}function mC(n=Wt()){return Vg(n)||hC(n)||pC(n)||fC(n)||/windows phone/i.test(n)||dC(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(n,e=[]){let t;switch(n){case"Browser":t=vw(Wt());break;case"Worker":t=`${vw(Wt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${sa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JR(n,e={}){return Ks(n,"GET","/v2/passwordPolicy",Qs(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR=6;class eA{constructor(e){var t,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:ZR,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yw(this),this.idTokenSubscription=new yw(this),this.beforeStateQueue=new XR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=kr(t)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await To.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await iC(this,{idToken:e}),r=await Ir._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Zn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await pd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=MR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zn(this.app))return Promise.reject(br(this));const t=e?at(e):null;return t&&oe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zn(this.app)?Promise.reject(br(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zn(this.app)?Promise.reject(br(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(kr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await JR(this),t=new eA(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Jl("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await QR(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&kr(e)||this._popupRedirectResolver;oe(t,this,"argument-error"),this.redirectPersistenceManager=await To.create(this,[kr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const i=typeof t=="function"?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof t=="function"){const l=e.addObserver(t,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(t);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&RR(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Vi(n){return at(n)}class yw{constructor(e){this.auth=e,this.observer=null,this.addObserver=wx(t=>this.observer=t)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nA(n){oh=n}function vC(n){return oh.loadJS(n)}function rA(){return oh.recaptchaEnterpriseScript}function sA(){return oh.gapiScript}function iA(n){return`__${n}${Math.floor(Math.random()*1e6)}`}const oA="recaptcha-enterprise",aA="NO_RECAPTCHA";class lA{constructor(e){this.type=oA,this.auth=Vi(e)}async verify(e="verify",t=!1){async function r(i){if(!t){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{BR(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new jR(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;fw(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(aA)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!t&&fw(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=rA();l.length!==0&&(l+=a),vC(l).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function _w(n,e,t,r=!1){const s=new lA(n);let i;try{i=await s.verify(t)}catch{i=await s.verify(t,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function im(n,e,t,r){var s;if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await _w(n,e,t,t==="getOobCode");return r(n,i)}else return r(n,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await _w(n,e,t,t==="getOobCode");return r(n,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(n,e){const t=Ag(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),i=t.getOptions();if(dd(i,e??{}))return s;Fn(s,"already-initialized")}return t.initialize({options:e})}function cA(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(kr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function dA(n,e,t){const r=Vi(n);oe(r._canInitEmulator,r,"emulator-config-failed"),oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=yC(e),{host:o,port:a}=hA(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),fA()}function yC(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function hA(n){const e=yC(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:ww(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:ww(o)}}}function ww(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function fA(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Cr("not implemented")}_getIdTokenResponse(e){return Cr("not implemented")}_linkToIdToken(e,t){return Cr("not implemented")}_getReauthenticationResolver(e){return Cr("not implemented")}}async function pA(n,e){return Ks(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mA(n,e){return tu(n,"POST","/v1/accounts:signInWithPassword",Qs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gA(n,e){return tu(n,"POST","/v1/accounts:signInWithEmailLink",Qs(n,e))}async function vA(n,e){return tu(n,"POST","/v1/accounts:signInWithEmailLink",Qs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl extends Fg{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new Nl(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Nl(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return im(e,t,"signInWithPassword",mA);case"emailLink":return gA(e,{email:this._email,oobCode:this._password});default:Fn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return im(e,r,"signUpPassword",pA);case"emailLink":return vA(e,{idToken:t,email:this._email,oobCode:this._password});default:Fn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function So(n,e){return tu(n,"POST","/v1/accounts:signInWithIdp",Qs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA="http://localhost";class Di extends Fg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Di(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Fn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,i=Ng(t,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Di(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return So(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,So(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,So(e,t)}buildRequest(){const e={requestUri:yA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Zl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wA(n){const e=Wa($a(n)).link,t=e?Wa($a(e)).deep_link_id:null,r=Wa($a(n)).deep_link_id;return(r?Wa($a(r)).link:null)||r||t||e||n}class jg{constructor(e){var t,r,s,i,o,a;const l=Wa($a(e)),c=(t=l.apiKey)!==null&&t!==void 0?t:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=_A((s=l.mode)!==null&&s!==void 0?s:null);oe(c&&d&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=d,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const t=wA(e);try{return new jg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(){this.providerId=ia.PROVIDER_ID}static credential(e,t){return Nl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=jg.parseLink(t);return oe(r,"argument-error"),Nl._fromEmailAndCode(e,r.code,r.tenantId)}}ia.PROVIDER_ID="password";ia.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ia.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu extends _C{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends nu{constructor(){super("facebook.com")}static credential(e){return Di._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ds.credential(e.oauthAccessToken)}catch{return null}}}ds.FACEBOOK_SIGN_IN_METHOD="facebook.com";ds.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends nu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Di._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return hs.credential(t,r)}catch{return null}}}hs.GOOGLE_SIGN_IN_METHOD="google.com";hs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends nu{constructor(){super("github.com")}static credential(e){return Di._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fs.credential(e.oauthAccessToken)}catch{return null}}}fs.GITHUB_SIGN_IN_METHOD="github.com";fs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends nu{constructor(){super("twitter.com")}static credential(e,t){return Di._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ps.credential(t,r)}catch{return null}}}ps.TWITTER_SIGN_IN_METHOD="twitter.com";ps.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EA(n,e){return tu(n,"POST","/v1/accounts:signUp",Qs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const i=await Ir._fromIdTokenResponse(e,r,s),o=Ew(r);return new Pi({user:i,providerId:o,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=Ew(r);return new Pi({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function Ew(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md extends qr{constructor(e,t,r,s){var i;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,md.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new md(e,t,r,s)}}function wC(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?md._fromErrorAndOperation(n,i,e,r):i})}async function TA(n,e,t=!1){const r=await Al(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Pi._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SA(n,e,t=!1){const{auth:r}=n;if(Zn(r.app))return Promise.reject(br(r));const s="reauthenticate";try{const i=await Al(n,wC(r,s,e,n),t);oe(i.idToken,r,"internal-error");const o=Lg(i.idToken);oe(o,r,"internal-error");const{sub:a}=o;return oe(n.uid===a,r,"user-mismatch"),Pi._forOperation(n,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Fn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EC(n,e,t=!1){if(Zn(n.app))return Promise.reject(br(n));const r="signIn",s=await wC(n,r,e),i=await Pi._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(i.user),i}async function CA(n,e){return EC(Vi(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TC(n){const e=Vi(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function IA(n,e,t){if(Zn(n.app))return Promise.reject(br(n));const r=Vi(n),o=await im(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",EA).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&TC(n),l}),a=await Pi._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function kA(n,e,t){return Zn(n.app)?Promise.reject(br(n)):CA(at(n),ia.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&TC(n),r})}function DA(n,e,t,r){return at(n).onIdTokenChanged(e,t,r)}function PA(n,e,t){return at(n).beforeAuthStateChanged(e,t)}function bA(n,e,t,r){return at(n).onAuthStateChanged(e,t,r)}function xA(n){return at(n).signOut()}const gd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(gd,"1"),this.storage.removeItem(gd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA=1e3,AA=10;class CC extends SC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!t&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);GR()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,AA):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},RA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}CC.type="LOCAL";const NA=CC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC extends SC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}IC.type="SESSION";const kC=IC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new ah(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:i}=t.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(t.origin,i)),l=await MA(a);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ah.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bg(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=Bg("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const p=h;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(){return window}function LA(n){or().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(){return typeof or().WorkerGlobalScope<"u"&&typeof or().importScripts=="function"}async function VA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function FA(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function jA(){return DC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC="firebaseLocalStorageDb",BA=1,vd="firebaseLocalStorage",bC="fbase_key";class ru{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function lh(n,e){return n.transaction([vd],e?"readwrite":"readonly").objectStore(vd)}function UA(){const n=indexedDB.deleteDatabase(PC);return new ru(n).toPromise()}function om(){const n=indexedDB.open(PC,BA);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(vd,{keyPath:bC})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(vd)?e(r):(r.close(),await UA(),e(await om()))})})}async function Tw(n,e,t){const r=lh(n,!0).put({[bC]:e,value:t});return new ru(r).toPromise()}async function WA(n,e){const t=lh(n,!1).get(e),r=await new ru(t).toPromise();return r===void 0?null:r.value}function Sw(n,e){const t=lh(n,!0).delete(e);return new ru(t).toPromise()}const $A=800,HA=3;class xC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await om(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>HA)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return DC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ah._getInstance(jA()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await VA(),!this.activeServiceWorker)return;this.sender=new OA(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||FA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await om();return await Tw(e,gd,"1"),await Sw(e,gd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Tw(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>WA(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Sw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=lh(s,!1).getAll();return new ru(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$A)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xC.type="LOCAL";const YA=xC;new eu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(n,e){return e?kr(e):(oe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug extends Fg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return So(e,this._buildIdpRequest())}_linkToIdToken(e,t){return So(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return So(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function qA(n){return EC(n.auth,new Ug(n),n.bypassAuthState)}function QA(n){const{auth:e,user:t}=n;return oe(t,e,"internal-error"),SA(t,new Ug(n),n.bypassAuthState)}async function KA(n){const{auth:e,user:t}=n;return oe(t,e,"internal-error"),TA(t,new Ug(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,t,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:t,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qA;case"linkViaPopup":case"linkViaRedirect":return KA;case"reauthViaPopup":case"reauthViaRedirect":return QA;default:Fn(this.auth,"internal-error")}}resolve(e){Ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA=new eu(2e3,1e4);class po extends RC{constructor(e,t,r,s,i){super(e,t,s,i),this.provider=r,this.authWindow=null,this.pollId=null,po.currentPopupAction&&po.currentPopupAction.cancel(),po.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oe(e,this.auth,"internal-error"),e}async onExecution(){Ur(this.filter.length===1,"Popup operations only handle one event");const e=Bg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ir(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ir(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,po.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ir(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,GA.get())};e()}}po.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA="pendingRedirect",kc=new Map;class JA extends RC{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=kc.get(this.auth._key());if(!e){try{const r=await ZA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}kc.set(this.auth._key(),e)}return this.bypassAuthState||kc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZA(n,e){const t=nN(e),r=tN(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function eN(n,e){kc.set(n._key(),e)}function tN(n){return kr(n._redirectPersistence)}function nN(n){return Ic(XA,n.config.apiKey,n.name)}async function rN(n,e,t=!1){if(Zn(n.app))return Promise.reject(br(n));const r=Vi(n),s=zA(r,e),o=await new JA(r,s,t).execute();return o&&!t&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN=10*60*1e3;class iN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!oN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!AC(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(ir(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sN&&this.cachedEventUids.clear(),this.cachedEventUids.has(Cw(e))}saveEventToCache(e){this.cachedEventUids.add(Cw(e)),this.lastProcessedEventTime=Date.now()}}function Cw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function AC({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function oN(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AC(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aN(n,e={}){return Ks(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uN=/^https?/;async function cN(n){if(n.config.emulator)return;const{authorizedDomains:e}=await aN(n);for(const t of e)try{if(dN(t))return}catch{}Fn(n,"unauthorized-domain")}function dN(n){const e=rm(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!uN.test(t))return!1;if(lN.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=new eu(3e4,6e4);function Iw(){const n=or().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function fN(n){return new Promise((e,t)=>{var r,s,i;function o(){Iw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Iw(),t(ir(n,"network-request-failed"))},timeout:hN.get()})}if(!((s=(r=or().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=or().gapi)===null||i===void 0)&&i.load)o();else{const a=iA("iframefcb");return or()[a]=()=>{gapi.load?o():t(ir(n,"network-request-failed"))},vC(`${sA()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw Dc=null,e})}let Dc=null;function pN(n){return Dc=Dc||fN(n),Dc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=new eu(5e3,15e3),gN="__/auth/iframe",vN="emulator/auth/iframe",yN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_N=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wN(n){const e=n.config;oe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Og(e,vN):`https://${n.config.authDomain}/${gN}`,r={apiKey:e.apiKey,appName:n.name,v:sa},s=_N.get(n.config.apiHost);s&&(r.eid=s);const i=n._getFrameworks();return i.length&&(r.fw=i.join(",")),`${t}?${Zl(r).slice(1)}`}async function EN(n){const e=await pN(n),t=or().gapi;return oe(t,n,"internal-error"),e.open({where:document.body,url:wN(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yN,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=ir(n,"network-request-failed"),a=or().setTimeout(()=>{i(o)},mN.get());function l(){or().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SN=500,CN=600,IN="_blank",kN="http://localhost";class kw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function DN(n,e,t,r=SN,s=CN){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},TN),{width:r.toString(),height:s.toString(),top:i,left:o}),c=Wt().toLowerCase();t&&(a=cC(c)?IN:t),lC(c)&&(e=e||kN,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[g,_])=>`${p}${g}=${_},`,"");if(KR(c)&&a!=="_self")return PN(e||"",a),new kw(null);const h=window.open(e||"",a,d);oe(h,n,"popup-blocked");try{h.focus()}catch{}return new kw(h)}function PN(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN="__/auth/handler",xN="emulator/auth/handler",RN=encodeURIComponent("fac");async function Dw(n,e,t,r,s,i){oe(n.config.authDomain,n,"auth-domain-config-required"),oe(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:sa,eventId:s};if(e instanceof _C){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",_x(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof nu){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await n._getAppCheckToken(),c=l?`#${RN}=${encodeURIComponent(l)}`:"";return`${AN(n)}?${Zl(a).slice(1)}${c}`}function AN({config:n}){return n.emulator?Og(n,xN):`https://${n.authDomain}/${bN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vf="webStorageSupport";class NN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kC,this._completeRedirectFn=rN,this._overrideRedirectResult=eN}async _openPopup(e,t,r,s){var i;Ur((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await Dw(e,t,r,rm(),s);return DN(e,o,Bg())}async _openRedirect(e,t,r,s){await this._originValidation(e);const i=await Dw(e,t,r,rm(),s);return LA(i),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:i}=this.eventManagers[t];return s?Promise.resolve(s):(Ur(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await EN(e),r=new iN(e);return t.register("authEvent",s=>(oe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Vf,{type:Vf},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Vf];o!==void 0&&t(!!o),Fn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=cN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return mC()||uC()||Vg()}}const MN=NN;var Pw="@firebase/auth",bw="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function VN(n){Oo(new ki("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;oe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gC(n)},c=new tA(r,s,i,l);return cA(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Oo(new ki("auth-internal",e=>{const t=Vi(e.getProvider("auth").getImmediate());return(r=>new ON(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),xs(Pw,bw,LN(n)),xs(Pw,bw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN=5*60,jN=zS("authIdTokenMaxAge")||FN;let xw=null;const BN=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>jN)return;const s=t==null?void 0:t.token;xw!==s&&(xw=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function UN(n=GS()){const e=Ag(n,"auth");if(e.isInitialized())return e.getImmediate();const t=uA(n,{popupRedirectResolver:MN,persistence:[YA,NA,kC]}),r=zS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=BN(i.toString());PA(t,o,()=>o(t.currentUser)),DA(t,a=>o(a))}}const s=HS("auth");return s&&dA(t,`http://${s}`),t}function WN(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}nA({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const i=ir("internal-error");i.customData=s,t(i)},r.type="text/javascript",r.charset="UTF-8",WN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});VN("Browser");var Rw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gi,NC;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,v){function C(){}C.prototype=v.prototype,S.D=v.prototype,S.prototype=new C,S.prototype.constructor=S,S.C=function(P,x,N){for(var b=Array(arguments.length-2),se=2;se<arguments.length;se++)b[se-2]=arguments[se];return v.prototype[x].apply(P,b)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(S,v,C){C||(C=0);var P=Array(16);if(typeof v=="string")for(var x=0;16>x;++x)P[x]=v.charCodeAt(C++)|v.charCodeAt(C++)<<8|v.charCodeAt(C++)<<16|v.charCodeAt(C++)<<24;else for(x=0;16>x;++x)P[x]=v[C++]|v[C++]<<8|v[C++]<<16|v[C++]<<24;v=S.g[0],C=S.g[1],x=S.g[2];var N=S.g[3],b=v+(N^C&(x^N))+P[0]+3614090360&4294967295;v=C+(b<<7&4294967295|b>>>25),b=N+(x^v&(C^x))+P[1]+3905402710&4294967295,N=v+(b<<12&4294967295|b>>>20),b=x+(C^N&(v^C))+P[2]+606105819&4294967295,x=N+(b<<17&4294967295|b>>>15),b=C+(v^x&(N^v))+P[3]+3250441966&4294967295,C=x+(b<<22&4294967295|b>>>10),b=v+(N^C&(x^N))+P[4]+4118548399&4294967295,v=C+(b<<7&4294967295|b>>>25),b=N+(x^v&(C^x))+P[5]+1200080426&4294967295,N=v+(b<<12&4294967295|b>>>20),b=x+(C^N&(v^C))+P[6]+2821735955&4294967295,x=N+(b<<17&4294967295|b>>>15),b=C+(v^x&(N^v))+P[7]+4249261313&4294967295,C=x+(b<<22&4294967295|b>>>10),b=v+(N^C&(x^N))+P[8]+1770035416&4294967295,v=C+(b<<7&4294967295|b>>>25),b=N+(x^v&(C^x))+P[9]+2336552879&4294967295,N=v+(b<<12&4294967295|b>>>20),b=x+(C^N&(v^C))+P[10]+4294925233&4294967295,x=N+(b<<17&4294967295|b>>>15),b=C+(v^x&(N^v))+P[11]+2304563134&4294967295,C=x+(b<<22&4294967295|b>>>10),b=v+(N^C&(x^N))+P[12]+1804603682&4294967295,v=C+(b<<7&4294967295|b>>>25),b=N+(x^v&(C^x))+P[13]+4254626195&4294967295,N=v+(b<<12&4294967295|b>>>20),b=x+(C^N&(v^C))+P[14]+2792965006&4294967295,x=N+(b<<17&4294967295|b>>>15),b=C+(v^x&(N^v))+P[15]+1236535329&4294967295,C=x+(b<<22&4294967295|b>>>10),b=v+(x^N&(C^x))+P[1]+4129170786&4294967295,v=C+(b<<5&4294967295|b>>>27),b=N+(C^x&(v^C))+P[6]+3225465664&4294967295,N=v+(b<<9&4294967295|b>>>23),b=x+(v^C&(N^v))+P[11]+643717713&4294967295,x=N+(b<<14&4294967295|b>>>18),b=C+(N^v&(x^N))+P[0]+3921069994&4294967295,C=x+(b<<20&4294967295|b>>>12),b=v+(x^N&(C^x))+P[5]+3593408605&4294967295,v=C+(b<<5&4294967295|b>>>27),b=N+(C^x&(v^C))+P[10]+38016083&4294967295,N=v+(b<<9&4294967295|b>>>23),b=x+(v^C&(N^v))+P[15]+3634488961&4294967295,x=N+(b<<14&4294967295|b>>>18),b=C+(N^v&(x^N))+P[4]+3889429448&4294967295,C=x+(b<<20&4294967295|b>>>12),b=v+(x^N&(C^x))+P[9]+568446438&4294967295,v=C+(b<<5&4294967295|b>>>27),b=N+(C^x&(v^C))+P[14]+3275163606&4294967295,N=v+(b<<9&4294967295|b>>>23),b=x+(v^C&(N^v))+P[3]+4107603335&4294967295,x=N+(b<<14&4294967295|b>>>18),b=C+(N^v&(x^N))+P[8]+1163531501&4294967295,C=x+(b<<20&4294967295|b>>>12),b=v+(x^N&(C^x))+P[13]+2850285829&4294967295,v=C+(b<<5&4294967295|b>>>27),b=N+(C^x&(v^C))+P[2]+4243563512&4294967295,N=v+(b<<9&4294967295|b>>>23),b=x+(v^C&(N^v))+P[7]+1735328473&4294967295,x=N+(b<<14&4294967295|b>>>18),b=C+(N^v&(x^N))+P[12]+2368359562&4294967295,C=x+(b<<20&4294967295|b>>>12),b=v+(C^x^N)+P[5]+4294588738&4294967295,v=C+(b<<4&4294967295|b>>>28),b=N+(v^C^x)+P[8]+2272392833&4294967295,N=v+(b<<11&4294967295|b>>>21),b=x+(N^v^C)+P[11]+1839030562&4294967295,x=N+(b<<16&4294967295|b>>>16),b=C+(x^N^v)+P[14]+4259657740&4294967295,C=x+(b<<23&4294967295|b>>>9),b=v+(C^x^N)+P[1]+2763975236&4294967295,v=C+(b<<4&4294967295|b>>>28),b=N+(v^C^x)+P[4]+1272893353&4294967295,N=v+(b<<11&4294967295|b>>>21),b=x+(N^v^C)+P[7]+4139469664&4294967295,x=N+(b<<16&4294967295|b>>>16),b=C+(x^N^v)+P[10]+3200236656&4294967295,C=x+(b<<23&4294967295|b>>>9),b=v+(C^x^N)+P[13]+681279174&4294967295,v=C+(b<<4&4294967295|b>>>28),b=N+(v^C^x)+P[0]+3936430074&4294967295,N=v+(b<<11&4294967295|b>>>21),b=x+(N^v^C)+P[3]+3572445317&4294967295,x=N+(b<<16&4294967295|b>>>16),b=C+(x^N^v)+P[6]+76029189&4294967295,C=x+(b<<23&4294967295|b>>>9),b=v+(C^x^N)+P[9]+3654602809&4294967295,v=C+(b<<4&4294967295|b>>>28),b=N+(v^C^x)+P[12]+3873151461&4294967295,N=v+(b<<11&4294967295|b>>>21),b=x+(N^v^C)+P[15]+530742520&4294967295,x=N+(b<<16&4294967295|b>>>16),b=C+(x^N^v)+P[2]+3299628645&4294967295,C=x+(b<<23&4294967295|b>>>9),b=v+(x^(C|~N))+P[0]+4096336452&4294967295,v=C+(b<<6&4294967295|b>>>26),b=N+(C^(v|~x))+P[7]+1126891415&4294967295,N=v+(b<<10&4294967295|b>>>22),b=x+(v^(N|~C))+P[14]+2878612391&4294967295,x=N+(b<<15&4294967295|b>>>17),b=C+(N^(x|~v))+P[5]+4237533241&4294967295,C=x+(b<<21&4294967295|b>>>11),b=v+(x^(C|~N))+P[12]+1700485571&4294967295,v=C+(b<<6&4294967295|b>>>26),b=N+(C^(v|~x))+P[3]+2399980690&4294967295,N=v+(b<<10&4294967295|b>>>22),b=x+(v^(N|~C))+P[10]+4293915773&4294967295,x=N+(b<<15&4294967295|b>>>17),b=C+(N^(x|~v))+P[1]+2240044497&4294967295,C=x+(b<<21&4294967295|b>>>11),b=v+(x^(C|~N))+P[8]+1873313359&4294967295,v=C+(b<<6&4294967295|b>>>26),b=N+(C^(v|~x))+P[15]+4264355552&4294967295,N=v+(b<<10&4294967295|b>>>22),b=x+(v^(N|~C))+P[6]+2734768916&4294967295,x=N+(b<<15&4294967295|b>>>17),b=C+(N^(x|~v))+P[13]+1309151649&4294967295,C=x+(b<<21&4294967295|b>>>11),b=v+(x^(C|~N))+P[4]+4149444226&4294967295,v=C+(b<<6&4294967295|b>>>26),b=N+(C^(v|~x))+P[11]+3174756917&4294967295,N=v+(b<<10&4294967295|b>>>22),b=x+(v^(N|~C))+P[2]+718787259&4294967295,x=N+(b<<15&4294967295|b>>>17),b=C+(N^(x|~v))+P[9]+3951481745&4294967295,S.g[0]=S.g[0]+v&4294967295,S.g[1]=S.g[1]+(x+(b<<21&4294967295|b>>>11))&4294967295,S.g[2]=S.g[2]+x&4294967295,S.g[3]=S.g[3]+N&4294967295}r.prototype.u=function(S,v){v===void 0&&(v=S.length);for(var C=v-this.blockSize,P=this.B,x=this.h,N=0;N<v;){if(x==0)for(;N<=C;)s(this,S,N),N+=this.blockSize;if(typeof S=="string"){for(;N<v;)if(P[x++]=S.charCodeAt(N++),x==this.blockSize){s(this,P),x=0;break}}else for(;N<v;)if(P[x++]=S[N++],x==this.blockSize){s(this,P),x=0;break}}this.h=x,this.o+=v},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var v=1;v<S.length-8;++v)S[v]=0;var C=8*this.o;for(v=S.length-8;v<S.length;++v)S[v]=C&255,C/=256;for(this.u(S),S=Array(16),v=C=0;4>v;++v)for(var P=0;32>P;P+=8)S[C++]=this.g[v]>>>P&255;return S};function i(S,v){var C=a;return Object.prototype.hasOwnProperty.call(C,S)?C[S]:C[S]=v(S)}function o(S,v){this.h=v;for(var C=[],P=!0,x=S.length-1;0<=x;x--){var N=S[x]|0;P&&N==v||(C[x]=N,P=!1)}this.g=C}var a={};function l(S){return-128<=S&&128>S?i(S,function(v){return new o([v|0],0>v?-1:0)}):new o([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return h;if(0>S)return I(c(-S));for(var v=[],C=1,P=0;S>=C;P++)v[P]=S/C|0,C*=4294967296;return new o(v,0)}function d(S,v){if(S.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(S.charAt(0)=="-")return I(d(S.substring(1),v));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=c(Math.pow(v,8)),P=h,x=0;x<S.length;x+=8){var N=Math.min(8,S.length-x),b=parseInt(S.substring(x,x+N),v);8>N?(N=c(Math.pow(v,N)),P=P.j(N).add(c(b))):(P=P.j(C),P=P.add(c(b)))}return P}var h=l(0),p=l(1),g=l(16777216);n=o.prototype,n.m=function(){if(D(this))return-I(this).m();for(var S=0,v=1,C=0;C<this.g.length;C++){var P=this.i(C);S+=(0<=P?P:4294967296+P)*v,v*=4294967296}return S},n.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(_(this))return"0";if(D(this))return"-"+I(this).toString(S);for(var v=c(Math.pow(S,6)),C=this,P="";;){var x=A(C,v).g;C=w(C,x.j(v));var N=((0<C.g.length?C.g[0]:C.h)>>>0).toString(S);if(C=x,_(C))return N+P;for(;6>N.length;)N="0"+N;P=N+P}},n.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function _(S){if(S.h!=0)return!1;for(var v=0;v<S.g.length;v++)if(S.g[v]!=0)return!1;return!0}function D(S){return S.h==-1}n.l=function(S){return S=w(this,S),D(S)?-1:_(S)?0:1};function I(S){for(var v=S.g.length,C=[],P=0;P<v;P++)C[P]=~S.g[P];return new o(C,~S.h).add(p)}n.abs=function(){return D(this)?I(this):this},n.add=function(S){for(var v=Math.max(this.g.length,S.g.length),C=[],P=0,x=0;x<=v;x++){var N=P+(this.i(x)&65535)+(S.i(x)&65535),b=(N>>>16)+(this.i(x)>>>16)+(S.i(x)>>>16);P=b>>>16,N&=65535,b&=65535,C[x]=b<<16|N}return new o(C,C[C.length-1]&-2147483648?-1:0)};function w(S,v){return S.add(I(v))}n.j=function(S){if(_(this)||_(S))return h;if(D(this))return D(S)?I(this).j(I(S)):I(I(this).j(S));if(D(S))return I(this.j(I(S)));if(0>this.l(g)&&0>S.l(g))return c(this.m()*S.m());for(var v=this.g.length+S.g.length,C=[],P=0;P<2*v;P++)C[P]=0;for(P=0;P<this.g.length;P++)for(var x=0;x<S.g.length;x++){var N=this.i(P)>>>16,b=this.i(P)&65535,se=S.i(x)>>>16,re=S.i(x)&65535;C[2*P+2*x]+=b*re,y(C,2*P+2*x),C[2*P+2*x+1]+=N*re,y(C,2*P+2*x+1),C[2*P+2*x+1]+=b*se,y(C,2*P+2*x+1),C[2*P+2*x+2]+=N*se,y(C,2*P+2*x+2)}for(P=0;P<v;P++)C[P]=C[2*P+1]<<16|C[2*P];for(P=v;P<2*v;P++)C[P]=0;return new o(C,0)};function y(S,v){for(;(S[v]&65535)!=S[v];)S[v+1]+=S[v]>>>16,S[v]&=65535,v++}function T(S,v){this.g=S,this.h=v}function A(S,v){if(_(v))throw Error("division by zero");if(_(S))return new T(h,h);if(D(S))return v=A(I(S),v),new T(I(v.g),I(v.h));if(D(v))return v=A(S,I(v)),new T(I(v.g),v.h);if(30<S.g.length){if(D(S)||D(v))throw Error("slowDivide_ only works with positive integers.");for(var C=p,P=v;0>=P.l(S);)C=L(C),P=L(P);var x=M(C,1),N=M(P,1);for(P=M(P,2),C=M(C,2);!_(P);){var b=N.add(P);0>=b.l(S)&&(x=x.add(C),N=b),P=M(P,1),C=M(C,1)}return v=w(S,x.j(v)),new T(x,v)}for(x=h;0<=S.l(v);){for(C=Math.max(1,Math.floor(S.m()/v.m())),P=Math.ceil(Math.log(C)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),N=c(C),b=N.j(v);D(b)||0<b.l(S);)C-=P,N=c(C),b=N.j(v);_(N)&&(N=p),x=x.add(N),S=w(S,b)}return new T(x,S)}n.A=function(S){return A(this,S).h},n.and=function(S){for(var v=Math.max(this.g.length,S.g.length),C=[],P=0;P<v;P++)C[P]=this.i(P)&S.i(P);return new o(C,this.h&S.h)},n.or=function(S){for(var v=Math.max(this.g.length,S.g.length),C=[],P=0;P<v;P++)C[P]=this.i(P)|S.i(P);return new o(C,this.h|S.h)},n.xor=function(S){for(var v=Math.max(this.g.length,S.g.length),C=[],P=0;P<v;P++)C[P]=this.i(P)^S.i(P);return new o(C,this.h^S.h)};function L(S){for(var v=S.g.length+1,C=[],P=0;P<v;P++)C[P]=S.i(P)<<1|S.i(P-1)>>>31;return new o(C,S.h)}function M(S,v){var C=v>>5;v%=32;for(var P=S.g.length-C,x=[],N=0;N<P;N++)x[N]=0<v?S.i(N+C)>>>v|S.i(N+C+1)<<32-v:S.i(N+C);return new o(x,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,NC=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,gi=o}).apply(typeof Rw<"u"?Rw:typeof self<"u"?self:typeof window<"u"?window:{});var ec=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var MC,Ha,OC,Pc,am,LC,VC,FC;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,f,m){return u==Array.prototype||u==Object.prototype||(u[f]=m.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ec=="object"&&ec];for(var f=0;f<u.length;++f){var m=u[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=t(this);function s(u,f){if(f)e:{var m=r;u=u.split(".");for(var k=0;k<u.length-1;k++){var O=u[k];if(!(O in m))break e;m=m[O]}u=u[u.length-1],k=m[u],f=f(k),f!=k&&f!=null&&e(m,u,{configurable:!0,writable:!0,value:f})}}function i(u,f){u instanceof String&&(u+="");var m=0,k=!1,O={next:function(){if(!k&&m<u.length){var V=m++;return{value:f(V,u[V]),done:!1}}return k=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}s("Array.prototype.values",function(u){return u||function(){return i(this,function(f,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var f=typeof u;return f=f!="object"?f:u?Array.isArray(u)?"array":f:"null",f=="array"||f=="object"&&typeof u.length=="number"}function c(u){var f=typeof u;return f=="object"&&u!=null||f=="function"}function d(u,f,m){return u.call.apply(u.bind,arguments)}function h(u,f,m){if(!u)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,k),u.apply(f,O)}}return function(){return u.apply(f,arguments)}}function p(u,f,m){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,p.apply(null,arguments)}function g(u,f){var m=Array.prototype.slice.call(arguments,1);return function(){var k=m.slice();return k.push.apply(k,arguments),u.apply(this,k)}}function _(u,f){function m(){}m.prototype=f.prototype,u.aa=f.prototype,u.prototype=new m,u.prototype.constructor=u,u.Qb=function(k,O,V){for(var Y=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)Y[Le-2]=arguments[Le];return f.prototype[O].apply(k,Y)}}function D(u){const f=u.length;if(0<f){const m=Array(f);for(let k=0;k<f;k++)m[k]=u[k];return m}return[]}function I(u,f){for(let m=1;m<arguments.length;m++){const k=arguments[m];if(l(k)){const O=u.length||0,V=k.length||0;u.length=O+V;for(let Y=0;Y<V;Y++)u[O+Y]=k[Y]}else u.push(k)}}class w{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function y(u){return/^[\s\xa0]*$/.test(u)}function T(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function A(u){return A[" "](u),u}A[" "]=function(){};var L=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function M(u,f,m){for(const k in u)f.call(m,u[k],k,u)}function S(u,f){for(const m in u)f.call(void 0,u[m],m,u)}function v(u){const f={};for(const m in u)f[m]=u[m];return f}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(u,f){let m,k;for(let O=1;O<arguments.length;O++){k=arguments[O];for(m in k)u[m]=k[m];for(let V=0;V<C.length;V++)m=C[V],Object.prototype.hasOwnProperty.call(k,m)&&(u[m]=k[m])}}function x(u){var f=1;u=u.split(":");const m=[];for(;0<f&&u.length;)m.push(u.shift()),f--;return u.length&&m.push(u.join(":")),m}function N(u){a.setTimeout(()=>{throw u},0)}function b(){var u=F;let f=null;return u.g&&(f=u.g,u.g=u.g.next,u.g||(u.h=null),f.next=null),f}class se{constructor(){this.h=this.g=null}add(f,m){const k=re.get();k.set(f,m),this.h?this.h.next=k:this.g=k,this.h=k}}var re=new w(()=>new ee,u=>u.reset());class ee{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,B=!1,F=new se,H=()=>{const u=a.Promise.resolve(void 0);ie=()=>{u.then(Q)}};var Q=()=>{for(var u;u=b();){try{u.h.call(u.g)}catch(m){N(m)}var f=re;f.j(u),100>f.h&&(f.h++,u.next=f.g,f.g=u)}B=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(u,f){this.type=u,this.g=this.target=f,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var De=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,f=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const m=()=>{};a.addEventListener("test",m,f),a.removeEventListener("test",m,f)}catch{}return u}();function Se(u,f){if(le.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var m=this.type=u.type,k=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=f,f=u.relatedTarget){if(L){e:{try{A(f.nodeName);var O=!0;break e}catch{}O=!1}O||(f=null)}}else m=="mouseover"?f=u.fromElement:m=="mouseout"&&(f=u.toElement);this.relatedTarget=f,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:ge[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Se.aa.h.call(this)}}_(Se,le);var ge={2:"touch",3:"pen",4:"mouse"};Se.prototype.h=function(){Se.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var $e="closure_listenable_"+(1e6*Math.random()|0),yt=0;function Gr(u,f,m,k,O){this.listener=u,this.proxy=null,this.src=f,this.type=m,this.capture=!!k,this.ha=O,this.key=++yt,this.da=this.fa=!1}function Dn(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Xr(u){this.src=u,this.g={},this.h=0}Xr.prototype.add=function(u,f,m,k,O){var V=u.toString();u=this.g[V],u||(u=this.g[V]=[],this.h++);var Y=Ge(u,f,k,O);return-1<Y?(f=u[Y],m||(f.fa=!1)):(f=new Gr(f,this.src,V,!!k,O),f.fa=m,u.push(f)),f};function Wi(u,f){var m=f.type;if(m in u.g){var k=u.g[m],O=Array.prototype.indexOf.call(k,f,void 0),V;(V=0<=O)&&Array.prototype.splice.call(k,O,1),V&&(Dn(f),u.g[m].length==0&&(delete u.g[m],u.h--))}}function Ge(u,f,m,k){for(var O=0;O<u.length;++O){var V=u[O];if(!V.da&&V.listener==f&&V.capture==!!m&&V.ha==k)return O}return-1}var ht="closure_lm_"+(1e6*Math.random()|0),Un={};function pr(u,f,m,k,O){if(Array.isArray(f)){for(var V=0;V<f.length;V++)pr(u,f[V],m,k,O);return null}return m=$v(m),u&&u[$e]?u.K(f,m,c(k)?!!k.capture:!1,O):Jr(u,f,m,!1,k,O)}function Jr(u,f,m,k,O,V){if(!f)throw Error("Invalid event type");var Y=c(O)?!!O.capture:!!O,Le=Vh(u);if(Le||(u[ht]=Le=new Xr(u)),m=Le.add(f,m,k,Y,V),m.proxy)return m;if(k=$i(),m.proxy=k,k.src=u,k.listener=m,u.addEventListener)De||(O=Y),O===void 0&&(O=!1),u.addEventListener(f.toString(),k,O);else if(u.attachEvent)u.attachEvent(Wv(f.toString()),k);else if(u.addListener&&u.removeListener)u.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return m}function $i(){function u(m){return f.call(u.src,u.listener,m)}const f=QI;return u}function Uv(u,f,m,k,O){if(Array.isArray(f))for(var V=0;V<f.length;V++)Uv(u,f[V],m,k,O);else k=c(k)?!!k.capture:!!k,m=$v(m),u&&u[$e]?(u=u.i,f=String(f).toString(),f in u.g&&(V=u.g[f],m=Ge(V,m,k,O),-1<m&&(Dn(V[m]),Array.prototype.splice.call(V,m,1),V.length==0&&(delete u.g[f],u.h--)))):u&&(u=Vh(u))&&(f=u.g[f.toString()],u=-1,f&&(u=Ge(f,m,k,O)),(m=-1<u?f[u]:null)&&Lh(m))}function Lh(u){if(typeof u!="number"&&u&&!u.da){var f=u.src;if(f&&f[$e])Wi(f.i,u);else{var m=u.type,k=u.proxy;f.removeEventListener?f.removeEventListener(m,k,u.capture):f.detachEvent?f.detachEvent(Wv(m),k):f.addListener&&f.removeListener&&f.removeListener(k),(m=Vh(f))?(Wi(m,u),m.h==0&&(m.src=null,f[ht]=null)):Dn(u)}}}function Wv(u){return u in Un?Un[u]:Un[u]="on"+u}function QI(u,f){if(u.da)u=!0;else{f=new Se(f,this);var m=u.listener,k=u.ha||u.src;u.fa&&Lh(u),u=m.call(k,f)}return u}function Vh(u){return u=u[ht],u instanceof Xr?u:null}var Fh="__closure_events_fn_"+(1e9*Math.random()>>>0);function $v(u){return typeof u=="function"?u:(u[Fh]||(u[Fh]=function(f){return u.handleEvent(f)}),u[Fh])}function xt(){J.call(this),this.i=new Xr(this),this.M=this,this.F=null}_(xt,J),xt.prototype[$e]=!0,xt.prototype.removeEventListener=function(u,f,m,k){Uv(this,u,f,m,k)};function $t(u,f){var m,k=u.F;if(k)for(m=[];k;k=k.F)m.push(k);if(u=u.M,k=f.type||f,typeof f=="string")f=new le(f,u);else if(f instanceof le)f.target=f.target||u;else{var O=f;f=new le(k,u),P(f,O)}if(O=!0,m)for(var V=m.length-1;0<=V;V--){var Y=f.g=m[V];O=wu(Y,k,!0,f)&&O}if(Y=f.g=u,O=wu(Y,k,!0,f)&&O,O=wu(Y,k,!1,f)&&O,m)for(V=0;V<m.length;V++)Y=f.g=m[V],O=wu(Y,k,!1,f)&&O}xt.prototype.N=function(){if(xt.aa.N.call(this),this.i){var u=this.i,f;for(f in u.g){for(var m=u.g[f],k=0;k<m.length;k++)Dn(m[k]);delete u.g[f],u.h--}}this.F=null},xt.prototype.K=function(u,f,m,k){return this.i.add(String(u),f,!1,m,k)},xt.prototype.L=function(u,f,m,k){return this.i.add(String(u),f,!0,m,k)};function wu(u,f,m,k){if(f=u.i.g[String(f)],!f)return!0;f=f.concat();for(var O=!0,V=0;V<f.length;++V){var Y=f[V];if(Y&&!Y.da&&Y.capture==m){var Le=Y.listener,_t=Y.ha||Y.src;Y.fa&&Wi(u.i,Y),O=Le.call(_t,k)!==!1&&O}}return O&&!k.defaultPrevented}function Hv(u,f,m){if(typeof u=="function")m&&(u=p(u,m));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(u,f||0)}function Yv(u){u.g=Hv(()=>{u.g=null,u.i&&(u.i=!1,Yv(u))},u.l);const f=u.h;u.h=null,u.m.apply(null,f)}class KI extends J{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Yv(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function da(u){J.call(this),this.h=u,this.g={}}_(da,J);var zv=[];function qv(u){M(u.g,function(f,m){this.g.hasOwnProperty(m)&&Lh(f)},u),u.g={}}da.prototype.N=function(){da.aa.N.call(this),qv(this)},da.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jh=a.JSON.stringify,GI=a.JSON.parse,XI=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Bh(){}Bh.prototype.h=null;function Qv(u){return u.h||(u.h=u.i())}function Kv(){}var ha={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Uh(){le.call(this,"d")}_(Uh,le);function Wh(){le.call(this,"c")}_(Wh,le);var Xs={},Gv=null;function Eu(){return Gv=Gv||new xt}Xs.La="serverreachability";function Xv(u){le.call(this,Xs.La,u)}_(Xv,le);function fa(u){const f=Eu();$t(f,new Xv(f))}Xs.STAT_EVENT="statevent";function Jv(u,f){le.call(this,Xs.STAT_EVENT,u),this.stat=f}_(Jv,le);function Ht(u){const f=Eu();$t(f,new Jv(f,u))}Xs.Ma="timingevent";function Zv(u,f){le.call(this,Xs.Ma,u),this.size=f}_(Zv,le);function pa(u,f){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},f)}function ma(){this.g=!0}ma.prototype.xa=function(){this.g=!1};function JI(u,f,m,k,O,V){u.info(function(){if(u.g)if(V)for(var Y="",Le=V.split("&"),_t=0;_t<Le.length;_t++){var Ie=Le[_t].split("=");if(1<Ie.length){var Rt=Ie[0];Ie=Ie[1];var At=Rt.split("_");Y=2<=At.length&&At[1]=="type"?Y+(Rt+"="+Ie+"&"):Y+(Rt+"=redacted&")}}else Y=null;else Y=V;return"XMLHTTP REQ ("+k+") [attempt "+O+"]: "+f+`
`+m+`
`+Y})}function ZI(u,f,m,k,O,V,Y){u.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+O+"]: "+f+`
`+m+`
`+V+" "+Y})}function Hi(u,f,m,k){u.info(function(){return"XMLHTTP TEXT ("+f+"): "+tk(u,m)+(k?" "+k:"")})}function ek(u,f){u.info(function(){return"TIMEOUT: "+f})}ma.prototype.info=function(){};function tk(u,f){if(!u.g)return f;if(!f)return null;try{var m=JSON.parse(f);if(m){for(u=0;u<m.length;u++)if(Array.isArray(m[u])){var k=m[u];if(!(2>k.length)){var O=k[1];if(Array.isArray(O)&&!(1>O.length)){var V=O[0];if(V!="noop"&&V!="stop"&&V!="close")for(var Y=1;Y<O.length;Y++)O[Y]=""}}}}return jh(m)}catch{return f}}var Tu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ey={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$h;function Su(){}_(Su,Bh),Su.prototype.g=function(){return new XMLHttpRequest},Su.prototype.i=function(){return{}},$h=new Su;function Zr(u,f,m,k){this.j=u,this.i=f,this.l=m,this.R=k||1,this.U=new da(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ty}function ty(){this.i=null,this.g="",this.h=!1}var ny={},Hh={};function Yh(u,f,m){u.L=1,u.v=Du(mr(f)),u.m=m,u.P=!0,ry(u,null)}function ry(u,f){u.F=Date.now(),Cu(u),u.A=mr(u.v);var m=u.A,k=u.R;Array.isArray(k)||(k=[String(k)]),vy(m.i,"t",k),u.C=0,m=u.j.J,u.h=new ty,u.g=Oy(u.j,m?f:null,!u.m),0<u.O&&(u.M=new KI(p(u.Y,u,u.g),u.O)),f=u.U,m=u.g,k=u.ca;var O="readystatechange";Array.isArray(O)||(O&&(zv[0]=O.toString()),O=zv);for(var V=0;V<O.length;V++){var Y=pr(m,O[V],k||f.handleEvent,!1,f.h||f);if(!Y)break;f.g[Y.key]=Y}f=u.H?v(u.H):{},u.m?(u.u||(u.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,f)):(u.u="GET",u.g.ea(u.A,u.u,null,f)),fa(),JI(u.i,u.u,u.A,u.l,u.R,u.m)}Zr.prototype.ca=function(u){u=u.target;const f=this.M;f&&gr(u)==3?f.j():this.Y(u)},Zr.prototype.Y=function(u){try{if(u==this.g)e:{const At=gr(this.g);var f=this.g.Ba();const qi=this.g.Z();if(!(3>At)&&(At!=3||this.g&&(this.h.h||this.g.oa()||Cy(this.g)))){this.J||At!=4||f==7||(f==8||0>=qi?fa(3):fa(2)),zh(this);var m=this.g.Z();this.X=m;t:if(sy(this)){var k=Cy(this.g);u="";var O=k.length,V=gr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Js(this),ga(this);var Y="";break t}this.h.i=new a.TextDecoder}for(f=0;f<O;f++)this.h.h=!0,u+=this.h.i.decode(k[f],{stream:!(V&&f==O-1)});k.length=0,this.h.g+=u,this.C=0,Y=this.h.g}else Y=this.g.oa();if(this.o=m==200,ZI(this.i,this.u,this.A,this.l,this.R,At,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,_t=this.g;if((Le=_t.g?_t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Le)){var Ie=Le;break t}}Ie=null}if(m=Ie)Hi(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qh(this,m);else{this.o=!1,this.s=3,Ht(12),Js(this),ga(this);break e}}if(this.P){m=!0;let Pn;for(;!this.J&&this.C<Y.length;)if(Pn=nk(this,Y),Pn==Hh){At==4&&(this.s=4,Ht(14),m=!1),Hi(this.i,this.l,null,"[Incomplete Response]");break}else if(Pn==ny){this.s=4,Ht(15),Hi(this.i,this.l,Y,"[Invalid Chunk]"),m=!1;break}else Hi(this.i,this.l,Pn,null),qh(this,Pn);if(sy(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||Y.length!=0||this.h.h||(this.s=1,Ht(16),m=!1),this.o=this.o&&m,!m)Hi(this.i,this.l,Y,"[Invalid Chunked Response]"),Js(this),ga(this);else if(0<Y.length&&!this.W){this.W=!0;var Rt=this.j;Rt.g==this&&Rt.ba&&!Rt.M&&(Rt.j.info("Great, no buffering proxy detected. Bytes received: "+Y.length),Zh(Rt),Rt.M=!0,Ht(11))}}else Hi(this.i,this.l,Y,null),qh(this,Y);At==4&&Js(this),this.o&&!this.J&&(At==4?Ry(this.j,this):(this.o=!1,Cu(this)))}else _k(this.g),m==400&&0<Y.indexOf("Unknown SID")?(this.s=3,Ht(12)):(this.s=0,Ht(13)),Js(this),ga(this)}}}catch{}finally{}};function sy(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function nk(u,f){var m=u.C,k=f.indexOf(`
`,m);return k==-1?Hh:(m=Number(f.substring(m,k)),isNaN(m)?ny:(k+=1,k+m>f.length?Hh:(f=f.slice(k,k+m),u.C=k+m,f)))}Zr.prototype.cancel=function(){this.J=!0,Js(this)};function Cu(u){u.S=Date.now()+u.I,iy(u,u.I)}function iy(u,f){if(u.B!=null)throw Error("WatchDog timer not null");u.B=pa(p(u.ba,u),f)}function zh(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Zr.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(ek(this.i,this.A),this.L!=2&&(fa(),Ht(17)),Js(this),this.s=2,ga(this)):iy(this,this.S-u)};function ga(u){u.j.G==0||u.J||Ry(u.j,u)}function Js(u){zh(u);var f=u.M;f&&typeof f.ma=="function"&&f.ma(),u.M=null,qv(u.U),u.g&&(f=u.g,u.g=null,f.abort(),f.ma())}function qh(u,f){try{var m=u.j;if(m.G!=0&&(m.g==u||Qh(m.h,u))){if(!u.K&&Qh(m.h,u)&&m.G==3){try{var k=m.Da.g.parse(f)}catch{k=null}if(Array.isArray(k)&&k.length==3){var O=k;if(O[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<u.F)Nu(m),Ru(m);else break e;Jh(m),Ht(18)}}else m.za=O[1],0<m.za-m.T&&37500>O[2]&&m.F&&m.v==0&&!m.C&&(m.C=pa(p(m.Za,m),6e3));if(1>=ly(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else ei(m,11)}else if((u.K||m.g==u)&&Nu(m),!y(f))for(O=m.Da.g.parse(f),f=0;f<O.length;f++){let Ie=O[f];if(m.T=Ie[0],Ie=Ie[1],m.G==2)if(Ie[0]=="c"){m.K=Ie[1],m.ia=Ie[2];const Rt=Ie[3];Rt!=null&&(m.la=Rt,m.j.info("VER="+m.la));const At=Ie[4];At!=null&&(m.Aa=At,m.j.info("SVER="+m.Aa));const qi=Ie[5];qi!=null&&typeof qi=="number"&&0<qi&&(k=1.5*qi,m.L=k,m.j.info("backChannelRequestTimeoutMs_="+k)),k=m;const Pn=u.g;if(Pn){const Ou=Pn.g?Pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ou){var V=k.h;V.g||Ou.indexOf("spdy")==-1&&Ou.indexOf("quic")==-1&&Ou.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Kh(V,V.h),V.h=null))}if(k.D){const ef=Pn.g?Pn.g.getResponseHeader("X-HTTP-Session-Id"):null;ef&&(k.ya=ef,Fe(k.I,k.D,ef))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-u.F,m.j.info("Handshake RTT: "+m.R+"ms")),k=m;var Y=u;if(k.qa=My(k,k.J?k.ia:null,k.W),Y.K){uy(k.h,Y);var Le=Y,_t=k.L;_t&&(Le.I=_t),Le.B&&(zh(Le),Cu(Le)),k.g=Y}else by(k);0<m.i.length&&Au(m)}else Ie[0]!="stop"&&Ie[0]!="close"||ei(m,7);else m.G==3&&(Ie[0]=="stop"||Ie[0]=="close"?Ie[0]=="stop"?ei(m,7):Xh(m):Ie[0]!="noop"&&m.l&&m.l.ta(Ie),m.v=0)}}fa(4)}catch{}}var rk=class{constructor(u,f){this.g=u,this.map=f}};function oy(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ay(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ly(u){return u.h?1:u.g?u.g.size:0}function Qh(u,f){return u.h?u.h==f:u.g?u.g.has(f):!1}function Kh(u,f){u.g?u.g.add(f):u.h=f}function uy(u,f){u.h&&u.h==f?u.h=null:u.g&&u.g.has(f)&&u.g.delete(f)}oy.prototype.cancel=function(){if(this.i=cy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function cy(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let f=u.i;for(const m of u.g.values())f=f.concat(m.D);return f}return D(u.i)}function sk(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var f=[],m=u.length,k=0;k<m;k++)f.push(u[k]);return f}f=[],m=0;for(k in u)f[m++]=u[k];return f}function ik(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var f=[];u=u.length;for(var m=0;m<u;m++)f.push(m);return f}f=[],m=0;for(const k in u)f[m++]=k;return f}}}function dy(u,f){if(u.forEach&&typeof u.forEach=="function")u.forEach(f,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,f,void 0);else for(var m=ik(u),k=sk(u),O=k.length,V=0;V<O;V++)f.call(void 0,k[V],m&&m[V],u)}var hy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ok(u,f){if(u){u=u.split("&");for(var m=0;m<u.length;m++){var k=u[m].indexOf("="),O=null;if(0<=k){var V=u[m].substring(0,k);O=u[m].substring(k+1)}else V=u[m];f(V,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function Zs(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Zs){this.h=u.h,Iu(this,u.j),this.o=u.o,this.g=u.g,ku(this,u.s),this.l=u.l;var f=u.i,m=new _a;m.i=f.i,f.g&&(m.g=new Map(f.g),m.h=f.h),fy(this,m),this.m=u.m}else u&&(f=String(u).match(hy))?(this.h=!1,Iu(this,f[1]||"",!0),this.o=va(f[2]||""),this.g=va(f[3]||"",!0),ku(this,f[4]),this.l=va(f[5]||"",!0),fy(this,f[6]||"",!0),this.m=va(f[7]||"")):(this.h=!1,this.i=new _a(null,this.h))}Zs.prototype.toString=function(){var u=[],f=this.j;f&&u.push(ya(f,py,!0),":");var m=this.g;return(m||f=="file")&&(u.push("//"),(f=this.o)&&u.push(ya(f,py,!0),"@"),u.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&u.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&u.push("/"),u.push(ya(m,m.charAt(0)=="/"?uk:lk,!0))),(m=this.i.toString())&&u.push("?",m),(m=this.m)&&u.push("#",ya(m,dk)),u.join("")};function mr(u){return new Zs(u)}function Iu(u,f,m){u.j=m?va(f,!0):f,u.j&&(u.j=u.j.replace(/:$/,""))}function ku(u,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);u.s=f}else u.s=null}function fy(u,f,m){f instanceof _a?(u.i=f,hk(u.i,u.h)):(m||(f=ya(f,ck)),u.i=new _a(f,u.h))}function Fe(u,f,m){u.i.set(f,m)}function Du(u){return Fe(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function va(u,f){return u?f?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ya(u,f,m){return typeof u=="string"?(u=encodeURI(u).replace(f,ak),m&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function ak(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var py=/[#\/\?@]/g,lk=/[#\?:]/g,uk=/[#\?]/g,ck=/[#\?@]/g,dk=/#/g;function _a(u,f){this.h=this.g=null,this.i=u||null,this.j=!!f}function es(u){u.g||(u.g=new Map,u.h=0,u.i&&ok(u.i,function(f,m){u.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}n=_a.prototype,n.add=function(u,f){es(this),this.i=null,u=Yi(this,u);var m=this.g.get(u);return m||this.g.set(u,m=[]),m.push(f),this.h+=1,this};function my(u,f){es(u),f=Yi(u,f),u.g.has(f)&&(u.i=null,u.h-=u.g.get(f).length,u.g.delete(f))}function gy(u,f){return es(u),f=Yi(u,f),u.g.has(f)}n.forEach=function(u,f){es(this),this.g.forEach(function(m,k){m.forEach(function(O){u.call(f,O,k,this)},this)},this)},n.na=function(){es(this);const u=Array.from(this.g.values()),f=Array.from(this.g.keys()),m=[];for(let k=0;k<f.length;k++){const O=u[k];for(let V=0;V<O.length;V++)m.push(f[k])}return m},n.V=function(u){es(this);let f=[];if(typeof u=="string")gy(this,u)&&(f=f.concat(this.g.get(Yi(this,u))));else{u=Array.from(this.g.values());for(let m=0;m<u.length;m++)f=f.concat(u[m])}return f},n.set=function(u,f){return es(this),this.i=null,u=Yi(this,u),gy(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[f]),this.h+=1,this},n.get=function(u,f){return u?(u=this.V(u),0<u.length?String(u[0]):f):f};function vy(u,f,m){my(u,f),0<m.length&&(u.i=null,u.g.set(Yi(u,f),D(m)),u.h+=m.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],f=Array.from(this.g.keys());for(var m=0;m<f.length;m++){var k=f[m];const V=encodeURIComponent(String(k)),Y=this.V(k);for(k=0;k<Y.length;k++){var O=V;Y[k]!==""&&(O+="="+encodeURIComponent(String(Y[k]))),u.push(O)}}return this.i=u.join("&")};function Yi(u,f){return f=String(f),u.j&&(f=f.toLowerCase()),f}function hk(u,f){f&&!u.j&&(es(u),u.i=null,u.g.forEach(function(m,k){var O=k.toLowerCase();k!=O&&(my(this,k),vy(this,O,m))},u)),u.j=f}function fk(u,f){const m=new ma;if(a.Image){const k=new Image;k.onload=g(ts,m,"TestLoadImage: loaded",!0,f,k),k.onerror=g(ts,m,"TestLoadImage: error",!1,f,k),k.onabort=g(ts,m,"TestLoadImage: abort",!1,f,k),k.ontimeout=g(ts,m,"TestLoadImage: timeout",!1,f,k),a.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=u}else f(!1)}function pk(u,f){const m=new ma,k=new AbortController,O=setTimeout(()=>{k.abort(),ts(m,"TestPingServer: timeout",!1,f)},1e4);fetch(u,{signal:k.signal}).then(V=>{clearTimeout(O),V.ok?ts(m,"TestPingServer: ok",!0,f):ts(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(O),ts(m,"TestPingServer: error",!1,f)})}function ts(u,f,m,k,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),k(m)}catch{}}function mk(){this.g=new XI}function gk(u,f,m){const k=m||"";try{dy(u,function(O,V){let Y=O;c(O)&&(Y=jh(O)),f.push(k+V+"="+encodeURIComponent(Y))})}catch(O){throw f.push(k+"type="+encodeURIComponent("_badmap")),O}}function Pu(u){this.l=u.Ub||null,this.j=u.eb||!1}_(Pu,Bh),Pu.prototype.g=function(){return new bu(this.l,this.j)},Pu.prototype.i=function(u){return function(){return u}}({});function bu(u,f){xt.call(this),this.D=u,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(bu,xt),n=bu.prototype,n.open=function(u,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=f,this.readyState=1,Ea(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(f.body=u),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wa(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ea(this)),this.g&&(this.readyState=3,Ea(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;yy(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function yy(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var f=u.value?u.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!u.done}))&&(this.response=this.responseText+=f)}u.done?wa(this):Ea(this),this.readyState==3&&yy(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,wa(this))},n.Qa=function(u){this.g&&(this.response=u,wa(this))},n.ga=function(){this.g&&wa(this)};function wa(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Ea(u)}n.setRequestHeader=function(u,f){this.u.append(u,f)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,u.push(m[0]+": "+m[1]),m=f.next();return u.join(`\r
`)};function Ea(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(bu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function _y(u){let f="";return M(u,function(m,k){f+=k,f+=":",f+=m,f+=`\r
`}),f}function Gh(u,f,m){e:{for(k in m){var k=!1;break e}k=!0}k||(m=_y(m),typeof u=="string"?m!=null&&encodeURIComponent(String(m)):Fe(u,f,m))}function Xe(u){xt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(Xe,xt);var vk=/^https?$/i,yk=["POST","PUT"];n=Xe.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,f,m,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);f=f?f.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$h.g(),this.v=this.o?Qv(this.o):Qv($h),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(f,String(u),!0),this.B=!1}catch(V){wy(this,V);return}if(u=m||"",m=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var O in k)m.set(O,k[O]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const V of k.keys())m.set(V,k.get(V));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(m.keys()).find(V=>V.toLowerCase()=="content-type"),O=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(yk,f,void 0))||k||O||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,Y]of m)this.g.setRequestHeader(V,Y);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Sy(this),this.u=!0,this.g.send(u),this.u=!1}catch(V){wy(this,V)}};function wy(u,f){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=f,u.m=5,Ey(u),xu(u)}function Ey(u){u.A||(u.A=!0,$t(u,"complete"),$t(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,$t(this,"complete"),$t(this,"abort"),xu(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xu(this,!0)),Xe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ty(this):this.bb())},n.bb=function(){Ty(this)};function Ty(u){if(u.h&&typeof o<"u"&&(!u.v[1]||gr(u)!=4||u.Z()!=2)){if(u.u&&gr(u)==4)Hv(u.Ea,0,u);else if($t(u,"readystatechange"),gr(u)==4){u.h=!1;try{const Y=u.Z();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var k;if(k=Y===0){var O=String(u.D).match(hy)[1]||null;!O&&a.self&&a.self.location&&(O=a.self.location.protocol.slice(0,-1)),k=!vk.test(O?O.toLowerCase():"")}m=k}if(m)$t(u,"complete"),$t(u,"success");else{u.m=6;try{var V=2<gr(u)?u.g.statusText:""}catch{V=""}u.l=V+" ["+u.Z()+"]",Ey(u)}}finally{xu(u)}}}}function xu(u,f){if(u.g){Sy(u);const m=u.g,k=u.v[0]?()=>{}:null;u.g=null,u.v=null,f||$t(u,"ready");try{m.onreadystatechange=k}catch{}}}function Sy(u){u.I&&(a.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function gr(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<gr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var f=this.g.responseText;return u&&f.indexOf(u)==0&&(f=f.substring(u.length)),GI(f)}};function Cy(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function _k(u){const f={};u=(u.g&&2<=gr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<u.length;k++){if(y(u[k]))continue;var m=x(u[k]);const O=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const V=f[O]||[];f[O]=V,V.push(m)}S(f,function(k){return k.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ta(u,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[u]||f}function Iy(u){this.Aa=0,this.i=[],this.j=new ma,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ta("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ta("baseRetryDelayMs",5e3,u),this.cb=Ta("retryDelaySeedMs",1e4,u),this.Wa=Ta("forwardChannelMaxRetries",2,u),this.wa=Ta("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new oy(u&&u.concurrentRequestLimit),this.Da=new mk,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Iy.prototype,n.la=8,n.G=1,n.connect=function(u,f,m,k){Ht(0),this.W=u,this.H=f||{},m&&k!==void 0&&(this.H.OSID=m,this.H.OAID=k),this.F=this.X,this.I=My(this,null,this.W),Au(this)};function Xh(u){if(ky(u),u.G==3){var f=u.U++,m=mr(u.I);if(Fe(m,"SID",u.K),Fe(m,"RID",f),Fe(m,"TYPE","terminate"),Sa(u,m),f=new Zr(u,u.j,f),f.L=2,f.v=Du(mr(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=f.v,m=!0),m||(f.g=Oy(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Cu(f)}Ny(u)}function Ru(u){u.g&&(Zh(u),u.g.cancel(),u.g=null)}function ky(u){Ru(u),u.u&&(a.clearTimeout(u.u),u.u=null),Nu(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Au(u){if(!ay(u.h)&&!u.s){u.s=!0;var f=u.Ga;ie||H(),B||(ie(),B=!0),F.add(f,u),u.B=0}}function wk(u,f){return ly(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=f.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=pa(p(u.Ga,u,f),Ay(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const O=new Zr(this,this.j,u);let V=this.o;if(this.S&&(V?(V=v(V),P(V,this.S)):V=this.S),this.m!==null||this.O||(O.H=V,V=null),this.P)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var k=this.i[m];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(f+=k,4096<f){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=Py(this,O,f),m=mr(this.I),Fe(m,"RID",u),Fe(m,"CVER",22),this.D&&Fe(m,"X-HTTP-Session-Id",this.D),Sa(this,m),V&&(this.O?f="headers="+encodeURIComponent(String(_y(V)))+"&"+f:this.m&&Gh(m,this.m,V)),Kh(this.h,O),this.Ua&&Fe(m,"TYPE","init"),this.P?(Fe(m,"$req",f),Fe(m,"SID","null"),O.T=!0,Yh(O,m,null)):Yh(O,m,f),this.G=2}}else this.G==3&&(u?Dy(this,u):this.i.length==0||ay(this.h)||Dy(this))};function Dy(u,f){var m;f?m=f.l:m=u.U++;const k=mr(u.I);Fe(k,"SID",u.K),Fe(k,"RID",m),Fe(k,"AID",u.T),Sa(u,k),u.m&&u.o&&Gh(k,u.m,u.o),m=new Zr(u,u.j,m,u.B+1),u.m===null&&(m.H=u.o),f&&(u.i=f.D.concat(u.i)),f=Py(u,m,1e3),m.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Kh(u.h,m),Yh(m,k,f)}function Sa(u,f){u.H&&M(u.H,function(m,k){Fe(f,k,m)}),u.l&&dy({},function(m,k){Fe(f,k,m)})}function Py(u,f,m){m=Math.min(u.i.length,m);var k=u.l?p(u.l.Na,u.l,u):null;e:{var O=u.i;let V=-1;for(;;){const Y=["count="+m];V==-1?0<m?(V=O[0].g,Y.push("ofs="+V)):V=0:Y.push("ofs="+V);let Le=!0;for(let _t=0;_t<m;_t++){let Ie=O[_t].g;const Rt=O[_t].map;if(Ie-=V,0>Ie)V=Math.max(0,O[_t].g-100),Le=!1;else try{gk(Rt,Y,"req"+Ie+"_")}catch{k&&k(Rt)}}if(Le){k=Y.join("&");break e}}}return u=u.i.splice(0,m),f.D=u,k}function by(u){if(!u.g&&!u.u){u.Y=1;var f=u.Fa;ie||H(),B||(ie(),B=!0),F.add(f,u),u.v=0}}function Jh(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=pa(p(u.Fa,u),Ay(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,xy(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=pa(p(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ht(10),Ru(this),xy(this))};function Zh(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function xy(u){u.g=new Zr(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var f=mr(u.qa);Fe(f,"RID","rpc"),Fe(f,"SID",u.K),Fe(f,"AID",u.T),Fe(f,"CI",u.F?"0":"1"),!u.F&&u.ja&&Fe(f,"TO",u.ja),Fe(f,"TYPE","xmlhttp"),Sa(u,f),u.m&&u.o&&Gh(f,u.m,u.o),u.L&&(u.g.I=u.L);var m=u.g;u=u.ia,m.L=1,m.v=Du(mr(f)),m.m=null,m.P=!0,ry(m,u)}n.Za=function(){this.C!=null&&(this.C=null,Ru(this),Jh(this),Ht(19))};function Nu(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function Ry(u,f){var m=null;if(u.g==f){Nu(u),Zh(u),u.g=null;var k=2}else if(Qh(u.h,f))m=f.D,uy(u.h,f),k=1;else return;if(u.G!=0){if(f.o)if(k==1){m=f.m?f.m.length:0,f=Date.now()-f.F;var O=u.B;k=Eu(),$t(k,new Zv(k,m)),Au(u)}else by(u);else if(O=f.s,O==3||O==0&&0<f.X||!(k==1&&wk(u,f)||k==2&&Jh(u)))switch(m&&0<m.length&&(f=u.h,f.i=f.i.concat(m)),O){case 1:ei(u,5);break;case 4:ei(u,10);break;case 3:ei(u,6);break;default:ei(u,2)}}}function Ay(u,f){let m=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(m*=2),m*f}function ei(u,f){if(u.j.info("Error code "+f),f==2){var m=p(u.fb,u),k=u.Xa;const O=!k;k=new Zs(k||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Iu(k,"https"),Du(k),O?fk(k.toString(),m):pk(k.toString(),m)}else Ht(2);u.G=0,u.l&&u.l.sa(f),Ny(u),ky(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Ht(2)):(this.j.info("Failed to ping google.com"),Ht(1))};function Ny(u){if(u.G=0,u.ka=[],u.l){const f=cy(u.h);(f.length!=0||u.i.length!=0)&&(I(u.ka,f),I(u.ka,u.i),u.h.i.length=0,D(u.i),u.i.length=0),u.l.ra()}}function My(u,f,m){var k=m instanceof Zs?mr(m):new Zs(m);if(k.g!="")f&&(k.g=f+"."+k.g),ku(k,k.s);else{var O=a.location;k=O.protocol,f=f?f+"."+O.hostname:O.hostname,O=+O.port;var V=new Zs(null);k&&Iu(V,k),f&&(V.g=f),O&&ku(V,O),m&&(V.l=m),k=V}return m=u.D,f=u.ya,m&&f&&Fe(k,m,f),Fe(k,"VER",u.la),Sa(u,k),k}function Oy(u,f,m){if(f&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=u.Ca&&!u.pa?new Xe(new Pu({eb:m})):new Xe(u.pa),f.Ha(u.J),f}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ly(){}n=Ly.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Mu(){}Mu.prototype.g=function(u,f){return new on(u,f)};function on(u,f){xt.call(this),this.g=new Iy(f),this.l=u,this.h=f&&f.messageUrlParams||null,u=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(u?u["X-WebChannel-Content-Type"]=f.messageContentType:u={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(u?u["X-WebChannel-Client-Profile"]=f.va:u={"X-WebChannel-Client-Profile":f.va}),this.g.S=u,(u=f&&f.Sb)&&!y(u)&&(this.g.m=u),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!y(f)&&(this.g.D=f,u=this.h,u!==null&&f in u&&(u=this.h,f in u&&delete u[f])),this.j=new zi(this)}_(on,xt),on.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){Xh(this.g)},on.prototype.o=function(u){var f=this.g;if(typeof u=="string"){var m={};m.__data__=u,u=m}else this.u&&(m={},m.__data__=jh(u),u=m);f.i.push(new rk(f.Ya++,u)),f.G==3&&Au(f)},on.prototype.N=function(){this.g.l=null,delete this.j,Xh(this.g),delete this.g,on.aa.N.call(this)};function Vy(u){Uh.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var f=u.__sm__;if(f){e:{for(const m in f){u=m;break e}u=void 0}(this.i=u)&&(u=this.i,f=f!==null&&u in f?f[u]:void 0),this.data=f}else this.data=u}_(Vy,Uh);function Fy(){Wh.call(this),this.status=1}_(Fy,Wh);function zi(u){this.g=u}_(zi,Ly),zi.prototype.ua=function(){$t(this.g,"a")},zi.prototype.ta=function(u){$t(this.g,new Vy(u))},zi.prototype.sa=function(u){$t(this.g,new Fy)},zi.prototype.ra=function(){$t(this.g,"b")},Mu.prototype.createWebChannel=Mu.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,FC=function(){return new Mu},VC=function(){return Eu()},LC=Xs,am={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Tu.NO_ERROR=0,Tu.TIMEOUT=8,Tu.HTTP_ERROR=6,Pc=Tu,ey.COMPLETE="complete",OC=ey,Kv.EventType=ha,ha.OPEN="a",ha.CLOSE="b",ha.ERROR="c",ha.MESSAGE="d",xt.prototype.listen=xt.prototype.K,Ha=Kv,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,MC=Xe}).apply(typeof ec<"u"?ec:typeof self<"u"?self:typeof window<"u"?window:{});const Aw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Lt.UNAUTHENTICATED=new Lt(null),Lt.GOOGLE_CREDENTIALS=new Lt("google-credentials-uid"),Lt.FIRST_PARTY=new Lt("first-party-uid"),Lt.MOCK_USER=new Lt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oa="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi=new xg("@firebase/firestore");function Aa(){return bi.logLevel}function X(n,...e){if(bi.logLevel<=Ee.DEBUG){const t=e.map(Wg);bi.debug(`Firestore (${oa}): ${n}`,...t)}}function Wr(n,...e){if(bi.logLevel<=Ee.ERROR){const t=e.map(Wg);bi.error(`Firestore (${oa}): ${n}`,...t)}}function Lo(n,...e){if(bi.logLevel<=Ee.WARN){const t=e.map(Wg);bi.warn(`Firestore (${oa}): ${n}`,...t)}}function Wg(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ae(n="Unexpected state"){const e=`FIRESTORE (${oa}) INTERNAL ASSERTION FAILED: `+n;throw Wr(e),new Error(e)}function Me(n,e){n||ae()}function ce(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends qr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $N{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Lt.UNAUTHENTICATED))}shutdown(){}}class HN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class YN{constructor(e){this.t=e,this.currentUser=Lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Me(this.o===void 0);let r=this.i;const s=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve();let i=new xr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new xr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new xr)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Me(typeof r.accessToken=="string"),new jC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Me(e===null||typeof e=="string"),new Lt(e)}}class zN{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Lt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class qN{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new zN(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class QN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KN{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Me(this.o===void 0);const r=i=>{i.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,X("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Me(typeof t.token=="string"),this.R=t.token,new QN(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=GN(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<t&&(r+=e.charAt(s[i]%e.length))}return r}}function ke(n,e){return n<e?-1:n>e?1:0}function Vo(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new q(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new q(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new q(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return dt.fromMillis(Date.now())}static fromDate(e){return dt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new dt(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ue(e)}static min(){return new ue(new dt(0,0))}static max(){return new ue(new dt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,t,r){t===void 0?t=0:t>e.length&&ae(),r===void 0?r=e.length-t:r>e.length-t&&ae(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Ml.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ml?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const i=e.get(s),o=t.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Be extends Ml{construct(e,t,r){return new Be(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new q(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new Be(t)}static emptyPath(){return new Be([])}}const XN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class St extends Ml{construct(e,t,r){return new St(e,t,r)}static isValidIdentifier(e){return XN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),St.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new St(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const i=()=>{if(r.length===0)throw new q(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new q(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new q(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new q(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new St(t)}static emptyPath(){return new St([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.path=e}static fromPath(e){return new ne(Be.fromString(e))}static fromName(e){return new ne(Be.fromString(e).popFirst(5))}static empty(){return new ne(Be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Be.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ne(new Be(e.slice()))}}function JN(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=ue.fromTimestamp(r===1e9?new dt(t+1,0):new dt(t,r));return new Vs(s,ne.empty(),e)}function ZN(n){return new Vs(n.readTime,n.key,-1)}class Vs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Vs(ue.min(),ne.empty(),-1)}static max(){return new Vs(ue.max(),ne.empty(),-1)}}function eM(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ne.comparator(n.documentKey,e.documentKey),t!==0?t:ke(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function su(n){if(n.code!==U.FAILED_PRECONDITION||n.message!==tM)throw n;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new W((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(t,i).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof W?t:W.resolve(t)}catch(t){return W.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):W.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):W.reject(t)}static resolve(e){return new W((t,r)=>{t(e)})}static reject(e){return new W((t,r)=>{r(e)})}static waitFor(e){return new W((t,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&t()},l=>r(l))}),o=!0,i===s&&t()})}static or(e){let t=W.resolve(!1);for(const r of e)t=t.next(s=>s?W.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,i)=>{r.push(t.call(this,s,i))}),this.waitFor(r)}static mapArray(e,t){return new W((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;t(e[c]).next(d=>{o[c]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,t){return new W((r,s)=>{const i=()=>{e()===!0?t().next(()=>{i()},s):r()};i()})}}function rM(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function iu(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ie(r),this.se=r=>t.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}$g.oe=-1;function uh(n){return n==null}function yd(n){return n===0&&1/n==-1/0}function sM(n){return typeof n=="number"&&Number.isInteger(n)&&!yd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Fi(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function UC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,t){this.comparator=e,this.root=t||Et.EMPTY}insert(e,t){return new Ke(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Et.BLACK,null,null))}remove(e){return new Ke(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Et.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tc(this.root,e,this.comparator,!1)}getReverseIterator(){return new tc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tc(this.root,e,this.comparator,!0)}}class tc{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?r(e.key,t):1,t&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Et{constructor(e,t,r,s,i){this.key=e,this.value=t,this.color=r??Et.RED,this.left=s??Et.EMPTY,this.right=i??Et.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,i){return new Et(e??this.key,t??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,t,r),null):i===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Et.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Et.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Et.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Et.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ae();const e=this.left.check();if(e!==this.right.check())throw ae();return e+(this.isRed()?0:1)}}Et.EMPTY=null,Et.RED=!0,Et.BLACK=!1;Et.EMPTY=new class{constructor(){this.size=0}get key(){throw ae()}get value(){throw ae()}get color(){throw ae()}get left(){throw ae()}get right(){throw ae()}copy(e,t,r,s,i){return this}insert(e,t,r){return new Et(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.comparator=e,this.data=new Ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Mw(this.data.getIterator())}getIteratorFrom(e){return new Mw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new kt(this.comparator);return t.data=e,t}}class Mw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.fields=e,e.sort(St.comparator)}static empty(){return new hn([])}unionWith(e){let t=new kt(St.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new hn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Vo(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new WC("Invalid base64 string: "+i):i}}(e);return new Pt(t)}static fromUint8Array(e){const t=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Pt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pt.EMPTY_BYTE_STRING=new Pt("");const iM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fs(n){if(Me(!!n),typeof n=="string"){let e=0;const t=iM.exec(n);if(Me(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:tt(n.seconds),nanos:tt(n.nanos)}}function tt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function xi(n){return typeof n=="string"?Pt.fromBase64String(n):Pt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hg(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Yg(n){const e=n.mapValue.fields.__previous_value__;return Hg(e)?Yg(e):e}function Ol(n){const e=Fs(n.mapValue.fields.__local_write_time__.timestampValue);return new dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e,t,r,s,i,o,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Ll{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ll("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ll&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc={mapValue:{}};function Ri(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Hg(n)?4:lM(n)?9007199254740991:aM(n)?10:11:ae()}function cr(n,e){if(n===e)return!0;const t=Ri(n);if(t!==Ri(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ol(n).isEqual(Ol(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Fs(s.timestampValue),a=Fs(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,i){return xi(s.bytesValue).isEqual(xi(i.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,i){return tt(s.geoPointValue.latitude)===tt(i.geoPointValue.latitude)&&tt(s.geoPointValue.longitude)===tt(i.geoPointValue.longitude)}(n,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return tt(s.integerValue)===tt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=tt(s.doubleValue),a=tt(i.doubleValue);return o===a?yd(o)===yd(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return Vo(n.arrayValue.values||[],e.arrayValue.values||[],cr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(Nw(o)!==Nw(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!cr(o[l],a[l])))return!1;return!0}(n,e);default:return ae()}}function Vl(n,e){return(n.values||[]).find(t=>cr(t,e))!==void 0}function Fo(n,e){if(n===e)return 0;const t=Ri(n),r=Ri(e);if(t!==r)return ke(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ke(n.booleanValue,e.booleanValue);case 2:return function(i,o){const a=tt(i.integerValue||i.doubleValue),l=tt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return Ow(n.timestampValue,e.timestampValue);case 4:return Ow(Ol(n),Ol(e));case 5:return ke(n.stringValue,e.stringValue);case 6:return function(i,o){const a=xi(i),l=xi(o);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=ke(a[c],l[c]);if(d!==0)return d}return ke(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,o){const a=ke(tt(i.latitude),tt(o.latitude));return a!==0?a:ke(tt(i.longitude),tt(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Lw(n.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,c,d;const h=i.fields||{},p=o.fields||{},g=(a=h.value)===null||a===void 0?void 0:a.arrayValue,_=(l=p.value)===null||l===void 0?void 0:l.arrayValue,D=ke(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((d=_==null?void 0:_.values)===null||d===void 0?void 0:d.length)||0);return D!==0?D:Lw(g,_)}(n.mapValue,e.mapValue);case 11:return function(i,o){if(i===nc.mapValue&&o===nc.mapValue)return 0;if(i===nc.mapValue)return 1;if(o===nc.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const p=ke(l[h],d[h]);if(p!==0)return p;const g=Fo(a[l[h]],c[d[h]]);if(g!==0)return g}return ke(l.length,d.length)}(n.mapValue,e.mapValue);default:throw ae()}}function Ow(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ke(n,e);const t=Fs(n),r=Fs(e),s=ke(t.seconds,r.seconds);return s!==0?s:ke(t.nanos,r.nanos)}function Lw(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const i=Fo(t[s],r[s]);if(i)return i}return ke(t.length,r.length)}function jo(n){return lm(n)}function lm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Fs(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return xi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ne.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const i of t.values||[])s?s=!1:r+=",",r+=lm(i);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${lm(t.fields[o])}`;return s+"}"}(n.mapValue):ae()}function Vw(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function um(n){return!!n&&"integerValue"in n}function zg(n){return!!n&&"arrayValue"in n}function Fw(n){return!!n&&"nullValue"in n}function jw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function bc(n){return!!n&&"mapValue"in n}function aM(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function al(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Fi(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=al(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=al(n.arrayValue.values[t]);return e}return Object.assign({},n)}function lM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.value=e}static empty(){return new en({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!bc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=al(t)}setAll(e){let t=St.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,r,s),r={},s=[],t=a.popLast()}o?r[a.lastSegment()]=al(o):s.push(a.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,r,s)}delete(e){const t=this.field(e.popLast());bc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return cr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];bc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Fi(t,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new en(al(this.value))}}function $C(n){const e=[];return Fi(n.fields,(t,r)=>{const s=new St([t]);if(bc(r)){const i=$C(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new hn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,t,r,s,i,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ft(e,0,ue.min(),ue.min(),ue.min(),en.empty(),0)}static newFoundDocument(e,t,r,s){return new Ft(e,1,t,ue.min(),r,s,0)}static newNoDocument(e,t){return new Ft(e,2,t,ue.min(),ue.min(),en.empty(),0)}static newUnknownDocument(e,t){return new Ft(e,3,t,ue.min(),ue.min(),en.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=en.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=en.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,t){this.position=e,this.inclusive=t}}function Bw(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const i=e[s],o=n.position[s];if(i.field.isKeyField()?r=ne.comparator(ne.fromName(o.referenceValue),t.key):r=Fo(o,t.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Uw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!cr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,t="asc"){this.field=e,this.dir=t}}function uM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{}class ct extends HC{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new dM(e,t,r):t==="array-contains"?new pM(e,r):t==="in"?new mM(e,r):t==="not-in"?new gM(e,r):t==="array-contains-any"?new vM(e,r):new ct(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new hM(e,r):new fM(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Fo(t,this.value)):t!==null&&Ri(this.value)===Ri(t)&&this.matchesComparison(Fo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jn extends HC{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new jn(e,t)}matches(e){return YC(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function YC(n){return n.op==="and"}function zC(n){return cM(n)&&YC(n)}function cM(n){for(const e of n.filters)if(e instanceof jn)return!1;return!0}function cm(n){if(n instanceof ct)return n.field.canonicalString()+n.op.toString()+jo(n.value);if(zC(n))return n.filters.map(e=>cm(e)).join(",");{const e=n.filters.map(t=>cm(t)).join(",");return`${n.op}(${e})`}}function qC(n,e){return n instanceof ct?function(r,s){return s instanceof ct&&r.op===s.op&&r.field.isEqual(s.field)&&cr(r.value,s.value)}(n,e):n instanceof jn?function(r,s){return s instanceof jn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&qC(o,s.filters[a]),!0):!1}(n,e):void ae()}function QC(n){return n instanceof ct?function(t){return`${t.field.canonicalString()} ${t.op} ${jo(t.value)}`}(n):n instanceof jn?function(t){return t.op.toString()+" {"+t.getFilters().map(QC).join(" ,")+"}"}(n):"Filter"}class dM extends ct{constructor(e,t,r){super(e,t,r),this.key=ne.fromName(r.referenceValue)}matches(e){const t=ne.comparator(e.key,this.key);return this.matchesComparison(t)}}class hM extends ct{constructor(e,t){super(e,"in",t),this.keys=KC("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class fM extends ct{constructor(e,t){super(e,"not-in",t),this.keys=KC("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function KC(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ne.fromName(r.referenceValue))}class pM extends ct{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return zg(t)&&Vl(t.arrayValue,this.value)}}class mM extends ct{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Vl(this.value.arrayValue,t)}}class gM extends ct{constructor(e,t){super(e,"not-in",t)}matches(e){if(Vl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Vl(this.value.arrayValue,t)}}class vM extends ct{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!zg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Vl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e,t=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function Ww(n,e=null,t=[],r=[],s=null,i=null,o=null){return new yM(n,e,t,r,s,i,o)}function qg(n){const e=ce(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>cm(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),uh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>jo(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>jo(r)).join(",")),e.ue=t}return e.ue}function Qg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!uM(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!qC(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Uw(n.startAt,e.startAt)&&Uw(n.endAt,e.endAt)}function dm(n){return ne.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,t=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function _M(n,e,t,r,s,i,o,a){return new aa(n,e,t,r,s,i,o,a)}function ch(n){return new aa(n)}function $w(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function GC(n){return n.collectionGroup!==null}function ll(n){const e=ce(n);if(e.ce===null){e.ce=[];const t=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),t.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new kt(St.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{t.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Fl(i,r))}),t.has(St.keyField().canonicalString())||e.ce.push(new Fl(St.keyField(),r))}return e.ce}function ar(n){const e=ce(n);return e.le||(e.le=wM(e,ll(n))),e.le}function wM(n,e){if(n.limitType==="F")return Ww(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Fl(s.field,i)});const t=n.endAt?new _d(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new _d(n.startAt.position,n.startAt.inclusive):null;return Ww(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function hm(n,e){const t=n.filters.concat([e]);return new aa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function wd(n,e,t){return new aa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function dh(n,e){return Qg(ar(n),ar(e))&&n.limitType===e.limitType}function XC(n){return`${qg(ar(n))}|lt:${n.limitType}`}function Xi(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>QC(s)).join(", ")}]`),uh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>jo(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>jo(s)).join(",")),`Target(${r})`}(ar(n))}; limitType=${n.limitType})`}function hh(n,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ne.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(n,e)&&function(r,s){for(const i of ll(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=Bw(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,ll(r),s)||r.endAt&&!function(o,a,l){const c=Bw(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,ll(r),s))}(n,e)}function EM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function JC(n){return(e,t)=>{let r=!1;for(const s of ll(n)){const i=TM(s,e,t);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function TM(n,e,t){const r=n.field.isKeyField()?ne.comparator(e.key,t.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?Fo(l,c):ae()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Fi(this.inner,(t,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return UC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM=new Ke(ne.comparator);function $r(){return SM}const ZC=new Ke(ne.comparator);function Ya(...n){let e=ZC;for(const t of n)e=e.insert(t.key,t);return e}function e1(n){let e=ZC;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function di(){return ul()}function t1(){return ul()}function ul(){return new la(n=>n.toString(),(n,e)=>n.isEqual(e))}const CM=new Ke(ne.comparator),IM=new kt(ne.comparator);function we(...n){let e=IM;for(const t of n)e=e.add(t);return e}const kM=new kt(ke);function DM(){return kM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kg(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yd(e)?"-0":e}}function n1(n){return{integerValue:""+n}}function PM(n,e){return sM(e)?n1(e):Kg(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(){this._=void 0}}function bM(n,e,t){return n instanceof jl?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Hg(i)&&(i=Yg(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(t,e):n instanceof Bl?s1(n,e):n instanceof Ul?i1(n,e):function(s,i){const o=r1(s,i),a=Hw(o)+Hw(s.Pe);return um(o)&&um(s.Pe)?n1(a):Kg(s.serializer,a)}(n,e)}function xM(n,e,t){return n instanceof Bl?s1(n,e):n instanceof Ul?i1(n,e):t}function r1(n,e){return n instanceof Ed?function(r){return um(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class jl extends fh{}class Bl extends fh{constructor(e){super(),this.elements=e}}function s1(n,e){const t=o1(e);for(const r of n.elements)t.some(s=>cr(s,r))||t.push(r);return{arrayValue:{values:t}}}class Ul extends fh{constructor(e){super(),this.elements=e}}function i1(n,e){let t=o1(e);for(const r of n.elements)t=t.filter(s=>!cr(s,r));return{arrayValue:{values:t}}}class Ed extends fh{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Hw(n){return tt(n.integerValue||n.doubleValue)}function o1(n){return zg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e,t){this.field=e,this.transform=t}}function AM(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof Bl&&s instanceof Bl||r instanceof Ul&&s instanceof Ul?Vo(r.elements,s.elements,cr):r instanceof Ed&&s instanceof Ed?cr(r.Pe,s.Pe):r instanceof jl&&s instanceof jl}(n.transform,e.transform)}class NM{constructor(e,t){this.version=e,this.transformResults=t}}class Kt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Kt}static exists(e){return new Kt(void 0,e)}static updateTime(e){return new Kt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class ph{}function a1(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new mh(n.key,Kt.none()):new ou(n.key,n.data,Kt.none());{const t=n.data,r=en.empty();let s=new kt(St.comparator);for(let i of e.fields)if(!s.has(i)){let o=t.field(i);o===null&&i.length>1&&(i=i.popLast(),o=t.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Gs(n.key,r,new hn(s.toArray()),Kt.none())}}function MM(n,e,t){n instanceof ou?function(s,i,o){const a=s.value.clone(),l=zw(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Gs?function(s,i,o){if(!xc(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=zw(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(l1(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,e,t):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function cl(n,e,t,r){return n instanceof ou?function(i,o,a,l){if(!xc(i.precondition,o))return a;const c=i.value.clone(),d=qw(i.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(n,e,t,r):n instanceof Gs?function(i,o,a,l){if(!xc(i.precondition,o))return a;const c=qw(i.fieldTransforms,l,o),d=o.data;return d.setAll(l1(i)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(n,e,t,r):function(i,o,a){return xc(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(n,e,t)}function OM(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),i=r1(r.transform,s||null);i!=null&&(t===null&&(t=en.empty()),t.set(r.field,i))}return t||null}function Yw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Vo(r,s,(i,o)=>AM(i,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class ou extends ph{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Gs extends ph{constructor(e,t,r,s,i=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function l1(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function zw(n,e,t){const r=new Map;Me(n.length===t.length);for(let s=0;s<t.length;s++){const i=n[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,xM(o,a,t[s]))}return r}function qw(n,e,t){const r=new Map;for(const s of n){const i=s.transform,o=t.data.field(s.field);r.set(s.field,bM(i,o,e))}return r}class mh extends ph{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class LM extends ph{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&MM(i,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=cl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=cl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=t1();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=t.has(s.key)?null:a;const l=a1(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ue.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),we())}isEqual(e){return this.batchId===e.batchId&&Vo(this.mutations,e.mutations,(t,r)=>Yw(t,r))&&Vo(this.baseMutations,e.baseMutations,(t,r)=>Yw(t,r))}}class Gg{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Me(e.mutations.length===r.length);let s=function(){return CM}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Gg(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt,Te;function BM(n){switch(n){default:return ae();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0}}function u1(n){if(n===void 0)return Wr("GRPC error has no .code"),U.UNKNOWN;switch(n){case lt.OK:return U.OK;case lt.CANCELLED:return U.CANCELLED;case lt.UNKNOWN:return U.UNKNOWN;case lt.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case lt.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case lt.INTERNAL:return U.INTERNAL;case lt.UNAVAILABLE:return U.UNAVAILABLE;case lt.UNAUTHENTICATED:return U.UNAUTHENTICATED;case lt.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case lt.NOT_FOUND:return U.NOT_FOUND;case lt.ALREADY_EXISTS:return U.ALREADY_EXISTS;case lt.PERMISSION_DENIED:return U.PERMISSION_DENIED;case lt.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case lt.ABORTED:return U.ABORTED;case lt.OUT_OF_RANGE:return U.OUT_OF_RANGE;case lt.UNIMPLEMENTED:return U.UNIMPLEMENTED;case lt.DATA_LOSS:return U.DATA_LOSS;default:return ae()}}(Te=lt||(lt={}))[Te.OK=0]="OK",Te[Te.CANCELLED=1]="CANCELLED",Te[Te.UNKNOWN=2]="UNKNOWN",Te[Te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Te[Te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Te[Te.NOT_FOUND=5]="NOT_FOUND",Te[Te.ALREADY_EXISTS=6]="ALREADY_EXISTS",Te[Te.PERMISSION_DENIED=7]="PERMISSION_DENIED",Te[Te.UNAUTHENTICATED=16]="UNAUTHENTICATED",Te[Te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Te[Te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Te[Te.ABORTED=10]="ABORTED",Te[Te.OUT_OF_RANGE=11]="OUT_OF_RANGE",Te[Te.UNIMPLEMENTED=12]="UNIMPLEMENTED",Te[Te.INTERNAL=13]="INTERNAL",Te[Te.UNAVAILABLE=14]="UNAVAILABLE",Te[Te.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM=new gi([4294967295,4294967295],0);function Qw(n){const e=UM().encode(n),t=new NC;return t.update(e),new Uint8Array(t.digest())}function Kw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new gi([t,r],0),new gi([s,i],0)]}class Xg{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new za(`Invalid padding: ${t}`);if(r<0)throw new za(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new za(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new za(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=gi.fromNumber(this.Ie)}Ee(e,t,r){let s=e.add(t.multiply(gi.fromNumber(r)));return s.compare(WM)===1&&(s=new gi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=Qw(e),[r,s]=Kw(t);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Xg(i,s,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const t=Qw(e),[r,s]=Kw(t);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class za extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,t,r,s,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,au.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new gh(ue.min(),s,new Ke(ke),$r(),we())}}class au{constructor(e,t,r,s,i){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new au(r,t,we(),we(),we())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,t,r,s){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=s}}class c1{constructor(e,t){this.targetId=e,this.me=t}}class d1{constructor(e,t,r=Pt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class Gw{constructor(){this.fe=0,this.ge=Jw(),this.pe=Pt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=we(),t=we(),r=we();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:ae()}}),new au(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=Jw()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Me(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class $M{constructor(e){this.Le=e,this.Be=new Map,this.ke=$r(),this.qe=Xw(),this.Qe=new Ke(ke)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:ae()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,s)=>{this.ze(s)&&t(s)})}He(e){const t=e.targetId,r=e.me.count,s=this.Je(t);if(s){const i=s.target;if(dm(i))if(r===0){const o=new ne(i.path);this.Ue(t,o,Ft.newNoDocument(o,ue.min()))}else Me(r===1);else{const o=this.Ye(t);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(t);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,c)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=t;let o,a;try{o=xi(r).toUint8Array()}catch(l){if(l instanceof WC)return Lo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Xg(o,s,i)}catch(l){return Lo(l instanceof za?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let s=0;return r.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,i,null),s++)}),s}rt(e){const t=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&dm(a.target)){const l=new ne(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Ft.newNoDocument(l,e))}i.be&&(t.set(o,i.ve()),i.Ce())}});let r=we();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new gh(e,t,this.Qe,this.ke,r);return this.ke=$r(),this.qe=Xw(),this.Qe=new Ke(ke),s}$e(e,t){if(!this.ze(e))return;const r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,t)?s.Fe(t,1):s.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Gw,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new kt(ke),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||X("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Gw),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Xw(){return new Ke(ne.comparator)}function Jw(){return new Ke(ne.comparator)}const HM={asc:"ASCENDING",desc:"DESCENDING"},YM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zM={and:"AND",or:"OR"};class qM{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function fm(n,e){return n.useProto3Json||uh(e)?e:{value:e}}function Td(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function h1(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function QM(n,e){return Td(n,e.toTimestamp())}function lr(n){return Me(!!n),ue.fromTimestamp(function(t){const r=Fs(t);return new dt(r.seconds,r.nanos)}(n))}function Jg(n,e){return pm(n,e).canonicalString()}function pm(n,e){const t=function(s){return new Be(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function f1(n){const e=Be.fromString(n);return Me(y1(e)),e}function mm(n,e){return Jg(n.databaseId,e.path)}function Ff(n,e){const t=f1(e);if(t.get(1)!==n.databaseId.projectId)throw new q(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new q(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ne(m1(t))}function p1(n,e){return Jg(n.databaseId,e)}function KM(n){const e=f1(n);return e.length===4?Be.emptyPath():m1(e)}function gm(n){return new Be(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function m1(n){return Me(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Zw(n,e,t){return{name:mm(n,e),fields:t.value.mapValue.fields}}function GM(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,d){return c.useProto3Json?(Me(d===void 0||typeof d=="string"),Pt.fromBase64String(d||"")):(Me(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Pt.fromUint8Array(d||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?U.UNKNOWN:u1(c.code);return new q(d,c.message||"")}(o);t=new d1(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Ff(n,r.document.name),i=lr(r.document.updateTime),o=r.document.createTime?lr(r.document.createTime):ue.min(),a=new en({mapValue:{fields:r.document.fields}}),l=Ft.newFoundDocument(s,i,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];t=new Rc(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Ff(n,r.document),i=r.readTime?lr(r.readTime):ue.min(),o=Ft.newNoDocument(s,i),a=r.removedTargetIds||[];t=new Rc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Ff(n,r.document),i=r.removedTargetIds||[];t=new Rc([],i,s,null)}else{if(!("filter"in e))return ae();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new jM(s,i),a=r.targetId;t=new c1(a,o)}}return t}function XM(n,e){let t;if(e instanceof ou)t={update:Zw(n,e.key,e.value)};else if(e instanceof mh)t={delete:mm(n,e.key)};else if(e instanceof Gs)t={update:Zw(n,e.key,e.data),updateMask:o2(e.fieldMask)};else{if(!(e instanceof LM))return ae();t={verify:mm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof jl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Bl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ul)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ed)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ae()}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:QM(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ae()}(n,e.precondition)),t}function JM(n,e){return n&&n.length>0?(Me(e!==void 0),n.map(t=>function(s,i){let o=s.updateTime?lr(s.updateTime):lr(i);return o.isEqual(ue.min())&&(o=lr(i)),new NM(o,s.transformResults||[])}(t,e))):[]}function ZM(n,e){return{documents:[p1(n,e.path)]}}function e2(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=p1(n,s);const i=function(c){if(c.length!==0)return v1(jn.create(c,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:Ji(p.field),direction:r2(p.dir)}}(d))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const a=fm(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:t,parent:s}}function t2(n){let e=KM(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Me(r===1);const d=t.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];t.where&&(i=function(h){const p=g1(h);return p instanceof jn&&zC(p)?p.getFilters():[p]}(t.where));let o=[];t.orderBy&&(o=function(h){return h.map(p=>function(_){return new Fl(Zi(_.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(p))}(t.orderBy));let a=null;t.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,uh(p)?null:p}(t.limit));let l=null;t.startAt&&(l=function(h){const p=!!h.before,g=h.values||[];return new _d(g,p)}(t.startAt));let c=null;return t.endAt&&(c=function(h){const p=!h.before,g=h.values||[];return new _d(g,p)}(t.endAt)),_M(e,s,o,i,a,"F",l,c)}function n2(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ae()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function g1(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Zi(t.unaryFilter.field);return ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Zi(t.unaryFilter.field);return ct.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Zi(t.unaryFilter.field);return ct.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Zi(t.unaryFilter.field);return ct.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ae()}}(n):n.fieldFilter!==void 0?function(t){return ct.create(Zi(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ae()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return jn.create(t.compositeFilter.filters.map(r=>g1(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ae()}}(t.compositeFilter.op))}(n):ae()}function r2(n){return HM[n]}function s2(n){return YM[n]}function i2(n){return zM[n]}function Ji(n){return{fieldPath:n.canonicalString()}}function Zi(n){return St.fromServerFormat(n.fieldPath)}function v1(n){return n instanceof ct?function(t){if(t.op==="=="){if(jw(t.value))return{unaryFilter:{field:Ji(t.field),op:"IS_NAN"}};if(Fw(t.value))return{unaryFilter:{field:Ji(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(jw(t.value))return{unaryFilter:{field:Ji(t.field),op:"IS_NOT_NAN"}};if(Fw(t.value))return{unaryFilter:{field:Ji(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ji(t.field),op:s2(t.op),value:t.value}}}(n):n instanceof jn?function(t){const r=t.getFilters().map(s=>v1(s));return r.length===1?r[0]:{compositeFilter:{op:i2(t.op),filters:r}}}(n):ae()}function o2(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function y1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,t,r,s,i=ue.min(),o=ue.min(),a=Pt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ys(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e){this.ct=e}}function l2(n){const e=t2({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?wd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(){this.un=new c2}addToCollectionParentIndex(e,t){return this.un.add(t),W.resolve()}getCollectionParents(e,t){return W.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return W.resolve()}deleteFieldIndex(e,t){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,t){return W.resolve()}getDocumentsMatchingTarget(e,t){return W.resolve(null)}getIndexType(e,t){return W.resolve(0)}getFieldIndexes(e,t){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,t){return W.resolve(Vs.min())}getMinOffsetFromCollectionGroup(e,t){return W.resolve(Vs.min())}updateCollectionGroup(e,t,r){return W.resolve()}updateIndexEntries(e,t){return W.resolve()}}class c2{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new kt(Be.comparator),i=!s.has(r);return this.index[t]=s.add(r),i}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new kt(Be.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Bo(0)}static kn(){return new Bo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(){this.changes=new la(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ft.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?W.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&cl(r.mutation,s,hn.empty(),dt.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,we()).next(()=>r))}getLocalViewOfDocuments(e,t,r=we()){const s=di();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(i=>{let o=Ya();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=di();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,we()))}populateOverlays(e,t,r){const s=[];return r.forEach(i=>{t.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,s){let i=$r();const o=ul(),a=function(){return ul()}();return t.forEach((l,c)=>{const d=r.get(c.key);s.has(c.key)&&(d===void 0||d.mutation instanceof Gs)?i=i.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),cl(d.mutation,c,d.mutation.getFieldMask(),dt.now())):o.set(c.key,hn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,d)=>o.set(c,d)),t.forEach((c,d)=>{var h;return a.set(c,new h2(d,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,t){const r=ul();let s=new Ke((o,a)=>o-a),i=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=t.get(l);if(c===null)return;let d=r.get(l)||hn.empty();d=a.applyToLocalView(c,d),r.set(l,d);const h=(s.get(a.batchId)||we()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,h=t1();d.forEach(p=>{if(!i.has(p)){const g=a1(t.get(p),r.get(p));g!==null&&h.set(p,g),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return W.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(o){return ne.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):GC(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-i.size):W.resolve(di());let a=-1,l=i;return o.next(c=>W.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(d)?W.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,we())).next(d=>({batchId:a,changes:e1(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ne(t)).next(r=>{let s=Ya();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const i=t.collectionGroup;let o=Ya();return this.indexManager.getCollectionParents(e,i).next(a=>W.forEach(a,l=>{const c=function(h,p){return new aa(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(t,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(d=>{d.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i,s))).next(o=>{i.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,Ft.newInvalidDocument(d)))});let a=Ya();return o.forEach((l,c)=>{const d=i.get(l);d!==void 0&&cl(d.mutation,c,hn.empty(),dt.now()),hh(t,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return W.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:lr(s.createTime)}}(t)),W.resolve()}getNamedQuery(e,t){return W.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(s){return{name:s.name,query:l2(s.bundledQuery),readTime:lr(s.readTime)}}(t)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(){this.overlays=new Ke(ne.comparator),this.Ir=new Map}getOverlay(e,t){return W.resolve(this.overlays.get(t))}getOverlays(e,t){const r=di();return W.forEach(t,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,i)=>{this.ht(e,t,i)}),W.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),W.resolve()}getOverlaysForCollection(e,t,r){const s=di(),i=t.length+1,o=new ne(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return W.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let i=new Ke((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let d=i.get(c.largestBatchId);d===null&&(d=di(),i=i.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=di(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=s)););return W.resolve(a)}ht(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new FM(t,r));let i=this.Ir.get(t);i===void 0&&(i=we(),this.Ir.set(t,i)),this.Ir.set(t,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(){this.sessionToken=Pt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(){this.Tr=new kt(mt.Er),this.dr=new kt(mt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const r=new mt(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new mt(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){const t=new ne(new Be([])),r=new mt(t,e),s=new mt(t,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new ne(new Be([])),r=new mt(t,e),s=new mt(t,e+1);let i=we();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const t=new mt(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class mt{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return ne.comparator(e.key,t.key)||ke(e.wr,t.wr)}static Ar(e,t){return ke(e.wr,t.wr)||ne.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new kt(mt.Er)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new VM(i,t,r,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new mt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return W.resolve(o)}lookupMutationBatch(e,t){return W.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.vr(r),i=s<0?0:s;return W.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new mt(t,0),s=new mt(t,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const a=this.Dr(o.wr);i.push(a)}),W.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new kt(ke);return t.forEach(s=>{const i=new mt(s,0),o=new mt(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],a=>{r=r.add(a.wr)})}),W.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let i=r;ne.isDocumentKey(i)||(i=i.child(""));const o=new mt(new ne(i),0);let a=new kt(ke);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.wr)),!0)},o),W.resolve(this.Cr(a))}Cr(e){const t=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){Me(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return W.forEach(t.mutations,s=>{const i=new mt(s.key,t.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){const r=new mt(t,0),s=this.br.firstAfterOrEqual(r);return W.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e){this.Mr=e,this.docs=function(){return new Ke(ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return W.resolve(r?r.document.mutableCopy():Ft.newInvalidDocument(t))}getEntries(e,t){let r=$r();return t.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Ft.newInvalidDocument(s))}),W.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let i=$r();const o=t.path,a=new ne(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||eM(ZN(d),r)<=0||(s.has(d.key)||hh(t,d))&&(i=i.insert(d.key,d.mutableCopy()))}return W.resolve(i)}getAllFromCollectionGroup(e,t,r,s){ae()}Or(e,t){return W.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new _2(this)}getSize(e){return W.resolve(this.size)}}class _2 extends d2{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),W.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e){this.persistence=e,this.Nr=new la(t=>qg(t),Qg),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Zg,this.targetCount=0,this.kr=Bo.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,s)=>t(s)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),W.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new Bo(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,W.resolve()}updateTargetData(e,t){return this.Kn(t),W.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,t,r){let s=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),W.waitFor(i).next(()=>s)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,t){const r=this.Nr.get(t)||null;return W.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),W.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);const s=this.persistence.referenceDelegate,i=[];return s&&t.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),W.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),W.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Br.yr(t);return W.resolve(r)}containsKey(e,t){return W.resolve(this.Br.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e,t){this.qr={},this.overlays={},this.Qr=new $g(0),this.Kr=!1,this.Kr=!0,this.$r=new g2,this.referenceDelegate=e(this),this.Ur=new w2(this),this.indexManager=new u2,this.remoteDocumentCache=function(s){return new y2(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new a2(t),this.Gr=new p2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new m2,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new v2(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){X("MemoryPersistence","Starting transaction:",e);const s=new T2(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,t){return W.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}}class T2 extends nM{constructor(e){super(),this.currentSequenceNumber=e}}class ev{constructor(e){this.persistence=e,this.Jr=new Zg,this.Yr=null}static Zr(e){return new ev(e)}get Xr(){if(this.Yr)return this.Yr;throw ae()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),W.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),W.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),W.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.Xr,r=>{const s=ne.fromPath(r);return this.ei(e,s).next(i=>{i||t.removeEntry(s,ue.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return W.or([()=>W.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=s}static Wi(e,t){let r=we(),s=we();for(const i of t.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new tv(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return fx()?8:rM(Wt())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,s){const i={result:null};return this.Yi(e,t).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,t,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new S2;return this.Xi(e,t,o).next(a=>{if(i.result=a,this.zi)return this.es(e,t,o,a.size)})}).next(()=>i.result)}es(e,t,r,s){return r.documentReadCount<this.ji?(Aa()<=Ee.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",Xi(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),W.resolve()):(Aa()<=Ee.DEBUG&&X("QueryEngine","Query:",Xi(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(Aa()<=Ee.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",Xi(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ar(t))):W.resolve())}Yi(e,t){if($w(t))return W.resolve(null);let r=ar(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=wd(t,null,"F"),r=ar(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=we(...i);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(t,a);return this.ns(t,c,o,l.readTime)?this.Yi(e,wd(t,null,"F")):this.rs(e,c,t,l)}))})))}Zi(e,t,r,s){return $w(t)||s.isEqual(ue.min())?W.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(t,i);return this.ns(t,o,r,s)?W.resolve(null):(Aa()<=Ee.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Xi(t)),this.rs(e,o,t,JN(s,-1)).next(a=>a))})}ts(e,t){let r=new kt(JC(e));return t.forEach((s,i)=>{hh(e,i)&&(r=r.add(i))}),r}ns(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const i=e.limitType==="F"?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,t,r){return Aa()<=Ee.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",Xi(t)),this.Ji.getDocumentsMatchingQuery(e,t,Vs.min(),r)}rs(e,t,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(t.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e,t,r,s){this.persistence=e,this.ss=t,this.serializer=s,this.os=new Ke(ke),this._s=new la(i=>qg(i),Qg),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new f2(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function k2(n,e,t,r){return new I2(n,e,t,r)}async function _1(n,e){const t=ce(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=we();for(const c of s){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of i){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return t.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function D2(n,e){const t=ce(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const h=c.batch,p=h.keys();let g=W.resolve();return p.forEach(_=>{g=g.next(()=>d.getEntry(l,_)).next(D=>{const I=c.docVersions.get(_);Me(I!==null),D.version.compareTo(I)<0&&(h.applyToRemoteDocument(D,c),D.isValidDocument()&&(D.setReadTime(c.commitVersion),d.addEntry(D)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(t,r,e,i).next(()=>i.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=we();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function w1(n){const e=ce(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function P2(n,e){const t=ce(n),r=e.snapshotVersion;let s=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=t.cs.newChangeBuffer({trackRemovals:!0});s=t.os;const a=[];e.targetChanges.forEach((d,h)=>{const p=s.get(h);if(!p)return;a.push(t.Ur.removeMatchingKeys(i,d.removedDocuments,h).next(()=>t.Ur.addMatchingKeys(i,d.addedDocuments,h)));let g=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(Pt.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),s=s.insert(h,g),function(D,I,w){return D.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(p,g,d)&&a.push(t.Ur.updateTargetData(i,g))});let l=$r(),c=we();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(b2(i,o,e.documentUpdates).next(d=>{l=d.Ps,c=d.Is})),!r.isEqual(ue.min())){const d=t.Ur.getLastRemoteSnapshotVersion(i).next(h=>t.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return W.waitFor(a).next(()=>o.apply(i)).next(()=>t.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(t.os=s,i))}function b2(n,e,t){let r=we(),s=we();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let o=$r();return t.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ue.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):X("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:s}})}function x2(n,e){const t=ce(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function R2(n,e){const t=ce(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Ur.getTargetData(r,e).next(i=>i?(s=i,W.resolve(s)):t.Ur.allocateTargetId(r).next(o=>(s=new ys(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}async function vm(n,e,t){const r=ce(n),s=r.os.get(e),i=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!iu(o))throw o;X("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function e0(n,e,t){const r=ce(n);let s=ue.min(),i=we();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const h=ce(l),p=h._s.get(d);return p!==void 0?W.resolve(h.os.get(p)):h.Ur.getTargetData(c,d)}(r,o,ar(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,t?s:ue.min(),t?i:we())).next(a=>(A2(r,EM(e),a),{documents:a,Ts:i})))}function A2(n,e,t){let r=n.us.get(e)||ue.min();t.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),n.us.set(e,r)}class t0{constructor(){this.activeTargetIds=DM()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class N2{constructor(){this.so=new t0,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new t0,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){X("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){X("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rc=null;function jf(){return rc===null?rc=function(){return 268435456+Math.round(2147483648*Math.random())}():rc++,"0x"+rc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ot="WebChannelConnection";class V2 extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(t,r,s,i,o){const a=jf(),l=this.xo(t,r.toUriEncodedString());X("RestConnection",`Sending RPC '${t}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,i,o),this.No(t,l,c,s).then(d=>(X("RestConnection",`Received RPC '${t}' ${a}: `,d),d),d=>{throw Lo("RestConnection",`RPC '${t}' ${a} failed with error: `,d,"url: ",l,"request:",s),d})}Lo(t,r,s,i,o,a){return this.Mo(t,r,s,i,o)}Oo(t,r,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+oa}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>t[o]=i),s&&s.headers.forEach((i,o)=>t[o]=i)}xo(t,r){const s=O2[t];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,s){const i=jf();return new Promise((o,a)=>{const l=new MC;l.setWithCredentials(!0),l.listenOnce(OC.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Pc.NO_ERROR:const d=l.getResponseJson();X(Ot,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(d)),o(d);break;case Pc.TIMEOUT:X(Ot,`RPC '${e}' ${i} timed out`),a(new q(U.DEADLINE_EXCEEDED,"Request time out"));break;case Pc.HTTP_ERROR:const h=l.getStatus();if(X(Ot,`RPC '${e}' ${i} failed with status:`,h,"response text:",l.getResponseText()),h>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const _=function(I){const w=I.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(w)>=0?w:U.UNKNOWN}(g.status);a(new q(_,g.message))}else a(new q(U.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new q(U.UNAVAILABLE,"Connection failed."));break;default:ae()}}finally{X(Ot,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);X(Ot,`RPC '${e}' ${i} sending request:`,s),l.send(t,"POST",c,r,15)})}Bo(e,t,r){const s=jf(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=FC(),a=VC(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;const d=i.join("");X(Ot,`Creating RPC '${e}' stream ${s}: ${d}`,l);const h=o.createWebChannel(d,l);let p=!1,g=!1;const _=new L2({Io:I=>{g?X(Ot,`Not sending because RPC '${e}' stream ${s} is closed:`,I):(p||(X(Ot,`Opening RPC '${e}' stream ${s} transport.`),h.open(),p=!0),X(Ot,`RPC '${e}' stream ${s} sending:`,I),h.send(I))},To:()=>h.close()}),D=(I,w,y)=>{I.listen(w,T=>{try{y(T)}catch(A){setTimeout(()=>{throw A},0)}})};return D(h,Ha.EventType.OPEN,()=>{g||(X(Ot,`RPC '${e}' stream ${s} transport opened.`),_.yo())}),D(h,Ha.EventType.CLOSE,()=>{g||(g=!0,X(Ot,`RPC '${e}' stream ${s} transport closed`),_.So())}),D(h,Ha.EventType.ERROR,I=>{g||(g=!0,Lo(Ot,`RPC '${e}' stream ${s} transport errored:`,I),_.So(new q(U.UNAVAILABLE,"The operation could not be completed")))}),D(h,Ha.EventType.MESSAGE,I=>{var w;if(!g){const y=I.data[0];Me(!!y);const T=y,A=T.error||((w=T[0])===null||w===void 0?void 0:w.error);if(A){X(Ot,`RPC '${e}' stream ${s} received error:`,A);const L=A.status;let M=function(C){const P=lt[C];if(P!==void 0)return u1(P)}(L),S=A.message;M===void 0&&(M=U.INTERNAL,S="Unknown error status: "+L+" with message "+A.message),g=!0,_.So(new q(M,S)),h.close()}else X(Ot,`RPC '${e}' stream ${s} received:`,y),_.bo(y)}}),D(a,LC.STAT_EVENT,I=>{I.stat===am.PROXY?X(Ot,`RPC '${e}' stream ${s} detected buffering proxy`):I.stat===am.NOPROXY&&X(Ot,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{_.wo()},0),_}}function Bf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(n){return new qM(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e,t,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,t-r);s>0&&X("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e,t,r,s,i,o,a,l){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new E1(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===U.RESOURCE_EXHAUSTED?(Wr(t.toString()),Wr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===t&&this.P_(r,s)},r=>{e(()=>{const s=new q(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,t){const r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return X("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(X("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class F2 extends T1{constructor(e,t,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,o),this.serializer=i}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=GM(this.serializer,e),r=function(i){if(!("targetChange"in i))return ue.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ue.min():o.readTime?lr(o.readTime):ue.min()}(e);return this.listener.d_(t,r)}A_(e){const t={};t.database=gm(this.serializer),t.addTarget=function(i,o){let a;const l=o.target;if(a=dm(l)?{documents:ZM(i,l)}:{query:e2(i,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=h1(i,o.resumeToken);const c=fm(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ue.min())>0){a.readTime=Td(i,o.snapshotVersion.toTimestamp());const c=fm(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=n2(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){const t={};t.database=gm(this.serializer),t.removeTarget=e,this.a_(t)}}class j2 extends T1{constructor(e,t,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Me(!!e.streamToken),this.lastStreamToken=e.streamToken,Me(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Me(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=JM(e.writeResults,e.commitTime),r=lr(e.commitTime);return this.listener.g_(r,t)}p_(){const e={};e.database=gm(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>XM(this.serializer,r))};this.a_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2 extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new q(U.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,pm(t,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new q(U.UNKNOWN,i.toString())})}Lo(e,t,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,pm(t,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new q(U.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class U2{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Wr(t),this.D_=!1):X("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e,t,r,s,i){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{ji(this)&&(X("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=ce(l);c.L_.add(4),await lu(c),c.q_.set("Unknown"),c.L_.delete(4),await yh(c)}(this))})}),this.q_=new U2(r,s)}}async function yh(n){if(ji(n))for(const e of n.B_)await e(!0)}async function lu(n){for(const e of n.B_)await e(!1)}function S1(n,e){const t=ce(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),iv(t)?sv(t):ua(t).r_()&&rv(t,e))}function nv(n,e){const t=ce(n),r=ua(t);t.N_.delete(e),r.r_()&&C1(t,e),t.N_.size===0&&(r.r_()?r.o_():ji(t)&&t.q_.set("Unknown"))}function rv(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ue.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ua(n).A_(e)}function C1(n,e){n.Q_.xe(e),ua(n).R_(e)}function sv(n){n.Q_=new $M({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),ua(n).start(),n.q_.v_()}function iv(n){return ji(n)&&!ua(n).n_()&&n.N_.size>0}function ji(n){return ce(n).L_.size===0}function I1(n){n.Q_=void 0}async function $2(n){n.q_.set("Online")}async function H2(n){n.N_.forEach((e,t)=>{rv(n,e)})}async function Y2(n,e){I1(n),iv(n)?(n.q_.M_(e),sv(n)):n.q_.set("Unknown")}async function z2(n,e,t){if(n.q_.set("Online"),e instanceof d1&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.N_.delete(a),s.Q_.removeTarget(a))}(n,e)}catch(r){X("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Sd(n,r)}else if(e instanceof Rc?n.Q_.Ke(e):e instanceof c1?n.Q_.He(e):n.Q_.We(e),!t.isEqual(ue.min()))try{const r=await w1(n.localStore);t.compareTo(r)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.N_.get(c);d&&i.N_.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=i.N_.get(l);if(!d)return;i.N_.set(l,d.withResumeToken(Pt.EMPTY_BYTE_STRING,d.snapshotVersion)),C1(i,l);const h=new ys(d.target,l,c,d.sequenceNumber);rv(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(n,t)}catch(r){X("RemoteStore","Failed to raise snapshot:",r),await Sd(n,r)}}async function Sd(n,e,t){if(!iu(e))throw e;n.L_.add(1),await lu(n),n.q_.set("Offline"),t||(t=()=>w1(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{X("RemoteStore","Retrying IndexedDB access"),await t(),n.L_.delete(1),await yh(n)})}function k1(n,e){return e().catch(t=>Sd(n,t,e))}async function _h(n){const e=ce(n),t=js(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;q2(e);)try{const s=await x2(e.localStore,r);if(s===null){e.O_.length===0&&t.o_();break}r=s.batchId,Q2(e,s)}catch(s){await Sd(e,s)}D1(e)&&P1(e)}function q2(n){return ji(n)&&n.O_.length<10}function Q2(n,e){n.O_.push(e);const t=js(n);t.r_()&&t.V_&&t.m_(e.mutations)}function D1(n){return ji(n)&&!js(n).n_()&&n.O_.length>0}function P1(n){js(n).start()}async function K2(n){js(n).p_()}async function G2(n){const e=js(n);for(const t of n.O_)e.m_(t.mutations)}async function X2(n,e,t){const r=n.O_.shift(),s=Gg.from(r,e,t);await k1(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await _h(n)}async function J2(n,e){e&&js(n).V_&&await async function(r,s){if(function(o){return BM(o)&&o!==U.ABORTED}(s.code)){const i=r.O_.shift();js(r).s_(),await k1(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await _h(r)}}(n,e),D1(n)&&P1(n)}async function r0(n,e){const t=ce(n);t.asyncQueue.verifyOperationInProgress(),X("RemoteStore","RemoteStore received new credentials");const r=ji(t);t.L_.add(3),await lu(t),r&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await yh(t)}async function Z2(n,e){const t=ce(n);e?(t.L_.delete(2),await yh(t)):e||(t.L_.add(2),await lu(t),t.q_.set("Unknown"))}function ua(n){return n.K_||(n.K_=function(t,r,s){const i=ce(t);return i.w_(),new F2(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(n.datastore,n.asyncQueue,{Eo:$2.bind(null,n),Ro:H2.bind(null,n),mo:Y2.bind(null,n),d_:z2.bind(null,n)}),n.B_.push(async e=>{e?(n.K_.s_(),iv(n)?sv(n):n.q_.set("Unknown")):(await n.K_.stop(),I1(n))})),n.K_}function js(n){return n.U_||(n.U_=function(t,r,s){const i=ce(t);return i.w_(),new j2(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:K2.bind(null,n),mo:J2.bind(null,n),f_:G2.bind(null,n),g_:X2.bind(null,n)}),n.B_.push(async e=>{e?(n.U_.s_(),await _h(n)):(await n.U_.stop(),n.O_.length>0&&(X("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))})),n.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e,t,r,s,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,i){const o=Date.now()+r,a=new ov(e,t,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function av(n,e){if(Wr("AsyncQueue",`${e}: ${n}`),iu(n))return new q(U.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e){this.comparator=e?(t,r)=>e(t,r)||ne.comparator(t.key,r.key):(t,r)=>ne.comparator(t.key,r.key),this.keyedMap=Ya(),this.sortedSet=new Ke(this.comparator)}static emptySet(e){return new Co(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Co)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Co;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(){this.W_=new Ke(ne.comparator)}track(e){const t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):ae():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Uo{constructor(e,t,r,s,i,o,a,l,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,s,i){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new Uo(e,t,Co.emptySet(t),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class tO{constructor(){this.queries=i0(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){const s=ce(t),i=s.queries;s.queries=i0(),i.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new q(U.ABORTED,"Firestore shutting down"))}}function i0(){return new la(n=>XC(n),dh)}async function lv(n,e){const t=ce(n);let r=3;const s=e.query;let i=t.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new eO,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await t.onListen(s,!0);break;case 1:i.z_=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(o){const a=av(o,`Initialization of query '${Xi(e.query)}' failed`);return void e.onError(a)}t.queries.set(s,i),i.j_.push(e),e.Z_(t.onlineState),i.z_&&e.X_(i.z_)&&cv(t)}async function uv(n,e){const t=ce(n),r=e.query;let s=3;const i=t.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function nO(n,e){const t=ce(n);let r=!1;for(const s of e){const i=s.query,o=t.queries.get(i);if(o){for(const a of o.j_)a.X_(s)&&(r=!0);o.z_=s}}r&&cv(t)}function rO(n,e,t){const r=ce(n),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(t);r.queries.delete(e)}function cv(n){n.Y_.forEach(e=>{e.next()})}var ym,o0;(o0=ym||(ym={})).ea="default",o0.Cache="cache";class dv{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Uo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Uo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==ym.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e){this.key=e}}class x1{constructor(e){this.key=e}}class sO{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=we(),this.mutatedKeys=we(),this.Aa=JC(e),this.Ra=new Co(this.Aa)}get Va(){return this.Ta}ma(e,t){const r=t?t.fa:new s0,s=t?t.Ra:this.Ra;let i=t?t.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const p=s.get(d),g=hh(this.query,h)?h:null,_=!!p&&this.mutatedKeys.has(p.key),D=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let I=!1;p&&g?p.data.isEqual(g.data)?_!==D&&(r.track({type:3,doc:g}),I=!0):this.ga(p,g)||(r.track({type:2,doc:g}),I=!0,(l&&this.Aa(g,l)>0||c&&this.Aa(g,c)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),I=!0):p&&!g&&(r.track({type:1,doc:p}),I=!0,(l||c)&&(a=!0)),I&&(g?(o=o.add(g),i=D?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:i}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,h)=>function(g,_){const D=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ae()}};return D(g)-D(_)}(d.type,h.type)||this.Aa(d.doc,h.doc)),this.pa(r),s=s!=null&&s;const a=t&&!s?this.ya():[],l=this.da.size===0&&this.current&&!s?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new Uo(this.query,e.Ra,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new s0,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=we(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const t=[];return e.forEach(r=>{this.da.has(r)||t.push(new x1(r))}),this.da.forEach(r=>{e.has(r)||t.push(new b1(r))}),t}ba(e){this.Ta=e.Ts,this.da=we();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Uo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class iO{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class oO{constructor(e){this.key=e,this.va=!1}}class aO{constructor(e,t,r,s,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new la(a=>XC(a),dh),this.Ma=new Map,this.xa=new Set,this.Oa=new Ke(ne.comparator),this.Na=new Map,this.La=new Zg,this.Ba={},this.ka=new Map,this.qa=Bo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function lO(n,e,t=!0){const r=L1(n);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await R1(r,e,t,!0),s}async function uO(n,e){const t=L1(n);await R1(t,e,!0,!1)}async function R1(n,e,t,r){const s=await R2(n.localStore,ar(e)),i=s.targetId,o=n.sharedClientState.addLocalQueryTarget(i,t);let a;return r&&(a=await cO(n,e,i,o==="current",s.resumeToken)),n.isPrimaryClient&&t&&S1(n.remoteStore,s),a}async function cO(n,e,t,r,s){n.Ka=(h,p,g)=>async function(D,I,w,y){let T=I.view.ma(w);T.ns&&(T=await e0(D.localStore,I.query,!1).then(({documents:S})=>I.view.ma(S,T)));const A=y&&y.targetChanges.get(I.targetId),L=y&&y.targetMismatches.get(I.targetId)!=null,M=I.view.applyChanges(T,D.isPrimaryClient,A,L);return l0(D,I.targetId,M.wa),M.snapshot}(n,h,p,g);const i=await e0(n.localStore,e,!0),o=new sO(e,i.Ts),a=o.ma(i.documents),l=au.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),c=o.applyChanges(a,n.isPrimaryClient,l);l0(n,t,c.wa);const d=new iO(e,t,o);return n.Fa.set(e,d),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),c.snapshot}async function dO(n,e,t){const r=ce(n),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!dh(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await vm(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&nv(r.remoteStore,s.targetId),_m(r,s.targetId)}).catch(su)):(_m(r,s.targetId),await vm(r.localStore,s.targetId,!0))}async function hO(n,e){const t=ce(n),r=t.Fa.get(e),s=t.Ma.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),nv(t.remoteStore,r.targetId))}async function fO(n,e,t){const r=wO(n);try{const s=await function(o,a){const l=ce(o),c=dt.now(),d=a.reduce((g,_)=>g.add(_.key),we());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let _=$r(),D=we();return l.cs.getEntries(g,d).next(I=>{_=I,_.forEach((w,y)=>{y.isValidDocument()||(D=D.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,_)).next(I=>{h=I;const w=[];for(const y of a){const T=OM(y,h.get(y.key).overlayedDocument);T!=null&&w.push(new Gs(y.key,T,$C(T.value.mapValue),Kt.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,w,a)}).next(I=>{p=I;const w=I.applyToLocalDocumentSet(h,D);return l.documentOverlayCache.saveOverlays(g,I.batchId,w)})}).then(()=>({batchId:p.batchId,changes:e1(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new Ke(ke)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,s.batchId,t),await uu(r,s.changes),await _h(r.remoteStore)}catch(s){const i=av(s,"Failed to persist write");t.reject(i)}}async function A1(n,e){const t=ce(n);try{const r=await P2(t.localStore,e);e.targetChanges.forEach((s,i)=>{const o=t.Na.get(i);o&&(Me(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?Me(o.va):s.removedDocuments.size>0&&(Me(o.va),o.va=!1))}),await uu(t,r,e)}catch(r){await su(r)}}function a0(n,e,t){const r=ce(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Fa.forEach((i,o)=>{const a=o.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=ce(o);l.onlineState=a;let c=!1;l.queries.forEach((d,h)=>{for(const p of h.j_)p.Z_(a)&&(c=!0)}),c&&cv(l)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function pO(n,e,t){const r=ce(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new Ke(ne.comparator);o=o.insert(i,Ft.newNoDocument(i,ue.min()));const a=we().add(i),l=new gh(ue.min(),new Map,new Ke(ke),o,a);await A1(r,l),r.Oa=r.Oa.remove(i),r.Na.delete(e),hv(r)}else await vm(r.localStore,e,!1).then(()=>_m(r,e,t)).catch(su)}async function mO(n,e){const t=ce(n),r=e.batch.batchId;try{const s=await D2(t.localStore,e);M1(t,r,null),N1(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await uu(t,s)}catch(s){await su(s)}}async function gO(n,e,t){const r=ce(n);try{const s=await function(o,a){const l=ce(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(Me(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);M1(r,e,t),N1(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await uu(r,s)}catch(s){await su(s)}}function N1(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function M1(n,e,t){const r=ce(n);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(t?i.reject(t):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function _m(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||O1(n,r)})}function O1(n,e){n.xa.delete(e.path.canonicalString());const t=n.Oa.get(e);t!==null&&(nv(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),hv(n))}function l0(n,e,t){for(const r of t)r instanceof b1?(n.La.addReference(r.key,e),vO(n,r)):r instanceof x1?(X("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||O1(n,r.key)):ae()}function vO(n,e){const t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(X("SyncEngine","New document in limbo: "+t),n.xa.add(r),hv(n))}function hv(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){const e=n.xa.values().next().value;n.xa.delete(e);const t=new ne(Be.fromString(e)),r=n.qa.next();n.Na.set(r,new oO(t)),n.Oa=n.Oa.insert(t,r),S1(n.remoteStore,new ys(ar(ch(t.path)),r,"TargetPurposeLimboResolution",$g.oe))}}async function uu(n,e,t){const r=ce(n),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,t).then(c=>{var d;if((c||t)&&r.isPrimaryClient){const h=c?!c.fromCache:(d=t==null?void 0:t.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){s.push(c);const h=tv.Wi(l.targetId,c);i.push(h)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(l,c){const d=ce(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>W.forEach(c,p=>W.forEach(p.$i,g=>d.persistence.referenceDelegate.addReference(h,p.targetId,g)).next(()=>W.forEach(p.Ui,g=>d.persistence.referenceDelegate.removeReference(h,p.targetId,g)))))}catch(h){if(!iu(h))throw h;X("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const p=h.targetId;if(!h.fromCache){const g=d.os.get(p),_=g.snapshotVersion,D=g.withLastLimboFreeSnapshotVersion(_);d.os=d.os.insert(p,D)}}}(r.localStore,i))}async function yO(n,e){const t=ce(n);if(!t.currentUser.isEqual(e)){X("SyncEngine","User change. New user:",e.toKey());const r=await _1(t.localStore,e);t.currentUser=e,function(i,o){i.ka.forEach(a=>{a.forEach(l=>{l.reject(new q(U.CANCELLED,o))})}),i.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await uu(t,r.hs)}}function _O(n,e){const t=ce(n),r=t.Na.get(e);if(r&&r.va)return we().add(r.key);{let s=we();const i=t.Ma.get(e);if(!i)return s;for(const o of i){const a=t.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function L1(n){const e=ce(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=A1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_O.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pO.bind(null,e),e.Ca.d_=nO.bind(null,e.eventManager),e.Ca.$a=rO.bind(null,e.eventManager),e}function wO(n){const e=ce(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gO.bind(null,e),e}class Cd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=vh(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return k2(this.persistence,new C2,e.initialUser,this.serializer)}Ga(e){return new E2(ev.Zr,this.serializer)}Wa(e){return new N2}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Cd.provider={build:()=>new Cd};class wm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>a0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=yO.bind(null,this.syncEngine),await Z2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new tO}()}createDatastore(e){const t=vh(e.databaseInfo.databaseId),r=function(i){return new V2(i)}(e.databaseInfo);return function(i,o,a,l){return new B2(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,i,o,a){return new W2(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,t=>a0(this.syncEngine,t,0),function(){return n0.D()?new n0:new M2}())}createSyncEngine(e,t){return function(s,i,o,a,l,c,d){const h=new aO(s,i,o,a,l,c);return d&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const i=ce(s);X("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await lu(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}wm.provider={build:()=>new wm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Wr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e,t,r,s,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Lt.UNAUTHENTICATED,this.clientId=BC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{X("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(X("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=av(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Uf(n,e){n.asyncQueue.verifyOperationInProgress(),X("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await _1(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function u0(n,e){n.asyncQueue.verifyOperationInProgress();const t=await TO(n);X("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>r0(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>r0(e.remoteStore,s)),n._onlineComponents=e}async function TO(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){X("FirestoreClient","Using user provided OfflineComponentProvider");try{await Uf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===U.FAILED_PRECONDITION||s.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;Lo("Error using user provided cache. Falling back to memory cache: "+t),await Uf(n,new Cd)}}else X("FirestoreClient","Using default OfflineComponentProvider"),await Uf(n,new Cd);return n._offlineComponents}async function V1(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(X("FirestoreClient","Using user provided OnlineComponentProvider"),await u0(n,n._uninitializedComponentsProvider._online)):(X("FirestoreClient","Using default OnlineComponentProvider"),await u0(n,new wm))),n._onlineComponents}function SO(n){return V1(n).then(e=>e.syncEngine)}async function Id(n){const e=await V1(n),t=e.eventManager;return t.onListen=lO.bind(null,e.syncEngine),t.onUnlisten=dO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=uO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=hO.bind(null,e.syncEngine),t}function CO(n,e,t={}){const r=new xr;return n.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const d=new fv({next:p=>{d.Za(),o.enqueueAndForget(()=>uv(i,h));const g=p.docs.has(a);!g&&p.fromCache?c.reject(new q(U.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&l&&l.source==="server"?c.reject(new q(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new dv(ch(a.path),d,{includeMetadataChanges:!0,_a:!0});return lv(i,h)}(await Id(n),n.asyncQueue,e,t,r)),r.promise}function IO(n,e,t={}){const r=new xr;return n.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const d=new fv({next:p=>{d.Za(),o.enqueueAndForget(()=>uv(i,h)),p.fromCache&&l.source==="server"?c.reject(new q(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new dv(a,d,{includeMetadataChanges:!0,_a:!0});return lv(i,h)}(await Id(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(n,e,t){if(!t)throw new q(U.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function kO(n,e,t,r){if(e===!0&&r===!0)throw new q(U.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function d0(n){if(!ne.isDocumentKey(n))throw new q(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function h0(n){if(ne.isDocumentKey(n))throw new q(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function wh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ae()}function Gt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new q(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=wh(n);throw new q(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new q(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new q(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=F1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Eh{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new f0({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new q(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new q(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new f0(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new $N;switch(r.type){case"firstParty":return new qN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new q(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=c0.get(t);r&&(X("ComponentProvider","Removing Datastore"),c0.delete(t),r.terminate())}(this),Promise.resolve()}}function DO(n,e,t,r={}){var s;const i=(n=Gt(n,Eh))._getSettings(),o=`${e}:${t}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Lo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Lt.MOCK_USER;else{a=ox(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new q(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Lt(c)}n._authCredentials=new HN(new jC(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Qr(this.firestore,e,this._query)}}class Bt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bt(this.firestore,e,this._key)}}class Rs extends Qr{constructor(e,t,r){super(e,t,ch(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bt(this.firestore,null,new ne(e))}withConverter(e){return new Rs(this.firestore,e,this._path)}}function cn(n,e,...t){if(n=at(n),j1("collection","path",e),n instanceof Eh){const r=Be.fromString(e,...t);return h0(r),new Rs(n,null,r)}{if(!(n instanceof Bt||n instanceof Rs))throw new q(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Be.fromString(e,...t));return h0(r),new Rs(n.firestore,null,r)}}function pe(n,e,...t){if(n=at(n),arguments.length===1&&(e=BC.newId()),j1("doc","path",e),n instanceof Eh){const r=Be.fromString(e,...t);return d0(r),new Bt(n,null,new ne(r))}{if(!(n instanceof Bt||n instanceof Rs))throw new q(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Be.fromString(e,...t));return d0(r),new Bt(n.firestore,n instanceof Rs?n.converter:null,new ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new E1(this,"async_queue_retry"),this.Vu=()=>{const r=Bf();r&&X("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const t=Bf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=Bf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new xr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!iu(e))throw e;X("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Wr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const s=ov.createAndSchedule(this,e,t,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&ae()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}function m0(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const s=t;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(n,["next","error","complete"])}class dr extends Eh{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new p0,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new p0(e),this._firestoreClient=void 0,await e}}}function PO(n,e){const t=typeof n=="object"?n:GS(),r=typeof n=="string"?n:"(default)",s=Ag(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=sx("firestore");i&&DO(s,...i)}return s}function cu(n){if(n._terminated)throw new q(U.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||bO(n),n._firestoreClient}function bO(n){var e,t,r;const s=n._freezeSettings(),i=function(a,l,c,d){return new oM(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,F1(d.experimentalLongPollingOptions),d.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new EO(n._authCredentials,n._appCheckCredentials,n._queue,i,n._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wo(Pt.fromBase64String(e))}catch(t){throw new q(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Wo(Pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new q(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new St(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new q(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new q(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO=/^__.*__$/;class RO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Gs(e,this.data,this.fieldMask,t,this.fieldTransforms):new ou(e,this.data,t,this.fieldTransforms)}}class B1{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Gs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function U1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ae()}}class gv{constructor(e,t,r,s,i,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new gv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return kd(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(U1(this.Cu)&&xO.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class AO{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||vh(e)}Qu(e,t,r,s=!1){return new gv({Cu:e,methodName:t,qu:r,path:St.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hu(n){const e=n._freezeSettings(),t=vh(n._databaseId);return new AO(n._databaseId,!!e.ignoreUndefinedProperties,t)}function vv(n,e,t,r,s,i={}){const o=n.Qu(i.merge||i.mergeFields?2:0,e,t,s);_v("Data must be an object, but it was:",o,r);const a=H1(r,o);let l,c;if(i.merge)l=new hn(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const p=Em(e,h,t);if(!o.contains(p))throw new q(U.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);z1(d,p)||d.push(p)}l=new hn(d),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new RO(new en(a),l,c)}class fu extends Th{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fu}}class yv extends Th{_toFieldTransform(e){return new RM(e.path,new jl)}isEqual(e){return e instanceof yv}}function W1(n,e,t,r){const s=n.Qu(1,e,t);_v("Data must be an object, but it was:",s,r);const i=[],o=en.empty();Fi(r,(l,c)=>{const d=wv(e,l,t);c=at(c);const h=s.Nu(d);if(c instanceof fu)i.push(d);else{const p=pu(c,h);p!=null&&(i.push(d),o.set(d,p))}});const a=new hn(i);return new B1(o,a,s.fieldTransforms)}function $1(n,e,t,r,s,i){const o=n.Qu(1,e,t),a=[Em(e,r,t)],l=[s];if(i.length%2!=0)throw new q(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(Em(e,i[p])),l.push(i[p+1]);const c=[],d=en.empty();for(let p=a.length-1;p>=0;--p)if(!z1(c,a[p])){const g=a[p];let _=l[p];_=at(_);const D=o.Nu(g);if(_ instanceof fu)c.push(g);else{const I=pu(_,D);I!=null&&(c.push(g),d.set(g,I))}}const h=new hn(c);return new B1(d,h,o.fieldTransforms)}function NO(n,e,t,r=!1){return pu(t,n.Qu(r?4:3,e))}function pu(n,e){if(Y1(n=at(n)))return _v("Unsupported field value:",e,n),H1(n,e);if(n instanceof Th)return function(r,s){if(!U1(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=pu(a,s.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(n,e)}return function(r,s){if((r=at(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return PM(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=dt.fromDate(r);return{timestampValue:Td(s.serializer,i)}}if(r instanceof dt){const i=new dt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Td(s.serializer,i)}}if(r instanceof pv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Wo)return{bytesValue:h1(s.serializer,r._byteString)};if(r instanceof Bt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Jg(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof mv)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return Kg(a.serializer,l)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${wh(r)}`)}(n,e)}function H1(n,e){const t={};return UC(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fi(n,(r,s)=>{const i=pu(s,e.Mu(r));i!=null&&(t[r]=i)}),{mapValue:{fields:t}}}function Y1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof dt||n instanceof pv||n instanceof Wo||n instanceof Bt||n instanceof Th||n instanceof mv)}function _v(n,e,t){if(!Y1(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const r=wh(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function Em(n,e,t){if((e=at(e))instanceof du)return e._internalPath;if(typeof e=="string")return wv(n,e);throw kd("Field path arguments must be of type string or ",n,!1,void 0,t)}const MO=new RegExp("[~\\*/\\[\\]]");function wv(n,e,t){if(e.search(MO)>=0)throw kd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new du(...e.split("."))._internalPath}catch{throw kd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function kd(n,e,t,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new q(U.INVALID_ARGUMENT,a+n+l)}function z1(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e,t,r,s,i){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new OO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Sh("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class OO extends q1{data(){return super.data()}}function Sh(n,e){return typeof e=="string"?wv(n,e):e instanceof du?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new q(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ev{}class Tv extends Ev{}function As(n,e,...t){let r=[];e instanceof Ev&&r.push(e),r=r.concat(t),function(i){const o=i.filter(l=>l instanceof Sv).length,a=i.filter(l=>l instanceof Ch).length;if(o>1||o>0&&a>0)throw new q(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class Ch extends Tv{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Ch(e,t,r)}_apply(e){const t=this._parse(e);return G1(e._query,t),new Qr(e.firestore,e.converter,hm(e._query,t))}_parse(e){const t=hu(e.firestore);return function(i,o,a,l,c,d,h){let p;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new q(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){v0(h,d);const g=[];for(const _ of h)g.push(g0(l,i,_));p={arrayValue:{values:g}}}else p=g0(l,i,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||v0(h,d),p=NO(a,o,h,d==="in"||d==="not-in");return ct.create(c,d,p)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function $o(n,e,t){const r=e,s=Sh("where",n);return Ch._create(s,r,t)}class Sv extends Ev{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Sv(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:jn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)G1(o,l),o=hm(o,l)}(e._query,t),new Qr(e.firestore,e.converter,hm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Cv extends Tv{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Cv(e,t)}_apply(e){const t=function(s,i,o){if(s.startAt!==null)throw new q(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new q(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Fl(i,o)}(e._query,this._field,this._direction);return new Qr(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new aa(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function LO(n,e="asc"){const t=e,r=Sh("orderBy",n);return Cv._create(r,t)}class Iv extends Tv{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Iv(e,t,r)}_apply(e){return new Qr(e.firestore,e.converter,wd(e._query,this._limit,this._limitType))}}function K1(n){return Iv._create("limit",n,"F")}function g0(n,e,t){if(typeof(t=at(t))=="string"){if(t==="")throw new q(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!GC(e)&&t.indexOf("/")!==-1)throw new q(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Be.fromString(t));if(!ne.isDocumentKey(r))throw new q(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Vw(n,new ne(r))}if(t instanceof Bt)return Vw(n,t._key);throw new q(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wh(t)}.`)}function v0(n,e){if(!Array.isArray(n)||n.length===0)throw new q(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function G1(n,e){const t=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new q(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new q(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class VO{convertValue(e,t="none"){switch(Ri(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(xi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ae()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Fi(e,(s,i)=>{r[s]=this.convertValue(i,t)}),r}convertVectorValue(e){var t,r,s;const i=(s=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>tt(o.doubleValue));return new mv(i)}convertGeoPoint(e){return new pv(tt(e.latitude),tt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Yg(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ol(e));default:return null}}convertTimestamp(e){const t=Fs(e);return new dt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Be.fromString(e);Me(y1(r));const s=new Ll(r.get(1),r.get(3)),i=new ne(r.popFirst(5));return s.isEqual(t)||Wr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class X1 extends q1{constructor(e,t,r,s,i,o){super(e,t,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ac(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Sh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Ac extends X1{data(e={}){return super.data(e)}}class J1{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new qa(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ac(this._firestore,this._userDataWriter,r.key,r,new qa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new q(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Ac(s._firestore,s._userDataWriter,a.doc.key,a.doc,new qa(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Ac(s._firestore,s._userDataWriter,a.doc.key,a.doc,new qa(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:FO(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function FO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ae()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bs(n){n=Gt(n,Bt);const e=Gt(n.firestore,dr);return CO(cu(e),n._key).then(t=>eI(e,n,t))}class Dv extends VO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bt(this.firestore,null,t)}}function er(n){n=Gt(n,Qr);const e=Gt(n.firestore,dr),t=cu(e),r=new Dv(e);return Q1(n._query),IO(t,n._query).then(s=>new J1(e,r,n,s))}function Bi(n,e,t){n=Gt(n,Bt);const r=Gt(n.firestore,dr),s=kv(n.converter,e,t);return mu(r,[vv(hu(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,Kt.none())])}function Ho(n,e,t,...r){n=Gt(n,Bt);const s=Gt(n.firestore,dr),i=hu(s);let o;return o=typeof(e=at(e))=="string"||e instanceof du?$1(i,"updateDoc",n._key,e,t,r):W1(i,"updateDoc",n._key,e),mu(s,[o.toMutation(n._key,Kt.exists(!0))])}function jO(n){return mu(Gt(n.firestore,dr),[new mh(n._key,Kt.none())])}function Z1(n,e){const t=Gt(n.firestore,dr),r=pe(n),s=kv(n.converter,e);return mu(t,[vv(hu(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,Kt.exists(!1))]).then(()=>r)}function Qa(n,...e){var t,r,s;n=at(n);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||m0(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(m0(e[o])){const h=e[o];e[o]=(t=h.next)===null||t===void 0?void 0:t.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(s=h.complete)===null||s===void 0?void 0:s.bind(h)}let l,c,d;if(n instanceof Bt)c=Gt(n.firestore,dr),d=ch(n._key.path),l={next:h=>{e[o]&&e[o](eI(c,n,h))},error:e[o+1],complete:e[o+2]};else{const h=Gt(n,Qr);c=Gt(h.firestore,dr),d=h._query;const p=new Dv(c);l={next:g=>{e[o]&&e[o](new J1(c,p,h,g))},error:e[o+1],complete:e[o+2]},Q1(n._query)}return function(p,g,_,D){const I=new fv(D),w=new dv(g,I,_);return p.asyncQueue.enqueueAndForget(async()=>lv(await Id(p),w)),()=>{I.Za(),p.asyncQueue.enqueueAndForget(async()=>uv(await Id(p),w))}}(cu(c),d,a,l)}function mu(n,e){return function(r,s){const i=new xr;return r.asyncQueue.enqueueAndForget(async()=>fO(await SO(r),s,i)),i.promise}(cu(n),e)}function eI(n,e,t){const r=t.docs.get(e._key),s=new Dv(n);return new X1(n,s,e._key,r,new qa(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=hu(e)}set(e,t,r){this._verifyNotCommitted();const s=Wf(e,this._firestore),i=kv(s.converter,t,r),o=vv(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,r);return this._mutations.push(o.toMutation(s._key,Kt.none())),this}update(e,t,r,...s){this._verifyNotCommitted();const i=Wf(e,this._firestore);let o;return o=typeof(t=at(t))=="string"||t instanceof du?$1(this._dataReader,"WriteBatch.update",i._key,t,r,s):W1(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(o.toMutation(i._key,Kt.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Wf(e,this._firestore);return this._mutations=this._mutations.concat(new mh(t._key,Kt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new q(U.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Wf(n,e){if((n=at(n)).firestore!==e)throw new q(U.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dl(){return new fu("deleteField")}function Dd(){return new yv("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ka(n){return cu(n=Gt(n,dr)),new BO(n,e=>mu(n,e))}(function(e,t=!0){(function(s){oa=s})(sa),Oo(new ki("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new dr(new YN(r.getProvider("auth-internal")),new KN(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new q(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ll(c.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),xs(Aw,"4.7.3",e),xs(Aw,"4.7.3","esm2017")})();var UO="firebase",WO="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xs(UO,WO,"app");const $O={apiKey:"AIzaSyCSI3fz-q0yaaOKhjdSIz0-2GLxXbSlSnU",authDomain:"balance-app-789fc.firebaseapp.com",projectId:"balance-app-789fc",storageBucket:"balance-app-789fc.firebasestorage.app",messagingSenderId:"715855398123",appId:"1:715855398123:web:5550df6e662206bf14aaae"},tI=KS($O),rt=UN(tI),te=PO(tI),HO="_splash_gwsah_6",YO="_logoWrap_gwsah_23",zO="_logoBadge_gwsah_30",qO="_logo_gwsah_23",QO="_brand_gwsah_51",KO="_brandAccent_gwsah_58",GO="_tagline_gwsah_63",XO="_spinner_gwsah_71",ss={splash:HO,logoWrap:YO,logoBadge:zO,logo:qO,brand:QO,brandAccent:KO,tagline:GO,spinner:XO},JO="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20841.9%20595.3'%3e%3cg%20fill='%2361DAFB'%3e%3cpath%20d='M666.3%20296.5c0-32.5-40.7-63.3-103.1-82.4%2014.4-63.6%208-114.2-20.2-130.4-6.5-3.8-14.1-5.6-22.4-5.6v22.3c4.6%200%208.3.9%2011.4%202.6%2013.6%207.8%2019.5%2037.5%2014.9%2075.7-1.1%209.4-2.9%2019.3-5.1%2029.4-19.6-4.8-41-8.5-63.5-10.9-13.5-18.5-27.5-35.3-41.6-50%2032.6-30.3%2063.2-46.9%2084-46.9V78c-27.5%200-63.5%2019.6-99.9%2053.6-36.4-33.8-72.4-53.2-99.9-53.2v22.3c20.7%200%2051.4%2016.5%2084%2046.6-14%2014.7-28%2031.4-41.3%2049.9-22.6%202.4-44%206.1-63.6%2011-2.3-10-4-19.7-5.2-29-4.7-38.2%201.1-67.9%2014.6-75.8%203-1.8%206.9-2.6%2011.5-2.6V78.5c-8.4%200-16%201.8-22.6%205.6-28.1%2016.2-34.4%2066.7-19.9%20130.1-62.2%2019.2-102.7%2049.9-102.7%2082.3%200%2032.5%2040.7%2063.3%20103.1%2082.4-14.4%2063.6-8%20114.2%2020.2%20130.4%206.5%203.8%2014.1%205.6%2022.5%205.6%2027.5%200%2063.5-19.6%2099.9-53.6%2036.4%2033.8%2072.4%2053.2%2099.9%2053.2%208.4%200%2016-1.8%2022.6-5.6%2028.1-16.2%2034.4-66.7%2019.9-130.1%2062-19.1%20102.5-49.9%20102.5-82.3zm-130.2-66.7c-3.7%2012.9-8.3%2026.2-13.5%2039.5-4.1-8-8.4-16-13.1-24-4.6-8-9.5-15.8-14.4-23.4%2014.2%202.1%2027.9%204.7%2041%207.9zm-45.8%20106.5c-7.8%2013.5-15.8%2026.3-24.1%2038.2-14.9%201.3-30%202-45.2%202-15.1%200-30.2-.7-45-1.9-8.3-11.9-16.4-24.6-24.2-38-7.6-13.1-14.5-26.4-20.8-39.8%206.2-13.4%2013.2-26.8%2020.7-39.9%207.8-13.5%2015.8-26.3%2024.1-38.2%2014.9-1.3%2030-2%2045.2-2%2015.1%200%2030.2.7%2045%201.9%208.3%2011.9%2016.4%2024.6%2024.2%2038%207.6%2013.1%2014.5%2026.4%2020.8%2039.8-6.3%2013.4-13.2%2026.8-20.7%2039.9zm32.3-13c5.4%2013.4%2010%2026.8%2013.8%2039.8-13.1%203.2-26.9%205.9-41.2%208%204.9-7.7%209.8-15.6%2014.4-23.7%204.6-8%208.9-16.1%2013-24.1zM421.2%20430c-9.3-9.6-18.6-20.3-27.8-32%209%20.4%2018.2.7%2027.5.7%209.4%200%2018.7-.2%2027.8-.7-9%2011.7-18.3%2022.4-27.5%2032zm-74.4-58.9c-14.2-2.1-27.9-4.7-41-7.9%203.7-12.9%208.3-26.2%2013.5-39.5%204.1%208%208.4%2016%2013.1%2024%204.7%208%209.5%2015.8%2014.4%2023.4zM420.7%20163c9.3%209.6%2018.6%2020.3%2027.8%2032-9-.4-18.2-.7-27.5-.7-9.4%200-18.7.2-27.8.7%209-11.7%2018.3-22.4%2027.5-32zm-74%2058.9c-4.9%207.7-9.8%2015.6-14.4%2023.7-4.6%208-8.9%2016-13%2024-5.4-13.4-10-26.8-13.8-39.8%2013.1-3.1%2026.9-5.8%2041.2-7.9zm-90.5%20125.2c-35.4-15.1-58.3-34.9-58.3-50.6%200-15.7%2022.9-35.6%2058.3-50.6%208.6-3.7%2018-7%2027.7-10.1%205.7%2019.6%2013.2%2040%2022.5%2060.9-9.2%2020.8-16.6%2041.1-22.2%2060.6-9.9-3.1-19.3-6.5-28-10.2zM310%20490c-13.6-7.8-19.5-37.5-14.9-75.7%201.1-9.4%202.9-19.3%205.1-29.4%2019.6%204.8%2041%208.5%2063.5%2010.9%2013.5%2018.5%2027.5%2035.3%2041.6%2050-32.6%2030.3-63.2%2046.9-84%2046.9-4.5-.1-8.3-1-11.3-2.7zm237.2-76.2c4.7%2038.2-1.1%2067.9-14.6%2075.8-3%201.8-6.9%202.6-11.5%202.6-20.7%200-51.4-16.5-84-46.6%2014-14.7%2028-31.4%2041.3-49.9%2022.6-2.4%2044-6.1%2063.6-11%202.3%2010.1%204.1%2019.8%205.2%2029.1zm38.5-66.7c-8.6%203.7-18%207-27.7%2010.1-5.7-19.6-13.2-40-22.5-60.9%209.2-20.8%2016.6-41.1%2022.2-60.6%209.9%203.1%2019.3%206.5%2028.1%2010.2%2035.4%2015.1%2058.3%2034.9%2058.3%2050.6-.1%2015.7-23%2035.6-58.4%2050.6zM320.8%2078.4z'/%3e%3ccircle%20cx='420.9'%20cy='296.5'%20r='45.7'/%3e%3cpath%20d='M520.5%2078.1z'/%3e%3c/g%3e%3c/svg%3e";function ZO(){return E.jsxs("div",{className:ss.splash,role:"status","aria-live":"assertive",children:[E.jsxs("div",{className:ss.logoWrap,children:[E.jsx("div",{className:ss.logoBadge,children:E.jsx("img",{src:JO,alt:"Balance logo",className:ss.logo})}),E.jsxs("p",{className:ss.brand,children:["BAL",E.jsx("span",{className:ss.brandAccent,children:"ANCE"})]}),E.jsx("p",{className:ss.tagline,children:"Team Builder"})]}),E.jsx("div",{className:ss.spinner,"aria-hidden":"true"})]})}const eL="_authContainer_1o8y8_8",tL="_authContent_1o8y8_16",nL="_formWrapper_1o8y8_23",rL="_authFooter_1o8y8_27",sL="_authTitle_1o8y8_33",iL="_authInput_1o8y8_42",oL="_authToggleLink_1o8y8_65",aL="_errorMessage_1o8y8_78",lL="_authButton_1o8y8_87",Je={authContainer:eL,authContent:tL,formWrapper:nL,authFooter:rL,authTitle:sL,authInput:iL,authToggleLink:oL,errorMessage:aL,authButton:lL};function uL(){const[n,e]=R.useState(""),[t,r]=R.useState(""),[s,i]=R.useState(""),o=async a=>{if(a.preventDefault(),i(""),!n||!t){i("   .");return}try{await kA(rt,n,t)}catch(l){console.error("Login Error:",l),i("   .")}};return E.jsx("div",{className:Je.authContainer,children:E.jsxs("div",{className:Je.authContent,children:[E.jsxs("form",{className:Je.formWrapper,onSubmit:o,children:[E.jsx("h2",{className:Je.authTitle,children:" !"}),E.jsx("input",{type:"email",className:Je.authInput,value:n,onChange:a=>e(a.target.value),placeholder:"","aria-label":""}),E.jsx("input",{type:"password",className:Je.authInput,value:t,onChange:a=>r(a.target.value),placeholder:"","aria-label":""})]}),E.jsxs("div",{className:Je.authFooter,children:[s&&E.jsx("p",{className:Je.errorMessage,children:s}),E.jsx("button",{type:"submit",className:Je.authButton,onClick:o,children:""}),E.jsxs("p",{className:Je.authToggleLink,children:[" ? ",E.jsx(Ii,{to:"/signup",children:""})]})]})]})})}function cL(){const[n,e]=R.useState(""),[t,r]=R.useState(""),[s,i]=R.useState(""),[o,a]=R.useState(""),[l,c]=R.useState(""),d=async h=>{if(h.preventDefault(),c(""),!n||!t||!s||!o){c("  .");return}if(s!==o){c("  .");return}if(s.length<6){c(" 6  .");return}try{const g=(await IA(rt,t,s)).user;await Bi(pe(te,"users",g.uid),{uid:g.uid,realName:n.trim(),email:t,surveyCompleted:!1})}catch(p){console.error("Sign Up Error:",p),p.code==="auth/email-already-in-use"?c("   ."):p.code==="auth/invalid-email"?c("   ."):c("   .  .")}};return E.jsx("div",{className:Je.authContainer,children:E.jsxs("div",{className:Je.authContent,children:[E.jsxs("form",{className:Je.formWrapper,onSubmit:d,children:[E.jsx("h2",{className:Je.authTitle,children:"?"}),E.jsx("input",{className:Je.authInput,value:n,onChange:h=>e(h.target.value),placeholder:"","aria-label":""}),E.jsx("input",{type:"email",className:Je.authInput,value:t,onChange:h=>r(h.target.value),placeholder:"","aria-label":""}),E.jsx("input",{type:"password",className:Je.authInput,value:s,onChange:h=>i(h.target.value),placeholder:" (6 )","aria-label":""}),E.jsx("input",{type:"password",className:Je.authInput,value:o,onChange:h=>a(h.target.value),placeholder:" ","aria-label":" "})]}),E.jsxs("div",{className:Je.authFooter,children:[l&&E.jsx("p",{className:Je.errorMessage,children:l}),E.jsx("button",{type:"submit",className:Je.authButton,onClick:d,children:""}),E.jsxs("p",{className:Je.authToggleLink,children:["  ? ",E.jsx(Ii,{to:"/login",children:""})]})]})]})})}const y0=[{text:"   ,    ?",answers:[{text:"   ",effects:{SHO:1,DRI:1}},{text:"   ",effects:{PAS:1.5}}]},{text:"    ?",answers:[{text:"   ",effects:{PAC:2}},{text:"    ",effects:{DRI:2}}]},{text:"   ?",answers:[{text:"   ",effects:{PAC:1,SHO:1}},{text:"   ",effects:{DRI:1,PAS:1}}]},{text:"    ?",answers:[{text:"   ",effects:{DEF:1,PAC:.5}},{text:"    ",effects:{SHO:.5,DEF:-.5}}]}],_0=[{text:"    ?",answers:[{text:"  ",effects:{PAC:1.5,DEF:.5}},{text:"   ",effects:{DEF:2}}]},{text:"    ?",answers:[{text:"    ",effects:{PAC:1,PAS:1}},{text:"   ",effects:{DRI:1,PAS:1}}]},{text:"    ?",answers:[{text:" 11  ",effects:{DEF:1.5}},{text:"     ",effects:{DEF:1,PAS:.5}}]},{text:"   ?",answers:[{text:"   ",effects:{PAC:1,PAS:1,DEF:-.5}},{text:"   ",effects:{DEF:1.5,PHY:.5}}]}],sc={ST:[{text:"   ?",answers:[{text:"  ",effects:{SHO:1.5,PAC:.5}},{text:"   ",effects:{PHY:1,SHO:1}}]},{text:"  ,  ?",answers:[{text:" ",effects:{PHY:1.5}},{text:"  ",effects:{PAC:1,DRI:.5}}]},{text:"     ?",answers:[{text:" ",effects:{PAC:1.5}},{text:"    ",effects:{PAS:1,DRI:.5}}]},{text:"     ?",answers:[{text:"  ",effects:{SHO:2}},{text:"    ",effects:{DRI:1.5,SHO:.5}}]}],LW:y0,RW:y0,CAM:[{text:"     ?",answers:[{text:" ",effects:{PAS:2}},{text:"  ",effects:{DRI:2}}]},{text:"     ?",answers:[{text:"    ",effects:{SHO:1.5}},{text:"    ",effects:{PAS:1.5}}]},{text:"   ?",answers:[{text:"   ",effects:{DRI:1,PAS:1}},{text:"   ",effects:{PAC:1,SHO:1}}]},{text:"      ?",answers:[{text:"  ",effects:{DRI:1.5}},{text:" 21 ",effects:{PAS:1.5}}]}],CM:[{text:"    ?",answers:[{text:"     ",effects:{PAS:1.5,PAC:.5}},{text:"    ",effects:{PAS:1,DRI:1}}]},{text:"   ?",answers:[{text:"  ",effects:{PAS:1,SHO:.5,DEF:-.5}},{text:"  ",effects:{DEF:1,PHY:.5,PAS:-.5}}]},{text:"     ?",answers:[{text:"   ",effects:{PAS:2}},{text:"   ",effects:{PHY:1.5,PAC:.5}}]},{text:"   ?",answers:[{text:"  ",effects:{DRI:1.5}},{text:"  ",effects:{DEF:1.5}}]}],CDM:[{text:"    ?",answers:[{text:"   ",effects:{DEF:1,PHY:1}},{text:"   ",effects:{PAC:1,DEF:1}}]},{text:"     ?",answers:[{text:"   ",effects:{DEF:2}},{text:"   ",effects:{DEF:1,PHY:1}}]},{text:"      ?",answers:[{text:"   ",effects:{PAS:1.5}},{text:"     ",effects:{PAS:1.5,PHY:-.5}}]},{text:"     ?",answers:[{text:"     ",effects:{DEF:2}},{text:"   ",effects:{PHY:1.5,PAC:.5}}]}],LB:_0,RB:_0,CB:[{text:"    ?",answers:[{text:"   ",effects:{DEF:2,PAC:-.5}},{text:"  ",effects:{DEF:1,PHY:1.5}}]},{text:"   ?",answers:[{text:"   ",effects:{PAS:1,DEF:.5}},{text:"   ",effects:{PAS:2}}]},{text:"    ?",answers:[{text:" ",effects:{PHY:2,DEF:.5}},{text:"    ",effects:{PAC:1,DEF:1.5}}]},{text:"     ?",answers:[{text:"  ",effects:{DEF:1,PAS:.5}},{text:"    ",effects:{DEF:1.5,PHY:.5}}]}],GK:[{text:" 11  ,  ?",answers:[{text:"   ",effects:{DEF:2,PHY:-.5}},{text:"   ",effects:{PAC:1,DEF:1.5}}]},{text:"      ?",answers:[{text:"  ()",effects:{DEF:1.5,PHY:.5}},{text:"  ()",effects:{DEF:2}}]},{text:"    ?",answers:[{text:"   ",effects:{PAS:2,DEF:-.5}},{text:"   ",effects:{PAS:1.5}}]},{text:"  ,  ?",answers:[{text:"   ",effects:{PHY:1.5,DEF:1}},{text:"   ",effects:{DEF:2}}]}]},dL=.8,hL=.2,fL=60,w0={ST:{PAC:1.1,SHO:1.4,PAS:1,DRI:1.2,DEF:.7,PHY:1.1},CAM:{PAC:1,SHO:1,PAS:1.4,DRI:1.2,DEF:.8,PHY:.9},CM:{PAC:.9,SHO:1,PAS:1.4,DRI:1.1,DEF:1,PHY:1},CDM:{PAC:.9,SHO:.8,PAS:1.1,DRI:.9,DEF:1.5,PHY:1.2},CB:{PAC:.8,SHO:.7,PAS:.9,DRI:.8,DEF:1.6,PHY:1.3},LB:{PAC:1.1,SHO:.7,PAS:1,DRI:1,DEF:1.4,PHY:1.1},LW:{PAC:1.3,SHO:1.2,PAS:1.1,DRI:1.4,DEF:.8,PHY:.9}},pL=(n,e)=>{let t=0,r=0,s=0;for(let o=0;o<n.length;o++)t+=n[o]*e[o],r+=n[o]**2,s+=e[o]**2;const i=Math.sqrt(r)*Math.sqrt(s);return i===0?0:t/i},mL=(n,e)=>{let t=0;for(let r=0;r<n.length;r++)t+=(n[r]-e[r])**2;return Math.sqrt(t)},gL=(n,e=25)=>1-Math.min(n/e,1),E0=(n,e)=>{let t=e;e==="RW"&&(t="LW"),e==="RB"&&(t="LB");const r=w0[t]?w0[t]:{PAC:1,SHO:1,PAS:1,DRI:1,DEF:1,PHY:1};return["PAC","SHO","PAS","DRI","DEF","PHY"].map(i=>(n[i]??fL)*(r[i]||1))},vL=(n,e,t)=>{if(!n||!e||!t)return[];const r=E0(n,t);return e.map(i=>{const o=E0(i,t),a=pL(r,o),l=mL(r,o),c=gL(l),d=dL*a+hL*c;return{name:i.Name,team:i.Team,ovr:i.OVR,score:d}}).sort((i,o)=>o.score-i.score).slice(0,5)},yL="_surveyContainer_k6wo6_7",_L="_progressBarContainer_k6wo6_15",wL="_progressBar_k6wo6_15",EL="_questionContent_k6wo6_31",TL="_questionText_k6wo6_47",SL="_answerFooter_k6wo6_54",CL="_positionFormation_k6wo6_61",IL="_positionLine_k6wo6_67",kL="_positionCard_k6wo6_73",DL="_answerButton_k6wo6_97",PL="_centeredContainer_k6wo6_124",bL="_analysisTitle_k6wo6_134",xL="_analysisSubtitle_k6wo6_140",RL="_errorMessage_k6wo6_146",Tt={surveyContainer:yL,progressBarContainer:_L,progressBar:wL,questionContent:EL,questionText:TL,answerFooter:SL,positionFormation:CL,positionLine:IL,positionCard:kL,answerButton:DL,centeredContainer:PL,analysisTitle:bL,analysisSubtitle:xL,errorMessage:RL},AL=[["LW","ST","RW"],["CAM","CM","CDM"],["LB","CB","RB"],["GK"]],NL=60,ML=({onSelect:n})=>E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:Tt.questionContent,children:[E.jsx("p",{children:"Q0."}),E.jsx("h2",{className:Tt.questionText,children:"   ?"})]}),E.jsx("div",{className:Tt.answerFooter,children:E.jsx("div",{className:Tt.positionFormation,children:AL.map((e,t)=>E.jsx("div",{className:Tt.positionLine,children:e.map(r=>E.jsx("button",{className:Tt.positionCard,onClick:()=>n(r),children:r},r))},t))})})]}),OL=({question:n,onAnswer:e,questionNumber:t})=>E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:Tt.questionContent,children:[E.jsxs("p",{children:["Q",t,"."]}),E.jsx("h2",{className:Tt.questionText,children:n.text})]}),E.jsx("div",{className:Tt.answerFooter,children:n.answers.map((r,s)=>E.jsx("button",{className:Tt.answerButton,onClick:()=>e(r.effects),children:r.text},s))})]}),LL=()=>E.jsxs("div",{className:Tt.centeredContainer,children:[E.jsx("h2",{className:Tt.analysisTitle,children:" ..."}),E.jsx("p",{className:Tt.analysisSubtitle,children:"     ."})]});function VL({userProfile:n}){const[e,t]=R.useState("position"),[r,s]=R.useState(null),[i,o]=R.useState([]),[a,l]=R.useState(0),[c,d]=R.useState({PAC:0,SHO:0,PAS:0,DRI:0,DEF:0,PHY:0}),[h,p]=R.useState(""),g=qs();R.useEffect(()=>{if(e!=="answering"||!r)return;if(r==="GK"){const v=sc.GK||[];o(v.sort(()=>.5-Math.random()).slice(0,5));return}let A=["RW","RB"].includes(r)?r.replace("R","L"):r;const L=sc[A]||[];let M=[];for(const v in sc)v!==A&&v!=="GK"&&M.push(...sc[v]);const S=M.sort(()=>.5-Math.random()).slice(0,6);o([...L,...S].sort(()=>.5-Math.random()))},[e,r]),R.useEffect(()=>{i.length>0&&a===i.length&&I()},[a,i]);const _=A=>{s(A),t("answering")},D=A=>{const L={...c};for(const M in A)M in L&&(L[M]+=A[M]);d(L),l(M=>M+1)},I=async()=>{t("analyzing"),p("");const A=rt.currentUser;if(!A){p("    .  ."),t("position");return}try{const L=Object.keys(c).reduce((N,b)=>(N[b]=NL+Math.round(c[b]),N),{}),M=cn(te,"players"),S=As(M,$o("Position","==",r)),v=await er(S);if(v.empty)throw new Error(`'${r}'     .`);const C=v.docs.map(N=>N.data()),P=vL(L,C,r),x=pe(te,"users",A.uid);if(await Ho(x,{surveyCompleted:!0,stats:L,preferredPosition:r,recommendedPlayers:P}),n!=null&&n.teamId){const N=pe(te,"teams",n.teamId,"members",A.uid);await Bi(N,{position:r},{merge:!0})}g("/")}catch(L){console.error("Survey Processing Error:",L),p(`   : ${L.message}`),t("position")}},w=i.length||(r==="GK"?5:10),y=a/w*100,T=()=>{switch(e){case"answering":{const A=i[a];return A?E.jsx(OL,{question:A,onAnswer:D,questionNumber:a+1}):null}case"analyzing":return E.jsx(LL,{});case"position":default:return E.jsx(ML,{onSelect:_})}};return E.jsxs("div",{className:Tt.surveyContainer,children:[E.jsx("div",{className:Tt.progressBarContainer,children:E.jsx("div",{className:Tt.progressBar,style:{width:`${y}%`}})}),h&&E.jsx("p",{className:Tt.errorMessage,children:h}),T()]})}const FL="_overlay_j6mgj_7",jL="_modal_j6mgj_18",BL="_modalHeader_j6mgj_30",UL="_closeButton_j6mgj_46",WL="_form_j6mgj_60",$L="_description_j6mgj_68",HL="_questionBlock_j6mgj_82",YL="_error_j6mgj_120",zL="_submitButton_j6mgj_130",vr={overlay:FL,modal:jL,modalHeader:BL,closeButton:UL,form:WL,description:$L,questionBlock:HL,error:YL,submitButton:zL},qL="_dropdownContainer_1eggn_6",QL="_dropdownHeader_1eggn_12",KL="_dropdownValue_1eggn_32",GL="_placeholder_1eggn_36",XL="_dropdownList_1eggn_40",JL="_dropdownItem_1eggn_57",ZL="_arrow_1eggn_70",eV="_down_1eggn_79",tV="_up_1eggn_82",yr={dropdownContainer:qL,dropdownHeader:QL,dropdownValue:KL,placeholder:GL,dropdownList:XL,dropdownItem:JL,arrow:ZL,down:eV,up:tV},nI=({options:n,placeholder:e,value:t,onChange:r})=>{const[s,i]=R.useState(!1),o=R.useRef(null),a=c=>{r==null||r(c),i(!1)},l=(c,d)=>{(c.key==="Enter"||c.key===" ")&&(c.preventDefault(),a(d))};return R.useEffect(()=>{const c=h=>{o.current&&!o.current.contains(h.target)&&i(!1)},d=h=>{h.key==="Escape"&&i(!1)};return document.addEventListener("mousedown",c),document.addEventListener("keydown",d),()=>{document.removeEventListener("mousedown",c),document.removeEventListener("keydown",d)}},[]),E.jsxs("div",{className:yr.dropdownContainer,ref:o,children:[E.jsxs("button",{type:"button",className:yr.dropdownHeader,onClick:()=>i(c=>!c),"aria-haspopup":"listbox","aria-expanded":s,children:[t?E.jsx("span",{className:yr.dropdownValue,children:t}):E.jsx("span",{className:yr.placeholder,children:e||"..."}),E.jsx("span",{className:`${yr.arrow} ${s?yr.up:yr.down}`})]}),s&&E.jsx("ul",{className:yr.dropdownList,role:"listbox",children:n.map(c=>E.jsx("li",{role:"option","aria-selected":c===t,className:yr.dropdownItem,onClick:()=>a(c),onKeyDown:d=>l(d,c),tabIndex:0,children:c},c))})]})},T0=1,Na=[{id:"bomber",text:"  (Best Attacker)",stat:"SHO"},{id:"midfielder",text:"   (MVP)",stat:"PAS"},{id:"defender",text:"  (Best Defender)",stat:"DEF"},{id:"goalkeeper",text:"  (Best Goalkeeper)",stat:"PHY"}],rI=({teamId:n,match:e,attendees:t=[],onClose:r})=>{const[s,i]=R.useState({}),[o,a]=R.useState(""),[l,c]=R.useState(!1),{playerOptionsList:d,uidToNameMap:h,nameToUidMap:p}=R.useMemo(()=>{const I=[],w=new Map,y=new Map;for(const T of t){const A=`${T.name} (${T.pos||"N/A"})`;I.push(A),w.set(T.uid,A),y.set(A,T.uid)}return I.sort(),{playerOptionsList:I,uidToNameMap:w,nameToUidMap:y}},[t]),g=(I,w)=>{const y=p.get(w);y&&i(T=>({...T,[I]:y}))},_=async(I,w,y)=>{try{const T={};Na.forEach(S=>{T[S.id]={}});for(const S of w)Na.forEach(v=>{const C=S[v.id];C&&(T[v.id][C]=(T[v.id][C]||0)+1)});const A={},L=(S,v)=>{const P=(y.get(S)||{})[v]||60;A[S]||(A[S]={}),A[S][`stats.${v}`]=P+1};Na.forEach(S=>{const v=T[S.id];for(const C in v)v[C]>=T0&&L(C,S.stat)});for(const S in A){const v=pe(te,"users",S);I.update(v,A[S])}const M=pe(te,"teams",n,"matches",e.id);I.update(M,{statsCalculated:!0})}catch(T){throw console.error("    :",T),new Error("  ")}},D=async I=>{var y;if(I.preventDefault(),Object.keys(s).length<Na.length){a("  .");return}const w=(y=rt.currentUser)==null?void 0:y.uid;if(!(!w||!n||!(e!=null&&e.id))){c(!0),a("");try{const T=Ka(te),A=cn(te,"teams",n,"matches",e.id,"surveys"),L=pe(A,w);T.set(L,{...s,submittedAt:new Date});const M=pe(te,"teams",n,"matches",e.id),S=(e.pendingSurveyParticipants||[]).filter(x=>x!==w);T.update(M,{pendingSurveyParticipants:S});const v=await er(A),C=t.length,P=v.docs.length+1>=C;if(P){const x=[...v.docs.map(re=>re.data()),s],N=new Set(x.flatMap(re=>Object.values(re))),b=await Promise.all(Array.from(N).map(re=>Bs(pe(te,"users",re)))),se=new Map(b.map(re=>{var ee;return[re.id,((ee=re.data())==null?void 0:ee.stats)||{}]}));await _(T,x,se)}await T.commit(),alert(P?" .       !":" . ."),r()}catch(T){console.error("  :",T),a("   .  ."),c(!1)}}};return E.jsx("div",{className:vr.overlay,children:E.jsxs("div",{className:vr.modal,children:[E.jsxs("div",{className:vr.modalHeader,children:[E.jsx("h3",{children:"  "}),E.jsx("button",{onClick:r,className:vr.closeButton,disabled:l,children:""})]}),E.jsxs("form",{onSubmit:D,className:vr.form,children:[E.jsxs("p",{className:vr.description,children:["       1 .",E.jsx("br",{}),"    ",E.jsxs("strong",{children:[T0," "]}),"    ."]}),Na.map(I=>{const w=h.get(s[I.id]);return E.jsxs("div",{className:vr.questionBlock,children:[E.jsx("label",{children:I.text}),E.jsx(nI,{placeholder:" ",options:d,value:w,onChange:y=>g(I.id,y)})]},I.id)}),o&&E.jsx("p",{className:vr.error,children:o}),E.jsx("button",{type:"submit",className:vr.submitButton,disabled:l,children:l?" ...":" "})]})]})})},nV="_modalOverlay_wp2jl_2",rV="_modalContent_wp2jl_15",sV="_modalTitle_wp2jl_25",iV="_modalMessage_wp2jl_32",oV="_modalActions_wp2jl_38",aV="_modalButton_wp2jl_43",lV="_cancelButton_wp2jl_54",uV="_confirmButton_wp2jl_63",_r={modalOverlay:nV,modalContent:rV,modalTitle:sV,modalMessage:iV,modalActions:oV,modalButton:aV,cancelButton:lV,confirmButton:uV};function cV({title:n,message:e,onConfirm:t,onClose:r}){const s=i=>i.stopPropagation();return E.jsx("div",{className:_r.modalOverlay,onClick:r,children:E.jsxs("div",{className:_r.modalContent,onClick:s,children:[E.jsx("h2",{className:_r.modalTitle,children:n}),E.jsx("p",{className:_r.modalMessage,children:e}),E.jsxs("div",{className:_r.modalActions,children:[E.jsx("button",{className:`${_r.modalButton} ${_r.cancelButton}`,onClick:r,children:""}),E.jsx("button",{className:`${_r.modalButton} ${_r.confirmButton}`,onClick:t,children:""})]})]})})}const dV="_loadingContainer_scdb2_7",hV="_choiceContainer_scdb2_17",fV="_choiceContent_scdb2_23",pV="_choiceTitle_scdb2_29",mV="_choiceSubtitle_scdb2_35",gV="_choiceListContainer_scdb2_40",vV="_playerChoiceCard_scdb2_45",yV="_mainContainer_scdb2_65",_V="_mainHeader_scdb2_71",wV="_logoutButton_scdb2_85",EV="_profileContent_scdb2_99",TV="_profileCard_scdb2_103",SV="_mainProfileCard_scdb2_112",CV="_playerTeam_scdb2_116",IV="_playerOvr_scdb2_117",kV="_playerInfo_scdb2_123",DV="_profileName_scdb2_127",PV="_playerName_scdb2_128",bV="_statsGrid_scdb2_154",xV="_statItem_scdb2_164",RV="_statValue_scdb2_164",AV="_menuContainer_scdb2_175",NV="_menuCard_scdb2_182",Pe={loadingContainer:dV,choiceContainer:hV,choiceContent:fV,choiceTitle:pV,choiceSubtitle:mV,choiceListContainer:gV,playerChoiceCard:vV,mainContainer:yV,mainHeader:_V,logoutButton:wV,profileContent:EV,profileCard:TV,mainProfileCard:SV,playerTeam:CV,playerOvr:IV,playerInfo:kV,profileName:DV,playerName:PV,statsGrid:bV,statItem:xV,statValue:RV,menuContainer:AV,menuCard:NV},MV=({recommendedPlayers:n,onSelectPlayer:e})=>E.jsx("div",{className:Pe.choiceContainer,children:E.jsxs("div",{className:Pe.choiceContent,children:[E.jsx("h2",{className:Pe.choiceTitle,children:" !"}),E.jsx("p",{className:Pe.choiceSubtitle,children:"      ."}),E.jsx("div",{className:Pe.choiceListContainer,children:n==null?void 0:n.map((t,r)=>E.jsxs("button",{className:Pe.playerChoiceCard,onClick:()=>e(t),children:[E.jsxs("div",{className:Pe.playerInfo,children:[E.jsx("span",{className:Pe.playerName,children:t.name}),E.jsx("span",{className:Pe.playerTeam,children:t.team})]}),E.jsxs("div",{className:Pe.playerOvr,children:[E.jsx("span",{children:"OVR"}),E.jsx("span",{children:t.ovr})]})]},r))})]})}),OV=({profile:n,myOvr:e,onLogout:t,onRedoSurvey:r})=>{const s=qs(),i=!!(n!=null&&n.teamId);return E.jsxs("div",{className:Pe.mainContainer,children:[E.jsxs("header",{className:Pe.mainHeader,children:[E.jsx("h2",{children:" "}),E.jsx("button",{onClick:t,className:Pe.logoutButton,children:""})]}),E.jsxs("div",{className:Pe.profileContent,children:[E.jsxs("div",{className:`${Pe.profileCard} ${Pe.mainProfileCard}`,children:[E.jsxs("div",{className:Pe.playerInfo,children:[E.jsx("span",{className:Pe.profileName,children:n.realName}),E.jsxs("span",{className:Pe.playerTeam,children:[" : ",n.selectedPlayer.name]})]}),E.jsxs("div",{className:Pe.playerOvr,children:[E.jsx("span",{children:"MY OVR"}),E.jsx("span",{children:e})]})]}),E.jsx("div",{className:Pe.statsGrid,children:n.stats&&["DRI","PAC","PAS","PHY","SHO","DEF"].map(o=>E.jsxs("div",{className:Pe.statItem,children:[E.jsx("span",{className:Pe.statValue,children:n.stats[o]||60}),E.jsx("span",{className:Pe.statName,children:o.toUpperCase()})]},o))}),E.jsxs("div",{className:Pe.menuContainer,children:[E.jsx("h3",{children:" "}),i?E.jsxs("button",{className:Pe.menuCard,onClick:()=>s(`/team/${n.teamId}`),children:[E.jsx("h4",{children:" "}),E.jsx("p",{children:"      ."})]}):E.jsxs(E.Fragment,{children:[E.jsxs(Ii,{to:"/create-team",className:Pe.menuCard,children:[E.jsx("h4",{children:" "}),E.jsx("p",{children:"    ."})]}),E.jsxs(Ii,{to:"/join-team",className:Pe.menuCard,children:[E.jsx("h4",{children:" "}),E.jsx("p",{children:"     ."})]})]})]}),E.jsxs("div",{className:Pe.menuContainer,children:[E.jsx("h3",{children:" "}),E.jsxs("button",{className:Pe.menuCard,onClick:r,children:[E.jsx("h4",{children:" "}),E.jsx("p",{children:"       ."})]})]})]})]})};function LV({userProfile:n}){const e=qs(),[t,r]=R.useState(null),[s,i]=R.useState(!1),o=R.useMemo(()=>{if(!n)return 60;if(typeof n.playerOvr=="number")return n.playerOvr;if(n.stats){const d=Object.values(n.stats).map(Number).filter(h=>!isNaN(h));if(d.length>0)return Math.round(d.reduce((h,p)=>h+p,0)/d.length)}return 60},[n]);R.useEffect(()=>{if(!n)return;const d=!!n.selectedPlayer,h=Array.isArray(n.recommendedPlayers)&&n.recommendedPlayers.length>0;!d&&!h&&e("/survey")},[n,e]),R.useEffect(()=>{const d=async()=>{var I;const h=(I=rt.currentUser)==null?void 0:I.uid,p=n==null?void 0:n.teamId;if(!h||!p)return;const g=cn(te,"teams",p,"matches"),_=As(g,$o("pendingSurveyParticipants","array-contains",h),K1(1)),D=await er(_);if(!D.empty){const w=D.docs[0],y={id:w.id,...w.data()},T=pe(te,"teams",p,"matches",y.id,"surveys",h);if(!(await Bs(T)).exists()){const L=cn(te,"teams",p,"matches",y.id,"attendance"),M=As(L,$o("status","==","yes")),v=(await er(M)).docs.map(x=>x.id);if(v.length===0)return;const P=(await Promise.all(v.map(x=>Bs(pe(te,"users",x))))).map(x=>{if(!x.exists())return null;const N=x.data();let b=60;if(typeof N.playerOvr=="number")b=N.playerOvr;else if(N.stats){const se=Object.values(N.stats).filter(re=>typeof re=="number");se.length>0&&(b=Math.round(se.reduce((re,ee)=>re+ee,0)/se.length))}return{uid:x.id,name:N.realName,pos:N.position||"CM",ovr:b}}).filter(Boolean);r({match:y,attendees:P})}}};n!=null&&n.teamId&&d()},[n]);const a=()=>{xA(rt).catch(d=>console.error("Logout Error:",d))},l=async d=>{const h=rt.currentUser;if(!(!h||!d))try{const p=pe(te,"users",h.uid);await Ho(p,{selectedPlayer:d});const g=n==null?void 0:n.teamId,_=(d==null?void 0:d.position)||(d==null?void 0:d.pos)||null;if(g&&_){const D=pe(te,"teams",g,"members",h.uid);await Bi(D,{position:_},{merge:!0})}}catch(p){console.error("Player selection failed:",p),alert("    .")}},c=async()=>{i(!1);const d=rt.currentUser;if(d)try{const h=pe(te,"users",d.uid);await Ho(h,{surveyCompleted:!1,stats:dl(),recommendedPlayers:dl(),selectedPlayer:dl()}),e("/survey")}catch(h){console.error("Redo survey failed:",h),alert("    .")}};return n?E.jsxs(E.Fragment,{children:[t&&E.jsx(rI,{teamId:n.teamId,match:t.match,attendees:t.attendees,userProfile:n,onClose:()=>r(null)}),s&&E.jsx(cV,{title:" ",message:"  ?     .",onConfirm:c,onClose:()=>i(!1)}),n.selectedPlayer?E.jsx(OV,{profile:n,myOvr:o,onLogout:a,onRedoSurvey:()=>i(!0)}):E.jsx(MV,{recommendedPlayers:n.recommendedPlayers,onSelectPlayer:l})]}):E.jsx("div",{className:Pe.loadingContainer,children:"   ..."})}const VV="_pageContainer_zzpt9_8",FV="_pageHeader_zzpt9_16",jV="_backButton_zzpt9_21",BV="_content_zzpt9_28",UV="_footer_zzpt9_35",WV="_loadingContainer_zzpt9_40",$V="_title_zzpt9_50",HV="_input_zzpt9_59",YV="_button_zzpt9_83",zV="_errorMessage_zzpt9_106",$n={pageContainer:VV,pageHeader:FV,backButton:jV,content:BV,footer:UV,loadingContainer:WV,title:$V,input:HV,button:YV,errorMessage:zV};function qV(){const[n,e]=R.useState(""),[t,r]=R.useState(null),[s,i]=R.useState(!0),[o,a]=R.useState(!1),[l,c]=R.useState(""),d=qs();R.useEffect(()=>{(async()=>{const g=rt.currentUser;if(g){const _=pe(te,"users",g.uid),D=await Bs(_);D.exists()&&r(D.data())}i(!1)})()},[]);const h=async p=>{p.preventDefault(),c("");const g=n.trim();if(s||!t){c("   .");return}if(!g){c("  .");return}if(t.teamId){c("    .");return}a(!0);try{const _=rt.currentUser,D=cn(te,"teams"),I=g.toLowerCase(),w=As(D,$o("teamNameLower","==",I),K1(1));if(!(await er(w)).empty)throw new Error("   .");const T=Math.random().toString(36).substring(2,8).toUpperCase(),L=(await Z1(D,{teamName:g,teamNameLower:I,captainId:_.uid,inviteCode:T,createdAt:Dd()})).id,M=pe(te,"teams",L,"members",_.uid);await Bi(M,{realName:t.realName||"",position:t.preferredPosition||"CM",role:"captain",joinedAt:Dd()});const S=pe(te,"users",_.uid);await Ho(S,{teamId:L,teamRole:"captain"}),d(`/team/${L}`)}catch(_){console.error("Team Creation Error:",_),c(_.message||"    .")}finally{a(!1)}};return s?E.jsx("div",{className:$n.loadingContainer,children:"   ..."}):E.jsxs("div",{className:$n.pageContainer,children:[E.jsx("header",{className:$n.pageHeader,children:E.jsx(Ii,{to:"/",className:$n.backButton,children:""})}),E.jsx("div",{className:$n.content,children:E.jsxs("form",{onSubmit:h,children:[E.jsx("h2",{className:$n.title,children:"  "}),E.jsx("input",{className:$n.input,value:n,onChange:p=>e(p.target.value),placeholder:"  ","aria-label":" ",maxLength:40})]})}),E.jsxs("div",{className:$n.footer,children:[l&&E.jsx("p",{className:$n.errorMessage,children:l}),E.jsx("button",{type:"submit",className:$n.button,onClick:h,disabled:o,children:o?" ...":" "})]})]})}const QV="_pageContainer_t6j7b_8",KV="_pageHeader_t6j7b_16",GV="_backButton_t6j7b_21",XV="_content_t6j7b_28",JV="_footer_t6j7b_35",ZV="_loadingContainer_t6j7b_40",eF="_title_t6j7b_50",tF="_input_t6j7b_59",nF="_button_t6j7b_83",rF="_errorMessage_t6j7b_106",Hn={pageContainer:QV,pageHeader:KV,backButton:GV,content:XV,footer:JV,loadingContainer:ZV,title:eF,input:tF,button:nF,errorMessage:rF};function sF(){const[n,e]=R.useState(""),[t,r]=R.useState(null),[s,i]=R.useState(!0),[o,a]=R.useState(!1),[l,c]=R.useState(""),d=qs();R.useEffect(()=>{(async()=>{const g=rt.currentUser;if(g){const _=pe(te,"users",g.uid),D=await Bs(_);D.exists()&&r(D.data())}i(!1)})()},[]);const h=async p=>{if(p.preventDefault(),c(""),s||!t){c("   .");return}if(!n.trim()){c("  .");return}if(t.teamId){c("    .");return}a(!0);const g=rt.currentUser;try{const _=cn(te,"teams"),D=As(_,$o("inviteCode","==",n.trim().toUpperCase())),I=await er(D);if(I.empty)throw new Error("   .");const y=I.docs[0].id,T=pe(te,"teams",y,"members",g.uid);await Bi(T,{realName:t.realName,position:t.preferredPosition||"CM",role:"member"});const A=pe(te,"users",g.uid);await Ho(A,{teamId:y,teamRole:"member"}),d(`/team/${y}`)}catch(_){console.error("Team Join Error:",_),c(_.message||"    .")}finally{a(!1)}};return s?E.jsx("div",{className:Hn.loadingContainer,children:"   ..."}):E.jsxs("div",{className:Hn.pageContainer,children:[E.jsx("header",{className:Hn.pageHeader,children:E.jsx(Ii,{to:"/",className:Hn.backButton,children:""})}),E.jsx("div",{className:Hn.content,children:E.jsxs("form",{onSubmit:h,children:[E.jsx("h2",{className:Hn.title,children:" "}),E.jsx("input",{className:Hn.input,value:n,onChange:p=>e(p.target.value),placeholder:"  ","aria-label":" "})]})}),E.jsxs("div",{className:Hn.footer,children:[l&&E.jsx("p",{className:Hn.errorMessage,children:l}),E.jsx("button",{className:Hn.button,onClick:h,disabled:o,children:o?" ...":""})]})]})}function yn(n){const e=Object.prototype.toString.call(n);return n instanceof Date||typeof n=="object"&&e==="[object Date]"?new n.constructor(+n):typeof n=="number"||e==="[object Number]"||typeof n=="string"||e==="[object String]"?new Date(n):new Date(NaN)}function Ai(n,e){return n instanceof Date?new n.constructor(e):new Date(e)}const sI=6048e5,iF=864e5;let oF={};function Ih(){return oF}function Wl(n,e){var a,l,c,d;const t=Ih(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??t.weekStartsOn??((d=(c=t.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,s=yn(n),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Pd(n){return Wl(n,{weekStartsOn:1})}function iI(n){const e=yn(n),t=e.getFullYear(),r=Ai(n,0);r.setFullYear(t+1,0,4),r.setHours(0,0,0,0);const s=Pd(r),i=Ai(n,0);i.setFullYear(t,0,4),i.setHours(0,0,0,0);const o=Pd(i);return e.getTime()>=s.getTime()?t+1:e.getTime()>=o.getTime()?t:t-1}function $l(n){const e=yn(n);return e.setHours(0,0,0,0),e}function S0(n){const e=yn(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function aF(n,e){const t=$l(n),r=$l(e),s=+t-S0(t),i=+r-S0(r);return Math.round((s-i)/iF)}function lF(n){const e=iI(n),t=Ai(n,0);return t.setFullYear(e,0,4),t.setHours(0,0,0,0),Pd(t)}function uF(n,e){const t=$l(n),r=$l(e);return+t==+r}function cF(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function dF(n){if(!cF(n)&&typeof n!="number")return!1;const e=yn(n);return!isNaN(Number(e))}function hF(n){const e=yn(n),t=Ai(n,0);return t.setFullYear(e.getFullYear(),0,1),t.setHours(0,0,0,0),t}const fF={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},pF=(n,e,t)=>{let r;const s=fF[n];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function Io(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const mF={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},gF={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},vF={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},yF={date:Io({formats:mF,defaultWidth:"full"}),time:Io({formats:gF,defaultWidth:"full"}),dateTime:Io({formats:vF,defaultWidth:"full"})},_F={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},wF=(n,e,t,r)=>_F[n];function Kn(n){return(e,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let s;if(r==="formatting"&&n.formattingValues){const o=n.defaultFormattingWidth||n.defaultWidth,a=t!=null&&t.width?String(t.width):o;s=n.formattingValues[a]||n.formattingValues[o]}else{const o=n.defaultWidth,a=t!=null&&t.width?String(t.width):n.defaultWidth;s=n.values[a]||n.values[o]}const i=n.argumentCallback?n.argumentCallback(e):e;return s[i]}}const EF={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},TF={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},SF={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},CF={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},IF={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},kF={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},DF=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},PF={ordinalNumber:DF,era:Kn({values:EF,defaultWidth:"wide"}),quarter:Kn({values:TF,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Kn({values:SF,defaultWidth:"wide"}),day:Kn({values:CF,defaultWidth:"wide"}),dayPeriod:Kn({values:IF,defaultWidth:"wide",formattingValues:kF,defaultFormattingWidth:"wide"})};function Gn(n){return(e,t={})=>{const r=t.width,s=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],l=Array.isArray(a)?xF(a,h=>h.test(o)):bF(a,h=>h.test(o));let c;c=n.valueCallback?n.valueCallback(l):l,c=t.valueCallback?t.valueCallback(c):c;const d=e.slice(o.length);return{value:c,rest:d}}}function bF(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function xF(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function oI(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const s=r[0],i=e.match(n.parsePattern);if(!i)return null;let o=n.valueCallback?n.valueCallback(i[0]):i[0];o=t.valueCallback?t.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const RF=/^(\d+)(th|st|nd|rd)?/i,AF=/\d+/i,NF={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},MF={any:[/^b/i,/^(a|c)/i]},OF={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},LF={any:[/1/i,/2/i,/3/i,/4/i]},VF={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},FF={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},jF={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},BF={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},UF={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},WF={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},$F={ordinalNumber:oI({matchPattern:RF,parsePattern:AF,valueCallback:n=>parseInt(n,10)}),era:Gn({matchPatterns:NF,defaultMatchWidth:"wide",parsePatterns:MF,defaultParseWidth:"any"}),quarter:Gn({matchPatterns:OF,defaultMatchWidth:"wide",parsePatterns:LF,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Gn({matchPatterns:VF,defaultMatchWidth:"wide",parsePatterns:FF,defaultParseWidth:"any"}),day:Gn({matchPatterns:jF,defaultMatchWidth:"wide",parsePatterns:BF,defaultParseWidth:"any"}),dayPeriod:Gn({matchPatterns:UF,defaultMatchWidth:"any",parsePatterns:WF,defaultParseWidth:"any"})},HF={code:"en-US",formatDistance:pF,formatLong:yF,formatRelative:wF,localize:PF,match:$F,options:{weekStartsOn:0,firstWeekContainsDate:1}};function YF(n){const e=yn(n);return aF(e,hF(e))+1}function zF(n){const e=yn(n),t=+Pd(e)-+lF(e);return Math.round(t/sI)+1}function aI(n,e){var d,h,p,g;const t=yn(n),r=t.getFullYear(),s=Ih(),i=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(p=s.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,o=Ai(n,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=Wl(o,e),l=Ai(n,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const c=Wl(l,e);return t.getTime()>=a.getTime()?r+1:t.getTime()>=c.getTime()?r:r-1}function qF(n,e){var a,l,c,d;const t=Ih(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??t.firstWeekContainsDate??((d=(c=t.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,s=aI(n,e),i=Ai(n,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),Wl(i,e)}function QF(n,e){const t=yn(n),r=+Wl(t,e)-+qF(t,e);return Math.round(r/sI)+1}function Re(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const is={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return Re(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):Re(t+1,2)},d(n,e){return Re(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return Re(n.getHours()%12||12,e.length)},H(n,e){return Re(n.getHours(),e.length)},m(n,e){return Re(n.getMinutes(),e.length)},s(n,e){return Re(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),s=Math.trunc(r*Math.pow(10,t-3));return Re(s,e.length)}},Ki={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},C0={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),s=r>0?r:1-r;return t.ordinalNumber(s,{unit:"year"})}return is.y(n,e)},Y:function(n,e,t,r){const s=aI(n,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return Re(o,2)}return e==="Yo"?t.ordinalNumber(i,{unit:"year"}):Re(i,e.length)},R:function(n,e){const t=iI(n);return Re(t,e.length)},u:function(n,e){const t=n.getFullYear();return Re(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Re(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Re(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return is.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return Re(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const s=QF(n,r);return e==="wo"?t.ordinalNumber(s,{unit:"week"}):Re(s,e.length)},I:function(n,e,t){const r=zF(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):Re(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):is.d(n,e)},D:function(n,e,t){const r=YF(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):Re(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const s=n.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Re(i,2);case"eo":return t.ordinalNumber(i,{unit:"day"});case"eee":return t.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(s,{width:"short",context:"formatting"});case"eeee":default:return t.day(s,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const s=n.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Re(i,e.length);case"co":return t.ordinalNumber(i,{unit:"day"});case"ccc":return t.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(s,{width:"narrow",context:"standalone"});case"cccccc":return t.day(s,{width:"short",context:"standalone"});case"cccc":default:return t.day(s,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return Re(s,e.length);case"io":return t.ordinalNumber(s,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const s=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let s;switch(r===12?s=Ki.noon:r===0?s=Ki.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let s;switch(r>=17?s=Ki.evening:r>=12?s=Ki.afternoon:r>=4?s=Ki.morning:s=Ki.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return is.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):is.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):Re(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):Re(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):is.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):is.s(n,e)},S:function(n,e){return is.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return k0(r);case"XXXX":case"XX":return si(r);case"XXXXX":case"XXX":default:return si(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return k0(r);case"xxxx":case"xx":return si(r);case"xxxxx":case"xxx":default:return si(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+I0(r,":");case"OOOO":default:return"GMT"+si(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+I0(r,":");case"zzzz":default:return"GMT"+si(r,":")}},t:function(n,e,t){const r=Math.trunc(n.getTime()/1e3);return Re(r,e.length)},T:function(n,e,t){const r=n.getTime();return Re(r,e.length)}};function I0(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),s=Math.trunc(r/60),i=r%60;return i===0?t+String(s):t+String(s)+e+Re(i,2)}function k0(n,e){return n%60===0?(n>0?"-":"+")+Re(Math.abs(n)/60,2):si(n,e)}function si(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),s=Re(Math.trunc(r/60),2),i=Re(r%60,2);return t+s+e+i}const D0=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},lI=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},KF=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],s=t[2];if(!s)return D0(n,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",D0(r,e)).replace("{{time}}",lI(s,e))},GF={p:lI,P:KF},XF=/^D+$/,JF=/^Y+$/,ZF=["D","DD","YY","YYYY"];function e4(n){return XF.test(n)}function t4(n){return JF.test(n)}function n4(n,e,t){const r=r4(n,e,t);if(console.warn(r),ZF.includes(n))throw new RangeError(r)}function r4(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const s4=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,i4=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,o4=/^'([^]*?)'?$/,a4=/''/g,l4=/[a-zA-Z]/;function u4(n,e,t){var d,h,p,g,_,D,I,w;const r=Ih(),s=(t==null?void 0:t.locale)??r.locale??HF,i=(t==null?void 0:t.firstWeekContainsDate)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(p=r.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,o=(t==null?void 0:t.weekStartsOn)??((D=(_=t==null?void 0:t.locale)==null?void 0:_.options)==null?void 0:D.weekStartsOn)??r.weekStartsOn??((w=(I=r.locale)==null?void 0:I.options)==null?void 0:w.weekStartsOn)??0,a=yn(n);if(!dF(a))throw new RangeError("Invalid time value");let l=e.match(i4).map(y=>{const T=y[0];if(T==="p"||T==="P"){const A=GF[T];return A(y,s.formatLong)}return y}).join("").match(s4).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const T=y[0];if(T==="'")return{isToken:!1,value:c4(y)};if(C0[T])return{isToken:!0,value:y};if(T.match(l4))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");return{isToken:!1,value:y}});s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const c={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return l.map(y=>{if(!y.isToken)return y.value;const T=y.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&t4(T)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&e4(T))&&n4(T,e,String(n));const A=C0[T[0]];return A(a,T,s.localize,c)}).join("")}function c4(n){const e=n.match(o4);return e?e[1].replace(a4,"'"):n}function $f(n,e){const t=yn(n);return t.setHours(e),t}function Hf(n,e){const t=yn(n);return t.setMinutes(e),t}function d4(){return $l(Date.now())}const h4={lessThanXSeconds:{one:"1 ",other:"{{count}} "},xSeconds:{one:"1",other:"{{count}}"},halfAMinute:"30",lessThanXMinutes:{one:"1 ",other:"{{count}} "},xMinutes:{one:"1",other:"{{count}}"},aboutXHours:{one:" 1",other:" {{count}}"},xHours:{one:"1",other:"{{count}}"},xDays:{one:"1",other:"{{count}}"},aboutXWeeks:{one:" 1",other:" {{count}}"},xWeeks:{one:"1",other:"{{count}}"},aboutXMonths:{one:" 1",other:" {{count}}"},xMonths:{one:"1",other:"{{count}}"},aboutXYears:{one:" 1",other:" {{count}}"},xYears:{one:"1",other:"{{count}}"},overXYears:{one:"1 ",other:"{{count}} "},almostXYears:{one:" 1",other:" {{count}}"}},f4=(n,e,t)=>{let r;const s=h4[n];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?r+" ":r+" ":r},p4={full:"y M d EEEE",long:"y M d",medium:"y.MM.dd",short:"y.MM.dd"},m4={full:"a H mm ss zzzz",long:"a H:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},g4={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},v4={date:Io({formats:p4,defaultWidth:"full"}),time:Io({formats:m4,defaultWidth:"full"}),dateTime:Io({formats:g4,defaultWidth:"full"})},y4={lastWeek:"'' eeee p",yesterday:"'' p",today:"'' p",tomorrow:"'' p",nextWeek:"'' eeee p",other:"P"},_4=(n,e,t,r)=>y4[n],w4={narrow:["BC","AD"],abbreviated:["BC","AD"],wide:["",""]},E4={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1","2","3","4"]},T4={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["1","2","3","4","5","6","7","8","9","10","11","12"],wide:["1","2","3","4","5","6","7","8","9","10","11","12"]},S4={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},C4={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},I4={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},k4=(n,e)=>{const t=Number(n);switch(String(e==null?void 0:e.unit)){case"minute":case"second":return String(t);case"date":return t+"";default:return t+""}},D4={ordinalNumber:k4,era:Kn({values:w4,defaultWidth:"wide"}),quarter:Kn({values:E4,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Kn({values:T4,defaultWidth:"wide"}),day:Kn({values:S4,defaultWidth:"wide"}),dayPeriod:Kn({values:C4,defaultWidth:"wide",formattingValues:I4,defaultFormattingWidth:"wide"})},P4=/^(\d+)(|)?/i,b4=/\d+/i,x4={narrow:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(|)/i},R4={any:[/^(bc|)/i,/^(ad|)/i]},A4={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234]?/i},N4={any:[/1/i,/2/i,/3/i,/4/i]},M4={narrow:/^(1[012]|[123456789])/,abbreviated:/^(1[012]|[123456789])/i,wide:/^(1[012]|[123456789])/i},O4={any:[/^1?$/,/^2/,/^3/,/^4/,/^5/,/^6/,/^7/,/^8/,/^9/,/^10/,/^11/,/^12/]},L4={narrow:/^[]/,short:/^[]/,abbreviated:/^[]/,wide:/^[]/},V4={any:[/^/,/^/,/^/,/^/,/^/,/^/,/^/]},F4={any:/^(am|pm|||||||)/i},j4={any:{am:/^(am|)/i,pm:/^(pm|)/i,midnight:/^/i,noon:/^/i,morning:/^/i,afternoon:/^/i,evening:/^/i,night:/^/i}},B4={ordinalNumber:oI({matchPattern:P4,parsePattern:b4,valueCallback:n=>parseInt(n,10)}),era:Gn({matchPatterns:x4,defaultMatchWidth:"wide",parsePatterns:R4,defaultParseWidth:"any"}),quarter:Gn({matchPatterns:A4,defaultMatchWidth:"wide",parsePatterns:N4,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Gn({matchPatterns:M4,defaultMatchWidth:"wide",parsePatterns:O4,defaultParseWidth:"any"}),day:Gn({matchPatterns:L4,defaultMatchWidth:"wide",parsePatterns:V4,defaultParseWidth:"any"}),dayPeriod:Gn({matchPatterns:F4,defaultMatchWidth:"any",parsePatterns:j4,defaultParseWidth:"any"})},Tm={code:"ko",formatDistance:f4,formatLong:v4,formatRelative:_4,localize:D4,match:B4,options:{weekStartsOn:0,firstWeekContainsDate:1}};function uI(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=uI(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Ct(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=uI(n))&&(r&&(r+=" "),r+=e);return r}const cI=6048e5,U4=864e5,kh=6e4,Dh=36e5,W4=1e3,P0=Symbol.for("constructDateFrom");function Oe(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&P0 in n?n[P0](e):n instanceof Date?new n.constructor(e):new Date(e)}function Z(n,e){return Oe(e||n,n)}function Ln(n,e,t){const r=Z(n,t==null?void 0:t.in);return isNaN(e)?Oe((t==null?void 0:t.in)||n,NaN):(e&&r.setDate(r.getDate()+e),r)}function Bn(n,e,t){const r=Z(n,t==null?void 0:t.in);if(isNaN(e))return Oe(n,NaN);if(!e)return r;const s=r.getDate(),i=Oe(n,r.getTime());i.setMonth(r.getMonth()+e+1,0);const o=i.getDate();return s>=o?i:(r.setFullYear(i.getFullYear(),i.getMonth(),s),r)}function dI(n,e,t){return Oe(n,+Z(n)+e)}function $4(n,e,t){return dI(n,e*Dh)}let H4={};function Ui(){return H4}function Hr(n,e){var a,l,c,d;const t=Ui(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??t.weekStartsOn??((d=(c=t.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,s=Z(n,e==null?void 0:e.in),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Yo(n,e){return Hr(n,{...e,weekStartsOn:1})}function hI(n,e){const t=Z(n,e==null?void 0:e.in),r=t.getFullYear(),s=Oe(t,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const i=Yo(s),o=Oe(t,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const a=Yo(o);return t.getTime()>=i.getTime()?r+1:t.getTime()>=a.getTime()?r:r-1}function bd(n){const e=Z(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function Kr(n,...e){const t=Oe.bind(null,e.find(r=>typeof r=="object"));return e.map(t)}function Ni(n,e){const t=Z(n,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function zo(n,e,t){const[r,s]=Kr(t==null?void 0:t.in,n,e),i=Ni(r),o=Ni(s),a=+i-bd(i),l=+o-bd(o);return Math.round((a-l)/U4)}function Y4(n,e){const t=hI(n,e),r=Oe(n,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Yo(r)}function Sm(n,e,t){const r=Z(n,t==null?void 0:t.in);return r.setTime(r.getTime()+e*kh),r}function Pv(n,e,t){return Bn(n,e*3,t)}function z4(n,e,t){return dI(n,e*1e3)}function xd(n,e,t){return Ln(n,e*7,t)}function Rr(n,e,t){return Bn(n,e*12,t)}function b0(n,e){let t,r=e==null?void 0:e.in;return n.forEach(s=>{!r&&typeof s=="object"&&(r=Oe.bind(null,s));const i=Z(s,r);(!t||t<i||isNaN(+i))&&(t=i)}),Oe(r,t||NaN)}function x0(n,e){let t,r=e==null?void 0:e.in;return n.forEach(s=>{!r&&typeof s=="object"&&(r=Oe.bind(null,s));const i=Z(s,r);(!t||t>i||isNaN(+i))&&(t=i)}),Oe(r,t||NaN)}function q4(n,e,t){const[r,s]=Kr(t==null?void 0:t.in,n,e);return+Ni(r)==+Ni(s)}function Ar(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function Rd(n){return!(!Ar(n)&&typeof n!="number"||isNaN(+Z(n)))}function Ad(n,e,t){const[r,s]=Kr(t==null?void 0:t.in,n,e),i=r.getFullYear()-s.getFullYear(),o=r.getMonth()-s.getMonth();return i*12+o}function vi(n,e){const t=Z(n,e==null?void 0:e.in);return Math.trunc(t.getMonth()/3)+1}function Nd(n,e,t){const[r,s]=Kr(t==null?void 0:t.in,n,e),i=r.getFullYear()-s.getFullYear(),o=vi(r)-vi(s);return i*4+o}function Md(n,e,t){const[r,s]=Kr(t==null?void 0:t.in,n,e);return r.getFullYear()-s.getFullYear()}function Q4(n,e,t){const[r,s]=Kr(t==null?void 0:t.in,n,e),i=R0(r,s),o=Math.abs(zo(r,s));r.setDate(r.getDate()-i*o);const a=+(R0(r,s)===-i),l=i*(o-a);return l===0?0:l}function R0(n,e){const t=n.getFullYear()-e.getFullYear()||n.getMonth()-e.getMonth()||n.getDate()-e.getDate()||n.getHours()-e.getHours()||n.getMinutes()-e.getMinutes()||n.getSeconds()-e.getSeconds()||n.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function fI(n,e){const t=Z(n,e==null?void 0:e.in);return t.setHours(23,59,59,999),t}function pI(n,e){const t=Z(n,e==null?void 0:e.in),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Cm(n,e){const t=Z(n,e==null?void 0:e.in),r=t.getMonth(),s=r-r%3;return t.setMonth(s,1),t.setHours(0,0,0,0),t}function mI(n,e){const t=Z(n,e==null?void 0:e.in);return t.setDate(1),t.setHours(0,0,0,0),t}function gI(n,e){const t=Z(n,e==null?void 0:e.in),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t}function Ph(n,e){const t=Z(n,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function K4(n,e){var a,l;const t=Ui(),r=t.weekStartsOn??((l=(a=t.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??0,s=Z(n,e==null?void 0:e.in),i=s.getDay(),o=(i<r?-7:0)+6-(i-r);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}const G4={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},X4=(n,e,t)=>{let r;const s=G4[n];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function Yf(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const J4={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Z4={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ej={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},tj={date:Yf({formats:J4,defaultWidth:"full"}),time:Yf({formats:Z4,defaultWidth:"full"}),dateTime:Yf({formats:ej,defaultWidth:"full"})},nj={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},rj=(n,e,t,r)=>nj[n];function Ma(n){return(e,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let s;if(r==="formatting"&&n.formattingValues){const o=n.defaultFormattingWidth||n.defaultWidth,a=t!=null&&t.width?String(t.width):o;s=n.formattingValues[a]||n.formattingValues[o]}else{const o=n.defaultWidth,a=t!=null&&t.width?String(t.width):n.defaultWidth;s=n.values[a]||n.values[o]}const i=n.argumentCallback?n.argumentCallback(e):e;return s[i]}}const sj={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ij={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},oj={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},aj={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},lj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},uj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},cj=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},dj={ordinalNumber:cj,era:Ma({values:sj,defaultWidth:"wide"}),quarter:Ma({values:ij,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Ma({values:oj,defaultWidth:"wide"}),day:Ma({values:aj,defaultWidth:"wide"}),dayPeriod:Ma({values:lj,defaultWidth:"wide",formattingValues:uj,defaultFormattingWidth:"wide"})};function Oa(n){return(e,t={})=>{const r=t.width,s=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],l=Array.isArray(a)?fj(a,h=>h.test(o)):hj(a,h=>h.test(o));let c;c=n.valueCallback?n.valueCallback(l):l,c=t.valueCallback?t.valueCallback(c):c;const d=e.slice(o.length);return{value:c,rest:d}}}function hj(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function fj(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function pj(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const s=r[0],i=e.match(n.parsePattern);if(!i)return null;let o=n.valueCallback?n.valueCallback(i[0]):i[0];o=t.valueCallback?t.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const mj=/^(\d+)(th|st|nd|rd)?/i,gj=/\d+/i,vj={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},yj={any:[/^b/i,/^(a|c)/i]},_j={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},wj={any:[/1/i,/2/i,/3/i,/4/i]},Ej={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Tj={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Sj={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Cj={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Ij={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},kj={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Dj={ordinalNumber:pj({matchPattern:mj,parsePattern:gj,valueCallback:n=>parseInt(n,10)}),era:Oa({matchPatterns:vj,defaultMatchWidth:"wide",parsePatterns:yj,defaultParseWidth:"any"}),quarter:Oa({matchPatterns:_j,defaultMatchWidth:"wide",parsePatterns:wj,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Oa({matchPatterns:Ej,defaultMatchWidth:"wide",parsePatterns:Tj,defaultParseWidth:"any"}),day:Oa({matchPatterns:Sj,defaultMatchWidth:"wide",parsePatterns:Cj,defaultParseWidth:"any"}),dayPeriod:Oa({matchPatterns:Ij,defaultMatchWidth:"any",parsePatterns:kj,defaultParseWidth:"any"})},vI={code:"en-US",formatDistance:X4,formatLong:tj,formatRelative:rj,localize:dj,match:Dj,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Pj(n,e){const t=Z(n,e==null?void 0:e.in);return zo(t,Ph(t))+1}function bv(n,e){const t=Z(n,e==null?void 0:e.in),r=+Yo(t)-+Y4(t);return Math.round(r/cI)+1}function xv(n,e){var d,h,p,g;const t=Z(n,e==null?void 0:e.in),r=t.getFullYear(),s=Ui(),i=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(p=s.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,o=Oe((e==null?void 0:e.in)||n,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=Hr(o,e),l=Oe((e==null?void 0:e.in)||n,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const c=Hr(l,e);return+t>=+a?r+1:+t>=+c?r:r-1}function bj(n,e){var a,l,c,d;const t=Ui(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??t.firstWeekContainsDate??((d=(c=t.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,s=xv(n,e),i=Oe((e==null?void 0:e.in)||n,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),Hr(i,e)}function yI(n,e){const t=Z(n,e==null?void 0:e.in),r=+Hr(t,e)-+bj(t,e);return Math.round(r/cI)+1}function Ae(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const os={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return Ae(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):Ae(t+1,2)},d(n,e){return Ae(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return Ae(n.getHours()%12||12,e.length)},H(n,e){return Ae(n.getHours(),e.length)},m(n,e){return Ae(n.getMinutes(),e.length)},s(n,e){return Ae(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),s=Math.trunc(r*Math.pow(10,t-3));return Ae(s,e.length)}},Gi={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},A0={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),s=r>0?r:1-r;return t.ordinalNumber(s,{unit:"year"})}return os.y(n,e)},Y:function(n,e,t,r){const s=xv(n,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return Ae(o,2)}return e==="Yo"?t.ordinalNumber(i,{unit:"year"}):Ae(i,e.length)},R:function(n,e){const t=hI(n);return Ae(t,e.length)},u:function(n,e){const t=n.getFullYear();return Ae(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Ae(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Ae(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return os.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return Ae(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const s=yI(n,r);return e==="wo"?t.ordinalNumber(s,{unit:"week"}):Ae(s,e.length)},I:function(n,e,t){const r=bv(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):Ae(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):os.d(n,e)},D:function(n,e,t){const r=Pj(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):Ae(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const s=n.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Ae(i,2);case"eo":return t.ordinalNumber(i,{unit:"day"});case"eee":return t.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(s,{width:"short",context:"formatting"});case"eeee":default:return t.day(s,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const s=n.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Ae(i,e.length);case"co":return t.ordinalNumber(i,{unit:"day"});case"ccc":return t.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(s,{width:"narrow",context:"standalone"});case"cccccc":return t.day(s,{width:"short",context:"standalone"});case"cccc":default:return t.day(s,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return Ae(s,e.length);case"io":return t.ordinalNumber(s,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const s=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let s;switch(r===12?s=Gi.noon:r===0?s=Gi.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let s;switch(r>=17?s=Gi.evening:r>=12?s=Gi.afternoon:r>=4?s=Gi.morning:s=Gi.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return os.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):os.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):Ae(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):Ae(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):os.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):os.s(n,e)},S:function(n,e){return os.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return M0(r);case"XXXX":case"XX":return ii(r);case"XXXXX":case"XXX":default:return ii(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return M0(r);case"xxxx":case"xx":return ii(r);case"xxxxx":case"xxx":default:return ii(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+N0(r,":");case"OOOO":default:return"GMT"+ii(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+N0(r,":");case"zzzz":default:return"GMT"+ii(r,":")}},t:function(n,e,t){const r=Math.trunc(+n/1e3);return Ae(r,e.length)},T:function(n,e,t){return Ae(+n,e.length)}};function N0(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),s=Math.trunc(r/60),i=r%60;return i===0?t+String(s):t+String(s)+e+Ae(i,2)}function M0(n,e){return n%60===0?(n>0?"-":"+")+Ae(Math.abs(n)/60,2):ii(n,e)}function ii(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),s=Ae(Math.trunc(r/60),2),i=Ae(r%60,2);return t+s+e+i}const O0=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},_I=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},xj=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],s=t[2];if(!s)return O0(n,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",O0(r,e)).replace("{{time}}",_I(s,e))},Im={p:_I,P:xj},Rj=/^D+$/,Aj=/^Y+$/,Nj=["D","DD","YY","YYYY"];function Mj(n){return Rj.test(n)}function Oj(n){return Aj.test(n)}function Lj(n,e,t){const r=Vj(n,e,t);if(console.warn(r),Nj.includes(n))throw new RangeError(r)}function Vj(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Fj=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,jj=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Bj=/^'([^]*?)'?$/,Uj=/''/g,Wj=/[a-zA-Z]/;function L0(n,e,t){var d,h,p,g,_,D,I,w;const r=Ui(),s=(t==null?void 0:t.locale)??r.locale??vI,i=(t==null?void 0:t.firstWeekContainsDate)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(p=r.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,o=(t==null?void 0:t.weekStartsOn)??((D=(_=t==null?void 0:t.locale)==null?void 0:_.options)==null?void 0:D.weekStartsOn)??r.weekStartsOn??((w=(I=r.locale)==null?void 0:I.options)==null?void 0:w.weekStartsOn)??0,a=Z(n,t==null?void 0:t.in);if(!Rd(a))throw new RangeError("Invalid time value");let l=e.match(jj).map(y=>{const T=y[0];if(T==="p"||T==="P"){const A=Im[T];return A(y,s.formatLong)}return y}).join("").match(Fj).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const T=y[0];if(T==="'")return{isToken:!1,value:$j(y)};if(A0[T])return{isToken:!0,value:y};if(T.match(Wj))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");return{isToken:!1,value:y}});s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const c={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return l.map(y=>{if(!y.isToken)return y.value;const T=y.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&Oj(T)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&Mj(T))&&Lj(T,e,String(n));const A=A0[T[0]];return A(a,T,s.localize,c)}).join("")}function $j(n){const e=n.match(Bj);return e?e[1].replace(Uj,"'"):n}function V0(n,e){return Z(n,e==null?void 0:e.in).getDate()}function Hj(n,e){return Z(n,e==null?void 0:e.in).getDay()}function Yj(n,e){const t=Z(n,e==null?void 0:e.in),r=t.getFullYear(),s=t.getMonth(),i=Oe(t,0);return i.setFullYear(r,s+1,0),i.setHours(0,0,0,0),i.getDate()}function zj(){return Object.assign({},Ui())}function Nr(n,e){return Z(n,e==null?void 0:e.in).getHours()}function qj(n,e){const t=Z(n,e==null?void 0:e.in).getDay();return t===0?7:t}function Mr(n,e){return Z(n,e==null?void 0:e.in).getMinutes()}function jt(n,e){return Z(n,e==null?void 0:e.in).getMonth()}function Ns(n){return Z(n).getSeconds()}function km(n){return+Z(n)}function me(n,e){return Z(n,e==null?void 0:e.in).getFullYear()}function Us(n,e){return+Z(n)>+Z(e)}function tr(n,e){return+Z(n)<+Z(e)}function Qj(n,e){return+Z(n)==+Z(e)}function Kj(n,e){const t=Gj(e)?new e(0):Oe(e,0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),t}function Gj(n){var e;return typeof n=="function"&&((e=n.prototype)==null?void 0:e.constructor)===n}const Xj=10;class wI{constructor(){K(this,"subPriority",0)}validate(e,t){return!0}}class Jj extends wI{constructor(e,t,r,s,i){super(),this.value=e,this.validateValue=t,this.setValue=r,this.priority=s,i&&(this.subPriority=i)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,r){return this.setValue(e,t,this.value,r)}}class Zj extends wI{constructor(t,r){super();K(this,"priority",Xj);K(this,"subPriority",-1);this.context=t||(s=>Oe(r,s))}set(t,r){return r.timestampIsSet?t:Oe(t,Kj(t,this.context))}}class be{run(e,t,r,s){const i=this.parse(e,t,r,s);return i?{setter:new Jj(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(e,t,r){return!0}}class e3 extends be{constructor(){super(...arguments);K(this,"priority",140);K(this,"incompatibleTokens",["R","u","t","T"])}parse(t,r,s){switch(r){case"G":case"GG":case"GGG":return s.era(t,{width:"abbreviated"})||s.era(t,{width:"narrow"});case"GGGGG":return s.era(t,{width:"narrow"});case"GGGG":default:return s.era(t,{width:"wide"})||s.era(t,{width:"abbreviated"})||s.era(t,{width:"narrow"})}}set(t,r,s){return r.era=s,t.setFullYear(s,0,1),t.setHours(0,0,0,0),t}}const st={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Xn={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function it(n,e){return n&&{value:e(n.value),rest:n.rest}}function ze(n,e){const t=e.match(n);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function Jn(n,e){const t=e.match(n);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const r=t[1]==="+"?1:-1,s=t[2]?parseInt(t[2],10):0,i=t[3]?parseInt(t[3],10):0,o=t[5]?parseInt(t[5],10):0;return{value:r*(s*Dh+i*kh+o*W4),rest:e.slice(t[0].length)}}function EI(n){return ze(st.anyDigitsSigned,n)}function et(n,e){switch(n){case 1:return ze(st.singleDigit,e);case 2:return ze(st.twoDigits,e);case 3:return ze(st.threeDigits,e);case 4:return ze(st.fourDigits,e);default:return ze(new RegExp("^\\d{1,"+n+"}"),e)}}function Od(n,e){switch(n){case 1:return ze(st.singleDigitSigned,e);case 2:return ze(st.twoDigitsSigned,e);case 3:return ze(st.threeDigitsSigned,e);case 4:return ze(st.fourDigitsSigned,e);default:return ze(new RegExp("^-?\\d{1,"+n+"}"),e)}}function Rv(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function TI(n,e){const t=e>0,r=t?e:1-e;let s;if(r<=50)s=n||100;else{const i=r+50,o=Math.trunc(i/100)*100,a=n>=i%100;s=n+o-(a?100:0)}return t?s:1-s}function SI(n){return n%400===0||n%4===0&&n%100!==0}class t3 extends be{constructor(){super(...arguments);K(this,"priority",130);K(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,r,s){const i=o=>({year:o,isTwoDigitYear:r==="yy"});switch(r){case"y":return it(et(4,t),i);case"yo":return it(s.ordinalNumber(t,{unit:"year"}),i);default:return it(et(r.length,t),i)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,s){const i=t.getFullYear();if(s.isTwoDigitYear){const a=TI(s.year,i);return t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}const o=!("era"in r)||r.era===1?s.year:1-s.year;return t.setFullYear(o,0,1),t.setHours(0,0,0,0),t}}class n3 extends be{constructor(){super(...arguments);K(this,"priority",130);K(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,r,s){const i=o=>({year:o,isTwoDigitYear:r==="YY"});switch(r){case"Y":return it(et(4,t),i);case"Yo":return it(s.ordinalNumber(t,{unit:"year"}),i);default:return it(et(r.length,t),i)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,s,i){const o=xv(t,i);if(s.isTwoDigitYear){const l=TI(s.year,o);return t.setFullYear(l,0,i.firstWeekContainsDate),t.setHours(0,0,0,0),Hr(t,i)}const a=!("era"in r)||r.era===1?s.year:1-s.year;return t.setFullYear(a,0,i.firstWeekContainsDate),t.setHours(0,0,0,0),Hr(t,i)}}class r3 extends be{constructor(){super(...arguments);K(this,"priority",130);K(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,r){return Od(r==="R"?4:r.length,t)}set(t,r,s){const i=Oe(t,0);return i.setFullYear(s,0,4),i.setHours(0,0,0,0),Yo(i)}}class s3 extends be{constructor(){super(...arguments);K(this,"priority",130);K(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,r){return Od(r==="u"?4:r.length,t)}set(t,r,s){return t.setFullYear(s,0,1),t.setHours(0,0,0,0),t}}class i3 extends be{constructor(){super(...arguments);K(this,"priority",120);K(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,s){switch(r){case"Q":case"QQ":return et(r.length,t);case"Qo":return s.ordinalNumber(t,{unit:"quarter"});case"QQQ":return s.quarter(t,{width:"abbreviated",context:"formatting"})||s.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(t,{width:"wide",context:"formatting"})||s.quarter(t,{width:"abbreviated",context:"formatting"})||s.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=1&&r<=4}set(t,r,s){return t.setMonth((s-1)*3,1),t.setHours(0,0,0,0),t}}class o3 extends be{constructor(){super(...arguments);K(this,"priority",120);K(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,s){switch(r){case"q":case"qq":return et(r.length,t);case"qo":return s.ordinalNumber(t,{unit:"quarter"});case"qqq":return s.quarter(t,{width:"abbreviated",context:"standalone"})||s.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(t,{width:"wide",context:"standalone"})||s.quarter(t,{width:"abbreviated",context:"standalone"})||s.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=1&&r<=4}set(t,r,s){return t.setMonth((s-1)*3,1),t.setHours(0,0,0,0),t}}class a3 extends be{constructor(){super(...arguments);K(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);K(this,"priority",110)}parse(t,r,s){const i=o=>o-1;switch(r){case"M":return it(ze(st.month,t),i);case"MM":return it(et(2,t),i);case"Mo":return it(s.ordinalNumber(t,{unit:"month"}),i);case"MMM":return s.month(t,{width:"abbreviated",context:"formatting"})||s.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(t,{width:"wide",context:"formatting"})||s.month(t,{width:"abbreviated",context:"formatting"})||s.month(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=11}set(t,r,s){return t.setMonth(s,1),t.setHours(0,0,0,0),t}}class l3 extends be{constructor(){super(...arguments);K(this,"priority",110);K(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,r,s){const i=o=>o-1;switch(r){case"L":return it(ze(st.month,t),i);case"LL":return it(et(2,t),i);case"Lo":return it(s.ordinalNumber(t,{unit:"month"}),i);case"LLL":return s.month(t,{width:"abbreviated",context:"standalone"})||s.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(t,{width:"wide",context:"standalone"})||s.month(t,{width:"abbreviated",context:"standalone"})||s.month(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=11}set(t,r,s){return t.setMonth(s,1),t.setHours(0,0,0,0),t}}function u3(n,e,t){const r=Z(n,t==null?void 0:t.in),s=yI(r,t)-e;return r.setDate(r.getDate()-s*7),Z(r,t==null?void 0:t.in)}class c3 extends be{constructor(){super(...arguments);K(this,"priority",100);K(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,r,s){switch(r){case"w":return ze(st.week,t);case"wo":return s.ordinalNumber(t,{unit:"week"});default:return et(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,s,i){return Hr(u3(t,s,i),i)}}function d3(n,e,t){const r=Z(n,t==null?void 0:t.in),s=bv(r,t)-e;return r.setDate(r.getDate()-s*7),r}class h3 extends be{constructor(){super(...arguments);K(this,"priority",100);K(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,r,s){switch(r){case"I":return ze(st.week,t);case"Io":return s.ordinalNumber(t,{unit:"week"});default:return et(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,s){return Yo(d3(t,s))}}const f3=[31,28,31,30,31,30,31,31,30,31,30,31],p3=[31,29,31,30,31,30,31,31,30,31,30,31];class m3 extends be{constructor(){super(...arguments);K(this,"priority",90);K(this,"subPriority",1);K(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,r,s){switch(r){case"d":return ze(st.date,t);case"do":return s.ordinalNumber(t,{unit:"date"});default:return et(r.length,t)}}validate(t,r){const s=t.getFullYear(),i=SI(s),o=t.getMonth();return i?r>=1&&r<=p3[o]:r>=1&&r<=f3[o]}set(t,r,s){return t.setDate(s),t.setHours(0,0,0,0),t}}class g3 extends be{constructor(){super(...arguments);K(this,"priority",90);K(this,"subpriority",1);K(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,r,s){switch(r){case"D":case"DD":return ze(st.dayOfYear,t);case"Do":return s.ordinalNumber(t,{unit:"date"});default:return et(r.length,t)}}validate(t,r){const s=t.getFullYear();return SI(s)?r>=1&&r<=366:r>=1&&r<=365}set(t,r,s){return t.setMonth(0,s),t.setHours(0,0,0,0),t}}function Av(n,e,t){var h,p,g,_;const r=Ui(),s=(t==null?void 0:t.weekStartsOn)??((p=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??r.weekStartsOn??((_=(g=r.locale)==null?void 0:g.options)==null?void 0:_.weekStartsOn)??0,i=Z(n,t==null?void 0:t.in),o=i.getDay(),l=(e%7+7)%7,c=7-s,d=e<0||e>6?e-(o+c)%7:(l+c)%7-(o+c)%7;return Ln(i,d,t)}class v3 extends be{constructor(){super(...arguments);K(this,"priority",90);K(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,r,s){switch(r){case"E":case"EE":case"EEE":return s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(t,{width:"wide",context:"formatting"})||s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,s,i){return t=Av(t,s,i),t.setHours(0,0,0,0),t}}class y3 extends be{constructor(){super(...arguments);K(this,"priority",90);K(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,r,s,i){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+i.weekStartsOn+6)%7+l};switch(r){case"e":case"ee":return it(et(r.length,t),o);case"eo":return it(s.ordinalNumber(t,{unit:"day"}),o);case"eee":return s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"eeeee":return s.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(t,{width:"wide",context:"formatting"})||s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,s,i){return t=Av(t,s,i),t.setHours(0,0,0,0),t}}class _3 extends be{constructor(){super(...arguments);K(this,"priority",90);K(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,r,s,i){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+i.weekStartsOn+6)%7+l};switch(r){case"c":case"cc":return it(et(r.length,t),o);case"co":return it(s.ordinalNumber(t,{unit:"day"}),o);case"ccc":return s.day(t,{width:"abbreviated",context:"standalone"})||s.day(t,{width:"short",context:"standalone"})||s.day(t,{width:"narrow",context:"standalone"});case"ccccc":return s.day(t,{width:"narrow",context:"standalone"});case"cccccc":return s.day(t,{width:"short",context:"standalone"})||s.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(t,{width:"wide",context:"standalone"})||s.day(t,{width:"abbreviated",context:"standalone"})||s.day(t,{width:"short",context:"standalone"})||s.day(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=6}set(t,r,s,i){return t=Av(t,s,i),t.setHours(0,0,0,0),t}}function w3(n,e,t){const r=Z(n,t==null?void 0:t.in),s=qj(r,t),i=e-s;return Ln(r,i,t)}class E3 extends be{constructor(){super(...arguments);K(this,"priority",90);K(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,r,s){const i=o=>o===0?7:o;switch(r){case"i":case"ii":return et(r.length,t);case"io":return s.ordinalNumber(t,{unit:"day"});case"iii":return it(s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"}),i);case"iiiii":return it(s.day(t,{width:"narrow",context:"formatting"}),i);case"iiiiii":return it(s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"}),i);case"iiii":default:return it(s.day(t,{width:"wide",context:"formatting"})||s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"}),i)}}validate(t,r){return r>=1&&r<=7}set(t,r,s){return t=w3(t,s),t.setHours(0,0,0,0),t}}class T3 extends be{constructor(){super(...arguments);K(this,"priority",80);K(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,r,s){switch(r){case"a":case"aa":case"aaa":return s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(t,{width:"wide",context:"formatting"})||s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,s){return t.setHours(Rv(s),0,0,0),t}}class S3 extends be{constructor(){super(...arguments);K(this,"priority",80);K(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,r,s){switch(r){case"b":case"bb":case"bbb":return s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(t,{width:"wide",context:"formatting"})||s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,s){return t.setHours(Rv(s),0,0,0),t}}class C3 extends be{constructor(){super(...arguments);K(this,"priority",80);K(this,"incompatibleTokens",["a","b","t","T"])}parse(t,r,s){switch(r){case"B":case"BB":case"BBB":return s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(t,{width:"wide",context:"formatting"})||s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,s){return t.setHours(Rv(s),0,0,0),t}}class I3 extends be{constructor(){super(...arguments);K(this,"priority",70);K(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,r,s){switch(r){case"h":return ze(st.hour12h,t);case"ho":return s.ordinalNumber(t,{unit:"hour"});default:return et(r.length,t)}}validate(t,r){return r>=1&&r<=12}set(t,r,s){const i=t.getHours()>=12;return i&&s<12?t.setHours(s+12,0,0,0):!i&&s===12?t.setHours(0,0,0,0):t.setHours(s,0,0,0),t}}class k3 extends be{constructor(){super(...arguments);K(this,"priority",70);K(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,r,s){switch(r){case"H":return ze(st.hour23h,t);case"Ho":return s.ordinalNumber(t,{unit:"hour"});default:return et(r.length,t)}}validate(t,r){return r>=0&&r<=23}set(t,r,s){return t.setHours(s,0,0,0),t}}class D3 extends be{constructor(){super(...arguments);K(this,"priority",70);K(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,r,s){switch(r){case"K":return ze(st.hour11h,t);case"Ko":return s.ordinalNumber(t,{unit:"hour"});default:return et(r.length,t)}}validate(t,r){return r>=0&&r<=11}set(t,r,s){return t.getHours()>=12&&s<12?t.setHours(s+12,0,0,0):t.setHours(s,0,0,0),t}}class P3 extends be{constructor(){super(...arguments);K(this,"priority",70);K(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,r,s){switch(r){case"k":return ze(st.hour24h,t);case"ko":return s.ordinalNumber(t,{unit:"hour"});default:return et(r.length,t)}}validate(t,r){return r>=1&&r<=24}set(t,r,s){const i=s<=24?s%24:s;return t.setHours(i,0,0,0),t}}class b3 extends be{constructor(){super(...arguments);K(this,"priority",60);K(this,"incompatibleTokens",["t","T"])}parse(t,r,s){switch(r){case"m":return ze(st.minute,t);case"mo":return s.ordinalNumber(t,{unit:"minute"});default:return et(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,s){return t.setMinutes(s,0,0),t}}class x3 extends be{constructor(){super(...arguments);K(this,"priority",50);K(this,"incompatibleTokens",["t","T"])}parse(t,r,s){switch(r){case"s":return ze(st.second,t);case"so":return s.ordinalNumber(t,{unit:"second"});default:return et(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,s){return t.setSeconds(s,0),t}}class R3 extends be{constructor(){super(...arguments);K(this,"priority",30);K(this,"incompatibleTokens",["t","T"])}parse(t,r){const s=i=>Math.trunc(i*Math.pow(10,-r.length+3));return it(et(r.length,t),s)}set(t,r,s){return t.setMilliseconds(s),t}}class A3 extends be{constructor(){super(...arguments);K(this,"priority",10);K(this,"incompatibleTokens",["t","T","x"])}parse(t,r){switch(r){case"X":return Jn(Xn.basicOptionalMinutes,t);case"XX":return Jn(Xn.basic,t);case"XXXX":return Jn(Xn.basicOptionalSeconds,t);case"XXXXX":return Jn(Xn.extendedOptionalSeconds,t);case"XXX":default:return Jn(Xn.extended,t)}}set(t,r,s){return r.timestampIsSet?t:Oe(t,t.getTime()-bd(t)-s)}}class N3 extends be{constructor(){super(...arguments);K(this,"priority",10);K(this,"incompatibleTokens",["t","T","X"])}parse(t,r){switch(r){case"x":return Jn(Xn.basicOptionalMinutes,t);case"xx":return Jn(Xn.basic,t);case"xxxx":return Jn(Xn.basicOptionalSeconds,t);case"xxxxx":return Jn(Xn.extendedOptionalSeconds,t);case"xxx":default:return Jn(Xn.extended,t)}}set(t,r,s){return r.timestampIsSet?t:Oe(t,t.getTime()-bd(t)-s)}}class M3 extends be{constructor(){super(...arguments);K(this,"priority",40);K(this,"incompatibleTokens","*")}parse(t){return EI(t)}set(t,r,s){return[Oe(t,s*1e3),{timestampIsSet:!0}]}}class O3 extends be{constructor(){super(...arguments);K(this,"priority",20);K(this,"incompatibleTokens","*")}parse(t){return EI(t)}set(t,r,s){return[Oe(t,s),{timestampIsSet:!0}]}}const L3={G:new e3,y:new t3,Y:new n3,R:new r3,u:new s3,Q:new i3,q:new o3,M:new a3,L:new l3,w:new c3,I:new h3,d:new m3,D:new g3,E:new v3,e:new y3,c:new _3,i:new E3,a:new T3,b:new S3,B:new C3,h:new I3,H:new k3,K:new D3,k:new P3,m:new b3,s:new x3,S:new R3,X:new A3,x:new N3,t:new M3,T:new O3},V3=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,F3=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,j3=/^'([^]*?)'?$/,B3=/''/g,U3=/\S/,W3=/[a-zA-Z]/;function $3(n,e,t,r){var I,w,y,T,A,L,M,S;const s=()=>Oe((r==null?void 0:r.in)||t,NaN),i=zj(),o=(r==null?void 0:r.locale)??i.locale??vI,a=(r==null?void 0:r.firstWeekContainsDate)??((w=(I=r==null?void 0:r.locale)==null?void 0:I.options)==null?void 0:w.firstWeekContainsDate)??i.firstWeekContainsDate??((T=(y=i.locale)==null?void 0:y.options)==null?void 0:T.firstWeekContainsDate)??1,l=(r==null?void 0:r.weekStartsOn)??((L=(A=r==null?void 0:r.locale)==null?void 0:A.options)==null?void 0:L.weekStartsOn)??i.weekStartsOn??((S=(M=i.locale)==null?void 0:M.options)==null?void 0:S.weekStartsOn)??0;if(!e)return n?s():Z(t,r==null?void 0:r.in);const c={firstWeekContainsDate:a,weekStartsOn:l,locale:o},d=[new Zj(r==null?void 0:r.in,t)],h=e.match(F3).map(v=>{const C=v[0];if(C in Im){const P=Im[C];return P(v,o.formatLong)}return v}).join("").match(V3),p=[];for(let v of h){const C=v[0],P=L3[C];if(P){const{incompatibleTokens:x}=P;if(Array.isArray(x)){const b=p.find(se=>x.includes(se.token)||se.token===C);if(b)throw new RangeError(`The format string mustn't contain \`${b.fullToken}\` and \`${v}\` at the same time`)}else if(P.incompatibleTokens==="*"&&p.length>0)throw new RangeError(`The format string mustn't contain \`${v}\` and any other token at the same time`);p.push({token:C,fullToken:v});const N=P.run(n,v,o.match,c);if(!N)return s();d.push(N.setter),n=N.rest}else{if(C.match(W3))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");if(v==="''"?v="'":C==="'"&&(v=H3(v)),n.indexOf(v)===0)n=n.slice(v.length);else return s()}}if(n.length>0&&U3.test(n))return s();const g=d.map(v=>v.priority).sort((v,C)=>C-v).filter((v,C,P)=>P.indexOf(v)===C).map(v=>d.filter(C=>C.priority===v).sort((C,P)=>P.subPriority-C.subPriority)).map(v=>v[0]);let _=Z(t,r==null?void 0:r.in);if(isNaN(+_))return s();const D={};for(const v of g){if(!v.validate(_,c))return s();const C=v.set(_,D,c);Array.isArray(C)?(_=C[0],Object.assign(D,C[1])):_=C}return _}function H3(n){return n.match(j3)[1].replace(B3,"'")}function Y3(n,e,t){const[r,s]=Kr(t==null?void 0:t.in,n,e);return r.getFullYear()===s.getFullYear()&&r.getMonth()===s.getMonth()}function z3(n,e,t){const[r,s]=Kr(t==null?void 0:t.in,n,e);return+Cm(r)==+Cm(s)}function q3(n,e,t){const[r,s]=Kr(t==null?void 0:t.in,n,e);return r.getFullYear()===s.getFullYear()}function Hl(n,e,t){const r=+Z(n,t==null?void 0:t.in),[s,i]=[+Z(e.start,t==null?void 0:t.in),+Z(e.end,t==null?void 0:t.in)].sort((o,a)=>o-a);return r>=s&&r<=i}function Q3(n,e,t){return Ln(n,-1,t)}function K3(n,e){const t=()=>Oe(e==null?void 0:e.in,NaN),s=Z3(n);let i;if(s.date){const c=eB(s.date,2);i=tB(c.restDateString,c.year)}if(!i||isNaN(+i))return t();const o=+i;let a=0,l;if(s.time&&(a=nB(s.time),isNaN(a)))return t();if(s.timezone){if(l=rB(s.timezone),isNaN(l))return t()}else{const c=new Date(o+a),d=Z(0,e==null?void 0:e.in);return d.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),d.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),d}return Z(o+a+l,e==null?void 0:e.in)}const ic={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},G3=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,X3=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,J3=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Z3(n){const e={},t=n.split(ic.dateTimeDelimiter);let r;if(t.length>2)return e;if(/:/.test(t[0])?r=t[0]:(e.date=t[0],r=t[1],ic.timeZoneDelimiter.test(e.date)&&(e.date=n.split(ic.timeZoneDelimiter)[0],r=n.substr(e.date.length,n.length))),r){const s=ic.timezone.exec(r);s?(e.time=r.replace(s[1],""),e.timezone=s[1]):e.time=r}return e}function eB(n,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=n.match(t);if(!r)return{year:NaN,restDateString:""};const s=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?s:i*100,restDateString:n.slice((r[1]||r[2]).length)}}function tB(n,e){if(e===null)return new Date(NaN);const t=n.match(G3);if(!t)return new Date(NaN);const r=!!t[4],s=La(t[1]),i=La(t[2])-1,o=La(t[3]),a=La(t[4]),l=La(t[5])-1;if(r)return lB(e,a,l)?sB(e,a,l):new Date(NaN);{const c=new Date(0);return!oB(e,i,o)||!aB(e,s)?new Date(NaN):(c.setUTCFullYear(e,i,Math.max(s,o)),c)}}function La(n){return n?parseInt(n):1}function nB(n){const e=n.match(X3);if(!e)return NaN;const t=zf(e[1]),r=zf(e[2]),s=zf(e[3]);return uB(t,r,s)?t*Dh+r*kh+s*1e3:NaN}function zf(n){return n&&parseFloat(n.replace(",","."))||0}function rB(n){if(n==="Z")return 0;const e=n.match(J3);if(!e)return 0;const t=e[1]==="+"?-1:1,r=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return cB(r,s)?t*(r*Dh+s*kh):NaN}function sB(n,e,t){const r=new Date(0);r.setUTCFullYear(n,0,4);const s=r.getUTCDay()||7,i=(e-1)*7+t+1-s;return r.setUTCDate(r.getUTCDate()+i),r}const iB=[31,null,31,30,31,30,31,31,30,31,30,31];function CI(n){return n%400===0||n%4===0&&n%100!==0}function oB(n,e,t){return e>=0&&e<=11&&t>=1&&t<=(iB[e]||(CI(n)?29:28))}function aB(n,e){return e>=1&&e<=(CI(n)?366:365)}function lB(n,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function uB(n,e,t){return n===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&n>=0&&n<25}function cB(n,e){return e>=0&&e<=59}function un(n,e,t){const r=Z(n,t==null?void 0:t.in),s=r.getFullYear(),i=r.getDate(),o=Oe(n,0);o.setFullYear(s,e,15),o.setHours(0,0,0,0);const a=Yj(o);return r.setMonth(e,Math.min(i,a)),r}function Nc(n,e,t){const r=Z(n,t==null?void 0:t.in);return r.setHours(e),r}function Mc(n,e,t){const r=Z(n,t==null?void 0:t.in);return r.setMinutes(e),r}function eo(n,e,t){const r=Z(n,t==null?void 0:t.in),s=Math.trunc(r.getMonth()/3)+1,i=e-s;return un(r,r.getMonth()+i*3)}function Oc(n,e,t){const r=Z(n,t==null?void 0:t.in);return r.setSeconds(e),r}function zn(n,e,t){const r=Z(n,t==null?void 0:t.in);return isNaN(+r)?Oe(n,NaN):(r.setFullYear(e),r)}function yi(n,e,t){return Bn(n,-e,t)}function II(n,e,t){return Pv(n,-1,t)}function F0(n,e,t){return xd(n,-1,t)}function qo(n,e,t){return Rr(n,-e,t)}function bh(){return typeof window<"u"}function ca(n){return kI(n)?(n.nodeName||"").toLowerCase():"#document"}function pn(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function fr(n){var e;return(e=(kI(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function kI(n){return bh()?n instanceof Node||n instanceof pn(n).Node:!1}function qt(n){return bh()?n instanceof Element||n instanceof pn(n).Element:!1}function hr(n){return bh()?n instanceof HTMLElement||n instanceof pn(n).HTMLElement:!1}function j0(n){return!bh()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof pn(n).ShadowRoot}const dB=new Set(["inline","contents"]);function gu(n){const{overflow:e,overflowX:t,overflowY:r,display:s}=kn(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!dB.has(s)}const hB=new Set(["table","td","th"]);function fB(n){return hB.has(ca(n))}const pB=[":popover-open",":modal"];function xh(n){return pB.some(e=>{try{return n.matches(e)}catch{return!1}})}const mB=["transform","translate","scale","rotate","perspective"],gB=["transform","translate","scale","rotate","perspective","filter"],vB=["paint","layout","strict","content"];function Nv(n){const e=Mv(),t=qt(n)?kn(n):n;return mB.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||gB.some(r=>(t.willChange||"").includes(r))||vB.some(r=>(t.contain||"").includes(r))}function yB(n){let e=Ws(n);for(;hr(e)&&!Qo(e);){if(Nv(e))return e;if(xh(e))return null;e=Ws(e)}return null}function Mv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const _B=new Set(["html","body","#document"]);function Qo(n){return _B.has(ca(n))}function kn(n){return pn(n).getComputedStyle(n)}function Rh(n){return qt(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Ws(n){if(ca(n)==="html")return n;const e=n.assignedSlot||n.parentNode||j0(n)&&n.host||fr(n);return j0(e)?e.host:e}function DI(n){const e=Ws(n);return Qo(e)?n.ownerDocument?n.ownerDocument.body:n.body:hr(e)&&gu(e)?e:DI(e)}function Yl(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=DI(n),i=s===((r=n.ownerDocument)==null?void 0:r.body),o=pn(s);if(i){const a=Dm(o);return e.concat(o,o.visualViewport||[],gu(s)?s:[],a&&t?Yl(a):[])}return e.concat(s,Yl(s,[],t))}function Dm(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}const Ko=Math.min,_i=Math.max,Ld=Math.round,oc=Math.floor,ur=n=>({x:n,y:n}),wB={left:"right",right:"left",bottom:"top",top:"bottom"},EB={start:"end",end:"start"};function TB(n,e,t){return _i(n,Ko(e,t))}function Ah(n,e){return typeof n=="function"?n(e):n}function Go(n){return n.split("-")[0]}function vu(n){return n.split("-")[1]}function SB(n){return n==="x"?"y":"x"}function Ov(n){return n==="y"?"height":"width"}const CB=new Set(["top","bottom"]);function hi(n){return CB.has(Go(n))?"y":"x"}function Lv(n){return SB(hi(n))}function IB(n,e,t){t===void 0&&(t=!1);const r=vu(n),s=Lv(n),i=Ov(s);let o=s==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Vd(o)),[o,Vd(o)]}function kB(n){const e=Vd(n);return[Pm(n),e,Pm(e)]}function Pm(n){return n.replace(/start|end/g,e=>EB[e])}const B0=["left","right"],U0=["right","left"],DB=["top","bottom"],PB=["bottom","top"];function bB(n,e,t){switch(n){case"top":case"bottom":return t?e?U0:B0:e?B0:U0;case"left":case"right":return e?DB:PB;default:return[]}}function xB(n,e,t,r){const s=vu(n);let i=bB(Go(n),t==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Pm)))),i}function Vd(n){return n.replace(/left|right|bottom|top/g,e=>wB[e])}function RB(n){return{top:0,right:0,bottom:0,left:0,...n}}function PI(n){return typeof n!="number"?RB(n):{top:n,right:n,bottom:n,left:n}}function Fd(n){const{x:e,y:t,width:r,height:s}=n;return{width:r,height:s,top:t,left:e,right:e+r,bottom:t+s,x:e,y:t}}var AB=typeof document<"u",NB=function(){},jd=AB?R.useLayoutEffect:NB;const MB={...Om},OB=MB.useInsertionEffect,LB=OB||(n=>n());function VB(n){const e=R.useRef(()=>{});return LB(()=>{e.current=n}),R.useCallback(function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return e.current==null?void 0:e.current(...r)},[])}function W0(n,e,t){let{reference:r,floating:s}=n;const i=hi(e),o=Lv(e),a=Ov(o),l=Go(e),c=i==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let g;switch(l){case"top":g={x:d,y:r.y-s.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:h};break;case"left":g={x:r.x-s.width,y:h};break;default:g={x:r.x,y:r.y}}switch(vu(e)){case"start":g[o]-=p*(t&&c?-1:1);break;case"end":g[o]+=p*(t&&c?-1:1);break}return g}const FB=async(n,e,t)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=t,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:n,floating:e,strategy:s}),{x:d,y:h}=W0(c,r,l),p=r,g={},_=0;for(let D=0;D<a.length;D++){const{name:I,fn:w}=a[D],{x:y,y:T,data:A,reset:L}=await w({x:d,y:h,initialPlacement:r,placement:p,strategy:s,middlewareData:g,rects:c,platform:o,elements:{reference:n,floating:e}});d=y??d,h=T??h,g={...g,[I]:{...g[I],...A}},L&&_<=50&&(_++,typeof L=="object"&&(L.placement&&(p=L.placement),L.rects&&(c=L.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:s}):L.rects),{x:d,y:h}=W0(c,p,l)),D=-1)}return{x:d,y:h,placement:p,strategy:s,middlewareData:g}};async function jB(n,e){var t;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=n,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:g=0}=Ah(e,n),_=PI(g),I=a[p?h==="floating"?"reference":"floating":h],w=Fd(await i.getClippingRect({element:(t=await(i.isElement==null?void 0:i.isElement(I)))==null||t?I:I.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),y=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,T=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),A=await(i.isElement==null?void 0:i.isElement(T))?await(i.getScale==null?void 0:i.getScale(T))||{x:1,y:1}:{x:1,y:1},L=Fd(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:T,strategy:l}):y);return{top:(w.top-L.top+_.top)/A.y,bottom:(L.bottom-w.bottom+_.bottom)/A.y,left:(w.left-L.left+_.left)/A.x,right:(L.right-w.right+_.right)/A.x}}const BB=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=Ah(n,e)||{};if(c==null)return{};const h=PI(d),p={x:t,y:r},g=Lv(s),_=Ov(g),D=await o.getDimensions(c),I=g==="y",w=I?"top":"left",y=I?"bottom":"right",T=I?"clientHeight":"clientWidth",A=i.reference[_]+i.reference[g]-p[g]-i.floating[_],L=p[g]-i.reference[g],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let S=M?M[T]:0;(!S||!await(o.isElement==null?void 0:o.isElement(M)))&&(S=a.floating[T]||i.floating[_]);const v=A/2-L/2,C=S/2-D[_]/2-1,P=Ko(h[w],C),x=Ko(h[y],C),N=P,b=S-D[_]-x,se=S/2-D[_]/2+v,re=TB(N,se,b),ee=!l.arrow&&vu(s)!=null&&se!==re&&i.reference[_]/2-(se<N?P:x)-D[_]/2<0,ie=ee?se<N?se-N:se-b:0;return{[g]:p[g]+ie,data:{[g]:re,centerOffset:se-re-ie,...ee&&{alignmentOffset:ie}},reset:ee}}}),UB=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:D=!0,...I}=Ah(n,e);if((t=i.arrow)!=null&&t.alignmentOffset)return{};const w=Go(s),y=hi(a),T=Go(a)===a,A=await(l.isRTL==null?void 0:l.isRTL(c.floating)),L=p||(T||!D?[Vd(a)]:kB(a)),M=_!=="none";!p&&M&&L.push(...xB(a,D,_,A));const S=[a,...L],v=await jB(e,I),C=[];let P=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&C.push(v[w]),h){const se=IB(s,o,A);C.push(v[se[0]],v[se[1]])}if(P=[...P,{placement:s,overflows:C}],!C.every(se=>se<=0)){var x,N;const se=(((x=i.flip)==null?void 0:x.index)||0)+1,re=S[se];if(re&&(!(h==="alignment"?y!==hi(re):!1)||P.every(B=>hi(B.placement)===y?B.overflows[0]>0:!0)))return{data:{index:se,overflows:P},reset:{placement:re}};let ee=(N=P.filter(ie=>ie.overflows[0]<=0).sort((ie,B)=>ie.overflows[1]-B.overflows[1])[0])==null?void 0:N.placement;if(!ee)switch(g){case"bestFit":{var b;const ie=(b=P.filter(B=>{if(M){const F=hi(B.placement);return F===y||F==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(F=>F>0).reduce((F,H)=>F+H,0)]).sort((B,F)=>B[1]-F[1])[0])==null?void 0:b[0];ie&&(ee=ie);break}case"initialPlacement":ee=a;break}if(s!==ee)return{reset:{placement:ee}}}return{}}}},WB=new Set(["left","top"]);async function $B(n,e){const{placement:t,platform:r,elements:s}=n,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Go(t),a=vu(t),l=hi(t)==="y",c=WB.has(o)?-1:1,d=i&&l?-1:1,h=Ah(e,n);let{mainAxis:p,crossAxis:g,alignmentAxis:_}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof _=="number"&&(g=a==="end"?_*-1:_),l?{x:g*d,y:p*c}:{x:p*c,y:g*d}}const HB=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await $B(e,n);return o===((t=a.offset)==null?void 0:t.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}};function bI(n){const e=kn(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=hr(n),i=s?n.offsetWidth:t,o=s?n.offsetHeight:r,a=Ld(t)!==i||Ld(r)!==o;return a&&(t=i,r=o),{width:t,height:r,$:a}}function Vv(n){return qt(n)?n:n.contextElement}function ko(n){const e=Vv(n);if(!hr(e))return ur(1);const t=e.getBoundingClientRect(),{width:r,height:s,$:i}=bI(e);let o=(i?Ld(t.width):t.width)/r,a=(i?Ld(t.height):t.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const YB=ur(0);function xI(n){const e=pn(n);return!Mv()||!e.visualViewport?YB:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function zB(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==pn(n)?!1:e}function Mi(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const s=n.getBoundingClientRect(),i=Vv(n);let o=ur(1);e&&(r?qt(r)&&(o=ko(r)):o=ko(n));const a=zB(i,t,r)?xI(i):ur(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(i){const p=pn(i),g=r&&qt(r)?pn(r):r;let _=p,D=Dm(_);for(;D&&r&&g!==_;){const I=ko(D),w=D.getBoundingClientRect(),y=kn(D),T=w.left+(D.clientLeft+parseFloat(y.paddingLeft))*I.x,A=w.top+(D.clientTop+parseFloat(y.paddingTop))*I.y;l*=I.x,c*=I.y,d*=I.x,h*=I.y,l+=T,c+=A,_=pn(D),D=Dm(_)}}return Fd({width:d,height:h,x:l,y:c})}function Nh(n,e){const t=Rh(n).scrollLeft;return e?e.left+t:Mi(fr(n)).left+t}function RI(n,e){const t=n.getBoundingClientRect(),r=t.left+e.scrollLeft-Nh(n,t),s=t.top+e.scrollTop;return{x:r,y:s}}function qB(n){let{elements:e,rect:t,offsetParent:r,strategy:s}=n;const i=s==="fixed",o=fr(r),a=e?xh(e.floating):!1;if(r===o||a&&i)return t;let l={scrollLeft:0,scrollTop:0},c=ur(1);const d=ur(0),h=hr(r);if((h||!h&&!i)&&((ca(r)!=="body"||gu(o))&&(l=Rh(r)),hr(r))){const g=Mi(r);c=ko(r),d.x=g.x+r.clientLeft,d.y=g.y+r.clientTop}const p=o&&!h&&!i?RI(o,l):ur(0);return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-l.scrollLeft*c.x+d.x+p.x,y:t.y*c.y-l.scrollTop*c.y+d.y+p.y}}function QB(n){return Array.from(n.getClientRects())}function KB(n){const e=fr(n),t=Rh(n),r=n.ownerDocument.body,s=_i(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=_i(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-t.scrollLeft+Nh(n);const a=-t.scrollTop;return kn(r).direction==="rtl"&&(o+=_i(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}const $0=25;function GB(n,e){const t=pn(n),r=fr(n),s=t.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const d=Mv();(!d||d&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}const c=Nh(r);if(c<=0){const d=r.ownerDocument,h=d.body,p=getComputedStyle(h),g=d.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,_=Math.abs(r.clientWidth-h.clientWidth-g);_<=$0&&(i-=_)}else c<=$0&&(i+=c);return{width:i,height:o,x:a,y:l}}const XB=new Set(["absolute","fixed"]);function JB(n,e){const t=Mi(n,!0,e==="fixed"),r=t.top+n.clientTop,s=t.left+n.clientLeft,i=hr(n)?ko(n):ur(1),o=n.clientWidth*i.x,a=n.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function H0(n,e,t){let r;if(e==="viewport")r=GB(n,t);else if(e==="document")r=KB(fr(n));else if(qt(e))r=JB(e,t);else{const s=xI(n);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Fd(r)}function AI(n,e){const t=Ws(n);return t===e||!qt(t)||Qo(t)?!1:kn(t).position==="fixed"||AI(t,e)}function ZB(n,e){const t=e.get(n);if(t)return t;let r=Yl(n,[],!1).filter(a=>qt(a)&&ca(a)!=="body"),s=null;const i=kn(n).position==="fixed";let o=i?Ws(n):n;for(;qt(o)&&!Qo(o);){const a=kn(o),l=Nv(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&XB.has(s.position)||gu(o)&&!l&&AI(n,o))?r=r.filter(d=>d!==o):s=a,o=Ws(o)}return e.set(n,r),r}function eU(n){let{element:e,boundary:t,rootBoundary:r,strategy:s}=n;const o=[...t==="clippingAncestors"?xh(e)?[]:ZB(e,this._c):[].concat(t),r],a=o[0],l=o.reduce((c,d)=>{const h=H0(e,d,s);return c.top=_i(h.top,c.top),c.right=Ko(h.right,c.right),c.bottom=Ko(h.bottom,c.bottom),c.left=_i(h.left,c.left),c},H0(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function tU(n){const{width:e,height:t}=bI(n);return{width:e,height:t}}function nU(n,e,t){const r=hr(e),s=fr(e),i=t==="fixed",o=Mi(n,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=ur(0);function c(){l.x=Nh(s)}if(r||!r&&!i)if((ca(e)!=="body"||gu(s))&&(a=Rh(e)),r){const g=Mi(e,!0,i,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else s&&c();i&&!r&&s&&c();const d=s&&!r&&!i?RI(s,a):ur(0),h=o.left+a.scrollLeft-l.x-d.x,p=o.top+a.scrollTop-l.y-d.y;return{x:h,y:p,width:o.width,height:o.height}}function qf(n){return kn(n).position==="static"}function Y0(n,e){if(!hr(n)||kn(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return fr(n)===t&&(t=t.ownerDocument.body),t}function NI(n,e){const t=pn(n);if(xh(n))return t;if(!hr(n)){let s=Ws(n);for(;s&&!Qo(s);){if(qt(s)&&!qf(s))return s;s=Ws(s)}return t}let r=Y0(n,e);for(;r&&fB(r)&&qf(r);)r=Y0(r,e);return r&&Qo(r)&&qf(r)&&!Nv(r)?t:r||yB(n)||t}const rU=async function(n){const e=this.getOffsetParent||NI,t=this.getDimensions,r=await t(n.floating);return{reference:nU(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function sU(n){return kn(n).direction==="rtl"}const iU={convertOffsetParentRelativeRectToViewportRelativeRect:qB,getDocumentElement:fr,getClippingRect:eU,getOffsetParent:NI,getElementRects:rU,getClientRects:QB,getDimensions:tU,getScale:ko,isElement:qt,isRTL:sU};function MI(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function oU(n,e){let t=null,r;const s=fr(n);function i(){var a;clearTimeout(r),(a=t)==null||a.disconnect(),t=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=n.getBoundingClientRect(),{left:d,top:h,width:p,height:g}=c;if(a||e(),!p||!g)return;const _=oc(h),D=oc(s.clientWidth-(d+p)),I=oc(s.clientHeight-(h+g)),w=oc(d),T={rootMargin:-_+"px "+-D+"px "+-I+"px "+-w+"px",threshold:_i(0,Ko(1,l))||1};let A=!0;function L(M){const S=M[0].intersectionRatio;if(S!==l){if(!A)return o();S?o(!1,S):r=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!MI(c,n.getBoundingClientRect())&&o(),A=!1}try{t=new IntersectionObserver(L,{...T,root:s.ownerDocument})}catch{t=new IntersectionObserver(L,T)}t.observe(n)}return o(!0),i}function aU(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Vv(n),d=s||i?[...c?Yl(c):[],...Yl(e)]:[];d.forEach(w=>{s&&w.addEventListener("scroll",t,{passive:!0}),i&&w.addEventListener("resize",t)});const h=c&&a?oU(c,t):null;let p=-1,g=null;o&&(g=new ResizeObserver(w=>{let[y]=w;y&&y.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var T;(T=g)==null||T.observe(e)})),t()}),c&&!l&&g.observe(c),g.observe(e));let _,D=l?Mi(n):null;l&&I();function I(){const w=Mi(n);D&&!MI(D,w)&&t(),D=w,_=requestAnimationFrame(I)}return t(),()=>{var w;d.forEach(y=>{s&&y.removeEventListener("scroll",t),i&&y.removeEventListener("resize",t)}),h==null||h(),(w=g)==null||w.disconnect(),g=null,l&&cancelAnimationFrame(_)}}const lU=HB,uU=UB,z0=BB,cU=(n,e,t)=>{const r=new Map,s={platform:iU,...t},i={...s.platform,_c:r};return FB(n,e,{...s,platform:i})};var dU=typeof document<"u",hU=function(){},Lc=dU?R.useLayoutEffect:hU;function Bd(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,s;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Bd(n[r],e[r]))return!1;return!0}if(s=Object.keys(n),t=s.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=t;r--!==0;){const i=s[r];if(!(i==="_owner"&&n.$$typeof)&&!Bd(n[i],e[i]))return!1}return!0}return n!==n&&e!==e}function OI(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function q0(n,e){const t=OI(n);return Math.round(e*t)/t}function Qf(n){const e=R.useRef(n);return Lc(()=>{e.current=n}),e}function fU(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=n,[d,h]=R.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[p,g]=R.useState(r);Bd(p,r)||g(r);const[_,D]=R.useState(null),[I,w]=R.useState(null),y=R.useCallback(B=>{B!==M.current&&(M.current=B,D(B))},[]),T=R.useCallback(B=>{B!==S.current&&(S.current=B,w(B))},[]),A=i||_,L=o||I,M=R.useRef(null),S=R.useRef(null),v=R.useRef(d),C=l!=null,P=Qf(l),x=Qf(s),N=Qf(c),b=R.useCallback(()=>{if(!M.current||!S.current)return;const B={placement:e,strategy:t,middleware:p};x.current&&(B.platform=x.current),cU(M.current,S.current,B).then(F=>{const H={...F,isPositioned:N.current!==!1};se.current&&!Bd(v.current,H)&&(v.current=H,ta.flushSync(()=>{h(H)}))})},[p,e,t,x,N]);Lc(()=>{c===!1&&v.current.isPositioned&&(v.current.isPositioned=!1,h(B=>({...B,isPositioned:!1})))},[c]);const se=R.useRef(!1);Lc(()=>(se.current=!0,()=>{se.current=!1}),[]),Lc(()=>{if(A&&(M.current=A),L&&(S.current=L),A&&L){if(P.current)return P.current(A,L,b);b()}},[A,L,b,P,C]);const re=R.useMemo(()=>({reference:M,floating:S,setReference:y,setFloating:T}),[y,T]),ee=R.useMemo(()=>({reference:A,floating:L}),[A,L]),ie=R.useMemo(()=>{const B={position:t,left:0,top:0};if(!ee.floating)return B;const F=q0(ee.floating,d.x),H=q0(ee.floating,d.y);return a?{...B,transform:"translate("+F+"px, "+H+"px)",...OI(ee.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:F,top:H}},[t,a,ee.floating,d.x,d.y]);return R.useMemo(()=>({...d,update:b,refs:re,elements:ee,floatingStyles:ie}),[d,b,re,ee,ie])}const pU=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:s}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?z0({element:r.current,padding:s}).fn(t):{}:r?z0({element:r,padding:s}).fn(t):{}}}},mU=(n,e)=>({...lU(n),options:[n,e]}),gU=(n,e)=>({...uU(n),options:[n,e]}),vU=(n,e)=>({...pU(n),options:[n,e]}),yU={...Om};let Q0=!1,_U=0;const K0=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+_U++;function wU(){const[n,e]=R.useState(()=>Q0?K0():void 0);return jd(()=>{n==null&&e(K0())},[]),R.useEffect(()=>{Q0=!0},[]),n}const EU=yU.useId,LI=EU||wU,TU=R.forwardRef(function(e,t){const{context:{placement:r,elements:{floating:s},middlewareData:{arrow:i,shift:o}},width:a=14,height:l=7,tipRadius:c=0,strokeWidth:d=0,staticOffset:h,stroke:p,d:g,style:{transform:_,...D}={},...I}=e,w=LI(),[y,T]=R.useState(!1);if(jd(()=>{if(!s)return;kn(s).direction==="rtl"&&T(!0)},[s]),!s)return null;const[A,L]=r.split("-"),M=A==="top"||A==="bottom";let S=h;(M&&o!=null&&o.x||!M&&o!=null&&o.y)&&(S=null);const v=d*2,C=v/2,P=a/2*(c/-8+1),x=l/2*c/4,N=!!g,b=S&&L==="end"?"bottom":"top";let se=S&&L==="end"?"right":"left";S&&y&&(se=L==="end"?"left":"right");const re=(i==null?void 0:i.x)!=null?S||i.x:"",ee=(i==null?void 0:i.y)!=null?S||i.y:"",ie=g||"M0,0"+(" H"+a)+(" L"+(a-P)+","+(l-x))+(" Q"+a/2+","+l+" "+P+","+(l-x))+" Z",B={top:N?"rotate(180deg)":"",left:N?"rotate(90deg)":"rotate(-90deg)",bottom:N?"":"rotate(180deg)",right:N?"rotate(-90deg)":"rotate(90deg)"}[A];return E.jsxs("svg",{...I,"aria-hidden":!0,ref:t,width:N?a:a+v,height:a,viewBox:"0 0 "+a+" "+(l>a?l:a),style:{position:"absolute",pointerEvents:"none",[se]:re,[b]:ee,[A]:M||N?"100%":"calc(100% - "+v/2+"px)",transform:[B,_].filter(F=>!!F).join(" "),...D},children:[v>0&&E.jsx("path",{clipPath:"url(#"+w+")",fill:"none",stroke:p,strokeWidth:v+(g?0:1),d:ie}),E.jsx("path",{stroke:v&&!g?I.fill:"none",d:ie}),E.jsx("clipPath",{id:w,children:E.jsx("rect",{x:-C,y:C*(N?-1:1),width:a+v,height:a})})]})});function SU(){const n=new Map;return{emit(e,t){var r;(r=n.get(e))==null||r.forEach(s=>s(t))},on(e,t){n.has(e)||n.set(e,new Set),n.get(e).add(t)},off(e,t){var r;(r=n.get(e))==null||r.delete(t)}}}const CU=R.createContext(null),IU=R.createContext(null),kU=()=>{var n;return((n=R.useContext(CU))==null?void 0:n.id)||null},DU=()=>R.useContext(IU);function PU(n){const{open:e=!1,onOpenChange:t,elements:r}=n,s=LI(),i=R.useRef({}),[o]=R.useState(()=>SU()),a=kU()!=null,[l,c]=R.useState(r.reference),d=VB((g,_,D)=>{i.current.openEvent=g?_:void 0,o.emit("openchange",{open:g,event:_,reason:D,nested:a}),t==null||t(g,_,D)}),h=R.useMemo(()=>({setPositionReference:c}),[]),p=R.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return R.useMemo(()=>({dataRef:i,open:e,onOpenChange:d,elements:p,events:o,floatingId:s,refs:h}),[e,d,p,o,s,h])}function bU(n){n===void 0&&(n={});const{nodeId:e}=n,t=PU({...n,elements:{reference:null,floating:null,...n.elements}}),r=n.rootContext||t,s=r.elements,[i,o]=R.useState(null),[a,l]=R.useState(null),d=(s==null?void 0:s.domReference)||i,h=R.useRef(null),p=DU();jd(()=>{d&&(h.current=d)},[d]);const g=fU({...n,elements:{...s,...a&&{reference:a}}}),_=R.useCallback(T=>{const A=qt(T)?{getBoundingClientRect:()=>T.getBoundingClientRect(),getClientRects:()=>T.getClientRects(),contextElement:T}:T;l(A),g.refs.setReference(A)},[g.refs]),D=R.useCallback(T=>{(qt(T)||T===null)&&(h.current=T,o(T)),(qt(g.refs.reference.current)||g.refs.reference.current===null||T!==null&&!qt(T))&&g.refs.setReference(T)},[g.refs]),I=R.useMemo(()=>({...g.refs,setReference:D,setPositionReference:_,domReference:h}),[g.refs,D,_]),w=R.useMemo(()=>({...g.elements,domReference:d}),[g.elements,d]),y=R.useMemo(()=>({...g,...r,refs:I,elements:w,nodeId:e}),[g,I,w,e,r]);return jd(()=>{r.dataRef.current.floatingContext=y;const T=p==null?void 0:p.nodesRef.current.find(A=>A.id===e);T&&(T.context=y)}),R.useMemo(()=>({...g,context:y,refs:I,elements:w}),[g,I,w,y])}/*!
  react-datepicker v8.8.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var bm=function(e,t){return bm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i])},bm(e,t)};function bt(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");bm(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var _e=function(){return _e=Object.assign||function(t){for(var r,s=1,i=arguments.length;s<i;s++){r=arguments[s];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},_e.apply(this,arguments)};function nr(n,e,t){if(t||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))}var xU=function(n){var e=n.showTimeSelectOnly,t=e===void 0?!1:e,r=n.showTime,s=r===void 0?!1:r,i=n.className,o=n.children,a=t?"Choose Time":"Choose Date".concat(s?" and Time":"");return j.createElement("div",{className:i,role:"dialog","aria-label":a,"aria-modal":"true"},o)},RU=function(n,e){var t=R.useRef(null),r=R.useRef(n);r.current=n;var s=R.useCallback(function(i){var o,a=i.composed&&i.composedPath&&i.composedPath().find(function(l){return l instanceof Node})||i.target;t.current&&!t.current.contains(a)&&(e&&a instanceof HTMLElement&&a.classList.contains(e)||(o=r.current)===null||o===void 0||o.call(r,i))},[e]);return R.useEffect(function(){return document.addEventListener("mousedown",s),function(){document.removeEventListener("mousedown",s)}},[s]),t},Mh=function(n){var e=n.children,t=n.onClickOutside,r=n.className,s=n.containerRef,i=n.style,o=n.ignoreClass,a=RU(t,o);return j.createElement("div",{className:r,style:i,ref:function(l){a.current=l,s&&(s.current=l)}},e)},z;(function(n){n.ArrowUp="ArrowUp",n.ArrowDown="ArrowDown",n.ArrowLeft="ArrowLeft",n.ArrowRight="ArrowRight",n.PageUp="PageUp",n.PageDown="PageDown",n.Home="Home",n.End="End",n.Enter="Enter",n.Space=" ",n.Tab="Tab",n.Escape="Escape",n.Backspace="Backspace",n.X="x"})(z||(z={}));function VI(){var n=typeof window<"u"?window:globalThis;return n}var yu=12;function xe(n){if(n==null)return new Date;var e=typeof n=="string"?K3(n):Z(n);return Oh(e)?e:new Date}function Kf(n,e,t,r,s){s===void 0&&(s=xe());for(var i=Xo(t)||Xo(Fv()),o=Array.isArray(e)?e:[e],a=0,l=o;a<l.length;a++){var c=l[a],d=$3(n,c,s,{locale:i});if(Oh(d)&&(!r||n===We(d,c,t)))return d}return null}function Oh(n,e){return Rd(n)&&!tr(n,new Date("1/1/1800"))}function We(n,e,t){if(t==="en")return L0(n,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=t?Xo(t):void 0;return t&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),r=r||Xo(Fv()),L0(n,e,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function an(n,e){var t=e.dateFormat,r=e.locale,s=Array.isArray(t)&&t.length>0?t[0]:t;return n&&We(n,s,r)||""}var FI=" - ";function AU(n,e,t){if(!n&&!e)return"";var r=n?an(n,t):"",s=e?an(e,t):"",i=t.rangeSeparator||FI;return"".concat(r).concat(i).concat(s)}function NU(n,e){if(!(n!=null&&n.length))return"";var t=n[0]?an(n[0],e):"";if(n.length===1)return t;if(n.length===2&&n[1]){var r=an(n[1],e);return"".concat(t,", ").concat(r)}var s=n.length-1;return"".concat(t," (+").concat(s,")")}function Gf(n,e){var t=e.hour,r=t===void 0?0:t,s=e.minute,i=s===void 0?0:s,o=e.second,a=o===void 0?0:o;return Nc(Mc(Oc(n,a),i),r)}function MU(n){return bv(n)}function OU(n,e){return We(n,"ddd",e)}function Vc(n){return Ni(n)}function Ms(n,e,t){var r=Xo(e||Fv());return Hr(n,{locale:r,weekStartsOn:t})}function Or(n){return mI(n)}function Ga(n){return Ph(n)}function G0(n){return Cm(n)}function X0(){return Ni(xe())}function J0(n){return fI(n)}function LU(n){return K4(n)}function VU(n){return pI(n)}function qn(n,e){return n&&e?q3(n,e):!n&&!e}function zt(n,e){return n&&e?Y3(n,e):!n&&!e}function Ud(n,e){return n&&e?z3(n,e):!n&&!e}function ye(n,e){return n&&e?q4(n,e):!n&&!e}function fi(n,e){return n&&e?Qj(n,e):!n&&!e}function oi(n,e,t){var r,s=Ni(e),i=fI(t);try{r=Hl(n,{start:s,end:i})}catch{r=!1}return r}function Fv(){var n=VI();return n.__localeId__}function Xo(n){if(typeof n=="string"){var e=VI();return e.__localeData__?e.__localeData__[n]:void 0}else return n}function FU(n,e,t){return e(We(n,"EEEE",t))}function jU(n,e){return We(n,"EEEEEE",e)}function BU(n,e){return We(n,"EEE",e)}function jv(n,e){return We(un(xe(),n),"LLLL",e)}function jI(n,e){return We(un(xe(),n),"LLL",e)}function UU(n,e){return We(eo(xe(),n),"QQQ",e)}function En(n,e){var t=e===void 0?{}:e,r=t.minDate,s=t.maxDate,i=t.excludeDates,o=t.excludeDateIntervals,a=t.includeDates,l=t.includeDateIntervals,c=t.filterDate,d=t.disabled;return d?!0:_u(n,{minDate:r,maxDate:s})||i&&i.some(function(h){return h instanceof Date?ye(n,h):ye(n,h.date)})||o&&o.some(function(h){var p=h.start,g=h.end;return Hl(n,{start:p,end:g})})||a&&!a.some(function(h){return ye(n,h)})||l&&!l.some(function(h){var p=h.start,g=h.end;return Hl(n,{start:p,end:g})})||c&&!c(xe(n))||!1}function Bv(n,e){var t=e===void 0?{}:e,r=t.excludeDates,s=t.excludeDateIntervals;return s&&s.length>0?s.some(function(i){var o=i.start,a=i.end;return Hl(n,{start:o,end:a})}):r&&r.some(function(i){var o;return i instanceof Date?ye(n,i):ye(n,(o=i.date)!==null&&o!==void 0?o:new Date)})||!1}function BI(n,e){var t=e===void 0?{}:e,r=t.minDate,s=t.maxDate,i=t.excludeDates,o=t.includeDates,a=t.filterDate;return _u(n,{minDate:r?mI(r):void 0,maxDate:s?pI(s):void 0})||(i==null?void 0:i.some(function(l){return zt(n,l instanceof Date?l:l.date)}))||o&&!o.some(function(l){return zt(n,l)})||a&&!a(xe(n))||!1}function ac(n,e,t,r){var s=me(n),i=jt(n),o=me(e),a=jt(e),l=me(r);return s===o&&s===l?i<=t&&t<=a:s<o?l===s&&i<=t||l===o&&a>=t||l<o&&l>s:!1}function WU(n,e){var t=e===void 0?{}:e,r=t.minDate,s=t.maxDate,i=t.excludeDates,o=t.includeDates;return _u(n,{minDate:r,maxDate:s})||i&&i.some(function(a){return zt(a instanceof Date?a:a.date,n)})||o&&!o.some(function(a){return zt(a,n)})||!1}function lc(n,e){var t=e===void 0?{}:e,r=t.minDate,s=t.maxDate,i=t.excludeDates,o=t.includeDates,a=t.filterDate,l=t.disabled;return l?!0:_u(n,{minDate:r,maxDate:s})||(i==null?void 0:i.some(function(c){return Ud(n,c instanceof Date?c:c.date)}))||o&&!o.some(function(c){return Ud(n,c)})||a&&!a(xe(n))||!1}function uc(n,e,t){if(!e||!t||!Rd(e)||!Rd(t))return!1;var r=me(e),s=me(t);return r<=n&&s>=n}function Fc(n,e){var t=e===void 0?{}:e,r=t.minDate,s=t.maxDate,i=t.excludeDates,o=t.includeDates,a=t.filterDate,l=t.disabled;if(l)return!0;var c=new Date(n,0,1);return _u(c,{minDate:r?Ph(r):void 0,maxDate:s?gI(s):void 0})||(i==null?void 0:i.some(function(d){return qn(c,d instanceof Date?d:d.date)}))||o&&!o.some(function(d){return qn(c,d)})||a&&!a(xe(c))||!1}function cc(n,e,t,r){var s=me(n),i=vi(n),o=me(e),a=vi(e),l=me(r);return s===o&&s===l?i<=t&&t<=a:s<o?l===s&&i<=t||l===o&&a>=t||l<o&&l>s:!1}function _u(n,e){var t,r=e===void 0?{}:e,s=r.minDate,i=r.maxDate;return(t=s&&zo(n,s)<0||i&&zo(n,i)>0)!==null&&t!==void 0?t:!1}function Z0(n,e){return e.some(function(t){return Nr(t)===Nr(n)&&Mr(t)===Mr(n)&&Ns(t)===Ns(n)})}function eE(n,e){var t=e===void 0?{}:e,r=t.excludeTimes,s=t.includeTimes,i=t.filterTime;return r&&Z0(n,r)||s&&!Z0(n,s)||i&&!i(n)||!1}function tE(n,e){var t=e.minTime,r=e.maxTime;if(!t||!r)throw new Error("Both minTime and maxTime props required");var s=xe();s=Nc(s,Nr(n)),s=Mc(s,Mr(n)),s=Oc(s,Ns(n));var i=xe();i=Nc(i,Nr(t)),i=Mc(i,Mr(t)),i=Oc(i,Ns(t));var o=xe();o=Nc(o,Nr(r)),o=Mc(o,Mr(r)),o=Oc(o,Ns(r));var a;try{a=!Hl(s,{start:i,end:o})}catch{a=!1}return a}function nE(n,e){var t=e===void 0?{}:e,r=t.minDate,s=t.includeDates,i=yi(n,1);return r&&Ad(r,i)>0||s&&s.every(function(o){return Ad(o,i)>0})||!1}function rE(n,e){var t=e===void 0?{}:e,r=t.maxDate,s=t.includeDates,i=Bn(n,1);return r&&Ad(i,r)>0||s&&s.every(function(o){return Ad(i,o)>0})||!1}function $U(n,e){var t=e===void 0?{}:e,r=t.minDate,s=t.includeDates,i=Ph(n),o=II(i);return r&&Nd(r,o)>0||s&&s.every(function(a){return Nd(a,o)>0})||!1}function HU(n,e){var t=e===void 0?{}:e,r=t.maxDate,s=t.includeDates,i=gI(n),o=Pv(i,1);return r&&Nd(o,r)>0||s&&s.every(function(a){return Nd(o,a)>0})||!1}function sE(n,e){var t=e===void 0?{}:e,r=t.minDate,s=t.includeDates,i=qo(n,1);return r&&Md(r,i)>0||s&&s.every(function(o){return Md(o,i)>0})||!1}function YU(n,e){var t=e===void 0?{}:e,r=t.minDate,s=t.yearItemNumber,i=s===void 0?yu:s,o=Ga(qo(n,i)),a=Dr(o,i).endPeriod,l=r&&me(r);return l&&l>a||!1}function iE(n,e){var t=e===void 0?{}:e,r=t.maxDate,s=t.includeDates,i=Rr(n,1);return r&&Md(i,r)>0||s&&s.every(function(o){return Md(i,o)>0})||!1}function zU(n,e){var t=e===void 0?{}:e,r=t.maxDate,s=t.yearItemNumber,i=s===void 0?yu:s,o=Rr(n,i),a=Dr(o,i).startPeriod,l=r&&me(r);return l&&l<a||!1}function UI(n){var e=n.minDate,t=n.includeDates;if(t&&e){var r=t.filter(function(s){return zo(s,e)>=0});return x0(r)}else return t?x0(t):e}function WI(n){var e=n.maxDate,t=n.includeDates;if(t&&e){var r=t.filter(function(s){return zo(s,e)<=0});return b0(r)}else return t?b0(t):e}function oE(n,e){var t;n===void 0&&(n=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var r=new Map,s=0,i=n.length;s<i;s++){var o=n[s];if(Ar(o)){var a=We(o,"MM.dd.yyyy"),l=r.get(a)||[];l.includes(e)||(l.push(e),r.set(a,l))}else if(typeof o=="object"){var c=Object.keys(o),d=(t=c[0])!==null&&t!==void 0?t:"",h=o[d];if(typeof d=="string"&&Array.isArray(h))for(var p=0,g=h.length;p<g;p++){var _=h[p];if(_){var a=We(_,"MM.dd.yyyy"),l=r.get(a)||[];l.includes(d)||(l.push(d),r.set(a,l))}}}}return r}function qU(n,e){return n.length!==e.length?!1:n.every(function(t,r){return t===e[r]})}function QU(n,e){n===void 0&&(n=[]),e===void 0&&(e="react-datepicker__day--holidays");var t=new Map;return n.forEach(function(r){var s=r.date,i=r.holidayName;if(Ar(s)){var o=We(s,"MM.dd.yyyy"),a=t.get(o)||{className:"",holidayNames:[]};if(!("className"in a&&a.className===e&&qU(a.holidayNames,[i]))){a.className=e;var l=a.holidayNames;a.holidayNames=l?nr(nr([],l,!0),[i],!1):[i],t.set(o,a)}}}),t}function KU(n,e,t,r,s){for(var i=s.length,o=[],a=0;a<i;a++){var l=n,c=s[a];c&&(l=$4(l,Nr(c)),l=Sm(l,Mr(c)),l=z4(l,Ns(c)));var d=Sm(n,(t+1)*r);Us(l,e)&&tr(l,d)&&c!=null&&o.push(c)}return o}function aE(n){return n<10?"0".concat(n):"".concat(n)}function Dr(n,e){e===void 0&&(e=yu);var t=Math.ceil(me(n)/e)*e,r=t-(e-1);return{startPeriod:r,endPeriod:t}}function GU(n){var e=new Date(n.getFullYear(),n.getMonth(),n.getDate()),t=new Date(n.getFullYear(),n.getMonth(),n.getDate(),24);return Math.round((+t-+e)/36e5)}function lE(n){var e=n.getSeconds(),t=n.getMilliseconds();return Z(n.getTime()-e*1e3-t)}function XU(n,e){return lE(n).getTime()===lE(e).getTime()}function uE(n){if(!Ar(n))throw new Error("Invalid date");var e=new Date(n);return e.setHours(0,0,0,0),e}function Xf(n,e){if(!Ar(n)||!Ar(e))throw new Error("Invalid date received");var t=uE(n),r=uE(e);return tr(t,r)}function $I(n){return n.key===z.Space}var JU=function(n){bt(e,n);function e(t){var r=n.call(this,t)||this;return r.inputRef=j.createRef(),r.onTimeChange=function(s){var i,o;r.setState({time:s});var a=r.props.date,l=a instanceof Date&&!isNaN(+a),c=l?a:new Date;if(s!=null&&s.includes(":")){var d=s.split(":"),h=d[0],p=d[1];c.setHours(Number(h)),c.setMinutes(Number(p))}(o=(i=r.props).onChange)===null||o===void 0||o.call(i,c)},r.renderTimeInput=function(){var s=r.state.time,i=r.props,o=i.date,a=i.timeString,l=i.customTimeInput;return l?R.cloneElement(l,{date:o,value:s,onChange:r.onTimeChange}):j.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var c;(c=r.inputRef.current)===null||c===void 0||c.focus()},required:!0,value:s,onChange:function(c){r.onTimeChange(c.target.value||a)}})},r.state={time:r.props.timeString},r}return e.getDerivedStateFromProps=function(t,r){return t.timeString!==r.time?{time:t.timeString}:null},e.prototype.render=function(){return j.createElement("div",{className:"react-datepicker__input-time-container"},j.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),j.createElement("div",{className:"react-datepicker-time__input-container"},j.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e}(R.Component),ZU=function(n){bt(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.dayEl=R.createRef(),t.handleClick=function(r){!t.isDisabled()&&t.props.onClick&&t.props.onClick(r)},t.handleMouseEnter=function(r){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(r)},t.handleOnKeyDown=function(r){var s,i,o=r.key;o===z.Space&&(r.preventDefault(),r.key=z.Enter),(i=(s=t.props).handleOnKeyDown)===null||i===void 0||i.call(s,r)},t.isSameDay=function(r){return ye(t.props.day,r)},t.isKeyboardSelected=function(){var r;if(t.props.disabledKeyboardNavigation)return!1;var s=t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(o){return t.isSameDayOrWeek(o)}):t.isSameDayOrWeek(t.props.selected),i=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!s&&t.isSameDayOrWeek(t.props.preSelection)&&!i},t.isDisabled=function(r){return r===void 0&&(r=t.props.day),En(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate,disabled:t.props.disabled})},t.isExcluded=function(){return Bv(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return ye(t.props.day,Ms(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(r){return t.props.showWeekPicker&&ye(r,Ms(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(r){return t.isSameDay(r)||t.isSameWeek(r)},t.getHighLightedClass=function(){var r=t.props,s=r.day,i=r.highlightDates;if(!i)return!1;var o=We(s,"MM.dd.yyyy");return i.get(o)},t.getHolidaysClass=function(){var r,s=t.props,i=s.day,o=s.holidays;if(!o)return[void 0];var a=We(i,"MM.dd.yyyy");return o.has(a)?[(r=o.get(a))===null||r===void 0?void 0:r.className]:[void 0]},t.isInRange=function(){var r=t.props,s=r.day,i=r.startDate,o=r.endDate;return!i||!o?!1:oi(s,i,o)},t.isInSelectingRange=function(){var r,s=t.props,i=s.day,o=s.selectsStart,a=s.selectsEnd,l=s.selectsRange,c=s.selectsDisabledDaysInRange,d=s.startDate,h=s.swapRange,p=s.endDate,g=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;if(!(o||a||l)||!g||!c&&t.isDisabled())return!1;if(o&&p&&(tr(g,p)||fi(g,p)))return oi(i,g,p);if(a&&d&&(Us(g,d)||fi(g,d)))return oi(i,d,g);if(l&&d&&!p){if(fi(g,d)||Us(g,d))return oi(i,d,g);if(h&&tr(g,d))return oi(i,g,d)}return!1},t.isSelectingRangeStart=function(){var r;if(!t.isInSelectingRange())return!1;var s=t.props,i=s.day,o=s.startDate,a=s.selectsStart,l=s.swapRange,c=s.selectsRange,d=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return a?ye(i,d):c&&l&&o&&d?ye(i,tr(d,o)?d:o):ye(i,o)},t.isSelectingRangeEnd=function(){var r;if(!t.isInSelectingRange())return!1;var s=t.props,i=s.day,o=s.endDate,a=s.selectsEnd,l=s.selectsRange,c=s.swapRange,d=s.startDate,h=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return a?ye(i,h):l&&c&&d&&h?ye(i,tr(h,d)?d:h):l?ye(i,h):ye(i,o)},t.isRangeStart=function(){var r=t.props,s=r.day,i=r.startDate,o=r.endDate;return!i||!o?!1:ye(i,s)},t.isRangeEnd=function(){var r=t.props,s=r.day,i=r.startDate,o=r.endDate;return!i||!o?!1:ye(o,s)},t.isWeekend=function(){var r=Hj(t.props.day);return r===0||r===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===jt(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(jt(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(xe())},t.isSelected=function(){var r;return t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(s){return t.isSameDayOrWeek(s)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(r){var s=t.props.dayClassName?t.props.dayClassName(r):void 0;return Ct("react-datepicker__day",s,"react-datepicker__day--"+OU(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var r=t.props,s=r.day,i=r.ariaLabelPrefixWhenEnabled,o=i===void 0?"Choose":i,a=r.ariaLabelPrefixWhenDisabled,l=a===void 0?"Not available":a,c=t.isDisabled()||t.isExcluded()?l:o;return"".concat(c," ").concat(We(s,"PPPP",t.props.locale))},t.getTitle=function(){var r=t.props,s=r.day,i=r.holidays,o=i===void 0?new Map:i,a=r.excludeDates,l=We(s,"MM.dd.yyyy"),c=[];return o.has(l)&&c.push.apply(c,o.get(l).holidayNames),t.isExcluded()&&c.push(a==null?void 0:a.filter(function(d){return d instanceof Date?ye(d,s):ye(d==null?void 0:d.date,s)}).map(function(d){if(!(d instanceof Date))return d==null?void 0:d.message})),c.join(", ")},t.getTabIndex=function(){var r=t.props.selected,s=t.props.preSelection,i=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(r)&&ye(s,r))?0:-1;return i},t.handleFocusDay=function(){var r;t.shouldFocusDay()&&((r=t.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(V0(t.props.day),t.props.day):V0(t.props.day)},t.render=function(){return j.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"gridcell",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&j.createElement("span",{className:"overlay"},t.getTitle()))},t}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},e.prototype.isDayActiveElement=function(){var t,r,s;return((r=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((s=document.activeElement)===null||s===void 0?void 0:s.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e}(R.Component),e6=function(n){bt(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.weekNumberEl=R.createRef(),t.handleClick=function(r){t.props.onClick&&t.props.onClick(r)},t.handleOnKeyDown=function(r){var s,i,o=r.key;o===z.Space&&(r.preventDefault(),r.key=z.Enter),(i=(s=t.props).handleOnKeyDown)===null||i===void 0||i.call(s,r)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!ye(t.props.date,t.props.selected)&&ye(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||ye(t.props.date,t.props.selected)&&ye(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(r){var s=!1;t.getTabIndex()===0&&!(r!=null&&r.isInputFocused)&&ye(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(s=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(s=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(s=!0)),s&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},e.prototype.render=function(){var t=this.props,r=t.weekNumber,s=t.isWeekDisabled,i=t.ariaLabelPrefix,o=i===void 0?e.defaultProps.ariaLabelPrefix:i,a=t.onClick,l={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!a&&!s,"react-datepicker__week-number--selected":!!a&&ye(this.props.date,this.props.selected)};return j.createElement("div",{ref:this.weekNumberEl,className:Ct(l),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:"gridcell"},r)},e}(R.Component),t6=function(n){bt(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.isDisabled=function(r){return En(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(r,s){t.props.onDayClick&&t.props.onDayClick(r,s)},t.handleDayMouseEnter=function(r){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(r)},t.handleWeekClick=function(r,s,i){for(var o,a,l,c=new Date(r),d=0;d<7;d++){var h=new Date(r);h.setDate(h.getDate()+d);var p=!t.isDisabled(h);if(p){c=h;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(c,s,i),t.props.showWeekPicker&&t.handleDayClick(c,i),((o=t.props.shouldCloseOnSelect)!==null&&o!==void 0?o:e.defaultProps.shouldCloseOnSelect)&&((l=(a=t.props).setOpen)===null||l===void 0||l.call(a,!1))},t.formatWeekNumber=function(r){return t.props.formatWeekNumber?t.props.formatWeekNumber(r):MU(r)},t.isWeekDisabled=function(){for(var r=t.startOfWeek(),s=Ln(r,6),i=new Date(r);i<=s;){if(!t.isDisabled(i))return!1;i=Ln(i,1)}return!0},t.renderDays=function(){var r=t.startOfWeek(),s=[],i=t.formatWeekNumber(r);if(t.props.showWeekNumber){var o=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,r,i):void 0;s.push(j.createElement(e6,_e({key:"W"},e.defaultProps,t.props,{weekNumber:i,isWeekDisabled:t.isWeekDisabled(),date:r,onClick:o})))}return s.concat([0,1,2,3,4,5,6].map(function(a){var l=Ln(r,a);return j.createElement(ZU,_e({},e.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:l.valueOf(),day:l,onClick:t.handleDayClick.bind(t,l),onMouseEnter:t.handleDayMouseEnter.bind(t,l)}))}))},t.startOfWeek=function(){return Ms(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!ye(t.startOfWeek(),t.props.selected)&&ye(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":ye(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},r=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return j.createElement("div",{className:Ct(t,r),role:"row"},this.renderDays())},e}(R.Component),Va,n6=6,Do={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Jf=(Va={},Va[Do.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Va[Do.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Va[Do.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Va),dc=1;function cE(n,e){return n?Do.FOUR_COLUMNS:e?Do.TWO_COLUMNS:Do.THREE_COLUMNS}var r6=function(n){bt(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.MONTH_REFS=nr([],Array(12),!0).map(function(){return R.createRef()}),t.QUARTER_REFS=nr([],Array(4),!0).map(function(){return R.createRef()}),t.isDisabled=function(r){return En(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate,disabled:t.props.disabled})},t.isExcluded=function(r){return Bv(r,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(r,s){var i,o;(o=(i=t.props).onDayClick)===null||o===void 0||o.call(i,r,s,t.props.orderInDisplay)},t.handleDayMouseEnter=function(r){var s,i;(i=(s=t.props).onDayMouseEnter)===null||i===void 0||i.call(s,r)},t.handleMouseLeave=function(){var r,s;(s=(r=t.props).onMouseLeave)===null||s===void 0||s.call(r)},t.isRangeStartMonth=function(r){var s=t.props,i=s.day,o=s.startDate,a=s.endDate;return!o||!a?!1:zt(un(i,r),o)},t.isRangeStartQuarter=function(r){var s=t.props,i=s.day,o=s.startDate,a=s.endDate;return!o||!a?!1:Ud(eo(i,r),o)},t.isRangeEndMonth=function(r){var s=t.props,i=s.day,o=s.startDate,a=s.endDate;return!o||!a?!1:zt(un(i,r),a)},t.isRangeEndQuarter=function(r){var s=t.props,i=s.day,o=s.startDate,a=s.endDate;return!o||!a?!1:Ud(eo(i,r),a)},t.isInSelectingRangeMonth=function(r){var s,i=t.props,o=i.day,a=i.selectsStart,l=i.selectsEnd,c=i.selectsRange,d=i.startDate,h=i.endDate,p=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return!(a||l||c)||!p?!1:a&&h?ac(p,h,r,o):l&&d||c&&d&&!h?ac(d,p,r,o):!1},t.isSelectingMonthRangeStart=function(r){var s;if(!t.isInSelectingRangeMonth(r))return!1;var i=t.props,o=i.day,a=i.startDate,l=i.selectsStart,c=un(o,r),d=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return l?zt(c,d):zt(c,a)},t.isSelectingMonthRangeEnd=function(r){var s;if(!t.isInSelectingRangeMonth(r))return!1;var i=t.props,o=i.day,a=i.endDate,l=i.selectsEnd,c=i.selectsRange,d=un(o,r),h=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return l||c?zt(d,h):zt(d,a)},t.isInSelectingRangeQuarter=function(r){var s,i=t.props,o=i.day,a=i.selectsStart,l=i.selectsEnd,c=i.selectsRange,d=i.startDate,h=i.endDate,p=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return!(a||l||c)||!p?!1:a&&h?cc(p,h,r,o):l&&d||c&&d&&!h?cc(d,p,r,o):!1},t.isWeekInMonth=function(r){var s=t.props.day,i=Ln(r,6);return zt(r,s)||zt(i,s)},t.isCurrentMonth=function(r,s){return me(r)===me(xe())&&s===jt(xe())},t.isCurrentQuarter=function(r,s){return me(r)===me(xe())&&s===vi(xe())},t.isSelectedMonth=function(r,s,i){return jt(i)===s&&me(r)===me(i)},t.isSelectMonthInList=function(r,s,i){return i.some(function(o){return t.isSelectedMonth(r,s,o)})},t.isSelectedQuarter=function(r,s,i){return vi(r)===s&&me(r)===me(i)},t.isMonthSelected=function(){var r=t.props,s=r.day,i=r.selected,o=r.selectedDates,a=r.selectsMultiple,l=jt(s);return a?o==null?void 0:o.some(function(c){return t.isSelectedMonth(s,l,c)}):!!i&&t.isSelectedMonth(s,l,i)},t.renderWeeks=function(){for(var r=[],s=t.props.fixedHeight,i=0,o=!1,a=Ms(Or(t.props.day),t.props.locale,t.props.calendarStartDay),l=function(_){return t.props.showWeekPicker?Ms(_,t.props.locale,t.props.calendarStartDay):t.props.preSelection},c=function(_){return t.props.showWeekPicker?Ms(_,t.props.locale,t.props.calendarStartDay):t.props.selected},d=t.props.selected?c(t.props.selected):void 0,h=t.props.preSelection?l(t.props.preSelection):void 0;r.push(j.createElement(t6,_e({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:i,day:a,month:jt(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:d,preSelection:h,showWeekNumber:t.props.showWeekNumbers}))),!o;){i++,a=xd(a,1);var p=s&&i>=n6,g=!s&&!t.isWeekInMonth(a);if(p||g)if(t.props.peekNextMonth)o=!0;else break}return r},t.onMonthClick=function(r,s){var i=t.isMonthDisabledForLabelDate(s),o=i.isDisabled,a=i.labelDate;o||t.handleDayClick(Or(a),r)},t.onMonthMouseEnter=function(r){var s=t.isMonthDisabledForLabelDate(r),i=s.isDisabled,o=s.labelDate;i||t.handleDayMouseEnter(Or(o))},t.handleMonthNavigation=function(r,s){var i,o,a,l;(o=(i=t.props).setPreSelection)===null||o===void 0||o.call(i,s),(l=(a=t.MONTH_REFS[r])===null||a===void 0?void 0:a.current)===null||l===void 0||l.focus()},t.handleKeyboardNavigation=function(r,s,i){var o,a=t.props,l=a.selected,c=a.preSelection,d=a.setPreSelection,h=a.minDate,p=a.maxDate,g=a.showFourColumnMonthYearPicker,_=a.showTwoColumnMonthYearPicker;if(c){var D=cE(g,_),I=t.getVerticalOffset(D),w=(o=Jf[D])===null||o===void 0?void 0:o.grid,y=function(S,v,C){var P,x,N=v,b=C;switch(S){case z.ArrowRight:N=Bn(v,dc),b=C===11?0:C+dc;break;case z.ArrowLeft:N=yi(v,dc),b=C===0?11:C-dc;break;case z.ArrowUp:N=yi(v,I),b=!((P=w==null?void 0:w[0])===null||P===void 0)&&P.includes(C)?C+12-I:C-I;break;case z.ArrowDown:N=Bn(v,I),b=!((x=w==null?void 0:w[w.length-1])===null||x===void 0)&&x.includes(C)?C-12+I:C+I;break}return{newCalculatedDate:N,newCalculatedMonth:b}},T=function(S,v,C){for(var P=40,x=S,N=!1,b=0,se=y(x,v,C),re=se.newCalculatedDate,ee=se.newCalculatedMonth;!N;){if(b>=P){re=v,ee=C;break}if(h&&re<h){x=z.ArrowRight;var ie=y(x,re,ee);re=ie.newCalculatedDate,ee=ie.newCalculatedMonth}if(p&&re>p){x=z.ArrowLeft;var ie=y(x,re,ee);re=ie.newCalculatedDate,ee=ie.newCalculatedMonth}if(WU(re,t.props)){var ie=y(x,re,ee);re=ie.newCalculatedDate,ee=ie.newCalculatedMonth}else N=!0;b++}return{newCalculatedDate:re,newCalculatedMonth:ee}};if(s===z.Enter){t.isMonthDisabled(i)||(t.onMonthClick(r,i),d==null||d(l));return}var A=T(s,c,i),L=A.newCalculatedDate,M=A.newCalculatedMonth;switch(s){case z.ArrowRight:case z.ArrowLeft:case z.ArrowUp:case z.ArrowDown:t.handleMonthNavigation(M,L);break}}},t.getVerticalOffset=function(r){var s,i;return(i=(s=Jf[r])===null||s===void 0?void 0:s.verticalNavigationOffset)!==null&&i!==void 0?i:0},t.onMonthKeyDown=function(r,s){var i=t.props,o=i.disabledKeyboardNavigation,a=i.handleOnMonthKeyDown,l=r.key;l!==z.Tab&&r.preventDefault(),o||t.handleKeyboardNavigation(r,l,s),a&&a(r)},t.onQuarterClick=function(r,s){var i=eo(t.props.day,s);lc(i,t.props)||t.handleDayClick(G0(i),r)},t.onQuarterMouseEnter=function(r){var s=eo(t.props.day,r);lc(s,t.props)||t.handleDayMouseEnter(G0(s))},t.handleQuarterNavigation=function(r,s){var i,o,a,l;t.isDisabled(s)||t.isExcluded(s)||((o=(i=t.props).setPreSelection)===null||o===void 0||o.call(i,s),(l=(a=t.QUARTER_REFS[r-1])===null||a===void 0?void 0:a.current)===null||l===void 0||l.focus())},t.onQuarterKeyDown=function(r,s){var i,o,a=r.key;if(!t.props.disabledKeyboardNavigation)switch(a){case z.Enter:t.onQuarterClick(r,s),(o=(i=t.props).setPreSelection)===null||o===void 0||o.call(i,t.props.selected);break;case z.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(s===4?1:s+1,Pv(t.props.preSelection,1));break;case z.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(s===1?4:s-1,II(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(r){var s,i=t.props,o=i.day,a=i.disabled,l=i.minDate,c=i.maxDate,d=i.excludeDates,h=i.includeDates,p=un(o,r);return a?{isDisabled:!0,labelDate:un(o,r)}:{isDisabled:(s=(l||c||d||h)&&BI(p,t.props))!==null&&s!==void 0?s:!1,labelDate:p}},t.isMonthDisabled=function(r){var s=t.isMonthDisabledForLabelDate(r).isDisabled;return s},t.getMonthClassNames=function(r){var s=t.props,i=s.day,o=s.startDate,a=s.endDate,l=s.preSelection,c=s.monthClassName,d=c?c(un(i,r)):void 0,h=t.getSelection();return Ct("react-datepicker__month-text","react-datepicker__month-".concat(r),d,{"react-datepicker__month-text--disabled":t.isMonthDisabled(r),"react-datepicker__month-text--selected":h?t.isSelectMonthInList(i,r,h):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&l&&t.isSelectedMonth(i,r,l)&&!t.isMonthSelected()&&!t.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":o&&a?ac(o,a,r,i):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(r),"react-datepicker__month-text--range-end":t.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":t.isCurrentMonth(i,r)})},t.getTabIndex=function(r){if(t.props.preSelection==null)return"-1";var s=jt(t.props.preSelection),i=t.isMonthDisabledForLabelDate(s).isDisabled,o=r===s&&!(i||t.props.disabledKeyboardNavigation)?"0":"-1";return o},t.getQuarterTabIndex=function(r){if(t.props.preSelection==null)return"-1";var s=vi(t.props.preSelection),i=lc(t.props.day,t.props),o=r===s&&!(i||t.props.disabledKeyboardNavigation)?"0":"-1";return o},t.getAriaLabel=function(r){var s=t.props,i=s.chooseDayAriaLabelPrefix,o=i===void 0?"Choose":i,a=s.disabledDayAriaLabelPrefix,l=a===void 0?"Not available":a,c=s.day,d=s.locale,h=un(c,r),p=t.isDisabled(h)||t.isExcluded(h)?l:o;return"".concat(p," ").concat(We(h,"MMMM yyyy",d))},t.getQuarterClassNames=function(r){var s=t.props,i=s.day,o=s.startDate,a=s.endDate,l=s.selected,c=s.minDate,d=s.maxDate,h=s.excludeDates,p=s.includeDates,g=s.filterDate,_=s.preSelection,D=s.disabledKeyboardNavigation,I=s.disabled,w=(c||d||h||p||g||I)&&lc(eo(i,r),t.props);return Ct("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":w,"react-datepicker__quarter-text--selected":l?t.isSelectedQuarter(i,r,l):void 0,"react-datepicker__quarter-text--keyboard-selected":!D&&_&&t.isSelectedQuarter(i,r,_)&&!w,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":o&&a?cc(o,a,r,i):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(r),"react-datepicker__quarter-text--today":t.isCurrentQuarter(i,r)})},t.getMonthContent=function(r){var s=t.props,i=s.showFullMonthYearPicker,o=s.renderMonthContent,a=s.locale,l=s.day,c=jI(r,a),d=jv(r,a);return o?o(r,c,d,l):i?d:c},t.getQuarterContent=function(r){var s,i=t.props,o=i.renderQuarterContent,a=i.locale,l=UU(r,a);return(s=o==null?void 0:o(r,l))!==null&&s!==void 0?s:l},t.renderMonths=function(){var r,s=t.props,i=s.showTwoColumnMonthYearPicker,o=s.showFourColumnMonthYearPicker,a=s.day,l=s.selected,c=(r=Jf[cE(o,i)])===null||r===void 0?void 0:r.grid;return c==null?void 0:c.map(function(d,h){return j.createElement("div",{className:"react-datepicker__month-wrapper",key:h},d.map(function(p,g){return j.createElement("div",{ref:t.MONTH_REFS[p],key:g,onClick:function(_){t.onMonthClick(_,p)},onKeyDown:function(_){$I(_)&&(_.preventDefault(),_.key=z.Enter),t.onMonthKeyDown(_,p)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(p)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(p)}:void 0,tabIndex:Number(t.getTabIndex(p)),className:t.getMonthClassNames(p),"aria-disabled":t.isMonthDisabled(p),role:"option","aria-label":t.getAriaLabel(p),"aria-current":t.isCurrentMonth(a,p)?"date":void 0,"aria-selected":l?t.isSelectedMonth(a,p,l):void 0},t.getMonthContent(p))}))})},t.renderQuarters=function(){var r=t.props,s=r.day,i=r.selected,o=[1,2,3,4];return j.createElement("div",{className:"react-datepicker__quarter-wrapper"},o.map(function(a,l){return j.createElement("div",{key:l,ref:t.QUARTER_REFS[l],role:"option",onClick:function(c){t.onQuarterClick(c,a)},onKeyDown:function(c){t.onQuarterKeyDown(c,a)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(a)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(a)}:void 0,className:t.getQuarterClassNames(a),"aria-selected":i?t.isSelectedQuarter(s,a,i):void 0,tabIndex:Number(t.getQuarterTabIndex(a)),"aria-current":t.isCurrentQuarter(s,a)?"date":void 0},t.getQuarterContent(a))}))},t.getClassNames=function(){var r=t.props,s=r.selectingDate,i=r.selectsStart,o=r.selectsEnd,a=r.showMonthYearPicker,l=r.showQuarterYearPicker,c=r.showWeekPicker;return Ct("react-datepicker__month",{"react-datepicker__month--selecting-range":s&&(i||o)},{"react-datepicker__monthPicker":a},{"react-datepicker__quarterPicker":l},{"react-datepicker__weekPicker":c})},t}return e.prototype.getSelection=function(){var t=this.props,r=t.selected,s=t.selectedDates,i=t.selectsMultiple;if(i)return s;if(r)return[r]},e.prototype.render=function(){var t=this.props,r=t.showMonthYearPicker,s=t.showQuarterYearPicker,i=t.day,o=t.ariaLabelPrefix,a=o===void 0?"Month ":o,l=a?a.trim()+" ":"",c=r||s;return c?j.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(l).concat(We(i,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():this.renderQuarters()):j.createElement("div",{role:"table"},this.props.dayNamesHeader&&j.createElement("div",{role:"rowgroup"},this.props.dayNamesHeader),j.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(l).concat(We(i,"MMMM, yyyy",this.props.locale)),role:"rowgroup"},this.renderWeeks()))},e}(R.Component),s6=function(n){bt(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.monthOptionButtonsRef={},t.isSelectedMonth=function(r){return t.props.month===r},t.handleOptionKeyDown=function(r,s){var i;switch(s.key){case"Enter":s.preventDefault(),t.onChange(r);break;case"Escape":s.preventDefault(),t.props.onCancel();break;case"ArrowUp":case"ArrowDown":{s.preventDefault();var o=(r+(s.key==="ArrowUp"?-1:1)+t.props.monthNames.length)%t.props.monthNames.length;(i=t.monthOptionButtonsRef[o])===null||i===void 0||i.focus();break}}},t.renderOptions=function(){return t.monthOptionButtonsRef={},t.props.monthNames.map(function(r,s){return j.createElement("div",{ref:function(i){t.monthOptionButtonsRef[s]=i,t.isSelectedMonth(s)&&(i==null||i.focus())},role:"button",tabIndex:0,className:t.isSelectedMonth(s)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:t.onChange.bind(t,s),onKeyDown:t.handleOptionKeyDown.bind(t,s),"aria-selected":t.isSelectedMonth(s)?"true":void 0},t.isSelectedMonth(s)?j.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",r)})},t.onChange=function(r){return t.props.onChange(r)},t.handleClickOutside=function(){return t.props.onCancel()},t}return e.prototype.render=function(){return j.createElement(Mh,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e}(R.Component),i6=function(n){bt(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(r){return r.map(function(s,i){return j.createElement("option",{key:s,value:i},s)})},t.renderSelectMode=function(r){return j.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(s){return t.onChange(parseInt(s.target.value))}},t.renderSelectOptions(r))},t.renderReadView=function(r,s){return j.createElement("button",{key:"read",type:"button",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},j.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),j.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},s[t.props.month]))},t.renderDropdown=function(r){return j.createElement(s6,_e({key:"dropdown"},t.props,{monthNames:r,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(r){var s=t.state.dropdownVisible,i=[t.renderReadView(!s,r)];return s&&i.unshift(t.renderDropdown(r)),i},t.onChange=function(r){t.toggleDropdown(),r!==t.props.month&&t.props.onChange(r)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(i){return jI(i,t.props.locale)}:function(i){return jv(i,t.props.locale)}),s;switch(this.props.dropdownMode){case"scroll":s=this.renderScrollMode(r);break;case"select":s=this.renderSelectMode(r);break}return j.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},s)},e}(R.Component);function o6(n,e){for(var t=[],r=Or(n),s=Or(e);!Us(r,s);)t.push(xe(r)),r=Bn(r,1);return t}var a6=function(n){bt(e,n);function e(t){var r=n.call(this,t)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(s){var i=km(s),o=qn(r.props.date,s)&&zt(r.props.date,s);return j.createElement("div",{className:o?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:i,onClick:r.onChange.bind(r,i),"aria-selected":o?"true":void 0},o?j.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",We(s,r.props.dateFormat,r.props.locale))})},r.onChange=function(s){return r.props.onChange(s)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:o6(r.props.minDate,r.props.maxDate)},r}return e.prototype.render=function(){var t=Ct({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return j.createElement(Mh,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(R.Component),l6=function(n){bt(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=Or(t.props.minDate),s=Or(t.props.maxDate),i=[];!Us(r,s);){var o=km(r);i.push(j.createElement("option",{key:o,value:o},We(r,t.props.dateFormat,t.props.locale))),r=Bn(r,1)}return i},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return j.createElement("select",{value:km(Or(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){var s=We(t.props.date,t.props.dateFormat,t.props.locale);return j.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},j.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),j.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},s))},t.renderDropdown=function(){return j.createElement(a6,_e({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,s=[t.renderReadView(!r)];return r&&s.unshift(t.renderDropdown()),s},t.onChange=function(r){t.toggleDropdown();var s=xe(r);qn(t.props.date,s)&&zt(t.props.date,s)||t.props.onChange(s)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return j.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(R.Component),u6=function(n){bt(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,s,i;t.list&&(t.list.scrollTop=(i=t.centerLi&&e.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((s=(r=t.header)===null||r===void 0?void 0:r.clientHeight)!==null&&s!==void 0?s:0):t.list.clientHeight,t.centerLi))!==null&&i!==void 0?i:0)})},t.handleClick=function(r){var s,i;(t.props.minTime||t.props.maxTime)&&tE(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&eE(r,t.props)||(i=(s=t.props).onChange)===null||i===void 0||i.call(s,r)},t.isSelectedTime=function(r){return t.props.selected&&XU(t.props.selected,r)},t.isDisabledTime=function(r){return(t.props.minTime||t.props.maxTime)&&tE(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&eE(r,t.props)},t.liClasses=function(r){var s,i=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(r):void 0];return t.isSelectedTime(r)&&i.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(r)&&i.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(Nr(r)*3600+Mr(r)*60+Ns(r))%(((s=t.props.intervals)!==null&&s!==void 0?s:e.defaultProps.intervals)*60)!==0&&i.push("react-datepicker__time-list-item--injected"),i.join(" ")},t.handleOnKeyDown=function(r,s){var i,o;r.key===z.Space&&(r.preventDefault(),r.key=z.Enter),(r.key===z.ArrowUp||r.key===z.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===z.ArrowDown||r.key===z.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===z.Enter&&t.handleClick(s),(o=(i=t.props).handleOnKeyDown)===null||o===void 0||o.call(i,r)},t.renderTimes=function(){for(var r,s=[],i=typeof t.props.format=="string"?t.props.format:"p",o=(r=t.props.intervals)!==null&&r!==void 0?r:e.defaultProps.intervals,a=t.props.selected||t.props.openToDate||xe(),l=Vc(a),c=t.props.injectTimes&&t.props.injectTimes.sort(function(I,w){return I.getTime()-w.getTime()}),d=60*GU(a),h=d/o,p=0;p<h;p++){var g=Sm(l,p*o);if(s.push(g),c){var _=KU(l,g,p,o,c);s=s.concat(_)}}var D=s.reduce(function(I,w){return w.getTime()<=a.getTime()?w:I},s[0]);return s.map(function(I){return j.createElement("li",{key:I.valueOf(),onClick:t.handleClick.bind(t,I),className:t.liClasses(I),ref:function(w){I===D&&(t.centerLi=w)},onKeyDown:function(w){t.handleOnKeyDown(w,I)},tabIndex:I===D?0:-1,role:"option","aria-selected":t.isSelectedTime(I)?"true":void 0,"aria-disabled":t.isDisabledTime(I)?"true":void 0},We(I,i,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?j.createElement(j.Fragment,null):j.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){t.header=r}},j.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},e.prototype.componentWillUnmount=function(){var t;(t=this.resizeObserver)===null||t===void 0||t.disconnect()},e.prototype.observeDatePickerHeightChanges=function(){var t=this,r=this.props.monthRef;this.updateContainerHeight(),r&&(this.resizeObserver=new ResizeObserver(function(){t.updateContainerHeight()}),this.resizeObserver.observe(r))},e.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var t=this,r,s=this.state.height;return j.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),j.createElement("div",{className:"react-datepicker__time"},j.createElement("div",{className:"react-datepicker__time-box"},j.createElement("ul",{className:"react-datepicker__time-list",ref:function(i){t.list=i},style:s?{height:s}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(t,r){return r.offsetTop-(t/2-r.clientHeight/2)},e}(R.Component),dE=3,c6=function(n){bt(e,n);function e(t){var r=n.call(this,t)||this;return r.YEAR_REFS=nr([],Array(r.props.yearItemNumber),!0).map(function(){return R.createRef()}),r.isDisabled=function(s){return En(s,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(s){return Bv(s,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var s;return(s=r.props.selectingDate)!==null&&s!==void 0?s:r.props.preSelection},r.updateFocusOnPaginate=function(s){var i=function(){var o,a;(a=(o=r.YEAR_REFS[s])===null||o===void 0?void 0:o.current)===null||a===void 0||a.focus()};window.requestAnimationFrame(i)},r.handleYearClick=function(s,i){r.props.onDayClick&&r.props.onDayClick(s,i)},r.handleYearNavigation=function(s,i){var o,a,l,c,d=r.props,h=d.date,p=d.yearItemNumber;if(!(h===void 0||p===void 0)){var g=Dr(h,p).startPeriod;r.isDisabled(i)||r.isExcluded(i)||((a=(o=r.props).setPreSelection)===null||a===void 0||a.call(o,i),s-g<0?r.updateFocusOnPaginate(p-(g-s)):s-g>=p?r.updateFocusOnPaginate(Math.abs(p-(s-g))):(c=(l=r.YEAR_REFS[s-g])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus())}},r.isSameDay=function(s,i){return ye(s,i)},r.isCurrentYear=function(s){return s===me(xe())},r.isRangeStart=function(s){return r.props.startDate&&r.props.endDate&&qn(zn(xe(),s),r.props.startDate)},r.isRangeEnd=function(s){return r.props.startDate&&r.props.endDate&&qn(zn(xe(),s),r.props.endDate)},r.isInRange=function(s){return uc(s,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(s){var i=r.props,o=i.selectsStart,a=i.selectsEnd,l=i.selectsRange,c=i.startDate,d=i.endDate;return!(o||a||l)||!r.selectingDate()?!1:o&&d?uc(s,r.selectingDate(),d):a&&c||l&&c&&!d?uc(s,c,r.selectingDate()):!1},r.isSelectingRangeStart=function(s){var i;if(!r.isInSelectingRange(s))return!1;var o=r.props,a=o.startDate,l=o.selectsStart,c=zn(xe(),s);return l?qn(c,(i=r.selectingDate())!==null&&i!==void 0?i:null):qn(c,a??null)},r.isSelectingRangeEnd=function(s){var i;if(!r.isInSelectingRange(s))return!1;var o=r.props,a=o.endDate,l=o.selectsEnd,c=o.selectsRange,d=zn(xe(),s);return l||c?qn(d,(i=r.selectingDate())!==null&&i!==void 0?i:null):qn(d,a??null)},r.isKeyboardSelected=function(s){if(!(r.props.disabledKeyboardNavigation||r.props.date===void 0||r.props.preSelection==null)){var i=r.props,o=i.minDate,a=i.maxDate,l=i.excludeDates,c=i.includeDates,d=i.filterDate,h=i.selected,p=Ga(zn(r.props.date,s)),g=(o||a||l||c||d)&&Fc(s,r.props),_=!!h&&ye(p,Ga(h)),D=ye(p,Ga(r.props.preSelection));return!r.props.inline&&!_&&D&&!g}},r.isSelectedYear=function(s){var i=r.props,o=i.selectsMultiple,a=i.selected,l=i.selectedDates;return o?l==null?void 0:l.some(function(c){return s===me(c)}):!!a&&s===me(a)},r.onYearClick=function(s,i){var o=r.props.date;o!==void 0&&r.handleYearClick(Ga(zn(o,i)),s)},r.onYearKeyDown=function(s,i){var o,a,l=s.key,c=r.props,d=c.date,h=c.yearItemNumber,p=c.handleOnKeyDown;if(l!==z.Tab&&s.preventDefault(),!r.props.disabledKeyboardNavigation)switch(l){case z.Enter:if(r.props.selected==null)break;r.onYearClick(s,i),(a=(o=r.props).setPreSelection)===null||a===void 0||a.call(o,r.props.selected);break;case z.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(i+1,Rr(r.props.preSelection,1));break;case z.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(i-1,qo(r.props.preSelection,1));break;case z.ArrowUp:{if(d===void 0||h===void 0||r.props.preSelection==null)break;var g=Dr(d,h).startPeriod,_=dE,D=i-_;if(D<g){var I=h%_;i>=g&&i<g+I?_=I:_+=I,D=i-_}r.handleYearNavigation(D,qo(r.props.preSelection,_));break}case z.ArrowDown:{if(d===void 0||h===void 0||r.props.preSelection==null)break;var w=Dr(d,h).endPeriod,_=dE,D=i+_;if(D>w){var I=h%_;i<=w&&i>w-I?_=I:_+=I,D=i+_}r.handleYearNavigation(D,Rr(r.props.preSelection,_));break}}p&&p(s)},r.getYearClassNames=function(s){var i=r.props,o=i.date,a=i.disabled,l=i.minDate,c=i.maxDate,d=i.excludeDates,h=i.includeDates,p=i.filterDate,g=i.yearClassName;return Ct("react-datepicker__year-text","react-datepicker__year-".concat(s),o?g==null?void 0:g(zn(o,s)):void 0,{"react-datepicker__year-text--selected":r.isSelectedYear(s),"react-datepicker__year-text--disabled":(l||c||d||h||p||a)&&Fc(s,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(s),"react-datepicker__year-text--range-start":r.isRangeStart(s),"react-datepicker__year-text--range-end":r.isRangeEnd(s),"react-datepicker__year-text--in-range":r.isInRange(s),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(s),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(s),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(s),"react-datepicker__year-text--today":r.isCurrentYear(s)})},r.getYearTabIndex=function(s){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var i=me(r.props.preSelection),o=Fc(s,r.props);return s===i&&!o?"0":"-1"},r.getYearContent=function(s){return r.props.renderYearContent?r.props.renderYearContent(s):s},r}return e.prototype.render=function(){var t=this,r=[],s=this.props,i=s.date,o=s.yearItemNumber,a=s.onYearMouseEnter,l=s.onYearMouseLeave;if(i===void 0)return null;for(var c=Dr(i,o),d=c.startPeriod,h=c.endPeriod,p=function(D){r.push(j.createElement("div",{ref:g.YEAR_REFS[D-d],onClick:function(I){t.onYearClick(I,D)},onKeyDown:function(I){$I(I)&&(I.preventDefault(),I.key=z.Enter),t.onYearKeyDown(I,D)},tabIndex:Number(g.getYearTabIndex(D)),className:g.getYearClassNames(D),onMouseEnter:g.props.usePointerEvent?void 0:function(I){return a(I,D)},onPointerEnter:g.props.usePointerEvent?function(I){return a(I,D)}:void 0,onMouseLeave:g.props.usePointerEvent?void 0:function(I){return l(I,D)},onPointerLeave:g.props.usePointerEvent?function(I){return l(I,D)}:void 0,key:D,"aria-current":g.isCurrentYear(D)?"date":void 0},g.getYearContent(D)))},g=this,_=d;_<=h;_++)p(_);return j.createElement("div",{className:"react-datepicker__year"},j.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},e}(R.Component);function d6(n,e,t,r){for(var s=[],i=0;i<2*e+1;i++){var o=n+e-i,a=!0;t&&(a=me(t)<=o),r&&a&&(a=me(r)>=o),a&&s.push(o)}return s}var h6=function(n){bt(e,n);function e(t){var r=n.call(this,t)||this;r.yearOptionButtonsRef={},r.handleOptionKeyDown=function(a,l){var c;switch(l.key){case"Enter":l.preventDefault(),r.onChange(a);break;case"Escape":l.preventDefault(),r.props.onCancel();break;case"ArrowUp":case"ArrowDown":{l.preventDefault();var d=a+(l.key==="ArrowUp"?1:-1);r.yearOptionButtonsRef[d]&&((c=r.yearOptionButtonsRef[d])===null||c===void 0||c.focus());break}}},r.renderOptions=function(){r.yearOptionButtonsRef={};var a=r.props.year,l=r.state.yearsList.map(function(h){return j.createElement("div",{ref:function(p){r.yearOptionButtonsRef[h]=p,h===a&&(p==null||p.focus())},role:"button",tabIndex:0,className:a===h?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:h,onClick:r.onChange.bind(r,h),onKeyDown:r.handleOptionKeyDown.bind(r,h),"aria-selected":a===h?"true":void 0},a===h?j.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",h)}),c=r.props.minDate?me(r.props.minDate):null,d=r.props.maxDate?me(r.props.maxDate):null;return(!d||!r.state.yearsList.find(function(h){return h===d}))&&l.unshift(j.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},j.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!c||!r.state.yearsList.find(function(h){return h===c}))&&l.push(j.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},j.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),l},r.onChange=function(a){r.props.onChange(a)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(a){var l=r.state.yearsList.map(function(c){return c+a});r.setState({yearsList:l})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var s=t.yearDropdownItemNumber,i=t.scrollableYearDropdown,o=s||(i?10:5);return r.state={yearsList:d6(r.props.year,o,r.props.minDate,r.props.maxDate)},r.dropdownRef=R.createRef(),r}return e.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var r=t.children?Array.from(t.children):null,s=r?r.find(function(i){return i.ariaSelected}):null;t.scrollTop=s&&s instanceof HTMLElement?s.offsetTop+(s.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},e.prototype.render=function(){var t=Ct({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return j.createElement(Mh,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(R.Component),f6=function(n){bt(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=t.props.minDate?me(t.props.minDate):1900,s=t.props.maxDate?me(t.props.maxDate):2100,i=[],o=r;o<=s;o++)i.push(j.createElement("option",{key:o,value:o},o));return i},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return j.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){return j.createElement("button",{key:"read",type:"button",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:t.toggleDropdown},j.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),j.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return j.createElement(h6,_e({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,s=[t.renderReadView(!r)];return r&&s.unshift(t.renderDropdown()),s},t.onChange=function(r){t.toggleDropdown(),r!==t.props.year&&t.props.onChange(r)},t.toggleDropdown=function(r){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,r)})},t.handleYearChange=function(r,s){var i;(i=t.onSelect)===null||i===void 0||i.call(t,r,s),t.setOpen()},t.onSelect=function(r,s){var i,o;(o=(i=t.props).onSelect)===null||o===void 0||o.call(i,r,s)},t.setOpen=function(){var r,s;(s=(r=t.props).setOpen)===null||s===void 0||s.call(r,!0)},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return j.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(R.Component),p6=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],HI="react-datepicker-ignore-onclickoutside",m6=function(n){var e=(n.className||"").split(/\s+/);return p6.some(function(t){return e.indexOf(t)>=0})},g6=function(n){bt(e,n);function e(t){var r=n.call(this,t)||this;return r.monthContainer=void 0,r.handleClickOutside=function(s){r.props.onClickOutside(s)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(s){var i,o;m6(s.target)&&((o=(i=r.props).onDropdownFocus)===null||o===void 0||o.call(i,s))},r.getDateInView=function(){var s=r.props,i=s.preSelection,o=s.selected,a=s.openToDate,l=UI(r.props),c=WI(r.props),d=xe(),h=a||o||i;return h||(l&&tr(d,l)?l:c&&Us(d,c)?c:d)},r.increaseMonth=function(){r.setState(function(s){var i=s.date;return{date:Bn(i,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(s){var i=s.date;return{date:yi(i,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(s,i,o){r.props.onSelect(s,i,o),r.props.setPreSelection&&r.props.setPreSelection(s)},r.handleDayMouseEnter=function(s){r.setState({selectingDate:s}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(s)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(s,i){r.setState({selectingDate:zn(xe(),i)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(s,i)},r.handleYearMouseLeave=function(s,i){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(s,i)},r.handleYearChange=function(s){var i,o,a,l;(o=(i=r.props).onYearChange)===null||o===void 0||o.call(i,s),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(s),(l=(a=r.props).setOpen)===null||l===void 0||l.call(a,!0)),r.props.setPreSelection&&r.props.setPreSelection(s)},r.getEnabledPreSelectionDateForMonth=function(s){if(!En(s,r.props))return s;for(var i=Or(s),o=VU(s),a=Q4(o,i),l=null,c=0;c<=a;c++){var d=Ln(i,c);if(!En(d,r.props)){l=d;break}}return l},r.handleMonthChange=function(s){var i,o,a,l=(i=r.getEnabledPreSelectionDateForMonth(s))!==null&&i!==void 0?i:s;r.handleCustomMonthChange(l),r.props.adjustDateOnChange&&(r.props.onSelect(l),(a=(o=r.props).setOpen)===null||a===void 0||a.call(o,!0)),r.props.setPreSelection&&r.props.setPreSelection(l)},r.handleCustomMonthChange=function(s){var i,o;(o=(i=r.props).onMonthChange)===null||o===void 0||o.call(i,s),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(s){r.handleYearChange(s),r.handleMonthChange(s)},r.changeYear=function(s){r.setState(function(i){var o=i.date;return{date:zn(o,Number(s))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(s){r.setState(function(i){var o=i.date;return{date:un(o,Number(s))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(s){r.setState(function(i){var o=i.date;return{date:zn(un(o,jt(s)),me(s))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(s){s===void 0&&(s=r.state.date);var i=r.props.disabled,o=Ms(s,r.props.locale,r.props.calendarStartDay),a=[];return r.props.showWeekNumbers&&a.push(j.createElement("div",{key:"W",className:"react-datepicker__day-name ".concat(i?"react-datepicker__day-name--disabled":""),role:"columnheader"},j.createElement("span",{className:"react-datepicker__sr-only"},"Week number"),j.createElement("span",{"aria-hidden":"true"},r.props.weekLabel||"#"))),a.concat([0,1,2,3,4,5,6].map(function(l){var c=Ln(o,l),d=r.formatWeekday(c,r.props.locale),h=r.props.weekDayClassName?r.props.weekDayClassName(c):void 0;return j.createElement("div",{key:l,role:"columnheader",className:Ct("react-datepicker__day-name",h,i?"react-datepicker__day-name--disabled":"")},j.createElement("span",{className:"react-datepicker__sr-only"},We(c,"EEEE",r.props.locale)),j.createElement("span",{"aria-hidden":"true"},d))}))},r.formatWeekday=function(s,i){return r.props.formatWeekDay?FU(s,r.props.formatWeekDay,i):r.props.useWeekdaysShort?BU(s,i):jU(s,i)},r.decreaseYear=function(){r.setState(function(s){var i,o=s.date;return{date:qo(o,r.props.showYearPicker?(i=r.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var s,i,o;if(!r.props.renderCustomHeader){var a=(s=r.props.monthsShown)!==null&&s!==void 0?s:e.defaultProps.monthsShown,l=r.props.showPreviousMonths?a-1:0,c=(i=r.props.monthSelectedIn)!==null&&i!==void 0?i:l,d=yi(r.state.date,c),h;switch(!0){case r.props.disabled:h=!0;break;case r.props.showMonthYearPicker:h=sE(r.state.date,r.props);break;case r.props.showYearPicker:h=YU(r.state.date,r.props);break;case r.props.showQuarterYearPicker:h=$U(r.state.date,r.props);break;default:h=nE(d,r.props);break}if(!(!((o=r.props.forceShowMonthNavigation)!==null&&o!==void 0?o:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&h||r.props.showTimeSelectOnly)){var p=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],g=["react-datepicker__navigation","react-datepicker__navigation--previous"],_=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(_=r.decreaseYear),h&&r.props.showDisabledMonthNavigation&&(g.push("react-datepicker__navigation--previous--disabled"),_=void 0);var D=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,I=r.props,w=I.previousMonthButtonLabel,y=w===void 0?e.defaultProps.previousMonthButtonLabel:w,T=I.previousYearButtonLabel,A=T===void 0?e.defaultProps.previousYearButtonLabel:T,L=r.props,M=L.previousMonthAriaLabel,S=M===void 0?typeof y=="string"?y:"Previous Month":M,v=L.previousYearAriaLabel,C=v===void 0?typeof A=="string"?A:"Previous Year":v;return j.createElement("button",{type:"button",className:g.join(" "),onClick:_,onKeyDown:r.props.handleOnKeyDown,"aria-label":D?C:S},j.createElement("span",{className:p.join(" ")},D?A:y))}}},r.increaseYear=function(){r.setState(function(s){var i,o=s.date;return{date:Rr(o,r.props.showYearPicker?(i=r.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var s;if(!r.props.renderCustomHeader){var i;switch(!0){case r.props.disabled:i=!0;break;case r.props.showMonthYearPicker:i=iE(r.state.date,r.props);break;case r.props.showYearPicker:i=zU(r.state.date,r.props);break;case r.props.showQuarterYearPicker:i=HU(r.state.date,r.props);break;default:i=rE(r.state.date,r.props);break}if(!(!((s=r.props.forceShowMonthNavigation)!==null&&s!==void 0?s:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&i||r.props.showTimeSelectOnly)){var o=["react-datepicker__navigation","react-datepicker__navigation--next"],a=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&o.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&o.push("react-datepicker__navigation--next--with-today-button");var l=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(l=r.increaseYear),i&&r.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--next--disabled"),l=void 0);var c=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,d=r.props,h=d.nextMonthButtonLabel,p=h===void 0?e.defaultProps.nextMonthButtonLabel:h,g=d.nextYearButtonLabel,_=g===void 0?e.defaultProps.nextYearButtonLabel:g,D=r.props,I=D.nextMonthAriaLabel,w=I===void 0?typeof p=="string"?p:"Next Month":I,y=D.nextYearAriaLabel,T=y===void 0?typeof _=="string"?_:"Next Year":y;return j.createElement("button",{type:"button",className:o.join(" "),onClick:l,onKeyDown:r.props.handleOnKeyDown,"aria-label":c?T:w},j.createElement("span",{className:a.join(" ")},c?_:p))}}},r.renderCurrentMonth=function(s){s===void 0&&(s=r.state.date);var i=["react-datepicker__current-month"];return r.props.showYearDropdown&&i.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&i.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&i.push("react-datepicker__current-month--hasMonthYearDropdown"),j.createElement("h2",{className:i.join(" ")},We(s,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(s){if(s===void 0&&(s=!1),!(!r.props.showYearDropdown||s))return j.createElement(f6,_e({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:me(r.state.date)}))},r.renderMonthDropdown=function(s){if(s===void 0&&(s=!1),!(!r.props.showMonthDropdown||s))return j.createElement(i6,_e({},e.defaultProps,r.props,{month:jt(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(s){if(s===void 0&&(s=!1),!(!r.props.showMonthYearDropdown||s))return j.createElement(l6,_e({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(s){r.props.onSelect(X0(),s),r.props.setPreSelection&&r.props.setPreSelection(X0())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return j.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDayNamesHeader=function(s){return j.createElement("div",{className:"react-datepicker__day-names",role:"row"},r.header(s))},r.renderDefaultHeader=function(s){var i=s.monthDate,o=s.i;return j.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(i),j.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(o!==0),r.renderMonthYearDropdown(o!==0),r.renderYearDropdown(o!==0)))},r.renderCustomHeader=function(s){var i,o,a=s.monthDate,l=s.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var c=r.props,d=c.showYearPicker,h=c.yearItemNumber,p;if(d){var g=Dr(a,h),_=g.startPeriod,D=g.endPeriod;p={startYear:_,endYear:D}}var I=nE(r.state.date,r.props),w=rE(r.state.date,r.props),y=sE(r.state.date,r.props),T=iE(r.state.date,r.props);return j.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(o=(i=r.props).renderCustomHeader)===null||o===void 0?void 0:o.call(i,_e(_e(_e({},r.state),d&&{visibleYearsRange:p}),{customHeaderCount:l,monthDate:a,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:I,nextMonthButtonDisabled:w,prevYearButtonDisabled:y,nextYearButtonDisabled:T})))},r.renderYearHeader=function(s){var i=s.monthDate,o=r.props,a=o.showYearPicker,l=o.yearItemNumber,c=l===void 0?e.defaultProps.yearItemNumber:l,d=Dr(i,c),h=d.startPeriod,p=d.endPeriod;return j.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},a?"".concat(h," - ").concat(p):me(i))},r.renderHeader=function(s){var i=s.monthDate,o=s.i,a=o===void 0?0:o,l={monthDate:i,i:a};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(l);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(l);default:return r.renderDefaultHeader(l)}},r.renderMonths=function(){var s,i;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var o=[],a=(s=r.props.monthsShown)!==null&&s!==void 0?s:e.defaultProps.monthsShown,l=r.props.showPreviousMonths?a-1:0,c=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Rr(r.state.date,l):yi(r.state.date,l),d=(i=r.props.monthSelectedIn)!==null&&i!==void 0?i:l,h=0;h<a;++h){var p=h-d+l,g=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Rr(c,p):Bn(c,p),_="month-".concat(h),D=h<a-1,I=h>0;o.push(j.createElement("div",{key:_,ref:function(w){r.monthContainer=w??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:g,i:h}),j.createElement(r6,_e({},e.defaultProps,r.props,{containerRef:r.containerRef,ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:g,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:h,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:D,monthShowsDuplicateDaysStart:I,dayNamesHeader:r.renderDayNamesHeader(g)}))))}return o}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return j.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),j.createElement(c6,_e({},e.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return j.createElement(u6,_e({},e.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var s=r.props.selected?new Date(r.props.selected):void 0,i=s&&Oh(s)&&!!r.props.selected,o=i?"".concat(aE(s.getHours()),":").concat(aE(s.getMinutes())):"";if(r.props.showTimeInput)return j.createElement(JU,_e({},e.defaultProps,r.props,{date:s,timeString:o,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var s,i=Dr(r.state.date,(s=r.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber),o=i.startPeriod,a=i.endPeriod,l;return r.props.showYearPicker?l="".concat(o," - ").concat(a):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?l=me(r.state.date):l="".concat(jv(jt(r.state.date),r.props.locale)," ").concat(me(r.state.date)),j.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&l)},r.renderChildren=function(){if(r.props.children)return j.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=R.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:HI,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:yu}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){t.setState({monthContainer:t.monthContainer})}())},e.prototype.componentDidUpdate=function(t){var r=this;if(this.props.preSelection&&(!ye(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var s=!zt(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return s&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!ye(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var t=this.props.container||xU;return j.createElement(Mh,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},j.createElement("div",{style:{display:"contents"},ref:this.containerRef},j.createElement(t,{className:Ct("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},e}(R.Component),v6=function(n){var e=n.icon,t=n.className,r=t===void 0?"":t,s=n.onClick,i="react-datepicker__calendar-icon";if(typeof e=="string")return j.createElement("i",{className:"".concat(i," ").concat(e," ").concat(r),"aria-hidden":"true",onClick:s});if(j.isValidElement(e)){var o=e;return j.cloneElement(o,{className:"".concat(o.props.className||""," ").concat(i," ").concat(r),onClick:function(a){typeof o.props.onClick=="function"&&o.props.onClick(a),typeof s=="function"&&s(a)}})}return j.createElement("svg",{className:"".concat(i," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:s},j.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},YI=function(n){bt(e,n);function e(t){var r=n.call(this,t)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return KP.createPortal(this.props.children,this.el)},e}(R.Component),y6="[tabindex], a, button, input, select, textarea",_6=function(n){return(n instanceof HTMLAnchorElement||!n.disabled)&&n.tabIndex!==-1},zI=function(n){bt(e,n);function e(t){var r=n.call(this,t)||this;return r.getTabChildren=function(){var s;return Array.prototype.slice.call((s=r.tabLoopRef.current)===null||s===void 0?void 0:s.querySelectorAll(y6),1,-1).filter(_6)},r.handleFocusStart=function(){var s=r.getTabChildren();s&&s.length>1&&s[s.length-1].focus()},r.handleFocusEnd=function(){var s=r.getTabChildren();s&&s.length>1&&s[0].focus()},r.tabLoopRef=R.createRef(),r}return e.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:e.defaultProps.enableTabLoop)?j.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},j.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,j.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e}(R.Component);function w6(n){function e(t){var r,s=typeof t.hidePopper=="boolean"?t.hidePopper:!0,i=R.useRef(null),o=bU(_e({open:!s,whileElementsMounted:aU,placement:t.popperPlacement,middleware:nr([gU({padding:15}),mU(10),vU({element:i})],(r=t.popperModifiers)!==null&&r!==void 0?r:[],!0)},t.popperProps)),a=_e(_e({},t),{hidePopper:s,popperProps:_e(_e({},o),{arrowRef:i})});return j.createElement(n,_e({},a))}return e.displayName="withFloating(".concat(n.displayName||n.name||"Component",")"),e}var E6=function(n){var e=n.className,t=n.wrapperClassName,r=n.hidePopper,s=r===void 0?!0:r,i=n.popperComponent,o=n.targetComponent,a=n.enableTabLoop,l=n.popperOnKeyDown,c=n.portalId,d=n.portalHost,h=n.popperProps,p=n.showArrow,g=void 0;if(!s){var _=Ct("react-datepicker-popper",e);g=j.createElement(zI,{enableTabLoop:a},j.createElement("div",{ref:h.refs.setFloating,style:h.floatingStyles,className:_,"data-placement":h.placement,onKeyDown:l},i,p&&j.createElement(TU,{ref:h.arrowRef,context:h.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}n.popperContainer&&(g=R.createElement(n.popperContainer,{},g)),c&&!s&&(g=j.createElement(YI,{portalId:c,portalHost:d},g));var D=Ct("react-datepicker-wrapper",t);return j.createElement(j.Fragment,null,j.createElement("div",{ref:h.refs.setReference,className:D},o),g)},T6=w6(E6);function S6(n,e){return n&&e?jt(n)!==jt(e)||me(n)!==me(e):n!==e}var Zf="Date input not valid.",hE=function(n){bt(e,n);function e(t){var r=n.call(this,t)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:xe()},r.modifyHolidays=function(){var s;return(s=r.props.holidays)===null||s===void 0?void 0:s.reduce(function(i,o){var a=new Date(o.date);return Oh(a)?nr(nr([],i,!0),[_e(_e({},o),{date:a})],!1):i},[])},r.calcInitialState=function(){var s,i=r.getPreSelection(),o=UI(r.props),a=WI(r.props),l=o&&tr(i,Vc(o))?o:a&&Us(i,J0(a))?a:i;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(s=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&s!==void 0?s:l,highlightDates:oE(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.getInputValue=function(){var s,i=r.props,o=i.locale,a=i.startDate,l=i.endDate,c=i.rangeSeparator,d=i.selected,h=i.selectedDates,p=i.selectsMultiple,g=i.selectsRange,_=i.value,D=(s=r.props.dateFormat)!==null&&s!==void 0?s:e.defaultProps.dateFormat,I=r.state.inputValue;return typeof _=="string"?_:typeof I=="string"?I:g?AU(a,l,{dateFormat:D,locale:o,rangeSeparator:c}):p?NU(h??[],{dateFormat:D,locale:o}):an(d,{dateFormat:D,locale:o})},r.resetHiddenStatus=function(){r.setState(_e(_e({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(_e(_e({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){var s,i;(i=(s=r.input)===null||s===void 0?void 0:s.focus)===null||i===void 0||i.call(s,{preventScroll:!0})},r.setBlur=function(){var s,i;(i=(s=r.input)===null||s===void 0?void 0:s.blur)===null||i===void 0||i.call(s),r.cancelFocusInput()},r.deferBlur=function(){requestAnimationFrame(function(){r.setBlur()})},r.setOpen=function(s,i){i===void 0&&(i=!1),r.setState({open:s,preSelection:s&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:ep},function(){s||r.setState(function(o){return{focused:i?o.focused:!1}},function(){!i&&r.deferBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return Ar(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(s){var i,o,a=r.state.wasHidden,l=a?r.state.open:!0;a&&r.resetHiddenStatus(),r.state.preventFocus||((o=(i=r.props).onFocus)===null||o===void 0||o.call(i,s),l&&!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.resetInputValue=function(){r.setState(_e(_e({},r.state),{inputValue:null}))},r.handleBlur=function(s){var i,o;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((o=(i=r.props).onBlur)===null||o===void 0||o.call(i,s)),r.resetInputValue(),r.state.open&&r.props.open===!1&&r.setOpen(!1),r.setState({focused:!1})},r.handleCalendarClickOutside=function(s){var i,o;r.props.inline||r.setOpen(!1),(o=(i=r.props).onClickOutside)===null||o===void 0||o.call(i,s),r.props.withPortal&&s.preventDefault()},r.handleChange=function(){for(var s,i,o,a,l,c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];var h=c[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,c),!h||typeof h.isDefaultPrevented!="function"||h.isDefaultPrevented()))){r.setState({inputValue:(h==null?void 0:h.target)instanceof HTMLInputElement?h.target.value:null,lastPreSelectChange:C6});var p=r.props,g=p.selectsRange,_=p.startDate,D=p.endDate,I=(s=r.props.dateFormat)!==null&&s!==void 0?s:e.defaultProps.dateFormat,w=(i=r.props.strictParsing)!==null&&i!==void 0?i:e.defaultProps.strictParsing,y=(h==null?void 0:h.target)instanceof HTMLInputElement?h.target.value:"";if(g){var T=r.props.rangeSeparator,A=T.trim(),L=y.split(I.includes(A)?T:A,2).map(function(b){return b.trim()}),M=L[0],S=L[1],v=Kf(M??"",I,r.props.locale,w),C=v?Kf(S??"",I,r.props.locale,w):null,P=(_==null?void 0:_.getTime())!==(v==null?void 0:v.getTime()),x=(D==null?void 0:D.getTime())!==(C==null?void 0:C.getTime());if(!P&&!x||v&&En(v,r.props)||C&&En(C,r.props))return;(a=(o=r.props).onChange)===null||a===void 0||a.call(o,[v,C],h)}else{var N=Kf(y,I,r.props.locale,w,(l=r.props.selected)!==null&&l!==void 0?l:void 0);(N||!y)&&r.setSelected(N,h,!0)}}},r.handleSelect=function(s,i,o){var a;if(!r.props.readOnly){var l=r.props,c=l.selectsRange,d=l.startDate,h=l.endDate,p=l.locale,g=l.swapRange,_=(a=r.props.dateFormat)!==null&&a!==void 0?a:e.defaultProps.dateFormat,D=!c||d&&!h&&(g||!Xf(s,d));if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&D&&r.sendFocusBackToInput(),r.props.onChangeRaw){var I=an(s,{dateFormat:_,locale:p});r.props.onChangeRaw(i,{date:s,formattedDate:I})}r.setSelected(s,i,!1,o),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect?r.setPreSelection(s):D&&r.setOpen(!1)}},r.setSelected=function(s,i,o,a){var l,c,d=s;if(r.props.showYearPicker){if(d!==null&&Fc(me(d),r.props))return}else if(r.props.showMonthYearPicker){if(d!==null&&BI(d,r.props))return}else if(d!==null&&En(d,r.props))return;var h=r.props,p=h.onChange,g=h.selectsRange,_=h.startDate,D=h.endDate,I=h.selectsMultiple,w=h.selectedDates,y=h.minTime,T=h.swapRange;if(!fi(r.props.selected,d)||r.props.allowSameDay||g||I)if(d!==null&&(r.props.selected&&(!o||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(d=Gf(d,{hour:Nr(r.props.selected),minute:Mr(r.props.selected),second:Ns(r.props.selected)})),!o&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&y&&(d=Gf(d,{hour:y.getHours(),minute:y.getMinutes(),second:y.getSeconds()})),r.props.inline||r.setState({preSelection:d}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:a})),g){var A=!_&&!D,L=_&&!D,M=!_&&!!D,S=_&&D;A?p==null||p([d,null],i):L?d===null?p==null||p([null,null],i):Xf(d,_)?T?p==null||p([d,_],i):p==null||p([d,null],i):p==null||p([_,d],i):M&&(d&&Xf(d,D)?p==null||p([d,D],i):p==null||p([d,null],i)),S&&(p==null||p([d,null],i))}else if(I){if(d!==null)if(!(w!=null&&w.length))p==null||p([d],i);else{var v=w.some(function(P){return ye(P,d)});if(v){var C=w.filter(function(P){return!ye(P,d)});p==null||p(C,i)}else p==null||p(nr(nr([],w,!0),[d],!1),i)}}else p==null||p(d,i);o||((c=(l=r.props).onSelect)===null||c===void 0||c.call(l,d,i),r.setState({inputValue:null}))},r.setPreSelection=function(s){if(!r.props.readOnly){var i=Ar(r.props.minDate),o=Ar(r.props.maxDate),a=!0;if(s){var l=Vc(s);if(i&&o)a=oi(s,r.props.minDate,r.props.maxDate);else if(i){var c=Vc(r.props.minDate);a=Us(s,c)||fi(l,c)}else if(o){var d=J0(r.props.maxDate);a=tr(s,d)||fi(l,d)}}a&&r.setState({preSelection:s})}},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(s){var i,o;if(!(r.props.selectsRange||r.props.selectsMultiple)){var a=r.props.selected?r.props.selected:r.getPreSelection(),l=r.props.selected?s:Gf(a,{hour:Nr(s),minute:Mr(s)});r.setState({preSelection:l}),(o=(i=r.props).onChange)===null||o===void 0||o.call(i,l),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var s,i;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(i=(s=r.props).onInputClick)===null||i===void 0||i.call(s)},r.onInputKeyDown=function(s){var i,o,a,l,c,d;(o=(i=r.props).onKeyDown)===null||o===void 0||o.call(i,s);var h=s.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(h===z.ArrowDown||h===z.ArrowUp||h===z.Enter)&&((a=r.onInputClick)===null||a===void 0||a.call(r));return}if(r.state.open){if(h===z.ArrowDown||h===z.ArrowUp){s.preventDefault();var p=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',g=((l=r.calendar)===null||l===void 0?void 0:l.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(p);g instanceof HTMLElement&&g.focus({preventScroll:!0});return}var _=xe(r.state.preSelection);h===z.Enter?(s.preventDefault(),s.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===ep?(r.handleSelect(_,s),!r.props.shouldCloseOnSelect&&r.setPreSelection(_)):r.setOpen(!1)):h===z.Escape?(s.preventDefault(),s.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):h===z.Tab&&r.setOpen(!1),r.inputOk()||(d=(c=r.props).onInputError)===null||d===void 0||d.call(c,{code:1,msg:Zf})}},r.onPortalKeyDown=function(s){var i=s.key;i===z.Escape&&(s.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(s){var i,o,a,l,c,d,h=r.props,p=h.minDate,g=h.maxDate,_=h.disabledKeyboardNavigation,D=h.showWeekPicker,I=h.shouldCloseOnSelect,w=h.locale,y=h.calendarStartDay,T=h.adjustDateOnChange,A=h.inline;if((o=(i=r.props).onKeyDown)===null||o===void 0||o.call(i,s),!_){var L=s.key,M=s.shiftKey,S=xe(r.state.preSelection),v=function(re,ee){var ie=ee;switch(re){case z.ArrowRight:ie=D?xd(ee,1):Ln(ee,1);break;case z.ArrowLeft:ie=D?F0(ee):Q3(ee);break;case z.ArrowUp:ie=F0(ee);break;case z.ArrowDown:ie=xd(ee,1);break;case z.PageUp:ie=M?qo(ee,1):yi(ee,1);break;case z.PageDown:ie=M?Rr(ee,1):Bn(ee,1);break;case z.Home:ie=Ms(ee,w,y);break;case z.End:ie=LU(ee);break}return ie},C=function(re,ee){for(var ie=40,B=re,F=!1,H=0,Q=v(re,ee);!F;){if(H>=ie){Q=ee;break}p&&Q<p&&(B=z.ArrowRight,Q=En(p,r.props)?v(B,Q):p),g&&Q>g&&(B=z.ArrowLeft,Q=En(g,r.props)?v(B,Q):g),En(Q,r.props)?((B===z.PageUp||B===z.Home)&&(B=z.ArrowRight),(B===z.PageDown||B===z.End)&&(B=z.ArrowLeft),Q=v(B,Q)):F=!0,H++}return Q};if(L===z.Enter){s.preventDefault(),r.handleSelect(S,s),!I&&r.setPreSelection(S);return}else if(L===z.Escape){s.preventDefault(),r.setOpen(!1),r.inputOk()||(l=(a=r.props).onInputError)===null||l===void 0||l.call(a,{code:1,msg:Zf});return}var P=null;switch(L){case z.ArrowLeft:case z.ArrowRight:case z.ArrowUp:case z.ArrowDown:case z.PageUp:case z.PageDown:case z.Home:case z.End:P=C(L,S);break}if(!P){(d=(c=r.props).onInputError)===null||d===void 0||d.call(c,{code:1,msg:Zf});return}if(s.preventDefault(),r.setState({lastPreSelectChange:ep}),T&&r.setSelected(P),r.setPreSelection(P),A){var x=jt(S),N=jt(P),b=me(S),se=me(P);x!==N||b!==se?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(s){var i=s.key;i===z.Escape&&(s.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1))},r.onClearClick=function(s){s&&s.preventDefault&&s.preventDefault(),r.sendFocusBackToInput();var i=r.props,o=i.selectsRange,a=i.onChange;o?a==null||a([null,null],s):a==null||a(null,s),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(s){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(s.target===document||s.target===document.documentElement||s.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(s)&&r.setOpen(!1)},r.renderCalendar=function(){var s,i;return!r.props.inline&&!r.isCalendarOpen()?null:j.createElement(g6,_e({showMonthYearDropdown:void 0,ref:function(o){r.calendar=o}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(s=r.props.dateFormatCalendar)!==null&&s!==void 0?s:e.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:QU(r.modifyHolidays()),outsideClickIgnoreClass:r.props.outsideClickIgnoreClass,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(i=r.props.dropdownMode)!==null&&i!==void 0?i:e.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var s,i=r.props.locale,o=(s=r.props.dateFormat)!==null&&s!==void 0?s:e.defaultProps.dateFormat,a=r.props.showTimeInput||r.props.showTimeSelect,l=a?"PPPPp":"PPPP",c;return r.props.selectsRange?c="Selected start date: ".concat(an(r.props.startDate,{dateFormat:l,locale:i}),". ").concat(r.props.endDate?"End date: "+an(r.props.endDate,{dateFormat:l,locale:i}):""):r.props.showTimeSelectOnly?c="Selected time: ".concat(an(r.props.selected,{dateFormat:o,locale:i})):r.props.showYearPicker?c="Selected year: ".concat(an(r.props.selected,{dateFormat:"yyyy",locale:i})):r.props.showMonthYearPicker?c="Selected month: ".concat(an(r.props.selected,{dateFormat:"MMMM yyyy",locale:i})):r.props.showQuarterYearPicker?c="Selected quarter: ".concat(an(r.props.selected,{dateFormat:"yyyy, QQQ",locale:i})):c="Selected date: ".concat(an(r.props.selected,{dateFormat:l,locale:i})),j.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},c)},r.renderDateInput=function(){var s,i,o=Ct(r.props.className,(s={},s[r.props.outsideClickIgnoreClass||e.defaultProps.outsideClickIgnoreClass]=r.state.open,s)),a=r.props.customInput||j.createElement("input",{type:"text"}),l=r.props.customInputRef||"ref";return R.cloneElement(a,(i={},i[l]=function(c){r.input=c},i.value=r.getInputValue(),i.onBlur=r.handleBlur,i.onChange=r.handleChange,i.onClick=r.onInputClick,i.onFocus=r.handleFocus,i.onKeyDown=r.onInputKeyDown,i.id=r.props.id,i.name=r.props.name,i.form=r.props.form,i.autoFocus=r.props.autoFocus,i.placeholder=r.props.placeholderText,i.disabled=r.props.disabled,i.autoComplete=r.props.autoComplete,i.className=Ct(a.props.className,o),i.title=r.props.title,i.readOnly=r.props.readOnly,i.required=r.props.required,i.tabIndex=r.props.tabIndex,i["aria-describedby"]=r.props.ariaDescribedBy,i["aria-invalid"]=r.props.ariaInvalid,i["aria-labelledby"]=r.props.ariaLabelledBy,i["aria-required"]=r.props.ariaRequired,i))},r.renderClearButton=function(){var s=r.props,i=s.isClearable,o=s.disabled,a=s.selected,l=s.startDate,c=s.endDate,d=s.clearButtonTitle,h=s.clearButtonClassName,p=h===void 0?"":h,g=s.ariaLabelClose,_=g===void 0?"Close":g,D=s.selectedDates,I=s.readOnly;return i&&!I&&(a!=null||l!=null||c!=null||D!=null&&D.length)?j.createElement("button",{type:"button",className:Ct("react-datepicker__close-icon",p,{"react-datepicker__close-icon--disabled":o}),disabled:o,"aria-label":_,onClick:r.onClearClick,title:d,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:HI,readOnly:!1,rangeSeparator:FI,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:yu,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(t,r){var s,i,o,a;t.inline&&S6(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:oE(this.props.highlightDates)}),!r.focused&&!fi(t.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((i=(s=this.props).onCalendarOpen)===null||i===void 0||i.call(s)),r.open===!0&&this.state.open===!1&&((a=(o=this.props).onCalendarClose)===null||a===void 0||a.call(o)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var t=this.props,r=t.showIcon,s=t.icon,i=t.calendarIconClassname,o=t.calendarIconClassName,a=t.toggleCalendarOnIconClick,l=this.state.open;return i&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),j.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&j.createElement(v6,_e({icon:s,className:Ct(o,!o&&i,l&&"react-datepicker-ignore-onclickoutside")},a?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var r=this.state.open?j.createElement(zI,{enableTabLoop:this.props.enableTabLoop},j.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(r=j.createElement(YI,_e({portalId:this.props.portalId},this.props),r)),j.createElement("div",null,this.renderInputContainer(),r)}return j.createElement(T6,_e({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e}(R.Component),C6="input",ep="navigate";const I6="_overlay_jt50f_8",k6="_content_jt50f_20",D6="_header_jt50f_44",P6="_title_jt50f_52",b6="_closeButton_jt50f_56",x6="_footer_jt50f_70",R6="_buttonGroup_jt50f_75",A6="_body_jt50f_82",N6="_field_jt50f_87",M6="_fieldLabel_jt50f_91",O6="_fieldRow_jt50f_96",L6="_input_jt50f_101",V6="_button_jt50f_75",F6="_primary_jt50f_128",j6="_secondary_jt50f_142",B6="_errorMessage_jt50f_149",he={overlay:I6,content:k6,header:D6,title:P6,closeButton:b6,footer:x6,buttonGroup:R6,body:A6,field:N6,fieldLabel:M6,fieldRow:O6,input:L6,button:V6,primary:F6,secondary:j6,errorMessage:B6},U6=({teamId:n,onClose:e})=>{const[t,r]=R.useState(null),[s,i]=R.useState(null),[o,a]=R.useState(""),[l,c]=R.useState(""),[d,h]=R.useState(!1);R.useEffect(()=>{const I=w=>{w.key==="Escape"&&e()};return window.addEventListener("keydown",I),()=>window.removeEventListener("keydown",I)},[e]);const p=new Date,g=uF(t,p)?Hf($f(p,p.getHours()),Math.ceil(p.getMinutes()/15)*15):$f(Hf(new Date,0),0),_=$f(Hf(new Date,45),23),D=async()=>{if(c(""),!t||!s||!o.trim()){c(", ,   .");return}const I=new Date(t.getFullYear(),t.getMonth(),t.getDate(),s.getHours(),s.getMinutes());if(I<new Date){c("      .");return}h(!0);try{await Z1(cn(te,"teams",n,"matches"),{when:dt.fromDate(I),location:o.trim(),createdBy:rt.currentUser.uid,createdAt:Dd(),status:"pending"}),e()}catch(w){console.error("Match creation error:",w),c("    .")}finally{h(!1)}};return ta.createPortal(E.jsx("div",{className:he.overlay,onMouseDown:e,children:E.jsxs("div",{className:he.content,onMouseDown:I=>I.stopPropagation(),children:[E.jsxs("div",{className:he.header,children:[E.jsx("h2",{className:he.title,children:"  "}),E.jsx("button",{type:"button","aria-label":"",className:he.closeButton,onClick:e,children:""})]}),E.jsxs("div",{className:he.body,children:[E.jsxs("div",{className:he.field,children:[E.jsx("span",{className:he.fieldLabel,children:" "}),E.jsxs("div",{className:he.fieldRow,children:[E.jsx(hE,{selected:t,onChange:I=>r(I),locale:Tm,dateFormat:"yyyy.MM.dd (EEE)",placeholderText:" ",minDate:d4(),className:he.input,popperPlacement:"bottom-start",showPopperArrow:!1,isClearable:!0}),E.jsx(hE,{selected:s,onChange:I=>i(I),locale:Tm,showTimeSelect:!0,showTimeSelectOnly:!0,timeIntervals:15,timeCaption:"",dateFormat:"HH:mm",placeholderText:" ",className:he.input,minTime:g,maxTime:_,popperPlacement:"bottom-start",showPopperArrow:!1})]})]}),E.jsxs("label",{className:he.field,children:[E.jsx("span",{className:he.fieldLabel,children:""}),E.jsx("input",{className:he.input,value:o,onChange:I=>a(I.target.value),placeholder:":  "})]})]}),E.jsxs("div",{className:he.footer,children:[l&&E.jsx("p",{className:he.errorMessage,children:l}),E.jsxs("div",{className:he.buttonGroup,children:[E.jsx("button",{type:"button",className:`${he.button} ${he.secondary}`,onClick:e,children:""}),E.jsx("button",{type:"button",className:`${he.button} ${he.primary}`,onClick:D,disabled:d,children:d?" ...":""})]})]})]})}),document.body)},qI=n=>{const e=String(n||"").toUpperCase();return e.includes("GK")?"GK":e.includes("CB")?"CB":e.includes("RB")||e.includes("RWB")?"RB":e.includes("LB")||e.includes("LWB")?"LB":e.includes("CDM")||e==="DM"?"CDM":e.includes("CAM")?"CAM":e.includes("CM")||e.includes("RCM")||e.includes("LCM")||e==="MID"||e==="MF"?"CM":e.includes("RW")||e==="RM"?"RW":e.includes("LW")||e==="LM"?"LW":e.includes("ST")||e.includes("CF")||e.includes("FW")?"ST":"CM"},W6={RB:{RB:0,CB:1,CDM:2,LB:3,CM:4,RW:5,LW:6,CAM:7,ST:8},LB:{LB:0,CB:1,CDM:2,RB:3,CM:4,LW:5,RW:6,CAM:7,ST:8},CB:{CB:0,RB:1,LB:1,CDM:2,CM:3,RW:5,LW:5,ST:7,CAM:8},CDM:{CDM:0,CM:1,CB:2,RB:3,LB:3,CAM:4,RW:5,LW:5,ST:6},CM:{CM:0,CDM:1,CAM:1,RW:3,LW:3,RB:4,LB:4,ST:4,CB:5},CAM:{CAM:0,CM:1,ST:2,RW:3,LW:3,CDM:4,RB:6,LB:6,CB:7},ST:{ST:0,CAM:2,RW:3,LW:3,CM:4,CDM:5,RB:7,LB:7,CB:8},RW:{RW:0,ST:3,CAM:3,CM:4,LW:5,CDM:6,RB:6,LB:7,CB:8},LW:{LW:0,ST:3,CAM:3,CM:4,RW:5,CDM:6,LB:6,RB:7,CB:8}},$6=(n,e)=>{var t;return n==="GK"&&e!=="GK"||e==="GK"&&n!=="GK"?1/0:n===e?0:((t=W6[n])==null?void 0:t[e])??99},fE=(n,e,t)=>{const r=d=>{var h;return((h=e.get(d))==null?void 0:h.ovr)||0},s=d=>{var h;return qI((h=e.get(d))==null?void 0:h.pos)==="GK"},i=n.filter(s).sort((d,h)=>r(h)-r(d)),o=n.filter(d=>!s(d)).sort((d,h)=>r(h)-r(d)),a=[];i.length>0&&a.push(i[0]);const l=[...i.slice(1),...o];a.push(...l.slice(0,t-a.length));const c=n.filter(d=>!a.includes(d));return{starters:a,bench:c}},pE=(n,e,t)=>{let r=new Set(n);const s=e.map(a=>({slot:a,uid:null})),i=a=>{var l;return((l=t.get(a))==null?void 0:l.ovr)||0},o=a=>{var l;return qI((l=t.get(a))==null?void 0:l.pos)};return s.forEach(a=>{const l=[...r].filter(c=>o(c)===a.slot);if(l.length>0){const c=l.sort((d,h)=>i(h)-i(d))[0];a.uid=c,r.delete(c)}}),s.forEach(a=>{if(a.uid||r.size===0)return;const l=[...r].filter(c=>isFinite($6(a.slot,o(c))));if(l.length>0){const c=Math.floor(Math.random()*l.length),d=l[c];a.uid=d,r.delete(d)}}),s},H6=(n,e)=>{const t=new Map(n.map(c=>[c.uid,c])),r=c=>{var d;return((d=t.get(c))==null?void 0:d.ovr)||0},s=n.filter(c=>e[c.uid]==="A").map(c=>c.uid),i=n.filter(c=>e[c.uid]==="B").map(c=>c.uid);let o=n.filter(c=>!e[c.uid]);for(let c=o.length-1;c>0;c--){const d=Math.floor(Math.random()*(c+1));[o[c],o[d]]=[o[d],o[c]]}let a=s.reduce((c,d)=>c+r(d),0),l=i.reduce((c,d)=>c+r(d),0);return o.forEach(c=>{a<=l?(s.push(c.uid),a+=c.ovr):(i.push(c.uid),l+=c.ovr)}),{teamA:s,teamB:i}},tp=(n,e,t,r)=>{const s={"4-4-2":["GK","RB","CB","CB","LB","RM","CM","CM","LM","ST","ST"],"4-2-4":["GK","RB","CB","CB","LB","CDM","CM","RW","ST","ST","LW"],"4-3-3":["GK","RB","CB","CB","LB","CM","CDM","CAM","RW","ST","LW"]},i=new Map(n.map(I=>[I.uid,I])),o=s[t]||s["4-3-3"],a=s[r]||s["4-3-3"],{teamA:l,teamB:c}=H6(n,e),{starters:d,bench:h}=fE(l,i,o.length),{starters:p,bench:g}=fE(c,i,a.length),_=pE(d,o,i),D=pE(p,a,i);return{teams:{A:l,B:c},slots:{A:_,B:D},bench:{A:h,B:g}}},xm=n=>String(n||"").replace(/\s*\([^)]*\)\s*/g,"").trim(),mE=(n=[],e)=>{if(!n||n.length===0)return 0;const t=n.reduce((r,s)=>{var i;return r+(((i=e.get(s))==null?void 0:i.ovr)||0)},0);return Math.round(t/n.length)},Y6="_squadHeader_1w8ox_10",z6="_headerTop_1w8ox_16",q6="_matchInfo_1w8ox_23",Q6="_tabs_1w8ox_28",K6="_activeTab_1w8ox_46",G6="_controls_1w8ox_52",X6="_shuffleButton_1w8ox_59",J6="_readOnlyFormation_1w8ox_90",Z6="_ovrSummary_1w8ox_103",e9="_pane_1w8ox_114",t9="_paneHeader_1w8ox_118",n9="_slotList_1w8ox_134",r9="_benchList_1w8ox_135",s9="_slotItem_1w8ox_141",i9="_slotPlayerInfo_1w8ox_152",o9="_slotPosition_1w8ox_159",a9="_slotName_1w8ox_164",l9="_slotActions_1w8ox_169",u9="_slotOvr_1w8ox_176",c9="_pinButton_1w8ox_183",d9="_pinned_1w8ox_200",h9="_otherTeamPin_1w8ox_205",f9="_benchTitle_1w8ox_215",fe={squadHeader:Y6,headerTop:z6,matchInfo:q6,tabs:Q6,activeTab:K6,controls:G6,shuffleButton:X6,readOnlyFormation:J6,ovrSummary:Z6,pane:e9,paneHeader:t9,slotList:n9,benchList:r9,slotItem:s9,slotPlayerInfo:i9,slotPosition:o9,slotName:a9,slotActions:l9,slotOvr:u9,pinButton:c9,pinned:d9,otherTeamPin:h9,benchTitle:f9},p9=({match:n,page:e,setPage:t,formation:r,onFormationChange:s,onShuffle:i,onClose:o,avgOvr:a,canManage:l})=>{var d;const c=(d=n==null?void 0:n.when)!=null&&d.toDate?new Intl.DateTimeFormat("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit",weekday:"short",hour:"2-digit",minute:"2-digit"}).format(n.when.toDate()):"-";return E.jsxs("div",{className:`${he.header} ${fe.squadHeader}`,children:[E.jsxs("div",{className:fe.headerTop,children:[E.jsx("h3",{className:he.title,children:" "}),E.jsx("button",{className:he.closeButton,onClick:o,children:""})]}),E.jsx("div",{className:fe.matchInfo,children:c}),E.jsxs("div",{className:fe.tabs,children:[E.jsx("button",{onClick:()=>t(0),className:e===0?fe.activeTab:"",children:"1"}),E.jsx("button",{onClick:()=>t(1),className:e===1?fe.activeTab:"",children:"2"}),E.jsx("button",{onClick:()=>t(2),className:e===2?fe.activeTab:"",children:""})]}),e!==2&&E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:fe.controls,children:[l?E.jsx(nI,{value:r,onChange:s,options:["4-3-3","4-4-2","4-2-4"],placeholder:""}):E.jsxs("div",{className:fe.readOnlyFormation,children:[E.jsx("span",{children:""}),E.jsx("span",{children:r})]}),l&&E.jsx("button",{className:fe.shuffleButton,onClick:i,children:" "})]}),E.jsxs("div",{className:fe.ovrSummary,children:[E.jsxs("span",{children:["1  ",a.A]}),E.jsxs("span",{children:["2  ",a.B]})]})]})]})},gE=({title:n,teamLabel:e,slots:t,bench:r,attendeesMap:s,pins:i,canManage:o,onPin:a,onUnpin:l})=>E.jsxs("div",{className:fe.pane,children:[E.jsx("div",{className:fe.paneHeader,children:E.jsx("span",{children:n})}),E.jsx("div",{className:fe.slotList,children:t.map((c,d)=>{const h=c.uid?s.get(c.uid):null,p=i[c.uid]===e;return E.jsxs("div",{className:fe.slotItem,children:[E.jsxs("div",{className:fe.slotPlayerInfo,children:[E.jsx("span",{className:fe.slotPosition,children:c.slot}),E.jsx("span",{className:fe.slotName,children:h?xm(h.name):""}),i[c.uid]&&!p&&E.jsxs("span",{className:fe.otherTeamPin,children:[i[c.uid]," "]})]}),E.jsxs("div",{className:fe.slotActions,children:[h&&o&&E.jsx("button",{className:`${fe.pinButton} ${p?fe.pinned:""}`,title:p?" ":"  ",onClick:()=>p?l(c.uid):a(c.uid,e),children:""}),E.jsx("span",{className:fe.slotOvr,children:h?h.ovr:"-"})]})]},`${c.slot}-${d}`)})}),r.length>0&&E.jsxs(E.Fragment,{children:[E.jsxs("h4",{className:fe.benchTitle,children:[" (",r.length,")"]}),E.jsx("div",{className:fe.benchList,children:r.map(c=>{const d=s.get(c);if(!d)return null;const h=i[c]===e;return E.jsxs("div",{className:fe.slotItem,children:[E.jsxs("div",{className:fe.slotPlayerInfo,children:[E.jsx("span",{className:fe.slotName,children:xm(d.name)}),i[c]&&!h&&E.jsxs("span",{className:fe.otherTeamPin,children:[i[c]," "]})]}),E.jsxs("div",{className:fe.slotActions,children:[o&&E.jsx("button",{className:`${fe.pinButton} ${h?fe.pinned:""}`,title:h?" ":"  ",onClick:()=>h?l(c):a(c,e),children:""}),E.jsx("span",{className:fe.slotOvr,children:d.ovr})]})]},`bench-${c}`)})})]})]}),m9=({attendees:n})=>{const e=R.useMemo(()=>[...n].sort((t,r)=>(r.ovr||0)-(t.ovr||0)),[n]);return E.jsxs("div",{className:fe.pane,children:[E.jsxs("div",{className:fe.paneHeader,children:[E.jsx("span",{children:" "}),E.jsxs("span",{children:[" ",n.length,""]})]}),E.jsx("div",{className:fe.slotList,children:e.map(t=>E.jsxs("div",{className:fe.slotItem,children:[E.jsx("span",{className:fe.slotName,children:xm(t.name)}),E.jsx("span",{className:fe.slotOvr,children:t.ovr})]},t.uid))})]})},g9=({open:n,onClose:e,teamId:t,match:r,attendees:s=[],canManage:i})=>{const[o,a]=R.useState("4-3-3"),[l,c]=R.useState("4-3-3"),[d,h]=R.useState({teams:{A:[],B:[]},slots:{A:[],B:[]},bench:{A:[],B:[]}}),[p,g]=R.useState({}),[_,D]=R.useState(0),I=R.useMemo(()=>new Map(s.map(M=>[M.uid,M])),[s]),{avgOvr:w,currentSquad:y}=R.useMemo(()=>{if(!d||!d.teams)return{avgOvr:{A:0,B:0},currentSquad:d};const{teams:M}=d;return{avgOvr:{A:mE(M.A,I),B:mE(M.B,I)},currentSquad:d}},[d,I]);R.useEffect(()=>{if(!n||!t||!r)return;(async()=>{try{const S=pe(te,"teams",t,"matches",r.id,"meta","squad"),v=await Bs(S);if(v.exists()&&s.length>0){const C=v.data();a(C.formationA||"4-3-3"),c(C.formationB||"4-3-3"),g(C.pins||{}),h(C)}else a("4-3-3"),c("4-3-3"),g({}),h(tp(s,{},"4-3-3","4-3-3"))}catch(S){console.error("  :",S)}})()},[n,t,r,s.length]),R.useEffect(()=>{!n||s.length===0||h(tp(s,p,o,l))},[p,o,l]);const T=(M,S)=>{S==="A"?a(M):c(M)},A=async()=>{var M;if(!(!t||!r||!i))try{await Bi(pe(te,"teams",t,"matches",r.id,"meta","squad"),{...y,formationA:o,formationB:l,pins:p,updatedAt:Dd(),by:((M=rt.currentUser)==null?void 0:M.uid)||null}),alert(" ."),e()}catch(S){console.error("  :",S),alert("  .")}},L=()=>{const M=tp(s,p,o,l);h(M)};return!n||!r?null:ta.createPortal(E.jsx("div",{className:he.overlay,onMouseDown:e,children:E.jsxs("div",{className:he.content,style:{height:"90vh",maxHeight:"700px"},onMouseDown:M=>M.stopPropagation(),children:[E.jsx(p9,{match:r,page:_,setPage:D,formation:_===0?o:l,onFormationChange:M=>T(M,_===0?"A":"B"),onShuffle:L,onClose:e,avgOvr:w,canManage:i}),E.jsxs("div",{className:he.body,style:{overflowY:"auto",flex:1},children:[y.slots&&_===0&&E.jsx(gE,{title:"1",teamLabel:"A",slots:y.slots.A,bench:y.bench.A,attendeesMap:I,pins:p,canManage:i,onPin:(M,S)=>g(v=>({...v,[M]:S})),onUnpin:M=>g(S=>{const v={...S};return delete v[M],v})}),y.slots&&_===1&&E.jsx(gE,{title:"2",teamLabel:"B",slots:y.slots.B,bench:y.bench.B,attendeesMap:I,pins:p,canManage:i,onPin:(M,S)=>g(v=>({...v,[M]:S})),onUnpin:M=>g(S=>{const v={...S};return delete v[M],v})}),_===2&&E.jsx(m9,{attendees:s})]}),E.jsxs("div",{className:he.footer,children:[i&&E.jsx("button",{className:`${he.button} ${he.primary}`,onClick:A,children:""}),E.jsx("button",{className:`${he.button} ${he.secondary}`,onClick:e,children:""})]})]})}),document.body)},v9="_body_ksklc_6",y9="_matchInfo_ksklc_12",_9="_category_ksklc_17",w9="_categoryTitle_ksklc_21",E9="_noVotes_ksklc_29",T9="_resultsList_ksklc_35",S9="_resultItem_ksklc_41",ai={body:v9,matchInfo:y9,category:_9,categoryTitle:w9,noVotes:E9,resultsList:T9,resultItem:S9},np=({title:n,results:e=[]})=>E.jsxs("section",{className:ai.category,children:[E.jsxs("h4",{className:ai.categoryTitle,children:[n," "]}),e.length===0?E.jsx("div",{className:ai.noVotes,children:" "}):E.jsx("ul",{className:ai.resultsList,children:e.map(t=>E.jsxs("li",{className:ai.resultItem,children:[E.jsx("span",{children:t.name}),E.jsxs("span",{children:[t.cnt,""]})]},`${n}-${t.uid}`))})]}),C9=({open:n,onClose:e,match:t,data:r})=>{var i;if(!n||!t||!r)return null;const s=(i=t.when)!=null&&i.toDate?new Intl.DateTimeFormat("ko-KR",{dateStyle:"medium",timeStyle:"short"}).format(t.when.toDate()):"-";return ta.createPortal(E.jsx("div",{className:he.overlay,onMouseDown:e,children:E.jsxs("div",{className:he.content,onMouseDown:o=>o.stopPropagation(),children:[E.jsxs("div",{className:he.header,children:[E.jsx("h3",{className:he.title,children:" "}),E.jsx("button",{className:he.closeButton,onClick:e,children:""})]}),E.jsxs("div",{className:`${he.body} ${ai.body}`,children:[E.jsxs("p",{className:ai.matchInfo,children:[E.jsx("strong",{children:s}),E.jsx("br",{}),t.location," "]}),E.jsx(np,{title:"",results:r.attack}),E.jsx(np,{title:"",results:r.defense}),E.jsx(np,{title:"MVP",results:r.mvp})]}),E.jsx("div",{className:he.footer,children:E.jsx("button",{className:`${he.button} ${he.secondary}`,onClick:e,children:""})})]})}),document.body)},I9="_pageContainer_wwgjd_10",k9="_content_wwgjd_16",D9="_loadingContainer_wwgjd_20",P9="_section_wwgjd_28",b9="_emptyState_wwgjd_35",x9="_header_wwgjd_44",R9="_headerMain_wwgjd_52",A9="_headerActions_wwgjd_61",N9="_actionButton_wwgjd_66",M9="_actionLink_wwgjd_79",O9="_inviteCode_wwgjd_85",L9="_card_wwgjd_5",V9="_cardClickableArea_wwgjd_124",F9="_cardActions_wwgjd_5",j9="_attendanceButtons_wwgjd_132",B9="_attButton_wwgjd_137",U9="_active_wwgjd_148",W9="_adminActions_wwgjd_153",$9="_adminButton_wwgjd_159",H9="_primary_wwgjd_167",Y9="_danger_wwgjd_171",z9="_deleteButton_wwgjd_175",q9="_cardCompleted_wwgjd_184",Q9="_memberCard_wwgjd_190",K9="_captainCard_wwgjd_205",G9="_viceCard_wwgjd_209",X9="_memberHeader_wwgjd_215",J9="_memberName_wwgjd_222",Z9="_memberOvr_wwgjd_228",e5="_memberMeta_wwgjd_235",t5="_captainActions_wwgjd_240",n5="_createMatchButton_wwgjd_269",r5="_topRightActions_wwgjd_299",de={pageContainer:I9,content:k9,loadingContainer:D9,section:P9,emptyState:b9,header:x9,headerMain:R9,headerActions:A9,actionButton:N9,actionLink:M9,inviteCode:O9,card:L9,cardClickableArea:V9,cardActions:F9,attendanceButtons:j9,attButton:B9,active:U9,adminActions:W9,adminButton:$9,primary:H9,danger:Y9,deleteButton:z9,cardCompleted:q9,memberCard:Q9,captainCard:K9,viceCard:G9,memberHeader:X9,memberName:J9,memberOvr:Z9,memberMeta:e5,captainActions:t5,createMatchButton:n5,topRightActions:r5};function s5({userProfile:n}){const{teamId:e}=Ib(),t=qs(),[r,s]=R.useState(null),[i,o]=R.useState([]),[a,l]=R.useState([]),[c,d]=R.useState({}),[h,p]=R.useState(!0),[g,_]=R.useState(!1),[D,I]=R.useState(!1),[w,y]=R.useState({open:!1,match:null,attendees:[]}),[T,A]=R.useState({open:!1,match:null,attendees:[]}),[L,M]=R.useState({open:!1,match:null,data:null}),S=R.useMemo(()=>(n==null?void 0:n.teamId)===e?((n==null?void 0:n.teamRole)||"member").toLowerCase():"",[n,e]),v=S==="captain",C=S.includes("vice"),P=v||C;R.useEffect(()=>{if(!e)return;p(!0);const F=pe(te,"teams",e),H=Qa(F,Se=>{Se.exists()?s(Se.data()):t("/")}),Q=As(cn(te,"teams",e,"members")),J=Qa(Q,async Se=>{var Wi;const ge=Se.docs.map(Ge=>({id:Ge.id,...Ge.data()})),$e=await Promise.all(ge.map(Ge=>Bs(pe(te,"users",Ge.id)).catch(()=>null))),yt=new Map($e.filter(Boolean).map(Ge=>[Ge.id,Ge.data()])),Gr=[];for(const Ge of ge){const ht=yt.get(Ge.id);if(!ht||ht.teamId!==e){P&&jO(pe(te,"teams",e,"members",Ge.id));continue}let Un=60;if(typeof ht.playerOvr=="number")Un=ht.playerOvr;else if(ht.stats){const pr=Object.values(ht.stats).filter(Jr=>typeof Jr=="number");pr.length>0&&(Un=Math.round(pr.reduce((Jr,$i)=>Jr+$i,0)/pr.length))}Gr.push({...Ge,selectedPlayerName:((Wi=ht.selectedPlayer)==null?void 0:Wi.name)||null,position:ht.position||Ge.position,displayOvr:Un})}const Dn=Ge=>{const ht=String(Ge||"member").toLowerCase();return ht==="captain"?0:ht.includes("vice")?1:2},Xr=[...Gr].sort((Ge,ht)=>{const Un=Dn(Ge.role),pr=Dn(ht.role);if(Un!==pr)return Un-pr;const Jr=Ge.displayOvr||0,$i=ht.displayOvr||0;return $i!==Jr?$i-Jr:(Ge.realName||"").localeCompare(ht.realName||"","ko")});o(Xr),p(!1)}),le=As(cn(te,"teams",e,"matches"),LO("when","desc")),De=Qa(le,Se=>{l(Se.docs.map(ge=>({id:ge.id,...ge.data()}))),p(!1)});return()=>{H(),J(),De()}},[e,t,P]),R.useEffect(()=>{var Q;const F=(Q=rt.currentUser)==null?void 0:Q.uid;if(!e||!F||a.length===0){d({});return}const H=a.map(J=>Qa(pe(te,"teams",e,"matches",J.id,"attendance",F),le=>{d(De=>({...De,[J.id]:le.exists()?le.data().status:"none"}))}));return()=>H.forEach(J=>J())},[e,a]);const x=R.useCallback(async F=>{if(!e||!(F!=null&&F.id))return[];const H=cn(te,"teams",e,"matches",F.id,"attendance"),Q=As(H,$o("status","==","yes")),le=(await er(Q)).docs.map(Se=>Se.id);return le.length===0?[]:(await Promise.all(le.map(Se=>Bs(pe(te,"users",Se))))).map(Se=>{if(!Se.exists())return null;const ge=Se.data(),$e=ge.realName;let yt=60;if(typeof ge.playerOvr=="number")yt=ge.playerOvr;else if(ge.stats){const Gr=Object.values(ge.stats).filter(Dn=>typeof Dn=="number");Gr.length>0&&(yt=Math.round(Gr.reduce((Dn,Xr)=>Dn+Xr,0)/Gr.length))}return{uid:Se.id,name:$e,pos:ge.position||"CM",ovr:yt}}).filter(Boolean)},[e]),N=R.useCallback(async F=>{try{const H=await x(F);if(F.status==="completed"){const Q=new Map(H.map(ge=>[ge.uid,ge.name])),J=cn(te,"teams",e,"matches",F.id,"surveys"),le=await er(J),De={attack:new Map,defense:new Map,mvp:new Map};le.docs.forEach(ge=>{const $e=ge.data()||{};($e.attack||[]).forEach(yt=>De.attack.set(yt,(De.attack.get(yt)||0)+1)),($e.defense||[]).forEach(yt=>De.defense.set(yt,(De.defense.get(yt)||0)+1)),$e.mvp&&De.mvp.set($e.mvp,(De.mvp.get($e.mvp)||0)+1)});const Se=ge=>[...ge.entries()].map(([$e,yt])=>({uid:$e,cnt:yt,name:Q.get($e)||"()"})).sort(($e,yt)=>yt.cnt-$e.cnt);M({open:!0,match:F,data:{attack:Se(De.attack),defense:Se(De.defense),mvp:Se(De.mvp)}})}else y({open:!0,match:F,attendees:H})}catch(H){console.error("   :",H),alert("    .")}},[e,x]),b=async F=>{if(!e)return;const Q=(F.role||"").toLowerCase().includes("vice")?"member":"vice-captain";try{const J=Ka(te),le=pe(te,"teams",e,"members",F.id);J.update(le,{role:Q});const De=pe(te,"users",F.id);J.update(De,{teamRole:Q}),await J.commit()}catch(J){console.error(" / :",J),alert("    .")}},se=async()=>{var H;const F=(H=rt.currentUser)==null?void 0:H.uid;if(!F||!e){alert(":      .");return}if(window.confirm("   ?     .")){_(!0);try{const Q=Ka(te),J=pe(te,"teams",e,"members",F);Q.delete(J);const le=pe(te,"users",F);Q.update(le,{teamId:dl(),teamRole:dl()}),await Q.commit(),t("/")}catch(Q){console.error("  :",Q),alert("    ."),_(!1)}}},re=async F=>{var Q;const H=(Q=rt.currentUser)==null?void 0:Q.uid;if(!(!e||!H||!F.id||H===F.id)&&window.confirm(`${F.realName}  ?     .`))try{const J=Ka(te),le=pe(te,"teams",e,"members",F.id),De=pe(te,"users",F.id);J.update(le,{role:"captain"}),J.update(De,{teamRole:"captain"});const Se=pe(te,"teams",e,"members",H),ge=pe(te,"users",H);J.update(Se,{role:"member"}),J.update(ge,{teamRole:"member"}),await J.commit()}catch(J){console.error("  :",J),alert("    .")}},ee=async(F,H)=>{var J;const Q=(J=rt.currentUser)==null?void 0:J.uid;if(!Q||!e||!F){console.error("   /  .");return}try{const le=pe(te,"teams",e,"matches",F,"attendance",Q);await Bi(le,{status:H})}catch(le){console.error("   :",le),alert("     .")}},ie=async F=>{if(!(!e||!(F!=null&&F.id))&&window.confirm("   ?       ."))try{const H=Ka(te),Q=cn(te,"teams",e,"matches",F.id,"attendance");(await er(Q)).docs.forEach(ge=>H.delete(ge.ref));const le=cn(te,"teams",e,"matches",F.id,"surveys");(await er(le)).docs.forEach(ge=>H.delete(ge.ref));const Se=pe(te,"teams",e,"matches",F.id);H.delete(Se),await H.commit()}catch(H){console.error("  :",H),alert("    .")}},B=async F=>{var H;if(!(!e||!(F!=null&&F.id)))try{const Q=await x(F);if(!Q||Q.length===0){alert(` 0    .
 ''  .`);return}const J=Q.map(ge=>ge.uid),le=pe(te,"teams",e,"matches",F.id);await Ho(le,{status:"completed",pendingSurveyParticipants:J});const De=(H=rt.currentUser)==null?void 0:H.uid;J.includes(De)?A({open:!0,match:F,attendees:Q}):alert("  .")}catch(Q){console.error("   :",Q),alert("    .")}};return h&&!r?E.jsx("div",{className:de.loadingContainer,children:"   ..."}):E.jsxs("div",{className:de.pageContainer,children:[E.jsx(i5,{teamInfo:r,isCaptain:v,onLeaveTeam:se,isLeaving:g}),E.jsxs("main",{className:de.content,children:[E.jsxs("section",{className:de.section,children:[E.jsxs("h3",{children:["  (",a.length,")"]}),a.length===0?E.jsx("div",{className:de.emptyState,children:"  ."}):a.map(F=>E.jsx(o5,{match:F,myStatus:c[F.id]||"none",canManage:P,onCardClick:()=>N(F),onSetAttendance:H=>ee(F.id,H),onComplete:()=>B(F),onCancel:()=>ie(F),onDelete:()=>ie(F)},F.id))]}),P&&E.jsx("section",{className:de.section,children:E.jsxs("button",{className:de.createMatchButton,onClick:()=>I(!0),children:[E.jsx("h4",{children:"  "}),E.jsx("p",{children:"     ."})]})}),E.jsxs("section",{className:de.section,children:[E.jsxs("h3",{children:["  (",i.length,")"]}),i.map(F=>{var H;return E.jsx(a5,{member:F,isMyCard:((H=rt.currentUser)==null?void 0:H.uid)===F.id,isCaptainView:v,onDelegateCaptain:()=>re(F),onSetVice:()=>b(F)},F.id)})]})]}),D&&E.jsx(U6,{teamId:e,onClose:()=>I(!1)}),w.open&&E.jsx(g9,{...w,onClose:()=>y(F=>({...F,open:!1})),teamId:e,canManage:P}),T.open&&E.jsx(rI,{...T,onClose:()=>A(F=>({...F,open:!1})),teamId:e,userProfile:n}),L.open&&E.jsx(C9,{...L,onClose:()=>M(F=>({...F,open:!1}))})]})}const i5=({teamInfo:n,isCaptain:e,onLeaveTeam:t,isLeaving:r})=>E.jsxs("header",{className:de.header,children:[E.jsxs("div",{className:de.headerMain,children:[E.jsx("h2",{className:de.headerTitle,children:(n==null?void 0:n.teamName)||" "}),E.jsxs("div",{className:de.headerActions,children:[!e&&E.jsx("button",{className:de.actionButton,onClick:t,disabled:r,children:r?" ":" "}),E.jsx(Ii,{to:"/",className:de.actionLink,children:" "})]})]}),E.jsxs("div",{className:de.inviteCode,children:[" : ",E.jsx("strong",{children:(n==null?void 0:n.inviteCode)||"-"})]})]}),o5=({match:n,myStatus:e,canManage:t,onCardClick:r,onSetAttendance:s,onComplete:i,onCancel:o,onDelete:a})=>{var h;const l=(h=n.when)!=null&&h.toDate?u4(n.when.toDate(),"yyyy.MM.dd (EEE) HH:mm",{locale:Tm}):"-",c=!n.status||n.status==="pending",d=n.status==="completed";return E.jsxs("div",{className:`${de.card} ${d?de.cardCompleted:""}`,children:[t&&E.jsx("div",{className:de.topRightActions,children:d&&E.jsx("button",{onClick:p=>{p.stopPropagation(),a()},title:" ",className:de.deleteButton,children:""})}),E.jsxs("div",{role:"button",tabIndex:0,className:de.cardClickableArea,onClick:r,onKeyDown:p=>p.key==="Enter"&&r(),children:[E.jsx("h4",{children:l}),E.jsx("p",{children:n.location})]}),c&&E.jsxs("div",{className:de.cardActions,children:[E.jsxs("div",{className:de.attendanceButtons,children:[E.jsx("button",{className:`${de.attButton} ${e==="yes"?de.active:""}`,onClick:()=>s("yes"),children:""}),E.jsx("button",{className:`${de.attButton} ${e==="maybe"?de.active:""}`,onClick:()=>s("maybe"),children:""}),E.jsx("button",{className:`${de.attButton} ${e==="no"?de.active:""}`,onClick:()=>s("no"),children:""})]}),t&&E.jsxs("div",{className:de.adminActions,children:[E.jsx("button",{className:`${de.adminButton} ${de.primary}`,onClick:()=>i(),children:" "}),E.jsx("button",{className:`${de.adminButton} ${de.danger}`,onClick:()=>o(),children:" "})]})]})]})},a5=({member:n,isMyCard:e,isCaptainView:t,onDelegateCaptain:r,onSetVice:s})=>{const i=n.selectedPlayerName?`${n.realName} (${n.selectedPlayerName})`:n.realName,o=(n.role||"member").toLowerCase(),a=o==="captain",l=o.includes("vice");return E.jsxs("div",{className:`${de.memberCard} ${a?de.captainCard:""} ${l?de.viceCard:""}`,children:[E.jsxs("div",{className:de.memberHeader,children:[E.jsx("div",{className:de.memberName,children:i}),E.jsx("div",{className:de.memberOvr,children:n.displayOvr??"-"})]}),E.jsxs("div",{className:de.memberMeta,children:[n.position||"-","  ",n.role||"member"]}),t&&!e&&!a&&E.jsxs("div",{className:de.captainActions,children:[E.jsx("button",{onClick:r,children:" "}),E.jsx("button",{onClick:s,className:l?de.active:"",children:" "})]})]})};function l5(){const[n,e]=R.useState(null),[t,r]=R.useState(null),[s,i]=R.useState(!0),[o,a]=R.useState(!0),c="/team-builder/".replace(/\/+$/,"")||"/",d=c==="/"?void 0:c;if(R.useEffect(()=>{const g=setTimeout(()=>a(!1),1400);return()=>clearTimeout(g)},[]),R.useEffect(()=>{const p=bA(rt,g=>{e(g),g||i(!1)});return()=>p()},[]),R.useEffect(()=>{if(n){const p=pe(te,"users",n.uid),g=Qa(p,_=>{_.exists()?r(_.data()):r(null),i(!1)},_=>{console.error("  :",_),i(!1)});return()=>g()}else r(null)},[n]),o)return E.jsx(ZO,{});if(s)return E.jsx("div",{className:"loading-container",children:" ..."});const h=()=>n?t!=null&&t.surveyCompleted?E.jsxs(xf,{children:[E.jsx(xn,{path:"/",element:E.jsx(LV,{userProfile:t})}),E.jsx(xn,{path:"/create-team",element:E.jsx(qV,{})}),E.jsx(xn,{path:"/join-team",element:E.jsx(sF,{})}),E.jsx(xn,{path:"/team/:teamId",element:E.jsx(s5,{userProfile:t})}),E.jsx(xn,{path:"*",element:E.jsx(bf,{to:"/"})})]}):E.jsxs(xf,{children:[E.jsx(xn,{path:"/survey",element:E.jsx(VL,{userProfile:t})}),E.jsx(xn,{path:"*",element:E.jsx(bf,{to:"/survey"})})]}):E.jsxs(xf,{children:[E.jsx(xn,{path:"/login",element:E.jsx(uL,{})}),E.jsx(xn,{path:"/signup",element:E.jsx(cL,{})}),E.jsx(xn,{path:"*",element:E.jsx(bf,{to:"/login"})})]});return E.jsx(qb,{basename:d,children:h()})}xS(document.getElementById("root")).render(E.jsx(R.StrictMode,{children:E.jsx(l5,{})}));
