var wD=Object.defineProperty;var ED=(n,e,t)=>e in n?wD(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var K=(n,e,t)=>ED(n,typeof e!="symbol"?e+"":e,t);function TD(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();function gE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var vE={exports:{}},Ud={},yE={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yl=Symbol.for("react.element"),SD=Symbol.for("react.portal"),CD=Symbol.for("react.fragment"),ID=Symbol.for("react.strict_mode"),kD=Symbol.for("react.profiler"),DD=Symbol.for("react.provider"),PD=Symbol.for("react.context"),bD=Symbol.for("react.forward_ref"),RD=Symbol.for("react.suspense"),xD=Symbol.for("react.memo"),AD=Symbol.for("react.lazy"),Fy=Symbol.iterator;function ND(n){return n===null||typeof n!="object"?null:(n=Fy&&n[Fy]||n["@@iterator"],typeof n=="function"?n:null)}var _E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wE=Object.assign,EE={};function Xo(n,e,t){this.props=n,this.context=e,this.refs=EE,this.updater=t||_E}Xo.prototype.isReactComponent={};Xo.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Xo.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function TE(){}TE.prototype=Xo.prototype;function Rm(n,e,t){this.props=n,this.context=e,this.refs=EE,this.updater=t||_E}var xm=Rm.prototype=new TE;xm.constructor=Rm;wE(xm,Xo.prototype);xm.isPureReactComponent=!0;var jy=Array.isArray,SE=Object.prototype.hasOwnProperty,Am={current:null},CE={key:!0,ref:!0,__self:!0,__source:!0};function IE(n,e,t){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)SE.call(e,r)&&!CE.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Yl,type:n,key:i,ref:o,props:s,_owner:Am.current}}function MD(n,e){return{$$typeof:Yl,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function Nm(n){return typeof n=="object"&&n!==null&&n.$$typeof===Yl}function OD(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var By=/\/+/g;function ef(n,e){return typeof n=="object"&&n!==null&&n.key!=null?OD(""+n.key):e.toString(36)}function dc(n,e,t,r,s){var i=typeof n;(i==="undefined"||i==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Yl:case SD:o=!0}}if(o)return o=n,s=s(o),n=r===""?"."+ef(o,0):r,jy(s)?(t="",n!=null&&(t=n.replace(By,"$&/")+"/"),dc(s,e,t,"",function(c){return c})):s!=null&&(Nm(s)&&(s=MD(s,t+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(By,"$&/")+"/")+n)),e.push(s)),1;if(o=0,r=r===""?".":r+":",jy(n))for(var a=0;a<n.length;a++){i=n[a];var l=r+ef(i,a);o+=dc(i,e,t,l,s)}else if(l=ND(n),typeof l=="function")for(n=l.call(n),a=0;!(i=n.next()).done;)i=i.value,l=r+ef(i,a++),o+=dc(i,e,t,l,s);else if(i==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ou(n,e,t){if(n==null)return n;var r=[],s=0;return dc(n,r,"","",function(i){return e.call(t,i,s++)}),r}function LD(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Xt={current:null},hc={transition:null},VD={ReactCurrentDispatcher:Xt,ReactCurrentBatchConfig:hc,ReactCurrentOwner:Am};function kE(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:Ou,forEach:function(n,e,t){Ou(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Ou(n,function(){e++}),e},toArray:function(n){return Ou(n,function(e){return e})||[]},only:function(n){if(!Nm(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};ve.Component=Xo;ve.Fragment=CD;ve.Profiler=kD;ve.PureComponent=Rm;ve.StrictMode=ID;ve.Suspense=RD;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VD;ve.act=kE;ve.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=wE({},n.props),s=n.key,i=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Am.current),e.key!==void 0&&(s=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)SE.call(e,l)&&!CE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Yl,type:n.type,key:s,ref:i,props:r,_owner:o}};ve.createContext=function(n){return n={$$typeof:PD,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:DD,_context:n},n.Consumer=n};ve.createElement=IE;ve.createFactory=function(n){var e=IE.bind(null,n);return e.type=n,e};ve.createRef=function(){return{current:null}};ve.forwardRef=function(n){return{$$typeof:bD,render:n}};ve.isValidElement=Nm;ve.lazy=function(n){return{$$typeof:AD,_payload:{_status:-1,_result:n},_init:LD}};ve.memo=function(n,e){return{$$typeof:xD,type:n,compare:e===void 0?null:e}};ve.startTransition=function(n){var e=hc.transition;hc.transition={};try{n()}finally{hc.transition=e}};ve.unstable_act=kE;ve.useCallback=function(n,e){return Xt.current.useCallback(n,e)};ve.useContext=function(n){return Xt.current.useContext(n)};ve.useDebugValue=function(){};ve.useDeferredValue=function(n){return Xt.current.useDeferredValue(n)};ve.useEffect=function(n,e){return Xt.current.useEffect(n,e)};ve.useId=function(){return Xt.current.useId()};ve.useImperativeHandle=function(n,e,t){return Xt.current.useImperativeHandle(n,e,t)};ve.useInsertionEffect=function(n,e){return Xt.current.useInsertionEffect(n,e)};ve.useLayoutEffect=function(n,e){return Xt.current.useLayoutEffect(n,e)};ve.useMemo=function(n,e){return Xt.current.useMemo(n,e)};ve.useReducer=function(n,e,t){return Xt.current.useReducer(n,e,t)};ve.useRef=function(n){return Xt.current.useRef(n)};ve.useState=function(n){return Xt.current.useState(n)};ve.useSyncExternalStore=function(n,e,t){return Xt.current.useSyncExternalStore(n,e,t)};ve.useTransition=function(){return Xt.current.useTransition()};ve.version="18.3.1";yE.exports=ve;var A=yE.exports;const j=gE(A),Mm=TD({__proto__:null,default:j},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FD=A,jD=Symbol.for("react.element"),BD=Symbol.for("react.fragment"),UD=Object.prototype.hasOwnProperty,WD=FD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$D={key:!0,ref:!0,__self:!0,__source:!0};function DE(n,e,t){var r,s={},i=null,o=null;t!==void 0&&(i=""+t),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)UD.call(e,r)&&!$D.hasOwnProperty(r)&&(s[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:jD,type:n,key:i,ref:o,props:s,_owner:WD.current}}Ud.Fragment=BD;Ud.jsx=DE;Ud.jsxs=DE;vE.exports=Ud;var T=vE.exports,PE={exports:{}},gn={},bE={exports:{}},RE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(B,F){var H=B.length;B.push(F);e:for(;0<H;){var Q=H-1>>>1,J=B[Q];if(0<s(J,F))B[Q]=F,B[H]=J,H=Q;else break e}}function t(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var F=B[0],H=B.pop();if(H!==F){B[0]=H;e:for(var Q=0,J=B.length,le=J>>>1;Q<le;){var De=2*(Q+1)-1,Se=B[De],ge=De+1,$e=B[ge];if(0>s(Se,H))ge<J&&0>s($e,Se)?(B[Q]=$e,B[ge]=H,Q=ge):(B[Q]=Se,B[De]=H,Q=De);else if(ge<J&&0>s($e,H))B[Q]=$e,B[ge]=H,Q=ge;else break e}}return F}function s(B,F){var H=B.sortIndex-F.sortIndex;return H!==0?H:B.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;n.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,p=3,g=!1,_=!1,D=!1,I=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(B){for(var F=t(c);F!==null;){if(F.callback===null)r(c);else if(F.startTime<=B)r(c),F.sortIndex=F.expirationTime,e(l,F);else break;F=t(c)}}function x(B){if(D=!1,E(B),!_)if(t(l)!==null)_=!0,ee(L);else{var F=t(c);F!==null&&ie(x,F.startTime-B)}}function L(B,F){_=!1,D&&(D=!1,w(v),v=-1),g=!0;var H=p;try{for(E(F),h=t(l);h!==null&&(!(h.expirationTime>F)||B&&!R());){var Q=h.callback;if(typeof Q=="function"){h.callback=null,p=h.priorityLevel;var J=Q(h.expirationTime<=F);F=n.unstable_now(),typeof J=="function"?h.callback=J:h===t(l)&&r(l),E(F)}else r(l);h=t(l)}if(h!==null)var le=!0;else{var De=t(c);De!==null&&ie(x,De.startTime-F),le=!1}return le}finally{h=null,p=H,g=!1}}var M=!1,S=null,v=-1,C=5,P=-1;function R(){return!(n.unstable_now()-P<C)}function N(){if(S!==null){var B=n.unstable_now();P=B;var F=!0;try{F=S(!0,B)}finally{F?b():(M=!1,S=null)}}else M=!1}var b;if(typeof y=="function")b=function(){y(N)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,re=se.port2;se.port1.onmessage=N,b=function(){re.postMessage(null)}}else b=function(){I(N,0)};function ee(B){S=B,M||(M=!0,b())}function ie(B,F){v=I(function(){B(n.unstable_now())},F)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(B){B.callback=null},n.unstable_continueExecution=function(){_||g||(_=!0,ee(L))},n.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<B?Math.floor(1e3/B):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(B){switch(p){case 1:case 2:case 3:var F=3;break;default:F=p}var H=p;p=F;try{return B()}finally{p=H}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(B,F){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var H=p;p=B;try{return F()}finally{p=H}},n.unstable_scheduleCallback=function(B,F,H){var Q=n.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?Q+H:Q):H=Q,B){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=H+J,B={id:d++,callback:F,priorityLevel:B,startTime:H,expirationTime:J,sortIndex:-1},H>Q?(B.sortIndex=H,e(c,B),t(l)===null&&B===t(c)&&(D?(w(v),v=-1):D=!0,ie(x,H-Q))):(B.sortIndex=J,e(l,B),_||g||(_=!0,ee(L))),B},n.unstable_shouldYield=R,n.unstable_wrapCallback=function(B){var F=p;return function(){var H=p;p=F;try{return B.apply(this,arguments)}finally{p=H}}}})(RE);bE.exports=RE;var HD=bE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YD=A,mn=HD;function $(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xE=new Set,dl={};function Mi(n,e){Do(n,e),Do(n+"Capture",e)}function Do(n,e){for(dl[n]=e,n=0;n<e.length;n++)xE.add(e[n])}var Lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),np=Object.prototype.hasOwnProperty,zD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Uy={},Wy={};function qD(n){return np.call(Wy,n)?!0:np.call(Uy,n)?!1:zD.test(n)?Wy[n]=!0:(Uy[n]=!0,!1)}function QD(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function KD(n,e,t,r){if(e===null||typeof e>"u"||QD(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Jt(n,e,t,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Dt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Dt[n]=new Jt(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Dt[e]=new Jt(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Dt[n]=new Jt(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Dt[n]=new Jt(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Dt[n]=new Jt(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Dt[n]=new Jt(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Dt[n]=new Jt(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Dt[n]=new Jt(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Dt[n]=new Jt(n,5,!1,n.toLowerCase(),null,!1,!1)});var Om=/[\-:]([a-z])/g;function Lm(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(Om,Lm);Dt[e]=new Jt(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(Om,Lm);Dt[e]=new Jt(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(Om,Lm);Dt[e]=new Jt(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Dt[n]=new Jt(n,1,!1,n.toLowerCase(),null,!1,!1)});Dt.xlinkHref=new Jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Dt[n]=new Jt(n,1,!1,n.toLowerCase(),null,!0,!0)});function Vm(n,e,t,r){var s=Dt.hasOwnProperty(e)?Dt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(KD(e,t,s,r)&&(t=null),r||s===null?qD(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):s.mustUseProperty?n[s.propertyName]=t===null?s.type===3?!1:"":t:(e=s.attributeName,r=s.attributeNamespace,t===null?n.removeAttribute(e):(s=s.type,t=s===3||s===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Yr=YD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Lu=Symbol.for("react.element"),eo=Symbol.for("react.portal"),to=Symbol.for("react.fragment"),Fm=Symbol.for("react.strict_mode"),rp=Symbol.for("react.profiler"),AE=Symbol.for("react.provider"),NE=Symbol.for("react.context"),jm=Symbol.for("react.forward_ref"),sp=Symbol.for("react.suspense"),ip=Symbol.for("react.suspense_list"),Bm=Symbol.for("react.memo"),os=Symbol.for("react.lazy"),ME=Symbol.for("react.offscreen"),$y=Symbol.iterator;function Sa(n){return n===null||typeof n!="object"?null:(n=$y&&n[$y]||n["@@iterator"],typeof n=="function"?n:null)}var Qe=Object.assign,tf;function Va(n){if(tf===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);tf=e&&e[1]||""}return`
`+tf+n}var nf=!1;function rf(n,e){if(!n||nf)return"";nf=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){r=c}n.call(e.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{nf=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Va(n):""}function GD(n){switch(n.tag){case 5:return Va(n.type);case 16:return Va("Lazy");case 13:return Va("Suspense");case 19:return Va("SuspenseList");case 0:case 2:case 15:return n=rf(n.type,!1),n;case 11:return n=rf(n.type.render,!1),n;case 1:return n=rf(n.type,!0),n;default:return""}}function op(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case to:return"Fragment";case eo:return"Portal";case rp:return"Profiler";case Fm:return"StrictMode";case sp:return"Suspense";case ip:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case NE:return(n.displayName||"Context")+".Consumer";case AE:return(n._context.displayName||"Context")+".Provider";case jm:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Bm:return e=n.displayName||null,e!==null?e:op(n.type)||"Memo";case os:e=n._payload,n=n._init;try{return op(n(e))}catch{}}return null}function XD(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return op(e);case 8:return e===Fm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ms(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function OE(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function JD(n){var e=OE(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var s=t.get,i=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Vu(n){n._valueTracker||(n._valueTracker=JD(n))}function LE(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=OE(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function Fc(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function ap(n,e){var t=e.checked;return Qe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function Hy(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=Ms(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function VE(n,e){e=e.checked,e!=null&&Vm(n,"checked",e,!1)}function lp(n,e){VE(n,e);var t=Ms(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?up(n,e.type,t):e.hasOwnProperty("defaultValue")&&up(n,e.type,Ms(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function Yy(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function up(n,e,t){(e!=="number"||Fc(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Fa=Array.isArray;function po(n,e,t,r){if(n=n.options,e){e={};for(var s=0;s<t.length;s++)e["$"+t[s]]=!0;for(t=0;t<n.length;t++)s=e.hasOwnProperty("$"+n[t].value),n[t].selected!==s&&(n[t].selected=s),s&&r&&(n[t].defaultSelected=!0)}else{for(t=""+Ms(t),e=null,s=0;s<n.length;s++){if(n[s].value===t){n[s].selected=!0,r&&(n[s].defaultSelected=!0);return}e!==null||n[s].disabled||(e=n[s])}e!==null&&(e.selected=!0)}}function cp(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return Qe({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function zy(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error($(92));if(Fa(t)){if(1<t.length)throw Error($(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Ms(t)}}function FE(n,e){var t=Ms(e.value),r=Ms(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function qy(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function jE(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dp(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?jE(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Fu,BE=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,s){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,s)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Fu=Fu||document.createElement("div"),Fu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Fu.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function hl(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Ga={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ZD=["Webkit","ms","Moz","O"];Object.keys(Ga).forEach(function(n){ZD.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Ga[e]=Ga[n]})});function UE(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Ga.hasOwnProperty(n)&&Ga[n]?(""+e).trim():e+"px"}function WE(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,s=UE(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,s):n[t]=s}}var eP=Qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hp(n,e){if(e){if(eP[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function fp(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pp=null;function Um(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var mp=null,mo=null,go=null;function Qy(n){if(n=Ql(n)){if(typeof mp!="function")throw Error($(280));var e=n.stateNode;e&&(e=zd(e),mp(n.stateNode,n.type,e))}}function $E(n){mo?go?go.push(n):go=[n]:mo=n}function HE(){if(mo){var n=mo,e=go;if(go=mo=null,Qy(n),e)for(n=0;n<e.length;n++)Qy(e[n])}}function YE(n,e){return n(e)}function zE(){}var sf=!1;function qE(n,e,t){if(sf)return n(e,t);sf=!0;try{return YE(n,e,t)}finally{sf=!1,(mo!==null||go!==null)&&(zE(),HE())}}function fl(n,e){var t=n.stateNode;if(t===null)return null;var r=zd(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error($(231,e,typeof t));return t}var gp=!1;if(Lr)try{var Ca={};Object.defineProperty(Ca,"passive",{get:function(){gp=!0}}),window.addEventListener("test",Ca,Ca),window.removeEventListener("test",Ca,Ca)}catch{gp=!1}function tP(n,e,t,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(d){this.onError(d)}}var Xa=!1,jc=null,Bc=!1,vp=null,nP={onError:function(n){Xa=!0,jc=n}};function rP(n,e,t,r,s,i,o,a,l){Xa=!1,jc=null,tP.apply(nP,arguments)}function sP(n,e,t,r,s,i,o,a,l){if(rP.apply(this,arguments),Xa){if(Xa){var c=jc;Xa=!1,jc=null}else throw Error($(198));Bc||(Bc=!0,vp=c)}}function Oi(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function QE(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function Ky(n){if(Oi(n)!==n)throw Error($(188))}function iP(n){var e=n.alternate;if(!e){if(e=Oi(n),e===null)throw Error($(188));return e!==n?null:n}for(var t=n,r=e;;){var s=t.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){t=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===t)return Ky(s),n;if(i===r)return Ky(s),e;i=i.sibling}throw Error($(188))}if(t.return!==r.return)t=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o)throw Error($(189))}}if(t.alternate!==r)throw Error($(190))}if(t.tag!==3)throw Error($(188));return t.stateNode.current===t?n:e}function KE(n){return n=iP(n),n!==null?GE(n):null}function GE(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=GE(n);if(e!==null)return e;n=n.sibling}return null}var XE=mn.unstable_scheduleCallback,Gy=mn.unstable_cancelCallback,oP=mn.unstable_shouldYield,aP=mn.unstable_requestPaint,nt=mn.unstable_now,lP=mn.unstable_getCurrentPriorityLevel,Wm=mn.unstable_ImmediatePriority,JE=mn.unstable_UserBlockingPriority,Uc=mn.unstable_NormalPriority,uP=mn.unstable_LowPriority,ZE=mn.unstable_IdlePriority,Wd=null,rr=null;function cP(n){if(rr&&typeof rr.onCommitFiberRoot=="function")try{rr.onCommitFiberRoot(Wd,n,void 0,(n.current.flags&128)===128)}catch{}}var Mn=Math.clz32?Math.clz32:fP,dP=Math.log,hP=Math.LN2;function fP(n){return n>>>=0,n===0?32:31-(dP(n)/hP|0)|0}var ju=64,Bu=4194304;function ja(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Wc(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,s=n.suspendedLanes,i=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~s;a!==0?r=ja(a):(i&=o,i!==0&&(r=ja(i)))}else o=t&~s,o!==0?r=ja(o):i!==0&&(r=ja(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-Mn(e),s=1<<t,r|=n[t],e&=~s;return r}function pP(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mP(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,s=n.expirationTimes,i=n.pendingLanes;0<i;){var o=31-Mn(i),a=1<<o,l=s[o];l===-1?(!(a&t)||a&r)&&(s[o]=pP(a,e)):l<=e&&(n.expiredLanes|=a),i&=~a}}function yp(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function eT(){var n=ju;return ju<<=1,!(ju&4194240)&&(ju=64),n}function of(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function zl(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Mn(e),n[e]=t}function gP(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var s=31-Mn(t),i=1<<s;e[s]=0,r[s]=-1,n[s]=-1,t&=~i}}function $m(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-Mn(t),s=1<<r;s&e|n[r]&e&&(n[r]|=e),t&=~s}}var Ne=0;function tT(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var nT,Hm,rT,sT,iT,_p=!1,Uu=[],ys=null,_s=null,ws=null,pl=new Map,ml=new Map,ls=[],vP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xy(n,e){switch(n){case"focusin":case"focusout":ys=null;break;case"dragenter":case"dragleave":_s=null;break;case"mouseover":case"mouseout":ws=null;break;case"pointerover":case"pointerout":pl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ml.delete(e.pointerId)}}function Ia(n,e,t,r,s,i){return n===null||n.nativeEvent!==i?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Ql(e),e!==null&&Hm(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),n)}function yP(n,e,t,r,s){switch(e){case"focusin":return ys=Ia(ys,n,e,t,r,s),!0;case"dragenter":return _s=Ia(_s,n,e,t,r,s),!0;case"mouseover":return ws=Ia(ws,n,e,t,r,s),!0;case"pointerover":var i=s.pointerId;return pl.set(i,Ia(pl.get(i)||null,n,e,t,r,s)),!0;case"gotpointercapture":return i=s.pointerId,ml.set(i,Ia(ml.get(i)||null,n,e,t,r,s)),!0}return!1}function oT(n){var e=ai(n.target);if(e!==null){var t=Oi(e);if(t!==null){if(e=t.tag,e===13){if(e=QE(t),e!==null){n.blockedOn=e,iT(n.priority,function(){rT(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function fc(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=wp(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);pp=r,t.target.dispatchEvent(r),pp=null}else return e=Ql(t),e!==null&&Hm(e),n.blockedOn=t,!1;e.shift()}return!0}function Jy(n,e,t){fc(n)&&t.delete(e)}function _P(){_p=!1,ys!==null&&fc(ys)&&(ys=null),_s!==null&&fc(_s)&&(_s=null),ws!==null&&fc(ws)&&(ws=null),pl.forEach(Jy),ml.forEach(Jy)}function ka(n,e){n.blockedOn===e&&(n.blockedOn=null,_p||(_p=!0,mn.unstable_scheduleCallback(mn.unstable_NormalPriority,_P)))}function gl(n){function e(s){return ka(s,n)}if(0<Uu.length){ka(Uu[0],n);for(var t=1;t<Uu.length;t++){var r=Uu[t];r.blockedOn===n&&(r.blockedOn=null)}}for(ys!==null&&ka(ys,n),_s!==null&&ka(_s,n),ws!==null&&ka(ws,n),pl.forEach(e),ml.forEach(e),t=0;t<ls.length;t++)r=ls[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<ls.length&&(t=ls[0],t.blockedOn===null);)oT(t),t.blockedOn===null&&ls.shift()}var vo=Yr.ReactCurrentBatchConfig,$c=!0;function wP(n,e,t,r){var s=Ne,i=vo.transition;vo.transition=null;try{Ne=1,Ym(n,e,t,r)}finally{Ne=s,vo.transition=i}}function EP(n,e,t,r){var s=Ne,i=vo.transition;vo.transition=null;try{Ne=4,Ym(n,e,t,r)}finally{Ne=s,vo.transition=i}}function Ym(n,e,t,r){if($c){var s=wp(n,e,t,r);if(s===null)gf(n,e,r,Hc,t),Xy(n,r);else if(yP(s,n,e,t,r))r.stopPropagation();else if(Xy(n,r),e&4&&-1<vP.indexOf(n)){for(;s!==null;){var i=Ql(s);if(i!==null&&nT(i),i=wp(n,e,t,r),i===null&&gf(n,e,r,Hc,t),i===s)break;s=i}s!==null&&r.stopPropagation()}else gf(n,e,r,null,t)}}var Hc=null;function wp(n,e,t,r){if(Hc=null,n=Um(r),n=ai(n),n!==null)if(e=Oi(n),e===null)n=null;else if(t=e.tag,t===13){if(n=QE(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Hc=n,null}function aT(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lP()){case Wm:return 1;case JE:return 4;case Uc:case uP:return 16;case ZE:return 536870912;default:return 16}default:return 16}}var ps=null,zm=null,pc=null;function lT(){if(pc)return pc;var n,e=zm,t=e.length,r,s="value"in ps?ps.value:ps.textContent,i=s.length;for(n=0;n<t&&e[n]===s[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===s[i-r];r++);return pc=s.slice(n,1<r?1-r:void 0)}function mc(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Wu(){return!0}function Zy(){return!1}function vn(n){function e(t,r,s,i,o){this._reactName=t,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Wu:Zy,this.isPropagationStopped=Zy,this}return Qe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Wu)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Wu)},persist:function(){},isPersistent:Wu}),e}var Jo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qm=vn(Jo),ql=Qe({},Jo,{view:0,detail:0}),TP=vn(ql),af,lf,Da,$d=Qe({},ql,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qm,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Da&&(Da&&n.type==="mousemove"?(af=n.screenX-Da.screenX,lf=n.screenY-Da.screenY):lf=af=0,Da=n),af)},movementY:function(n){return"movementY"in n?n.movementY:lf}}),e_=vn($d),SP=Qe({},$d,{dataTransfer:0}),CP=vn(SP),IP=Qe({},ql,{relatedTarget:0}),uf=vn(IP),kP=Qe({},Jo,{animationName:0,elapsedTime:0,pseudoElement:0}),DP=vn(kP),PP=Qe({},Jo,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),bP=vn(PP),RP=Qe({},Jo,{data:0}),t_=vn(RP),xP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},AP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},NP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function MP(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=NP[n])?!!e[n]:!1}function Qm(){return MP}var OP=Qe({},ql,{key:function(n){if(n.key){var e=xP[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=mc(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?AP[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qm,charCode:function(n){return n.type==="keypress"?mc(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?mc(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),LP=vn(OP),VP=Qe({},$d,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),n_=vn(VP),FP=Qe({},ql,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qm}),jP=vn(FP),BP=Qe({},Jo,{propertyName:0,elapsedTime:0,pseudoElement:0}),UP=vn(BP),WP=Qe({},$d,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),$P=vn(WP),HP=[9,13,27,32],Km=Lr&&"CompositionEvent"in window,Ja=null;Lr&&"documentMode"in document&&(Ja=document.documentMode);var YP=Lr&&"TextEvent"in window&&!Ja,uT=Lr&&(!Km||Ja&&8<Ja&&11>=Ja),r_=" ",s_=!1;function cT(n,e){switch(n){case"keyup":return HP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dT(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var no=!1;function zP(n,e){switch(n){case"compositionend":return dT(e);case"keypress":return e.which!==32?null:(s_=!0,r_);case"textInput":return n=e.data,n===r_&&s_?null:n;default:return null}}function qP(n,e){if(no)return n==="compositionend"||!Km&&cT(n,e)?(n=lT(),pc=zm=ps=null,no=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return uT&&e.locale!=="ko"?null:e.data;default:return null}}var QP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function i_(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!QP[n.type]:e==="textarea"}function hT(n,e,t,r){$E(r),e=Yc(e,"onChange"),0<e.length&&(t=new qm("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var Za=null,vl=null;function KP(n){ST(n,0)}function Hd(n){var e=io(n);if(LE(e))return n}function GP(n,e){if(n==="change")return e}var fT=!1;if(Lr){var cf;if(Lr){var df="oninput"in document;if(!df){var o_=document.createElement("div");o_.setAttribute("oninput","return;"),df=typeof o_.oninput=="function"}cf=df}else cf=!1;fT=cf&&(!document.documentMode||9<document.documentMode)}function a_(){Za&&(Za.detachEvent("onpropertychange",pT),vl=Za=null)}function pT(n){if(n.propertyName==="value"&&Hd(vl)){var e=[];hT(e,vl,n,Um(n)),qE(KP,e)}}function XP(n,e,t){n==="focusin"?(a_(),Za=e,vl=t,Za.attachEvent("onpropertychange",pT)):n==="focusout"&&a_()}function JP(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Hd(vl)}function ZP(n,e){if(n==="click")return Hd(e)}function e1(n,e){if(n==="input"||n==="change")return Hd(e)}function t1(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Vn=typeof Object.is=="function"?Object.is:t1;function yl(n,e){if(Vn(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var s=t[r];if(!np.call(e,s)||!Vn(n[s],e[s]))return!1}return!0}function l_(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function u_(n,e){var t=l_(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=l_(t)}}function mT(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?mT(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function gT(){for(var n=window,e=Fc();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Fc(n.document)}return e}function Gm(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function n1(n){var e=gT(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&mT(t.ownerDocument.documentElement,t)){if(r!==null&&Gm(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var s=t.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!n.extend&&i>r&&(s=r,r=i,i=s),s=u_(t,i);var o=u_(t,r);s&&o&&(n.rangeCount!==1||n.anchorNode!==s.node||n.anchorOffset!==s.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),n.removeAllRanges(),i>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var r1=Lr&&"documentMode"in document&&11>=document.documentMode,ro=null,Ep=null,el=null,Tp=!1;function c_(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Tp||ro==null||ro!==Fc(r)||(r=ro,"selectionStart"in r&&Gm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),el&&yl(el,r)||(el=r,r=Yc(Ep,"onSelect"),0<r.length&&(e=new qm("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=ro)))}function $u(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var so={animationend:$u("Animation","AnimationEnd"),animationiteration:$u("Animation","AnimationIteration"),animationstart:$u("Animation","AnimationStart"),transitionend:$u("Transition","TransitionEnd")},hf={},vT={};Lr&&(vT=document.createElement("div").style,"AnimationEvent"in window||(delete so.animationend.animation,delete so.animationiteration.animation,delete so.animationstart.animation),"TransitionEvent"in window||delete so.transitionend.transition);function Yd(n){if(hf[n])return hf[n];if(!so[n])return n;var e=so[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in vT)return hf[n]=e[t];return n}var yT=Yd("animationend"),_T=Yd("animationiteration"),wT=Yd("animationstart"),ET=Yd("transitionend"),TT=new Map,d_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ws(n,e){TT.set(n,e),Mi(e,[n])}for(var ff=0;ff<d_.length;ff++){var pf=d_[ff],s1=pf.toLowerCase(),i1=pf[0].toUpperCase()+pf.slice(1);Ws(s1,"on"+i1)}Ws(yT,"onAnimationEnd");Ws(_T,"onAnimationIteration");Ws(wT,"onAnimationStart");Ws("dblclick","onDoubleClick");Ws("focusin","onFocus");Ws("focusout","onBlur");Ws(ET,"onTransitionEnd");Do("onMouseEnter",["mouseout","mouseover"]);Do("onMouseLeave",["mouseout","mouseover"]);Do("onPointerEnter",["pointerout","pointerover"]);Do("onPointerLeave",["pointerout","pointerover"]);Mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Mi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ba="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ba));function h_(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,sP(r,e,void 0,n),n.currentTarget=null}function ST(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;h_(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;h_(s,a,c),i=l}}}if(Bc)throw n=vp,Bc=!1,vp=null,n}function je(n,e){var t=e[Dp];t===void 0&&(t=e[Dp]=new Set);var r=n+"__bubble";t.has(r)||(CT(e,n,2,!1),t.add(r))}function mf(n,e,t){var r=0;e&&(r|=4),CT(t,n,r,e)}var Hu="_reactListening"+Math.random().toString(36).slice(2);function _l(n){if(!n[Hu]){n[Hu]=!0,xE.forEach(function(t){t!=="selectionchange"&&(o1.has(t)||mf(t,!1,n),mf(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Hu]||(e[Hu]=!0,mf("selectionchange",!1,e))}}function CT(n,e,t,r){switch(aT(e)){case 1:var s=wP;break;case 4:s=EP;break;default:s=Ym}t=s.bind(null,e,t,n),s=void 0,!gp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?n.addEventListener(e,t,{capture:!0,passive:s}):n.addEventListener(e,t,!0):s!==void 0?n.addEventListener(e,t,{passive:s}):n.addEventListener(e,t,!1)}function gf(n,e,t,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ai(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}qE(function(){var c=i,d=Um(t),h=[];e:{var p=TT.get(n);if(p!==void 0){var g=qm,_=n;switch(n){case"keypress":if(mc(t)===0)break e;case"keydown":case"keyup":g=LP;break;case"focusin":_="focus",g=uf;break;case"focusout":_="blur",g=uf;break;case"beforeblur":case"afterblur":g=uf;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=e_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=CP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=jP;break;case yT:case _T:case wT:g=DP;break;case ET:g=UP;break;case"scroll":g=TP;break;case"wheel":g=$P;break;case"copy":case"cut":case"paste":g=bP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=n_}var D=(e&4)!==0,I=!D&&n==="scroll",w=D?p!==null?p+"Capture":null:p;D=[];for(var y=c,E;y!==null;){E=y;var x=E.stateNode;if(E.tag===5&&x!==null&&(E=x,w!==null&&(x=fl(y,w),x!=null&&D.push(wl(y,x,E)))),I)break;y=y.return}0<D.length&&(p=new g(p,_,null,t,d),h.push({event:p,listeners:D}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",g=n==="mouseout"||n==="pointerout",p&&t!==pp&&(_=t.relatedTarget||t.fromElement)&&(ai(_)||_[Vr]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(_=t.relatedTarget||t.toElement,g=c,_=_?ai(_):null,_!==null&&(I=Oi(_),_!==I||_.tag!==5&&_.tag!==6)&&(_=null)):(g=null,_=c),g!==_)){if(D=e_,x="onMouseLeave",w="onMouseEnter",y="mouse",(n==="pointerout"||n==="pointerover")&&(D=n_,x="onPointerLeave",w="onPointerEnter",y="pointer"),I=g==null?p:io(g),E=_==null?p:io(_),p=new D(x,y+"leave",g,t,d),p.target=I,p.relatedTarget=E,x=null,ai(d)===c&&(D=new D(w,y+"enter",_,t,d),D.target=E,D.relatedTarget=I,x=D),I=x,g&&_)t:{for(D=g,w=_,y=0,E=D;E;E=qi(E))y++;for(E=0,x=w;x;x=qi(x))E++;for(;0<y-E;)D=qi(D),y--;for(;0<E-y;)w=qi(w),E--;for(;y--;){if(D===w||w!==null&&D===w.alternate)break t;D=qi(D),w=qi(w)}D=null}else D=null;g!==null&&f_(h,p,g,D,!1),_!==null&&I!==null&&f_(h,I,_,D,!0)}}e:{if(p=c?io(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var L=GP;else if(i_(p))if(fT)L=e1;else{L=JP;var M=XP}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(L=ZP);if(L&&(L=L(n,c))){hT(h,L,t,d);break e}M&&M(n,p,c),n==="focusout"&&(M=p._wrapperState)&&M.controlled&&p.type==="number"&&up(p,"number",p.value)}switch(M=c?io(c):window,n){case"focusin":(i_(M)||M.contentEditable==="true")&&(ro=M,Ep=c,el=null);break;case"focusout":el=Ep=ro=null;break;case"mousedown":Tp=!0;break;case"contextmenu":case"mouseup":case"dragend":Tp=!1,c_(h,t,d);break;case"selectionchange":if(r1)break;case"keydown":case"keyup":c_(h,t,d)}var S;if(Km)e:{switch(n){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else no?cT(n,t)&&(v="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(v="onCompositionStart");v&&(uT&&t.locale!=="ko"&&(no||v!=="onCompositionStart"?v==="onCompositionEnd"&&no&&(S=lT()):(ps=d,zm="value"in ps?ps.value:ps.textContent,no=!0)),M=Yc(c,v),0<M.length&&(v=new t_(v,n,null,t,d),h.push({event:v,listeners:M}),S?v.data=S:(S=dT(t),S!==null&&(v.data=S)))),(S=YP?zP(n,t):qP(n,t))&&(c=Yc(c,"onBeforeInput"),0<c.length&&(d=new t_("onBeforeInput","beforeinput",null,t,d),h.push({event:d,listeners:c}),d.data=S))}ST(h,e)})}function wl(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Yc(n,e){for(var t=e+"Capture",r=[];n!==null;){var s=n,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=fl(n,t),i!=null&&r.unshift(wl(n,i,s)),i=fl(n,e),i!=null&&r.push(wl(n,i,s))),n=n.return}return r}function qi(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function f_(n,e,t,r,s){for(var i=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=fl(t,i),l!=null&&o.unshift(wl(t,l,a))):s||(l=fl(t,i),l!=null&&o.push(wl(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var a1=/\r\n?/g,l1=/\u0000|\uFFFD/g;function p_(n){return(typeof n=="string"?n:""+n).replace(a1,`
`).replace(l1,"")}function Yu(n,e,t){if(e=p_(e),p_(n)!==e&&t)throw Error($(425))}function zc(){}var Sp=null,Cp=null;function Ip(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var kp=typeof setTimeout=="function"?setTimeout:void 0,u1=typeof clearTimeout=="function"?clearTimeout:void 0,m_=typeof Promise=="function"?Promise:void 0,c1=typeof queueMicrotask=="function"?queueMicrotask:typeof m_<"u"?function(n){return m_.resolve(null).then(n).catch(d1)}:kp;function d1(n){setTimeout(function(){throw n})}function vf(n,e){var t=e,r=0;do{var s=t.nextSibling;if(n.removeChild(t),s&&s.nodeType===8)if(t=s.data,t==="/$"){if(r===0){n.removeChild(s),gl(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=s}while(t);gl(e)}function Es(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function g_(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Zo=Math.random().toString(36).slice(2),Qn="__reactFiber$"+Zo,El="__reactProps$"+Zo,Vr="__reactContainer$"+Zo,Dp="__reactEvents$"+Zo,h1="__reactListeners$"+Zo,f1="__reactHandles$"+Zo;function ai(n){var e=n[Qn];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Vr]||t[Qn]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=g_(n);n!==null;){if(t=n[Qn])return t;n=g_(n)}return e}n=t,t=n.parentNode}return null}function Ql(n){return n=n[Qn]||n[Vr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function io(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error($(33))}function zd(n){return n[El]||null}var Pp=[],oo=-1;function $s(n){return{current:n}}function Ue(n){0>oo||(n.current=Pp[oo],Pp[oo]=null,oo--)}function Ve(n,e){oo++,Pp[oo]=n.current,n.current=e}var Os={},Ut=$s(Os),nn=$s(!1),_i=Os;function Po(n,e){var t=n.type.contextTypes;if(!t)return Os;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in t)s[i]=e[i];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=s),s}function rn(n){return n=n.childContextTypes,n!=null}function qc(){Ue(nn),Ue(Ut)}function v_(n,e,t){if(Ut.current!==Os)throw Error($(168));Ve(Ut,e),Ve(nn,t)}function IT(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error($(108,XD(n)||"Unknown",s));return Qe({},t,r)}function Qc(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Os,_i=Ut.current,Ve(Ut,n),Ve(nn,nn.current),!0}function y_(n,e,t){var r=n.stateNode;if(!r)throw Error($(169));t?(n=IT(n,e,_i),r.__reactInternalMemoizedMergedChildContext=n,Ue(nn),Ue(Ut),Ve(Ut,n)):Ue(nn),Ve(nn,t)}var Er=null,qd=!1,yf=!1;function kT(n){Er===null?Er=[n]:Er.push(n)}function p1(n){qd=!0,kT(n)}function Hs(){if(!yf&&Er!==null){yf=!0;var n=0,e=Ne;try{var t=Er;for(Ne=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}Er=null,qd=!1}catch(s){throw Er!==null&&(Er=Er.slice(n+1)),XE(Wm,Hs),s}finally{Ne=e,yf=!1}}return null}var ao=[],lo=0,Kc=null,Gc=0,_n=[],wn=0,wi=null,Tr=1,Sr="";function ei(n,e){ao[lo++]=Gc,ao[lo++]=Kc,Kc=n,Gc=e}function DT(n,e,t){_n[wn++]=Tr,_n[wn++]=Sr,_n[wn++]=wi,wi=n;var r=Tr;n=Sr;var s=32-Mn(r)-1;r&=~(1<<s),t+=1;var i=32-Mn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Tr=1<<32-Mn(e)+s|t<<s|r,Sr=i+n}else Tr=1<<i|t<<s|r,Sr=n}function Xm(n){n.return!==null&&(ei(n,1),DT(n,1,0))}function Jm(n){for(;n===Kc;)Kc=ao[--lo],ao[lo]=null,Gc=ao[--lo],ao[lo]=null;for(;n===wi;)wi=_n[--wn],_n[wn]=null,Sr=_n[--wn],_n[wn]=null,Tr=_n[--wn],_n[wn]=null}var fn=null,dn=null,He=!1,Nn=null;function PT(n,e){var t=Tn(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function __(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,fn=n,dn=Es(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,fn=n,dn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=wi!==null?{id:Tr,overflow:Sr}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Tn(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,fn=n,dn=null,!0):!1;default:return!1}}function bp(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Rp(n){if(He){var e=dn;if(e){var t=e;if(!__(n,e)){if(bp(n))throw Error($(418));e=Es(t.nextSibling);var r=fn;e&&__(n,e)?PT(r,t):(n.flags=n.flags&-4097|2,He=!1,fn=n)}}else{if(bp(n))throw Error($(418));n.flags=n.flags&-4097|2,He=!1,fn=n}}}function w_(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;fn=n}function zu(n){if(n!==fn)return!1;if(!He)return w_(n),He=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!Ip(n.type,n.memoizedProps)),e&&(e=dn)){if(bp(n))throw bT(),Error($(418));for(;e;)PT(n,e),e=Es(e.nextSibling)}if(w_(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error($(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){dn=Es(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}dn=null}}else dn=fn?Es(n.stateNode.nextSibling):null;return!0}function bT(){for(var n=dn;n;)n=Es(n.nextSibling)}function bo(){dn=fn=null,He=!1}function Zm(n){Nn===null?Nn=[n]:Nn.push(n)}var m1=Yr.ReactCurrentBatchConfig;function Pa(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error($(309));var r=t.stateNode}if(!r)throw Error($(147,n));var s=r,i=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof n!="string")throw Error($(284));if(!t._owner)throw Error($(290,n))}return n}function qu(n,e){throw n=Object.prototype.toString.call(e),Error($(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function E_(n){var e=n._init;return e(n._payload)}function RT(n){function e(w,y){if(n){var E=w.deletions;E===null?(w.deletions=[y],w.flags|=16):E.push(y)}}function t(w,y){if(!n)return null;for(;y!==null;)e(w,y),y=y.sibling;return null}function r(w,y){for(w=new Map;y!==null;)y.key!==null?w.set(y.key,y):w.set(y.index,y),y=y.sibling;return w}function s(w,y){return w=Is(w,y),w.index=0,w.sibling=null,w}function i(w,y,E){return w.index=E,n?(E=w.alternate,E!==null?(E=E.index,E<y?(w.flags|=2,y):E):(w.flags|=2,y)):(w.flags|=1048576,y)}function o(w){return n&&w.alternate===null&&(w.flags|=2),w}function a(w,y,E,x){return y===null||y.tag!==6?(y=If(E,w.mode,x),y.return=w,y):(y=s(y,E),y.return=w,y)}function l(w,y,E,x){var L=E.type;return L===to?d(w,y,E.props.children,x,E.key):y!==null&&(y.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===os&&E_(L)===y.type)?(x=s(y,E.props),x.ref=Pa(w,y,E),x.return=w,x):(x=Tc(E.type,E.key,E.props,null,w.mode,x),x.ref=Pa(w,y,E),x.return=w,x)}function c(w,y,E,x){return y===null||y.tag!==4||y.stateNode.containerInfo!==E.containerInfo||y.stateNode.implementation!==E.implementation?(y=kf(E,w.mode,x),y.return=w,y):(y=s(y,E.children||[]),y.return=w,y)}function d(w,y,E,x,L){return y===null||y.tag!==7?(y=pi(E,w.mode,x,L),y.return=w,y):(y=s(y,E),y.return=w,y)}function h(w,y,E){if(typeof y=="string"&&y!==""||typeof y=="number")return y=If(""+y,w.mode,E),y.return=w,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Lu:return E=Tc(y.type,y.key,y.props,null,w.mode,E),E.ref=Pa(w,null,y),E.return=w,E;case eo:return y=kf(y,w.mode,E),y.return=w,y;case os:var x=y._init;return h(w,x(y._payload),E)}if(Fa(y)||Sa(y))return y=pi(y,w.mode,E,null),y.return=w,y;qu(w,y)}return null}function p(w,y,E,x){var L=y!==null?y.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return L!==null?null:a(w,y,""+E,x);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Lu:return E.key===L?l(w,y,E,x):null;case eo:return E.key===L?c(w,y,E,x):null;case os:return L=E._init,p(w,y,L(E._payload),x)}if(Fa(E)||Sa(E))return L!==null?null:d(w,y,E,x,null);qu(w,E)}return null}function g(w,y,E,x,L){if(typeof x=="string"&&x!==""||typeof x=="number")return w=w.get(E)||null,a(y,w,""+x,L);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Lu:return w=w.get(x.key===null?E:x.key)||null,l(y,w,x,L);case eo:return w=w.get(x.key===null?E:x.key)||null,c(y,w,x,L);case os:var M=x._init;return g(w,y,E,M(x._payload),L)}if(Fa(x)||Sa(x))return w=w.get(E)||null,d(y,w,x,L,null);qu(y,x)}return null}function _(w,y,E,x){for(var L=null,M=null,S=y,v=y=0,C=null;S!==null&&v<E.length;v++){S.index>v?(C=S,S=null):C=S.sibling;var P=p(w,S,E[v],x);if(P===null){S===null&&(S=C);break}n&&S&&P.alternate===null&&e(w,S),y=i(P,y,v),M===null?L=P:M.sibling=P,M=P,S=C}if(v===E.length)return t(w,S),He&&ei(w,v),L;if(S===null){for(;v<E.length;v++)S=h(w,E[v],x),S!==null&&(y=i(S,y,v),M===null?L=S:M.sibling=S,M=S);return He&&ei(w,v),L}for(S=r(w,S);v<E.length;v++)C=g(S,w,v,E[v],x),C!==null&&(n&&C.alternate!==null&&S.delete(C.key===null?v:C.key),y=i(C,y,v),M===null?L=C:M.sibling=C,M=C);return n&&S.forEach(function(R){return e(w,R)}),He&&ei(w,v),L}function D(w,y,E,x){var L=Sa(E);if(typeof L!="function")throw Error($(150));if(E=L.call(E),E==null)throw Error($(151));for(var M=L=null,S=y,v=y=0,C=null,P=E.next();S!==null&&!P.done;v++,P=E.next()){S.index>v?(C=S,S=null):C=S.sibling;var R=p(w,S,P.value,x);if(R===null){S===null&&(S=C);break}n&&S&&R.alternate===null&&e(w,S),y=i(R,y,v),M===null?L=R:M.sibling=R,M=R,S=C}if(P.done)return t(w,S),He&&ei(w,v),L;if(S===null){for(;!P.done;v++,P=E.next())P=h(w,P.value,x),P!==null&&(y=i(P,y,v),M===null?L=P:M.sibling=P,M=P);return He&&ei(w,v),L}for(S=r(w,S);!P.done;v++,P=E.next())P=g(S,w,v,P.value,x),P!==null&&(n&&P.alternate!==null&&S.delete(P.key===null?v:P.key),y=i(P,y,v),M===null?L=P:M.sibling=P,M=P);return n&&S.forEach(function(N){return e(w,N)}),He&&ei(w,v),L}function I(w,y,E,x){if(typeof E=="object"&&E!==null&&E.type===to&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Lu:e:{for(var L=E.key,M=y;M!==null;){if(M.key===L){if(L=E.type,L===to){if(M.tag===7){t(w,M.sibling),y=s(M,E.props.children),y.return=w,w=y;break e}}else if(M.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===os&&E_(L)===M.type){t(w,M.sibling),y=s(M,E.props),y.ref=Pa(w,M,E),y.return=w,w=y;break e}t(w,M);break}else e(w,M);M=M.sibling}E.type===to?(y=pi(E.props.children,w.mode,x,E.key),y.return=w,w=y):(x=Tc(E.type,E.key,E.props,null,w.mode,x),x.ref=Pa(w,y,E),x.return=w,w=x)}return o(w);case eo:e:{for(M=E.key;y!==null;){if(y.key===M)if(y.tag===4&&y.stateNode.containerInfo===E.containerInfo&&y.stateNode.implementation===E.implementation){t(w,y.sibling),y=s(y,E.children||[]),y.return=w,w=y;break e}else{t(w,y);break}else e(w,y);y=y.sibling}y=kf(E,w.mode,x),y.return=w,w=y}return o(w);case os:return M=E._init,I(w,y,M(E._payload),x)}if(Fa(E))return _(w,y,E,x);if(Sa(E))return D(w,y,E,x);qu(w,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,y!==null&&y.tag===6?(t(w,y.sibling),y=s(y,E),y.return=w,w=y):(t(w,y),y=If(E,w.mode,x),y.return=w,w=y),o(w)):t(w,y)}return I}var Ro=RT(!0),xT=RT(!1),Xc=$s(null),Jc=null,uo=null,eg=null;function tg(){eg=uo=Jc=null}function ng(n){var e=Xc.current;Ue(Xc),n._currentValue=e}function xp(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function yo(n,e){Jc=n,eg=uo=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(tn=!0),n.firstContext=null)}function Cn(n){var e=n._currentValue;if(eg!==n)if(n={context:n,memoizedValue:e,next:null},uo===null){if(Jc===null)throw Error($(308));uo=n,Jc.dependencies={lanes:0,firstContext:n}}else uo=uo.next=n;return e}var li=null;function rg(n){li===null?li=[n]:li.push(n)}function AT(n,e,t,r){var s=e.interleaved;return s===null?(t.next=t,rg(e)):(t.next=s.next,s.next=t),e.interleaved=t,Fr(n,r)}function Fr(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var as=!1;function sg(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function NT(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Pr(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Ts(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Ce&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Fr(n,t)}return s=r.interleaved,s===null?(e.next=e,rg(r)):(e.next=s.next,s.next=e),r.interleaved=e,Fr(n,t)}function gc(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,$m(n,t)}}function T_(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var s=null,i=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};i===null?s=i=o:i=i.next=o,t=t.next}while(t!==null);i===null?s=i=e:i=i.next=e}else s=i=e;t={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Zc(n,e,t,r){var s=n.updateQueue;as=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=n.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=c=l=null,a=i;do{var p=a.lane,g=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=n,D=a;switch(p=e,g=t,D.tag){case 1:if(_=D.payload,typeof _=="function"){h=_.call(g,h,p);break e}h=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=D.payload,p=typeof _=="function"?_.call(g,h,p):_,p==null)break e;h=Qe({},h,p);break e;case 2:as=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,l=h):d=d.next=g,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ti|=o,n.lanes=o,n.memoizedState=h}}function S_(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],s=r.callback;if(s!==null){if(r.callback=null,r=t,typeof s!="function")throw Error($(191,s));s.call(r)}}}var Kl={},sr=$s(Kl),Tl=$s(Kl),Sl=$s(Kl);function ui(n){if(n===Kl)throw Error($(174));return n}function ig(n,e){switch(Ve(Sl,e),Ve(Tl,n),Ve(sr,Kl),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:dp(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=dp(e,n)}Ue(sr),Ve(sr,e)}function xo(){Ue(sr),Ue(Tl),Ue(Sl)}function MT(n){ui(Sl.current);var e=ui(sr.current),t=dp(e,n.type);e!==t&&(Ve(Tl,n),Ve(sr,t))}function og(n){Tl.current===n&&(Ue(sr),Ue(Tl))}var Ye=$s(0);function ed(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var _f=[];function ag(){for(var n=0;n<_f.length;n++)_f[n]._workInProgressVersionPrimary=null;_f.length=0}var vc=Yr.ReactCurrentDispatcher,wf=Yr.ReactCurrentBatchConfig,Ei=0,qe=null,ft=null,gt=null,td=!1,tl=!1,Cl=0,g1=0;function Nt(){throw Error($(321))}function lg(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Vn(n[t],e[t]))return!1;return!0}function ug(n,e,t,r,s,i){if(Ei=i,qe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,vc.current=n===null||n.memoizedState===null?w1:E1,n=t(r,s),tl){i=0;do{if(tl=!1,Cl=0,25<=i)throw Error($(301));i+=1,gt=ft=null,e.updateQueue=null,vc.current=T1,n=t(r,s)}while(tl)}if(vc.current=nd,e=ft!==null&&ft.next!==null,Ei=0,gt=ft=qe=null,td=!1,e)throw Error($(300));return n}function cg(){var n=Cl!==0;return Cl=0,n}function Yn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?qe.memoizedState=gt=n:gt=gt.next=n,gt}function In(){if(ft===null){var n=qe.alternate;n=n!==null?n.memoizedState:null}else n=ft.next;var e=gt===null?qe.memoizedState:gt.next;if(e!==null)gt=e,ft=n;else{if(n===null)throw Error($(310));ft=n,n={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},gt===null?qe.memoizedState=gt=n:gt=gt.next=n}return gt}function Il(n,e){return typeof e=="function"?e(n):e}function Ef(n){var e=In(),t=e.queue;if(t===null)throw Error($(311));t.lastRenderedReducer=n;var r=ft,s=r.baseQueue,i=t.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,t.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((Ei&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:n(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,qe.lanes|=d,Ti|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Vn(r,e.memoizedState)||(tn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){s=n;do i=s.lane,qe.lanes|=i,Ti|=i,s=s.next;while(s!==n)}else s===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function Tf(n){var e=In(),t=e.queue;if(t===null)throw Error($(311));t.lastRenderedReducer=n;var r=t.dispatch,s=t.pending,i=e.memoizedState;if(s!==null){t.pending=null;var o=s=s.next;do i=n(i,o.action),o=o.next;while(o!==s);Vn(i,e.memoizedState)||(tn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),t.lastRenderedState=i}return[i,r]}function OT(){}function LT(n,e){var t=qe,r=In(),s=e(),i=!Vn(r.memoizedState,s);if(i&&(r.memoizedState=s,tn=!0),r=r.queue,dg(jT.bind(null,t,r,n),[n]),r.getSnapshot!==e||i||gt!==null&&gt.memoizedState.tag&1){if(t.flags|=2048,kl(9,FT.bind(null,t,r,s,e),void 0,null),vt===null)throw Error($(349));Ei&30||VT(t,e,s)}return s}function VT(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=qe.updateQueue,e===null?(e={lastEffect:null,stores:null},qe.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function FT(n,e,t,r){e.value=t,e.getSnapshot=r,BT(e)&&UT(n)}function jT(n,e,t){return t(function(){BT(e)&&UT(n)})}function BT(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Vn(n,t)}catch{return!0}}function UT(n){var e=Fr(n,1);e!==null&&On(e,n,1,-1)}function C_(n){var e=Yn();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Il,lastRenderedState:n},e.queue=n,n=n.dispatch=_1.bind(null,qe,n),[e.memoizedState,n]}function kl(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=qe.updateQueue,e===null?(e={lastEffect:null,stores:null},qe.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function WT(){return In().memoizedState}function yc(n,e,t,r){var s=Yn();qe.flags|=n,s.memoizedState=kl(1|e,t,void 0,r===void 0?null:r)}function Qd(n,e,t,r){var s=In();r=r===void 0?null:r;var i=void 0;if(ft!==null){var o=ft.memoizedState;if(i=o.destroy,r!==null&&lg(r,o.deps)){s.memoizedState=kl(e,t,i,r);return}}qe.flags|=n,s.memoizedState=kl(1|e,t,i,r)}function I_(n,e){return yc(8390656,8,n,e)}function dg(n,e){return Qd(2048,8,n,e)}function $T(n,e){return Qd(4,2,n,e)}function HT(n,e){return Qd(4,4,n,e)}function YT(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function zT(n,e,t){return t=t!=null?t.concat([n]):null,Qd(4,4,YT.bind(null,e,n),t)}function hg(){}function qT(n,e){var t=In();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&lg(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function QT(n,e){var t=In();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&lg(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function KT(n,e,t){return Ei&21?(Vn(t,e)||(t=eT(),qe.lanes|=t,Ti|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,tn=!0),n.memoizedState=t)}function v1(n,e){var t=Ne;Ne=t!==0&&4>t?t:4,n(!0);var r=wf.transition;wf.transition={};try{n(!1),e()}finally{Ne=t,wf.transition=r}}function GT(){return In().memoizedState}function y1(n,e,t){var r=Cs(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},XT(n))JT(e,t);else if(t=AT(n,e,t,r),t!==null){var s=Qt();On(t,n,r,s),ZT(t,e,r)}}function _1(n,e,t){var r=Cs(n),s={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(XT(n))JT(e,s);else{var i=n.alternate;if(n.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,t);if(s.hasEagerState=!0,s.eagerState=a,Vn(a,o)){var l=e.interleaved;l===null?(s.next=s,rg(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}t=AT(n,e,s,r),t!==null&&(s=Qt(),On(t,n,r,s),ZT(t,e,r))}}function XT(n){var e=n.alternate;return n===qe||e!==null&&e===qe}function JT(n,e){tl=td=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function ZT(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,$m(n,t)}}var nd={readContext:Cn,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useInsertionEffect:Nt,useLayoutEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useMutableSource:Nt,useSyncExternalStore:Nt,useId:Nt,unstable_isNewReconciler:!1},w1={readContext:Cn,useCallback:function(n,e){return Yn().memoizedState=[n,e===void 0?null:e],n},useContext:Cn,useEffect:I_,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,yc(4194308,4,YT.bind(null,e,n),t)},useLayoutEffect:function(n,e){return yc(4194308,4,n,e)},useInsertionEffect:function(n,e){return yc(4,2,n,e)},useMemo:function(n,e){var t=Yn();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=Yn();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=y1.bind(null,qe,n),[r.memoizedState,n]},useRef:function(n){var e=Yn();return n={current:n},e.memoizedState=n},useState:C_,useDebugValue:hg,useDeferredValue:function(n){return Yn().memoizedState=n},useTransition:function(){var n=C_(!1),e=n[0];return n=v1.bind(null,n[1]),Yn().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=qe,s=Yn();if(He){if(t===void 0)throw Error($(407));t=t()}else{if(t=e(),vt===null)throw Error($(349));Ei&30||VT(r,e,t)}s.memoizedState=t;var i={value:t,getSnapshot:e};return s.queue=i,I_(jT.bind(null,r,i,n),[n]),r.flags|=2048,kl(9,FT.bind(null,r,i,t,e),void 0,null),t},useId:function(){var n=Yn(),e=vt.identifierPrefix;if(He){var t=Sr,r=Tr;t=(r&~(1<<32-Mn(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=Cl++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=g1++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},E1={readContext:Cn,useCallback:qT,useContext:Cn,useEffect:dg,useImperativeHandle:zT,useInsertionEffect:$T,useLayoutEffect:HT,useMemo:QT,useReducer:Ef,useRef:WT,useState:function(){return Ef(Il)},useDebugValue:hg,useDeferredValue:function(n){var e=In();return KT(e,ft.memoizedState,n)},useTransition:function(){var n=Ef(Il)[0],e=In().memoizedState;return[n,e]},useMutableSource:OT,useSyncExternalStore:LT,useId:GT,unstable_isNewReconciler:!1},T1={readContext:Cn,useCallback:qT,useContext:Cn,useEffect:dg,useImperativeHandle:zT,useInsertionEffect:$T,useLayoutEffect:HT,useMemo:QT,useReducer:Tf,useRef:WT,useState:function(){return Tf(Il)},useDebugValue:hg,useDeferredValue:function(n){var e=In();return ft===null?e.memoizedState=n:KT(e,ft.memoizedState,n)},useTransition:function(){var n=Tf(Il)[0],e=In().memoizedState;return[n,e]},useMutableSource:OT,useSyncExternalStore:LT,useId:GT,unstable_isNewReconciler:!1};function xn(n,e){if(n&&n.defaultProps){e=Qe({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function Ap(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:Qe({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var Kd={isMounted:function(n){return(n=n._reactInternals)?Oi(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=Qt(),s=Cs(n),i=Pr(r,s);i.payload=e,t!=null&&(i.callback=t),e=Ts(n,i,s),e!==null&&(On(e,n,s,r),gc(e,n,s))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=Qt(),s=Cs(n),i=Pr(r,s);i.tag=1,i.payload=e,t!=null&&(i.callback=t),e=Ts(n,i,s),e!==null&&(On(e,n,s,r),gc(e,n,s))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Qt(),r=Cs(n),s=Pr(t,r);s.tag=2,e!=null&&(s.callback=e),e=Ts(n,s,r),e!==null&&(On(e,n,r,t),gc(e,n,r))}};function k_(n,e,t,r,s,i,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!yl(t,r)||!yl(s,i):!0}function eS(n,e,t){var r=!1,s=Os,i=e.contextType;return typeof i=="object"&&i!==null?i=Cn(i):(s=rn(e)?_i:Ut.current,r=e.contextTypes,i=(r=r!=null)?Po(n,s):Os),e=new e(t,i),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Kd,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=i),e}function D_(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&Kd.enqueueReplaceState(e,e.state,null)}function Np(n,e,t,r){var s=n.stateNode;s.props=t,s.state=n.memoizedState,s.refs={},sg(n);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Cn(i):(i=rn(e)?_i:Ut.current,s.context=Po(n,i)),s.state=n.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Ap(n,e,i,t),s.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Kd.enqueueReplaceState(s,s.state,null),Zc(n,t,s,r),s.state=n.memoizedState),typeof s.componentDidMount=="function"&&(n.flags|=4194308)}function Ao(n,e){try{var t="",r=e;do t+=GD(r),r=r.return;while(r);var s=t}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:n,source:e,stack:s,digest:null}}function Sf(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function Mp(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var S1=typeof WeakMap=="function"?WeakMap:Map;function tS(n,e,t){t=Pr(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){sd||(sd=!0,Hp=r),Mp(n,e)},t}function nS(n,e,t){t=Pr(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;t.payload=function(){return r(s)},t.callback=function(){Mp(n,e)}}var i=n.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(t.callback=function(){Mp(n,e),typeof r!="function"&&(Ss===null?Ss=new Set([this]):Ss.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function P_(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new S1;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(t)||(s.add(t),n=V1.bind(null,n,e,t),e.then(n,n))}function b_(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function R_(n,e,t,r,s){return n.mode&1?(n.flags|=65536,n.lanes=s,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Pr(-1,1),e.tag=2,Ts(t,e,1))),t.lanes|=1),n)}var C1=Yr.ReactCurrentOwner,tn=!1;function Yt(n,e,t,r){e.child=n===null?xT(e,null,t,r):Ro(e,n.child,t,r)}function x_(n,e,t,r,s){t=t.render;var i=e.ref;return yo(e,s),r=ug(n,e,t,r,i,s),t=cg(),n!==null&&!tn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~s,jr(n,e,s)):(He&&t&&Xm(e),e.flags|=1,Yt(n,e,r,s),e.child)}function A_(n,e,t,r,s){if(n===null){var i=t.type;return typeof i=="function"&&!wg(i)&&i.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=i,rS(n,e,i,r,s)):(n=Tc(t.type,null,r,e,e.mode,s),n.ref=e.ref,n.return=e,e.child=n)}if(i=n.child,!(n.lanes&s)){var o=i.memoizedProps;if(t=t.compare,t=t!==null?t:yl,t(o,r)&&n.ref===e.ref)return jr(n,e,s)}return e.flags|=1,n=Is(i,r),n.ref=e.ref,n.return=e,e.child=n}function rS(n,e,t,r,s){if(n!==null){var i=n.memoizedProps;if(yl(i,r)&&n.ref===e.ref)if(tn=!1,e.pendingProps=r=i,(n.lanes&s)!==0)n.flags&131072&&(tn=!0);else return e.lanes=n.lanes,jr(n,e,s)}return Op(n,e,t,r,s)}function sS(n,e,t){var r=e.pendingProps,s=r.children,i=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(ho,ln),ln|=t;else{if(!(t&1073741824))return n=i!==null?i.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Ve(ho,ln),ln|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:t,Ve(ho,ln),ln|=r}else i!==null?(r=i.baseLanes|t,e.memoizedState=null):r=t,Ve(ho,ln),ln|=r;return Yt(n,e,s,t),e.child}function iS(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function Op(n,e,t,r,s){var i=rn(t)?_i:Ut.current;return i=Po(e,i),yo(e,s),t=ug(n,e,t,r,i,s),r=cg(),n!==null&&!tn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~s,jr(n,e,s)):(He&&r&&Xm(e),e.flags|=1,Yt(n,e,t,s),e.child)}function N_(n,e,t,r,s){if(rn(t)){var i=!0;Qc(e)}else i=!1;if(yo(e,s),e.stateNode===null)_c(n,e),eS(e,t,r),Np(e,t,r,s),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=Cn(c):(c=rn(t)?_i:Ut.current,c=Po(e,c));var d=t.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&D_(e,o,r,c),as=!1;var p=e.memoizedState;o.state=p,Zc(e,r,o,s),l=e.memoizedState,a!==r||p!==l||nn.current||as?(typeof d=="function"&&(Ap(e,t,d,r),l=e.memoizedState),(a=as||k_(e,t,a,r,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,NT(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:xn(e.type,a),o.props=c,h=e.pendingProps,p=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=Cn(l):(l=rn(t)?_i:Ut.current,l=Po(e,l));var g=t.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&D_(e,o,r,l),as=!1,p=e.memoizedState,o.state=p,Zc(e,r,o,s);var _=e.memoizedState;a!==h||p!==_||nn.current||as?(typeof g=="function"&&(Ap(e,t,g,r),_=e.memoizedState),(c=as||k_(e,t,c,r,p,_,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),r=!1)}return Lp(n,e,t,r,i,s)}function Lp(n,e,t,r,s,i){iS(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&y_(e,t,!1),jr(n,e,i);r=e.stateNode,C1.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=Ro(e,n.child,null,i),e.child=Ro(e,null,a,i)):Yt(n,e,a,i),e.memoizedState=r.state,s&&y_(e,t,!0),e.child}function oS(n){var e=n.stateNode;e.pendingContext?v_(n,e.pendingContext,e.pendingContext!==e.context):e.context&&v_(n,e.context,!1),ig(n,e.containerInfo)}function M_(n,e,t,r,s){return bo(),Zm(s),e.flags|=256,Yt(n,e,t,r),e.child}var Vp={dehydrated:null,treeContext:null,retryLane:0};function Fp(n){return{baseLanes:n,cachePool:null,transitions:null}}function aS(n,e,t){var r=e.pendingProps,s=Ye.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(s|=1),Ve(Ye,s&1),n===null)return Rp(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Jd(o,r,0,null),n=pi(n,r,t,null),i.return=e,n.return=e,i.sibling=n,e.child=i,e.child.memoizedState=Fp(t),e.memoizedState=Vp,n):fg(e,o));if(s=n.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return I1(n,e,o,r,a,s,t);if(i){i=r.fallback,o=e.mode,s=n.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Is(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Is(a,i):(i=pi(i,o,t,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=n.child.memoizedState,o=o===null?Fp(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=n.childLanes&~t,e.memoizedState=Vp,r}return i=n.child,n=i.sibling,r=Is(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function fg(n,e){return e=Jd({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Qu(n,e,t,r){return r!==null&&Zm(r),Ro(e,n.child,null,t),n=fg(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function I1(n,e,t,r,s,i,o){if(t)return e.flags&256?(e.flags&=-257,r=Sf(Error($(422))),Qu(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Jd({mode:"visible",children:r.children},s,0,null),i=pi(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ro(e,n.child,null,o),e.child.memoizedState=Fp(o),e.memoizedState=Vp,i);if(!(e.mode&1))return Qu(n,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error($(419)),r=Sf(i,r,void 0),Qu(n,e,o,r)}if(a=(o&n.childLanes)!==0,tn||a){if(r=vt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Fr(n,s),On(r,n,s,-1))}return _g(),r=Sf(Error($(421))),Qu(n,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=n.child,e=F1.bind(null,n),s._reactRetry=e,null):(n=i.treeContext,dn=Es(s.nextSibling),fn=e,He=!0,Nn=null,n!==null&&(_n[wn++]=Tr,_n[wn++]=Sr,_n[wn++]=wi,Tr=n.id,Sr=n.overflow,wi=e),e=fg(e,r.children),e.flags|=4096,e)}function O_(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),xp(n.return,e,t)}function Cf(n,e,t,r,s){var i=n.memoizedState;i===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=t,i.tailMode=s)}function lS(n,e,t){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Yt(n,e,r.children,t),r=Ye.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&O_(n,t,e);else if(n.tag===19)O_(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Ve(Ye,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(t=e.child,s=null;t!==null;)n=t.alternate,n!==null&&ed(n)===null&&(s=t),t=t.sibling;t=s,t===null?(s=e.child,e.child=null):(s=t.sibling,t.sibling=null),Cf(e,!1,s,t,i);break;case"backwards":for(t=null,s=e.child,e.child=null;s!==null;){if(n=s.alternate,n!==null&&ed(n)===null){e.child=s;break}n=s.sibling,s.sibling=t,t=s,s=n}Cf(e,!0,t,null,i);break;case"together":Cf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function _c(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function jr(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Ti|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error($(153));if(e.child!==null){for(n=e.child,t=Is(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Is(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function k1(n,e,t){switch(e.tag){case 3:oS(e),bo();break;case 5:MT(e);break;case 1:rn(e.type)&&Qc(e);break;case 4:ig(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ve(Xc,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ve(Ye,Ye.current&1),e.flags|=128,null):t&e.child.childLanes?aS(n,e,t):(Ve(Ye,Ye.current&1),n=jr(n,e,t),n!==null?n.sibling:null);Ve(Ye,Ye.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return lS(n,e,t);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ve(Ye,Ye.current),r)break;return null;case 22:case 23:return e.lanes=0,sS(n,e,t)}return jr(n,e,t)}var uS,jp,cS,dS;uS=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};jp=function(){};cS=function(n,e,t,r){var s=n.memoizedProps;if(s!==r){n=e.stateNode,ui(sr.current);var i=null;switch(t){case"input":s=ap(n,s),r=ap(n,r),i=[];break;case"select":s=Qe({},s,{value:void 0}),r=Qe({},r,{value:void 0}),i=[];break;case"textarea":s=cp(n,s),r=cp(n,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=zc)}hp(t,r);var o;t=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(dl.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(i||(i=[]),i.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(dl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&je("scroll",n),i||a===l||(i=[])):(i=i||[]).push(c,l))}t&&(i=i||[]).push("style",t);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};dS=function(n,e,t,r){t!==r&&(e.flags|=4)};function ba(n,e){if(!He)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Mt(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var s=n.child;s!==null;)t|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=n,s=s.sibling;else for(s=n.child;s!==null;)t|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=n,s=s.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function D1(n,e,t){var r=e.pendingProps;switch(Jm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(e),null;case 1:return rn(e.type)&&qc(),Mt(e),null;case 3:return r=e.stateNode,xo(),Ue(nn),Ue(Ut),ag(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(zu(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Nn!==null&&(qp(Nn),Nn=null))),jp(n,e),Mt(e),null;case 5:og(e);var s=ui(Sl.current);if(t=e.type,n!==null&&e.stateNode!=null)cS(n,e,t,r,s),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error($(166));return Mt(e),null}if(n=ui(sr.current),zu(e)){r=e.stateNode,t=e.type;var i=e.memoizedProps;switch(r[Qn]=e,r[El]=i,n=(e.mode&1)!==0,t){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(s=0;s<Ba.length;s++)je(Ba[s],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":Hy(r,i),je("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},je("invalid",r);break;case"textarea":zy(r,i),je("invalid",r)}hp(t,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Yu(r.textContent,a,n),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Yu(r.textContent,a,n),s=["children",""+a]):dl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&je("scroll",r)}switch(t){case"input":Vu(r),Yy(r,i,!0);break;case"textarea":Vu(r),qy(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=zc)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=jE(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[Qn]=e,n[El]=r,uS(n,e,!1,!1),e.stateNode=n;e:{switch(o=fp(t,r),t){case"dialog":je("cancel",n),je("close",n),s=r;break;case"iframe":case"object":case"embed":je("load",n),s=r;break;case"video":case"audio":for(s=0;s<Ba.length;s++)je(Ba[s],n);s=r;break;case"source":je("error",n),s=r;break;case"img":case"image":case"link":je("error",n),je("load",n),s=r;break;case"details":je("toggle",n),s=r;break;case"input":Hy(n,r),s=ap(n,r),je("invalid",n);break;case"option":s=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},s=Qe({},r,{value:void 0}),je("invalid",n);break;case"textarea":zy(n,r),s=cp(n,r),je("invalid",n);break;default:s=r}hp(t,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?WE(n,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&BE(n,l)):i==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&hl(n,l):typeof l=="number"&&hl(n,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(dl.hasOwnProperty(i)?l!=null&&i==="onScroll"&&je("scroll",n):l!=null&&Vm(n,i,l,o))}switch(t){case"input":Vu(n),Yy(n,r,!1);break;case"textarea":Vu(n),qy(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Ms(r.value));break;case"select":n.multiple=!!r.multiple,i=r.value,i!=null?po(n,!!r.multiple,i,!1):r.defaultValue!=null&&po(n,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(n.onclick=zc)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Mt(e),null;case 6:if(n&&e.stateNode!=null)dS(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error($(166));if(t=ui(Sl.current),ui(sr.current),zu(e)){if(r=e.stateNode,t=e.memoizedProps,r[Qn]=e,(i=r.nodeValue!==t)&&(n=fn,n!==null))switch(n.tag){case 3:Yu(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Yu(r.nodeValue,t,(n.mode&1)!==0)}i&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Qn]=e,e.stateNode=r}return Mt(e),null;case 13:if(Ue(Ye),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(He&&dn!==null&&e.mode&1&&!(e.flags&128))bT(),bo(),e.flags|=98560,i=!1;else if(i=zu(e),r!==null&&r.dehydrated!==null){if(n===null){if(!i)throw Error($(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error($(317));i[Qn]=e}else bo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Mt(e),i=!1}else Nn!==null&&(qp(Nn),Nn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||Ye.current&1?pt===0&&(pt=3):_g())),e.updateQueue!==null&&(e.flags|=4),Mt(e),null);case 4:return xo(),jp(n,e),n===null&&_l(e.stateNode.containerInfo),Mt(e),null;case 10:return ng(e.type._context),Mt(e),null;case 17:return rn(e.type)&&qc(),Mt(e),null;case 19:if(Ue(Ye),i=e.memoizedState,i===null)return Mt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)ba(i,!1);else{if(pt!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=ed(n),o!==null){for(e.flags|=128,ba(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)i=t,n=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=n,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,n=o.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Ve(Ye,Ye.current&1|2),e.child}n=n.sibling}i.tail!==null&&nt()>No&&(e.flags|=128,r=!0,ba(i,!1),e.lanes=4194304)}else{if(!r)if(n=ed(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),ba(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!He)return Mt(e),null}else 2*nt()-i.renderingStartTime>No&&t!==1073741824&&(e.flags|=128,r=!0,ba(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(t=i.last,t!==null?t.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=nt(),e.sibling=null,t=Ye.current,Ve(Ye,r?t&1|2:t&1),e):(Mt(e),null);case 22:case 23:return yg(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ln&1073741824&&(Mt(e),e.subtreeFlags&6&&(e.flags|=8192)):Mt(e),null;case 24:return null;case 25:return null}throw Error($(156,e.tag))}function P1(n,e){switch(Jm(e),e.tag){case 1:return rn(e.type)&&qc(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return xo(),Ue(nn),Ue(Ut),ag(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return og(e),null;case 13:if(Ue(Ye),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error($(340));bo()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Ue(Ye),null;case 4:return xo(),null;case 10:return ng(e.type._context),null;case 22:case 23:return yg(),null;case 24:return null;default:return null}}var Ku=!1,Vt=!1,b1=typeof WeakSet=="function"?WeakSet:Set,G=null;function co(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){Ze(n,e,r)}else t.current=null}function Bp(n,e,t){try{t()}catch(r){Ze(n,e,r)}}var L_=!1;function R1(n,e){if(Sp=$c,n=gT(),Gm(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{t.nodeType,i.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=n,p=null;t:for(;;){for(var g;h!==t||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)p=h,h=g;for(;;){if(h===n)break t;if(p===t&&++c===s&&(a=o),p===i&&++d===r&&(l=o),(g=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=g}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(Cp={focusedElem:n,selectionRange:t},$c=!1,G=e;G!==null;)if(e=G,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,G=n;else for(;G!==null;){e=G;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var D=_.memoizedProps,I=_.memoizedState,w=e.stateNode,y=w.getSnapshotBeforeUpdate(e.elementType===e.type?D:xn(e.type,D),I);w.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(x){Ze(e,e.return,x)}if(n=e.sibling,n!==null){n.return=e.return,G=n;break}G=e.return}return _=L_,L_=!1,_}function nl(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&n)===n){var i=s.destroy;s.destroy=void 0,i!==void 0&&Bp(e,t,i)}s=s.next}while(s!==r)}}function Gd(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function Up(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function hS(n){var e=n.alternate;e!==null&&(n.alternate=null,hS(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Qn],delete e[El],delete e[Dp],delete e[h1],delete e[f1])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function fS(n){return n.tag===5||n.tag===3||n.tag===4}function V_(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||fS(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Wp(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=zc));else if(r!==4&&(n=n.child,n!==null))for(Wp(n,e,t),n=n.sibling;n!==null;)Wp(n,e,t),n=n.sibling}function $p(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for($p(n,e,t),n=n.sibling;n!==null;)$p(n,e,t),n=n.sibling}var wt=null,An=!1;function ns(n,e,t){for(t=t.child;t!==null;)pS(n,e,t),t=t.sibling}function pS(n,e,t){if(rr&&typeof rr.onCommitFiberUnmount=="function")try{rr.onCommitFiberUnmount(Wd,t)}catch{}switch(t.tag){case 5:Vt||co(t,e);case 6:var r=wt,s=An;wt=null,ns(n,e,t),wt=r,An=s,wt!==null&&(An?(n=wt,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):wt.removeChild(t.stateNode));break;case 18:wt!==null&&(An?(n=wt,t=t.stateNode,n.nodeType===8?vf(n.parentNode,t):n.nodeType===1&&vf(n,t),gl(n)):vf(wt,t.stateNode));break;case 4:r=wt,s=An,wt=t.stateNode.containerInfo,An=!0,ns(n,e,t),wt=r,An=s;break;case 0:case 11:case 14:case 15:if(!Vt&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Bp(t,e,o),s=s.next}while(s!==r)}ns(n,e,t);break;case 1:if(!Vt&&(co(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){Ze(t,e,a)}ns(n,e,t);break;case 21:ns(n,e,t);break;case 22:t.mode&1?(Vt=(r=Vt)||t.memoizedState!==null,ns(n,e,t),Vt=r):ns(n,e,t);break;default:ns(n,e,t)}}function F_(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new b1),e.forEach(function(r){var s=j1.bind(null,n,r);t.has(r)||(t.add(r),r.then(s,s))})}}function bn(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var s=t[r];try{var i=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:wt=a.stateNode,An=!1;break e;case 3:wt=a.stateNode.containerInfo,An=!0;break e;case 4:wt=a.stateNode.containerInfo,An=!0;break e}a=a.return}if(wt===null)throw Error($(160));pS(i,o,s),wt=null,An=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Ze(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)mS(e,n),e=e.sibling}function mS(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(bn(e,n),Wn(n),r&4){try{nl(3,n,n.return),Gd(3,n)}catch(D){Ze(n,n.return,D)}try{nl(5,n,n.return)}catch(D){Ze(n,n.return,D)}}break;case 1:bn(e,n),Wn(n),r&512&&t!==null&&co(t,t.return);break;case 5:if(bn(e,n),Wn(n),r&512&&t!==null&&co(t,t.return),n.flags&32){var s=n.stateNode;try{hl(s,"")}catch(D){Ze(n,n.return,D)}}if(r&4&&(s=n.stateNode,s!=null)){var i=n.memoizedProps,o=t!==null?t.memoizedProps:i,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&VE(s,i),fp(a,o);var c=fp(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?WE(s,h):d==="dangerouslySetInnerHTML"?BE(s,h):d==="children"?hl(s,h):Vm(s,d,h,c)}switch(a){case"input":lp(s,i);break;case"textarea":FE(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?po(s,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?po(s,!!i.multiple,i.defaultValue,!0):po(s,!!i.multiple,i.multiple?[]:"",!1))}s[El]=i}catch(D){Ze(n,n.return,D)}}break;case 6:if(bn(e,n),Wn(n),r&4){if(n.stateNode===null)throw Error($(162));s=n.stateNode,i=n.memoizedProps;try{s.nodeValue=i}catch(D){Ze(n,n.return,D)}}break;case 3:if(bn(e,n),Wn(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{gl(e.containerInfo)}catch(D){Ze(n,n.return,D)}break;case 4:bn(e,n),Wn(n);break;case 13:bn(e,n),Wn(n),s=n.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(gg=nt())),r&4&&F_(n);break;case 22:if(d=t!==null&&t.memoizedState!==null,n.mode&1?(Vt=(c=Vt)||d,bn(e,n),Vt=c):bn(e,n),Wn(n),r&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!d&&n.mode&1)for(G=n,d=n.child;d!==null;){for(h=G=d;G!==null;){switch(p=G,g=p.child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:co(p,p.return);var _=p.stateNode;if(typeof _.componentWillUnmount=="function"){r=p,t=p.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(D){Ze(r,t,D)}}break;case 5:co(p,p.return);break;case 22:if(p.memoizedState!==null){B_(h);continue}}g!==null?(g.return=p,G=g):B_(h)}d=d.sibling}e:for(d=null,h=n;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=UE("display",o))}catch(D){Ze(n,n.return,D)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(D){Ze(n,n.return,D)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:bn(e,n),Wn(n),r&4&&F_(n);break;case 21:break;default:bn(e,n),Wn(n)}}function Wn(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(fS(t)){var r=t;break e}t=t.return}throw Error($(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(hl(s,""),r.flags&=-33);var i=V_(n);$p(n,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=V_(n);Wp(n,a,o);break;default:throw Error($(161))}}catch(l){Ze(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function x1(n,e,t){G=n,gS(n)}function gS(n,e,t){for(var r=(n.mode&1)!==0;G!==null;){var s=G,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ku;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Vt;a=Ku;var c=Vt;if(Ku=o,(Vt=l)&&!c)for(G=s;G!==null;)o=G,l=o.child,o.tag===22&&o.memoizedState!==null?U_(s):l!==null?(l.return=o,G=l):U_(s);for(;i!==null;)G=i,gS(i),i=i.sibling;G=s,Ku=a,Vt=c}j_(n)}else s.subtreeFlags&8772&&i!==null?(i.return=s,G=i):j_(n)}}function j_(n){for(;G!==null;){var e=G;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Vt||Gd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Vt)if(t===null)r.componentDidMount();else{var s=e.elementType===e.type?t.memoizedProps:xn(e.type,t.memoizedProps);r.componentDidUpdate(s,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&S_(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}S_(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&gl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}Vt||e.flags&512&&Up(e)}catch(p){Ze(e,e.return,p)}}if(e===n){G=null;break}if(t=e.sibling,t!==null){t.return=e.return,G=t;break}G=e.return}}function B_(n){for(;G!==null;){var e=G;if(e===n){G=null;break}var t=e.sibling;if(t!==null){t.return=e.return,G=t;break}G=e.return}}function U_(n){for(;G!==null;){var e=G;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{Gd(4,e)}catch(l){Ze(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Ze(e,s,l)}}var i=e.return;try{Up(e)}catch(l){Ze(e,i,l)}break;case 5:var o=e.return;try{Up(e)}catch(l){Ze(e,o,l)}}}catch(l){Ze(e,e.return,l)}if(e===n){G=null;break}var a=e.sibling;if(a!==null){a.return=e.return,G=a;break}G=e.return}}var A1=Math.ceil,rd=Yr.ReactCurrentDispatcher,pg=Yr.ReactCurrentOwner,Sn=Yr.ReactCurrentBatchConfig,Ce=0,vt=null,ut=null,It=0,ln=0,ho=$s(0),pt=0,Dl=null,Ti=0,Xd=0,mg=0,rl=null,Zt=null,gg=0,No=1/0,wr=null,sd=!1,Hp=null,Ss=null,Gu=!1,ms=null,id=0,sl=0,Yp=null,wc=-1,Ec=0;function Qt(){return Ce&6?nt():wc!==-1?wc:wc=nt()}function Cs(n){return n.mode&1?Ce&2&&It!==0?It&-It:m1.transition!==null?(Ec===0&&(Ec=eT()),Ec):(n=Ne,n!==0||(n=window.event,n=n===void 0?16:aT(n.type)),n):1}function On(n,e,t,r){if(50<sl)throw sl=0,Yp=null,Error($(185));zl(n,t,r),(!(Ce&2)||n!==vt)&&(n===vt&&(!(Ce&2)&&(Xd|=t),pt===4&&us(n,It)),sn(n,r),t===1&&Ce===0&&!(e.mode&1)&&(No=nt()+500,qd&&Hs()))}function sn(n,e){var t=n.callbackNode;mP(n,e);var r=Wc(n,n===vt?It:0);if(r===0)t!==null&&Gy(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&Gy(t),e===1)n.tag===0?p1(W_.bind(null,n)):kT(W_.bind(null,n)),c1(function(){!(Ce&6)&&Hs()}),t=null;else{switch(tT(r)){case 1:t=Wm;break;case 4:t=JE;break;case 16:t=Uc;break;case 536870912:t=ZE;break;default:t=Uc}t=CS(t,vS.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function vS(n,e){if(wc=-1,Ec=0,Ce&6)throw Error($(327));var t=n.callbackNode;if(_o()&&n.callbackNode!==t)return null;var r=Wc(n,n===vt?It:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=od(n,r);else{e=r;var s=Ce;Ce|=2;var i=_S();(vt!==n||It!==e)&&(wr=null,No=nt()+500,fi(n,e));do try{O1();break}catch(a){yS(n,a)}while(!0);tg(),rd.current=i,Ce=s,ut!==null?e=0:(vt=null,It=0,e=pt)}if(e!==0){if(e===2&&(s=yp(n),s!==0&&(r=s,e=zp(n,s))),e===1)throw t=Dl,fi(n,0),us(n,r),sn(n,nt()),t;if(e===6)us(n,r);else{if(s=n.current.alternate,!(r&30)&&!N1(s)&&(e=od(n,r),e===2&&(i=yp(n),i!==0&&(r=i,e=zp(n,i))),e===1))throw t=Dl,fi(n,0),us(n,r),sn(n,nt()),t;switch(n.finishedWork=s,n.finishedLanes=r,e){case 0:case 1:throw Error($(345));case 2:ti(n,Zt,wr);break;case 3:if(us(n,r),(r&130023424)===r&&(e=gg+500-nt(),10<e)){if(Wc(n,0)!==0)break;if(s=n.suspendedLanes,(s&r)!==r){Qt(),n.pingedLanes|=n.suspendedLanes&s;break}n.timeoutHandle=kp(ti.bind(null,n,Zt,wr),e);break}ti(n,Zt,wr);break;case 4:if(us(n,r),(r&4194240)===r)break;for(e=n.eventTimes,s=-1;0<r;){var o=31-Mn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=nt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*A1(r/1960))-r,10<r){n.timeoutHandle=kp(ti.bind(null,n,Zt,wr),r);break}ti(n,Zt,wr);break;case 5:ti(n,Zt,wr);break;default:throw Error($(329))}}}return sn(n,nt()),n.callbackNode===t?vS.bind(null,n):null}function zp(n,e){var t=rl;return n.current.memoizedState.isDehydrated&&(fi(n,e).flags|=256),n=od(n,e),n!==2&&(e=Zt,Zt=t,e!==null&&qp(e)),n}function qp(n){Zt===null?Zt=n:Zt.push.apply(Zt,n)}function N1(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var s=t[r],i=s.getSnapshot;s=s.value;try{if(!Vn(i(),s))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function us(n,e){for(e&=~mg,e&=~Xd,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Mn(e),r=1<<t;n[t]=-1,e&=~r}}function W_(n){if(Ce&6)throw Error($(327));_o();var e=Wc(n,0);if(!(e&1))return sn(n,nt()),null;var t=od(n,e);if(n.tag!==0&&t===2){var r=yp(n);r!==0&&(e=r,t=zp(n,r))}if(t===1)throw t=Dl,fi(n,0),us(n,e),sn(n,nt()),t;if(t===6)throw Error($(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,ti(n,Zt,wr),sn(n,nt()),null}function vg(n,e){var t=Ce;Ce|=1;try{return n(e)}finally{Ce=t,Ce===0&&(No=nt()+500,qd&&Hs())}}function Si(n){ms!==null&&ms.tag===0&&!(Ce&6)&&_o();var e=Ce;Ce|=1;var t=Sn.transition,r=Ne;try{if(Sn.transition=null,Ne=1,n)return n()}finally{Ne=r,Sn.transition=t,Ce=e,!(Ce&6)&&Hs()}}function yg(){ln=ho.current,Ue(ho)}function fi(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,u1(t)),ut!==null)for(t=ut.return;t!==null;){var r=t;switch(Jm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&qc();break;case 3:xo(),Ue(nn),Ue(Ut),ag();break;case 5:og(r);break;case 4:xo();break;case 13:Ue(Ye);break;case 19:Ue(Ye);break;case 10:ng(r.type._context);break;case 22:case 23:yg()}t=t.return}if(vt=n,ut=n=Is(n.current,null),It=ln=e,pt=0,Dl=null,mg=Xd=Ti=0,Zt=rl=null,li!==null){for(e=0;e<li.length;e++)if(t=li[e],r=t.interleaved,r!==null){t.interleaved=null;var s=r.next,i=t.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}t.pending=r}li=null}return n}function yS(n,e){do{var t=ut;try{if(tg(),vc.current=nd,td){for(var r=qe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}td=!1}if(Ei=0,gt=ft=qe=null,tl=!1,Cl=0,pg.current=null,t===null||t.return===null){pt=1,Dl=e,ut=null;break}e:{var i=n,o=t.return,a=t,l=e;if(e=It,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=b_(o);if(g!==null){g.flags&=-257,R_(g,o,a,i,e),g.mode&1&&P_(i,c,e),e=g,l=c;var _=e.updateQueue;if(_===null){var D=new Set;D.add(l),e.updateQueue=D}else _.add(l);break e}else{if(!(e&1)){P_(i,c,e),_g();break e}l=Error($(426))}}else if(He&&a.mode&1){var I=b_(o);if(I!==null){!(I.flags&65536)&&(I.flags|=256),R_(I,o,a,i,e),Zm(Ao(l,a));break e}}i=l=Ao(l,a),pt!==4&&(pt=2),rl===null?rl=[i]:rl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=tS(i,l,e);T_(i,w);break e;case 1:a=l;var y=i.type,E=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Ss===null||!Ss.has(E)))){i.flags|=65536,e&=-e,i.lanes|=e;var x=nS(i,a,e);T_(i,x);break e}}i=i.return}while(i!==null)}ES(t)}catch(L){e=L,ut===t&&t!==null&&(ut=t=t.return);continue}break}while(!0)}function _S(){var n=rd.current;return rd.current=nd,n===null?nd:n}function _g(){(pt===0||pt===3||pt===2)&&(pt=4),vt===null||!(Ti&268435455)&&!(Xd&268435455)||us(vt,It)}function od(n,e){var t=Ce;Ce|=2;var r=_S();(vt!==n||It!==e)&&(wr=null,fi(n,e));do try{M1();break}catch(s){yS(n,s)}while(!0);if(tg(),Ce=t,rd.current=r,ut!==null)throw Error($(261));return vt=null,It=0,pt}function M1(){for(;ut!==null;)wS(ut)}function O1(){for(;ut!==null&&!oP();)wS(ut)}function wS(n){var e=SS(n.alternate,n,ln);n.memoizedProps=n.pendingProps,e===null?ES(n):ut=e,pg.current=null}function ES(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=P1(t,e),t!==null){t.flags&=32767,ut=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{pt=6,ut=null;return}}else if(t=D1(t,e,ln),t!==null){ut=t;return}if(e=e.sibling,e!==null){ut=e;return}ut=e=n}while(e!==null);pt===0&&(pt=5)}function ti(n,e,t){var r=Ne,s=Sn.transition;try{Sn.transition=null,Ne=1,L1(n,e,t,r)}finally{Sn.transition=s,Ne=r}return null}function L1(n,e,t,r){do _o();while(ms!==null);if(Ce&6)throw Error($(327));t=n.finishedWork;var s=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error($(177));n.callbackNode=null,n.callbackPriority=0;var i=t.lanes|t.childLanes;if(gP(n,i),n===vt&&(ut=vt=null,It=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Gu||(Gu=!0,CS(Uc,function(){return _o(),null})),i=(t.flags&15990)!==0,t.subtreeFlags&15990||i){i=Sn.transition,Sn.transition=null;var o=Ne;Ne=1;var a=Ce;Ce|=4,pg.current=null,R1(n,t),mS(t,n),n1(Cp),$c=!!Sp,Cp=Sp=null,n.current=t,x1(t),aP(),Ce=a,Ne=o,Sn.transition=i}else n.current=t;if(Gu&&(Gu=!1,ms=n,id=s),i=n.pendingLanes,i===0&&(Ss=null),cP(t.stateNode),sn(n,nt()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)s=e[t],r(s.value,{componentStack:s.stack,digest:s.digest});if(sd)throw sd=!1,n=Hp,Hp=null,n;return id&1&&n.tag!==0&&_o(),i=n.pendingLanes,i&1?n===Yp?sl++:(sl=0,Yp=n):sl=0,Hs(),null}function _o(){if(ms!==null){var n=tT(id),e=Sn.transition,t=Ne;try{if(Sn.transition=null,Ne=16>n?16:n,ms===null)var r=!1;else{if(n=ms,ms=null,id=0,Ce&6)throw Error($(331));var s=Ce;for(Ce|=4,G=n.current;G!==null;){var i=G,o=i.child;if(G.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(G=c;G!==null;){var d=G;switch(d.tag){case 0:case 11:case 15:nl(8,d,i)}var h=d.child;if(h!==null)h.return=d,G=h;else for(;G!==null;){d=G;var p=d.sibling,g=d.return;if(hS(d),d===c){G=null;break}if(p!==null){p.return=g,G=p;break}G=g}}}var _=i.alternate;if(_!==null){var D=_.child;if(D!==null){_.child=null;do{var I=D.sibling;D.sibling=null,D=I}while(D!==null)}}G=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,G=o;else e:for(;G!==null;){if(i=G,i.flags&2048)switch(i.tag){case 0:case 11:case 15:nl(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,G=w;break e}G=i.return}}var y=n.current;for(G=y;G!==null;){o=G;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,G=E;else e:for(o=y;G!==null;){if(a=G,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Gd(9,a)}}catch(L){Ze(a,a.return,L)}if(a===o){G=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,G=x;break e}G=a.return}}if(Ce=s,Hs(),rr&&typeof rr.onPostCommitFiberRoot=="function")try{rr.onPostCommitFiberRoot(Wd,n)}catch{}r=!0}return r}finally{Ne=t,Sn.transition=e}}return!1}function $_(n,e,t){e=Ao(t,e),e=tS(n,e,1),n=Ts(n,e,1),e=Qt(),n!==null&&(zl(n,1,e),sn(n,e))}function Ze(n,e,t){if(n.tag===3)$_(n,n,t);else for(;e!==null;){if(e.tag===3){$_(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ss===null||!Ss.has(r))){n=Ao(t,n),n=nS(e,n,1),e=Ts(e,n,1),n=Qt(),e!==null&&(zl(e,1,n),sn(e,n));break}}e=e.return}}function V1(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=Qt(),n.pingedLanes|=n.suspendedLanes&t,vt===n&&(It&t)===t&&(pt===4||pt===3&&(It&130023424)===It&&500>nt()-gg?fi(n,0):mg|=t),sn(n,e)}function TS(n,e){e===0&&(n.mode&1?(e=Bu,Bu<<=1,!(Bu&130023424)&&(Bu=4194304)):e=1);var t=Qt();n=Fr(n,e),n!==null&&(zl(n,e,t),sn(n,t))}function F1(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),TS(n,t)}function j1(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,s=n.memoizedState;s!==null&&(t=s.retryLane);break;case 19:r=n.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(e),TS(n,t)}var SS;SS=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||nn.current)tn=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return tn=!1,k1(n,e,t);tn=!!(n.flags&131072)}else tn=!1,He&&e.flags&1048576&&DT(e,Gc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;_c(n,e),n=e.pendingProps;var s=Po(e,Ut.current);yo(e,t),s=ug(null,e,r,n,s,t);var i=cg();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,rn(r)?(i=!0,Qc(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,sg(e),s.updater=Kd,e.stateNode=s,s._reactInternals=e,Np(e,r,n,t),e=Lp(null,e,r,!0,i,t)):(e.tag=0,He&&i&&Xm(e),Yt(null,e,s,t),e=e.child),e;case 16:r=e.elementType;e:{switch(_c(n,e),n=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=U1(r),n=xn(r,n),s){case 0:e=Op(null,e,r,n,t);break e;case 1:e=N_(null,e,r,n,t);break e;case 11:e=x_(null,e,r,n,t);break e;case 14:e=A_(null,e,r,xn(r.type,n),t);break e}throw Error($(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:xn(r,s),Op(n,e,r,s,t);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:xn(r,s),N_(n,e,r,s,t);case 3:e:{if(oS(e),n===null)throw Error($(387));r=e.pendingProps,i=e.memoizedState,s=i.element,NT(n,e),Zc(e,r,null,t);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Ao(Error($(423)),e),e=M_(n,e,r,t,s);break e}else if(r!==s){s=Ao(Error($(424)),e),e=M_(n,e,r,t,s);break e}else for(dn=Es(e.stateNode.containerInfo.firstChild),fn=e,He=!0,Nn=null,t=xT(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(bo(),r===s){e=jr(n,e,t);break e}Yt(n,e,r,t)}e=e.child}return e;case 5:return MT(e),n===null&&Rp(e),r=e.type,s=e.pendingProps,i=n!==null?n.memoizedProps:null,o=s.children,Ip(r,s)?o=null:i!==null&&Ip(r,i)&&(e.flags|=32),iS(n,e),Yt(n,e,o,t),e.child;case 6:return n===null&&Rp(e),null;case 13:return aS(n,e,t);case 4:return ig(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Ro(e,null,r,t):Yt(n,e,r,t),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:xn(r,s),x_(n,e,r,s,t);case 7:return Yt(n,e,e.pendingProps,t),e.child;case 8:return Yt(n,e,e.pendingProps.children,t),e.child;case 12:return Yt(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Ve(Xc,r._currentValue),r._currentValue=o,i!==null)if(Vn(i.value,o)){if(i.children===s.children&&!nn.current){e=jr(n,e,t);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Pr(-1,t&-t),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=t,l=i.alternate,l!==null&&(l.lanes|=t),xp(i.return,t,e),a.lanes|=t;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error($(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),xp(o,t,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Yt(n,e,s.children,t),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,yo(e,t),s=Cn(s),r=r(s),e.flags|=1,Yt(n,e,r,t),e.child;case 14:return r=e.type,s=xn(r,e.pendingProps),s=xn(r.type,s),A_(n,e,r,s,t);case 15:return rS(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:xn(r,s),_c(n,e),e.tag=1,rn(r)?(n=!0,Qc(e)):n=!1,yo(e,t),eS(e,r,s),Np(e,r,s,t),Lp(null,e,r,!0,n,t);case 19:return lS(n,e,t);case 22:return sS(n,e,t)}throw Error($(156,e.tag))};function CS(n,e){return XE(n,e)}function B1(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(n,e,t,r){return new B1(n,e,t,r)}function wg(n){return n=n.prototype,!(!n||!n.isReactComponent)}function U1(n){if(typeof n=="function")return wg(n)?1:0;if(n!=null){if(n=n.$$typeof,n===jm)return 11;if(n===Bm)return 14}return 2}function Is(n,e){var t=n.alternate;return t===null?(t=Tn(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Tc(n,e,t,r,s,i){var o=2;if(r=n,typeof n=="function")wg(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case to:return pi(t.children,s,i,e);case Fm:o=8,s|=8;break;case rp:return n=Tn(12,t,e,s|2),n.elementType=rp,n.lanes=i,n;case sp:return n=Tn(13,t,e,s),n.elementType=sp,n.lanes=i,n;case ip:return n=Tn(19,t,e,s),n.elementType=ip,n.lanes=i,n;case ME:return Jd(t,s,i,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case AE:o=10;break e;case NE:o=9;break e;case jm:o=11;break e;case Bm:o=14;break e;case os:o=16,r=null;break e}throw Error($(130,n==null?n:typeof n,""))}return e=Tn(o,t,e,s),e.elementType=n,e.type=r,e.lanes=i,e}function pi(n,e,t,r){return n=Tn(7,n,r,e),n.lanes=t,n}function Jd(n,e,t,r){return n=Tn(22,n,r,e),n.elementType=ME,n.lanes=t,n.stateNode={isHidden:!1},n}function If(n,e,t){return n=Tn(6,n,null,e),n.lanes=t,n}function kf(n,e,t){return e=Tn(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function W1(n,e,t,r,s){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=of(0),this.expirationTimes=of(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=of(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Eg(n,e,t,r,s,i,o,a,l){return n=new W1(n,e,t,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Tn(3,null,null,e),n.current=i,i.stateNode=n,i.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},sg(i),n}function $1(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:eo,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function IS(n){if(!n)return Os;n=n._reactInternals;e:{if(Oi(n)!==n||n.tag!==1)throw Error($(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(rn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($(171))}if(n.tag===1){var t=n.type;if(rn(t))return IT(n,t,e)}return e}function kS(n,e,t,r,s,i,o,a,l){return n=Eg(t,r,!0,n,s,i,o,a,l),n.context=IS(null),t=n.current,r=Qt(),s=Cs(t),i=Pr(r,s),i.callback=e??null,Ts(t,i,s),n.current.lanes=s,zl(n,s,r),sn(n,r),n}function Zd(n,e,t,r){var s=e.current,i=Qt(),o=Cs(s);return t=IS(t),e.context===null?e.context=t:e.pendingContext=t,e=Pr(i,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=Ts(s,e,o),n!==null&&(On(n,s,o,i),gc(n,s,o)),o}function ad(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function H_(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function Tg(n,e){H_(n,e),(n=n.alternate)&&H_(n,e)}function H1(){return null}var DS=typeof reportError=="function"?reportError:function(n){console.error(n)};function Sg(n){this._internalRoot=n}eh.prototype.render=Sg.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error($(409));Zd(n,e,null,null)};eh.prototype.unmount=Sg.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Si(function(){Zd(null,n,null,null)}),e[Vr]=null}};function eh(n){this._internalRoot=n}eh.prototype.unstable_scheduleHydration=function(n){if(n){var e=sT();n={blockedOn:null,target:n,priority:e};for(var t=0;t<ls.length&&e!==0&&e<ls[t].priority;t++);ls.splice(t,0,n),t===0&&oT(n)}};function Cg(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function th(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Y_(){}function Y1(n,e,t,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=ad(o);i.call(c)}}var o=kS(e,r,n,0,null,!1,!1,"",Y_);return n._reactRootContainer=o,n[Vr]=o.current,_l(n.nodeType===8?n.parentNode:n),Si(),o}for(;s=n.lastChild;)n.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=ad(l);a.call(c)}}var l=Eg(n,0,!1,null,null,!1,!1,"",Y_);return n._reactRootContainer=l,n[Vr]=l.current,_l(n.nodeType===8?n.parentNode:n),Si(function(){Zd(e,l,t,r)}),l}function nh(n,e,t,r,s){var i=t._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=ad(o);a.call(l)}}Zd(e,o,n,s)}else o=Y1(t,e,n,s,r);return ad(o)}nT=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=ja(e.pendingLanes);t!==0&&($m(e,t|1),sn(e,nt()),!(Ce&6)&&(No=nt()+500,Hs()))}break;case 13:Si(function(){var r=Fr(n,1);if(r!==null){var s=Qt();On(r,n,1,s)}}),Tg(n,1)}};Hm=function(n){if(n.tag===13){var e=Fr(n,134217728);if(e!==null){var t=Qt();On(e,n,134217728,t)}Tg(n,134217728)}};rT=function(n){if(n.tag===13){var e=Cs(n),t=Fr(n,e);if(t!==null){var r=Qt();On(t,n,e,r)}Tg(n,e)}};sT=function(){return Ne};iT=function(n,e){var t=Ne;try{return Ne=n,e()}finally{Ne=t}};mp=function(n,e,t){switch(e){case"input":if(lp(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var s=zd(r);if(!s)throw Error($(90));LE(r),lp(r,s)}}}break;case"textarea":FE(n,t);break;case"select":e=t.value,e!=null&&po(n,!!t.multiple,e,!1)}};YE=vg;zE=Si;var z1={usingClientEntryPoint:!1,Events:[Ql,io,zd,$E,HE,vg]},Ra={findFiberByHostInstance:ai,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},q1={bundleType:Ra.bundleType,version:Ra.version,rendererPackageName:Ra.rendererPackageName,rendererConfig:Ra.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yr.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=KE(n),n===null?null:n.stateNode},findFiberByHostInstance:Ra.findFiberByHostInstance||H1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xu.isDisabled&&Xu.supportsFiber)try{Wd=Xu.inject(q1),rr=Xu}catch{}}gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z1;gn.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cg(e))throw Error($(200));return $1(n,e,null,t)};gn.createRoot=function(n,e){if(!Cg(n))throw Error($(299));var t=!1,r="",s=DS;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Eg(n,1,!1,null,null,t,!1,r,s),n[Vr]=e.current,_l(n.nodeType===8?n.parentNode:n),new Sg(e)};gn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error($(188)):(n=Object.keys(n).join(","),Error($(268,n)));return n=KE(e),n=n===null?null:n.stateNode,n};gn.flushSync=function(n){return Si(n)};gn.hydrate=function(n,e,t){if(!th(e))throw Error($(200));return nh(null,n,e,!0,t)};gn.hydrateRoot=function(n,e,t){if(!Cg(n))throw Error($(405));var r=t!=null&&t.hydratedSources||null,s=!1,i="",o=DS;if(t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=kS(e,null,n,1,t??null,s,!1,i,o),n[Vr]=e.current,_l(n),r)for(n=0;n<r.length;n++)t=r[n],s=t._getVersion,s=s(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,s]:e.mutableSourceEagerHydrationData.push(t,s);return new eh(e)};gn.render=function(n,e,t){if(!th(e))throw Error($(200));return nh(null,n,e,!1,t)};gn.unmountComponentAtNode=function(n){if(!th(n))throw Error($(40));return n._reactRootContainer?(Si(function(){nh(null,null,n,!1,function(){n._reactRootContainer=null,n[Vr]=null})}),!0):!1};gn.unstable_batchedUpdates=vg;gn.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!th(t))throw Error($(200));if(n==null||n._reactInternals===void 0)throw Error($(38));return nh(n,e,t,!1,r)};gn.version="18.3.1-next-f1338f8080-20240426";function PS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(PS)}catch(n){console.error(n)}}PS(),PE.exports=gn;var ea=PE.exports;const Q1=gE(ea);var bS,z_=ea;bS=z_.createRoot,z_.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pl(){return Pl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Pl.apply(this,arguments)}var gs;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(gs||(gs={}));const q_="popstate";function K1(n){n===void 0&&(n={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Qp("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:ld(s)}return X1(e,t,null,n)}function ot(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function RS(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function G1(){return Math.random().toString(36).substr(2,8)}function Q_(n,e){return{usr:n.state,key:n.key,idx:e}}function Qp(n,e,t,r){return t===void 0&&(t=null),Pl({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?ta(e):e,{state:t,key:e&&e.key||r||G1()})}function ld(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ta(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function X1(n,e,t,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=gs.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(Pl({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=gs.Pop;let I=d(),w=I==null?null:I-c;c=I,l&&l({action:a,location:D.location,delta:w})}function p(I,w){a=gs.Push;let y=Qp(D.location,I,w);c=d()+1;let E=Q_(y,c),x=D.createHref(y);try{o.pushState(E,"",x)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;s.location.assign(x)}i&&l&&l({action:a,location:D.location,delta:1})}function g(I,w){a=gs.Replace;let y=Qp(D.location,I,w);c=d();let E=Q_(y,c),x=D.createHref(y);o.replaceState(E,"",x),i&&l&&l({action:a,location:D.location,delta:0})}function _(I){let w=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof I=="string"?I:ld(I);return y=y.replace(/ $/,"%20"),ot(w,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,w)}let D={get action(){return a},get location(){return n(s,o)},listen(I){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(q_,h),l=I,()=>{s.removeEventListener(q_,h),l=null}},createHref(I){return e(s,I)},createURL:_,encodeLocation(I){let w=_(I);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:g,go(I){return o.go(I)}};return D}var K_;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(K_||(K_={}));function J1(n,e,t){return t===void 0&&(t="/"),Z1(n,e,t)}function Z1(n,e,t,r){let s=typeof e=="string"?ta(e):e,i=Ig(s.pathname||"/",t);if(i==null)return null;let o=xS(n);eb(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=hb(i);a=ub(o[l],c)}return a}function xS(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(ot(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=ks([r,l.relativePath]),d=t.concat(l);i.children&&i.children.length>0&&(ot(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),xS(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:ab(c,i.index),routesMeta:d})};return n.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of AS(i.path))s(i,o,l)}),e}function AS(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),i=t.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=AS(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function eb(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:lb(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const tb=/^:[\w-]+$/,nb=3,rb=2,sb=1,ib=10,ob=-2,G_=n=>n==="*";function ab(n,e){let t=n.split("/"),r=t.length;return t.some(G_)&&(r+=ob),e&&(r+=rb),t.filter(s=>!G_(s)).reduce((s,i)=>s+(tb.test(i)?nb:i===""?sb:ib),r)}function lb(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function ub(n,e,t){let{routesMeta:r}=n,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=cb({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:ks([i,h.pathname]),pathnameBase:gb(ks([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=ks([i,h.pathnameBase]))}return o}function cb(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=db(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:p,isOptional:g}=d;if(p==="*"){let D=a[h]||"";o=i.slice(0,i.length-D.length).replace(/(.)\/+$/,"$1")}const _=a[h];return g&&!_?c[p]=void 0:c[p]=(_||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:n}}function db(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),RS(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function hb(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return RS(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Ig(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function fb(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?ta(n):n;return{pathname:t?t.startsWith("/")?t:pb(t,e):e,search:vb(r),hash:yb(s)}}function pb(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Df(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function mb(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function kg(n,e){let t=mb(n);return e?t.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function Dg(n,e,t,r){r===void 0&&(r=!1);let s;typeof n=="string"?s=ta(n):(s=Pl({},n),ot(!s.pathname||!s.pathname.includes("?"),Df("?","pathname","search",s)),ot(!s.pathname||!s.pathname.includes("#"),Df("#","pathname","hash",s)),ot(!s.search||!s.search.includes("#"),Df("#","search","hash",s)));let i=n===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=t;else{let h=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=fb(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const ks=n=>n.join("/").replace(/\/\/+/g,"/"),gb=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),vb=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,yb=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function _b(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const NS=["post","put","patch","delete"];new Set(NS);const wb=["get",...NS];new Set(wb);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bl(){return bl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},bl.apply(this,arguments)}const Pg=A.createContext(null),Eb=A.createContext(null),Ys=A.createContext(null),rh=A.createContext(null),zr=A.createContext({outlet:null,matches:[],isDataRoute:!1}),MS=A.createContext(null);function Tb(n,e){let{relative:t}=e===void 0?{}:e;na()||ot(!1);let{basename:r,navigator:s}=A.useContext(Ys),{hash:i,pathname:o,search:a}=LS(n,{relative:t}),l=o;return r!=="/"&&(l=o==="/"?r:ks([r,o])),s.createHref({pathname:l,search:a,hash:i})}function na(){return A.useContext(rh)!=null}function Gl(){return na()||ot(!1),A.useContext(rh).location}function OS(n){A.useContext(Ys).static||A.useLayoutEffect(n)}function zs(){let{isDataRoute:n}=A.useContext(zr);return n?Lb():Sb()}function Sb(){na()||ot(!1);let n=A.useContext(Pg),{basename:e,future:t,navigator:r}=A.useContext(Ys),{matches:s}=A.useContext(zr),{pathname:i}=Gl(),o=JSON.stringify(kg(s,t.v7_relativeSplatPath)),a=A.useRef(!1);return OS(()=>{a.current=!0}),A.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=Dg(c,JSON.parse(o),i,d.relative==="path");n==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ks([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,i,n])}function Cb(){let{matches:n}=A.useContext(zr),e=n[n.length-1];return e?e.params:{}}function LS(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=A.useContext(Ys),{matches:s}=A.useContext(zr),{pathname:i}=Gl(),o=JSON.stringify(kg(s,r.v7_relativeSplatPath));return A.useMemo(()=>Dg(n,JSON.parse(o),i,t==="path"),[n,o,i,t])}function Ib(n,e){return kb(n,e)}function kb(n,e,t,r){na()||ot(!1);let{navigator:s}=A.useContext(Ys),{matches:i}=A.useContext(zr),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Gl(),d;if(e){var h;let I=typeof e=="string"?ta(e):e;l==="/"||(h=I.pathname)!=null&&h.startsWith(l)||ot(!1),d=I}else d=c;let p=d.pathname||"/",g=p;if(l!=="/"){let I=l.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(I.length).join("/")}let _=J1(n,{pathname:g}),D=xb(_&&_.map(I=>Object.assign({},I,{params:Object.assign({},a,I.params),pathname:ks([l,s.encodeLocation?s.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?l:ks([l,s.encodeLocation?s.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),i,t,r);return e&&D?A.createElement(rh.Provider,{value:{location:bl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:gs.Pop}},D):D}function Db(){let n=Ob(),e=_b(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),t?A.createElement("pre",{style:s},t):null,null)}const Pb=A.createElement(Db,null);class bb extends A.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?A.createElement(zr.Provider,{value:this.props.routeContext},A.createElement(MS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Rb(n){let{routeContext:e,match:t,children:r}=n,s=A.useContext(Pg);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),A.createElement(zr.Provider,{value:e},r)}function xb(n,e,t,r){var s;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var i;if(!t)return null;if(t.errors)n=t.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=(s=t)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||ot(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(t&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:p,errors:g}=t,_=h.route.loader&&p[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||_){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,p)=>{let g,_=!1,D=null,I=null;t&&(g=a&&h.route.id?a[h.route.id]:void 0,D=h.route.errorElement||Pb,l&&(c<0&&p===0?(Vb("route-fallback"),_=!0,I=null):c===p&&(_=!0,I=h.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,p+1)),y=()=>{let E;return g?E=D:_?E=I:h.route.Component?E=A.createElement(h.route.Component,null):h.route.element?E=h.route.element:E=d,A.createElement(Rb,{match:h,routeContext:{outlet:d,matches:w,isDataRoute:t!=null},children:E})};return t&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?A.createElement(bb,{location:t.location,revalidation:t.revalidation,component:D,error:g,children:y(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):y()},null)}var VS=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(VS||{}),FS=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(FS||{});function Ab(n){let e=A.useContext(Pg);return e||ot(!1),e}function Nb(n){let e=A.useContext(Eb);return e||ot(!1),e}function Mb(n){let e=A.useContext(zr);return e||ot(!1),e}function jS(n){let e=Mb(),t=e.matches[e.matches.length-1];return t.route.id||ot(!1),t.route.id}function Ob(){var n;let e=A.useContext(MS),t=Nb(),r=jS();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function Lb(){let{router:n}=Ab(VS.UseNavigateStable),e=jS(FS.UseNavigateStable),t=A.useRef(!1);return OS(()=>{t.current=!0}),A.useCallback(function(s,i){i===void 0&&(i={}),t.current&&(typeof s=="number"?n.navigate(s):n.navigate(s,bl({fromRouteId:e},i)))},[n,e])}const X_={};function Vb(n,e,t){X_[n]||(X_[n]=!0)}function Fb(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function Pf(n){let{to:e,replace:t,state:r,relative:s}=n;na()||ot(!1);let{future:i,static:o}=A.useContext(Ys),{matches:a}=A.useContext(zr),{pathname:l}=Gl(),c=zs(),d=Dg(e,kg(a,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(d);return A.useEffect(()=>c(JSON.parse(h),{replace:t,state:r,relative:s}),[c,h,s,t,r]),null}function Rn(n){ot(!1)}function jb(n){let{basename:e="/",children:t=null,location:r,navigationType:s=gs.Pop,navigator:i,static:o=!1,future:a}=n;na()&&ot(!1);let l=e.replace(/^\/*/,"/"),c=A.useMemo(()=>({basename:l,navigator:i,static:o,future:bl({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=ta(r));let{pathname:d="/",search:h="",hash:p="",state:g=null,key:_="default"}=r,D=A.useMemo(()=>{let I=Ig(d,l);return I==null?null:{location:{pathname:I,search:h,hash:p,state:g,key:_},navigationType:s}},[l,d,h,p,g,_,s]);return D==null?null:A.createElement(Ys.Provider,{value:c},A.createElement(rh.Provider,{children:t,value:D}))}function bf(n){let{children:e,location:t}=n;return Ib(Kp(e),t)}new Promise(()=>{});function Kp(n,e){e===void 0&&(e=[]);let t=[];return A.Children.forEach(n,(r,s)=>{if(!A.isValidElement(r))return;let i=[...e,s];if(r.type===A.Fragment){t.push.apply(t,Kp(r.props.children,i));return}r.type!==Rn&&ot(!1),!r.props.index||!r.props.children||ot(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Kp(r.props.children,i)),t.push(o)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gp(){return Gp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Gp.apply(this,arguments)}function Bb(n,e){if(n==null)return{};var t={},r=Object.keys(n),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}function Ub(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Wb(n,e){return n.button===0&&(!e||e==="_self")&&!Ub(n)}const $b=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Hb="6";try{window.__reactRouterVersion=Hb}catch{}const Yb="startTransition",J_=Mm[Yb];function zb(n){let{basename:e,children:t,future:r,window:s}=n,i=A.useRef();i.current==null&&(i.current=K1({window:s,v5Compat:!0}));let o=i.current,[a,l]=A.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=A.useCallback(h=>{c&&J_?J_(()=>l(h)):l(h)},[l,c]);return A.useLayoutEffect(()=>o.listen(d),[o,d]),A.useEffect(()=>Fb(r),[r]),A.createElement(jb,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o,future:r})}const qb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Qb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ci=A.forwardRef(function(e,t){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:h}=e,p=Bb(e,$b),{basename:g}=A.useContext(Ys),_,D=!1;if(typeof c=="string"&&Qb.test(c)&&(_=c,qb))try{let E=new URL(window.location.href),x=c.startsWith("//")?new URL(E.protocol+c):new URL(c),L=Ig(x.pathname,g);x.origin===E.origin&&L!=null?c=L+x.search+x.hash:D=!0}catch{}let I=Tb(c,{relative:s}),w=Kb(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:h});function y(E){r&&r(E),E.defaultPrevented||w(E)}return A.createElement("a",Gp({},p,{href:_||I,onClick:D||i?r:y,ref:t,target:l}))});var Z_;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(Z_||(Z_={}));var ew;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(ew||(ew={}));function Kb(n,e){let{target:t,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=zs(),c=Gl(),d=LS(n,{relative:o});return A.useCallback(h=>{if(Wb(h,t)){h.preventDefault();let p=r!==void 0?r:ld(c)===ld(d);l(n,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,d,r,s,t,n,i,o,a])}var tw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},Gb=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=n[t++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=n[t++],o=n[t++],a=n[t++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=n[t++],o=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},US={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const i=n[s],o=s+1<n.length,a=o?n[s+1]:0,l=s+2<n.length,c=l?n[s+2]:0,d=i>>2,h=(i&3)<<4|a>>4;let p=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(p=64)),r.push(t[d],t[h],t[p],t[g])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(BS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Gb(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const i=t[n.charAt(s++)],a=s<n.length?t[n.charAt(s)]:0;++s;const c=s<n.length?t[n.charAt(s)]:64;++s;const h=s<n.length?t[n.charAt(s)]:64;if(++s,i==null||a==null||c==null||h==null)throw new Xb;const p=i<<2|a>>4;if(r.push(p),c!==64){const g=a<<4&240|c>>2;if(r.push(g),h!==64){const _=c<<6&192|h;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Xb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Jb=function(n){const e=BS(n);return US.encodeByteArray(e,!0)},ud=function(n){return Jb(n).replace(/\./g,"")},WS=function(n){try{return US.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=()=>Zb().__FIREBASE_DEFAULTS__,tR=()=>{if(typeof process>"u"||typeof tw>"u")return;const n=tw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},nR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&WS(n[1]);return e&&JSON.parse(e)},sh=()=>{try{return eR()||tR()||nR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},$S=n=>{var e,t;return(t=(e=sh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},rR=n=>{const e=$S(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},HS=()=>{var n;return(n=sh())===null||n===void 0?void 0:n.config},YS=n=>{var e;return(e=sh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,i=n.sub||n.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ud(JSON.stringify(t)),ud(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function aR(){var n;const e=(n=sh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function uR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function cR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dR(){const n=Wt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function hR(){return!aR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fR(){try{return typeof indexedDB=="object"}catch{return!1}}function pR(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR="FirebaseError";class qr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=mR,Object.setPrototypeOf(this,qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xl.prototype.create)}}class Xl{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?gR(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new qr(s,a,r)}}function gR(n,e){return n.replace(vR,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const vR=/\{\$([^}]+)}/g;function yR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function cd(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const i=n[s],o=e[s];if(nw(i)&&nw(o)){if(!cd(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function nw(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ua(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Wa(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function _R(n,e){const t=new wR(n,e);return t.subscribe.bind(t)}class wR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");ER(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=Rf),s.error===void 0&&(s.error=Rf),s.complete===void 0&&(s.complete=Rf);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ER(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Rf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(n){return n&&n._delegate?n._delegate:n}class Ii{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ni="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new sR;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CR(e))try{this.getOrInitializeService({instanceIdentifier:ni})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=ni){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ni){return this.instances.has(e)}getOptions(e=ni){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:SR(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ni){return this.component?this.component.multipleInstances?e:ni:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function SR(n){return n===ni?void 0:n}function CR(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new TR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ee||(Ee={}));const kR={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},DR=Ee.INFO,PR={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},bR=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=PR[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bg{constructor(e){this.name=e,this._logLevel=DR,this._logHandler=bR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...e),this._logHandler(this,Ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...e),this._logHandler(this,Ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...e),this._logHandler(this,Ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...e),this._logHandler(this,Ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...e),this._logHandler(this,Ee.ERROR,...e)}}const RR=(n,e)=>e.some(t=>n instanceof t);let rw,sw;function xR(){return rw||(rw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AR(){return sw||(sw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zS=new WeakMap,Xp=new WeakMap,qS=new WeakMap,xf=new WeakMap,Rg=new WeakMap;function NR(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",i),n.removeEventListener("error",o)},i=()=>{t(Ds(n.result)),s()},o=()=>{r(n.error),s()};n.addEventListener("success",i),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&zS.set(t,n)}).catch(()=>{}),Rg.set(e,n),e}function MR(n){if(Xp.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",i),n.removeEventListener("error",o),n.removeEventListener("abort",o)},i=()=>{t(),s()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",i),n.addEventListener("error",o),n.addEventListener("abort",o)});Xp.set(n,e)}let Jp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Xp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||qS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ds(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function OR(n){Jp=n(Jp)}function LR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Af(this),e,...t);return qS.set(r,e.sort?e.sort():[e]),Ds(r)}:AR().includes(n)?function(...e){return n.apply(Af(this),e),Ds(zS.get(this))}:function(...e){return Ds(n.apply(Af(this),e))}}function VR(n){return typeof n=="function"?LR(n):(n instanceof IDBTransaction&&MR(n),RR(n,xR())?new Proxy(n,Jp):n)}function Ds(n){if(n instanceof IDBRequest)return NR(n);if(xf.has(n))return xf.get(n);const e=VR(n);return e!==n&&(xf.set(n,e),Rg.set(e,n)),e}const Af=n=>Rg.get(n);function FR(n,e,{blocked:t,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(n,e),a=Ds(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ds(o.result),l.oldVersion,l.newVersion,Ds(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const jR=["get","getKey","getAll","getAllKeys","count"],BR=["put","add","delete","clear"],Nf=new Map;function iw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Nf.get(e))return Nf.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=BR.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||jR.includes(t)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[t](...a),s&&l.done]))[0]};return Nf.set(e,i),i}OR(n=>({...n,get:(e,t,r)=>iw(e,t)||n.get(e,t,r),has:(e,t)=>!!iw(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(WR(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function WR(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zp="@firebase/app",ow="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br=new bg("@firebase/app"),$R="@firebase/app-compat",HR="@firebase/analytics-compat",YR="@firebase/analytics",zR="@firebase/app-check-compat",qR="@firebase/app-check",QR="@firebase/auth",KR="@firebase/auth-compat",GR="@firebase/database",XR="@firebase/data-connect",JR="@firebase/database-compat",ZR="@firebase/functions",ex="@firebase/functions-compat",tx="@firebase/installations",nx="@firebase/installations-compat",rx="@firebase/messaging",sx="@firebase/messaging-compat",ix="@firebase/performance",ox="@firebase/performance-compat",ax="@firebase/remote-config",lx="@firebase/remote-config-compat",ux="@firebase/storage",cx="@firebase/storage-compat",dx="@firebase/firestore",hx="@firebase/vertexai-preview",fx="@firebase/firestore-compat",px="firebase",mx="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em="[DEFAULT]",gx={[Zp]:"fire-core",[$R]:"fire-core-compat",[YR]:"fire-analytics",[HR]:"fire-analytics-compat",[qR]:"fire-app-check",[zR]:"fire-app-check-compat",[QR]:"fire-auth",[KR]:"fire-auth-compat",[GR]:"fire-rtdb",[XR]:"fire-data-connect",[JR]:"fire-rtdb-compat",[ZR]:"fire-fn",[ex]:"fire-fn-compat",[tx]:"fire-iid",[nx]:"fire-iid-compat",[rx]:"fire-fcm",[sx]:"fire-fcm-compat",[ix]:"fire-perf",[ox]:"fire-perf-compat",[ax]:"fire-rc",[lx]:"fire-rc-compat",[ux]:"fire-gcs",[cx]:"fire-gcs-compat",[dx]:"fire-fst",[fx]:"fire-fst-compat",[hx]:"fire-vertex","fire-js":"fire-js",[px]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dd=new Map,vx=new Map,tm=new Map;function aw(n,e){try{n.container.addComponent(e)}catch(t){Br.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Mo(n){const e=n.name;if(tm.has(e))return Br.debug(`There were multiple attempts to register component ${e}.`),!1;tm.set(e,n);for(const t of dd.values())aw(t,n);for(const t of vx.values())aw(t,n);return!0}function xg(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Zn(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ps=new Xl("app","Firebase",yx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ii("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ps.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=mx;function QS(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:em,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Ps.create("bad-app-name",{appName:String(s)});if(t||(t=HS()),!t)throw Ps.create("no-options");const i=dd.get(s);if(i){if(cd(t,i.options)&&cd(r,i.config))return i;throw Ps.create("duplicate-app",{appName:s})}const o=new IR(s);for(const l of tm.values())o.addComponent(l);const a=new _x(t,r,o);return dd.set(s,a),a}function KS(n=em){const e=dd.get(n);if(!e&&n===em&&HS())return QS();if(!e)throw Ps.create("no-app",{appName:n});return e}function bs(n,e,t){var r;let s=(r=gx[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Br.warn(a.join(" "));return}Mo(new Ii(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx="firebase-heartbeat-database",Ex=1,Rl="firebase-heartbeat-store";let Mf=null;function GS(){return Mf||(Mf=FR(wx,Ex,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Rl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ps.create("idb-open",{originalErrorMessage:n.message})})),Mf}async function Tx(n){try{const t=(await GS()).transaction(Rl),r=await t.objectStore(Rl).get(XS(n));return await t.done,r}catch(e){if(e instanceof qr)Br.warn(e.message);else{const t=Ps.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Br.warn(t.message)}}}async function lw(n,e){try{const r=(await GS()).transaction(Rl,"readwrite");await r.objectStore(Rl).put(e,XS(n)),await r.done}catch(t){if(t instanceof qr)Br.warn(t.message);else{const r=Ps.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Br.warn(r.message)}}}function XS(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx=1024,Cx=30*24*60*60*1e3;class Ix{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Dx(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=uw();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=Cx}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Br.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=uw(),{heartbeatsToSend:r,unsentEntries:s}=kx(this._heartbeatsCache.heartbeats),i=ud(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return Br.warn(t),""}}}function uw(){return new Date().toISOString().substring(0,10)}function kx(n,e=Sx){const t=[];let r=n.slice();for(const s of n){const i=t.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),cw(t)>e){i.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),cw(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class Dx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fR()?pR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Tx(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return lw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return lw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function cw(n){return ud(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Px(n){Mo(new Ii("platform-logger",e=>new UR(e),"PRIVATE")),Mo(new Ii("heartbeat",e=>new Ix(e),"PRIVATE")),bs(Zp,ow,n),bs(Zp,ow,"esm2017"),bs("fire-js","")}Px("");function Ag(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function JS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bx=JS,ZS=new Xl("auth","Firebase",JS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd=new bg("@firebase/auth");function Rx(n,...e){hd.logLevel<=Ee.WARN&&hd.warn(`Auth (${ra}): ${n}`,...e)}function Sc(n,...e){hd.logLevel<=Ee.ERROR&&hd.error(`Auth (${ra}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(n,...e){throw Ng(n,...e)}function ir(n,...e){return Ng(n,...e)}function eC(n,e,t){const r=Object.assign(Object.assign({},bx()),{[e]:t});return new Xl("auth","Firebase",r).create(e,{appName:n.name})}function br(n){return eC(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ng(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return ZS.create(n,...e)}function oe(n,e,...t){if(!n)throw Ng(e,...t)}function Cr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Sc(e),new Error(e)}function Ur(n,e){n||Cr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function xx(){return dw()==="http:"||dw()==="https:"}function dw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xx()||uR()||"connection"in navigator)?navigator.onLine:!0}function Nx(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ur(t>e,"Short delay should be less than long delay!"),this.isMobile=oR()||cR()}get(){return Ax()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mg(n,e){Ur(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox=new Zl(3e4,6e4);function qs(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Qs(n,e,t,r,s={}){return nC(n,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Jl(Object.assign({key:n.config.apiKey},o)).slice(1),l=await n._getAdditionalHeaders();l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode);const c=Object.assign({method:e,headers:l},i);return lR()||(c.referrerPolicy="no-referrer"),tC.fetch()(rC(n,n.config.apiHost,t,a),c)})}async function nC(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Mx),e);try{const s=new Vx(n),i=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Ju(n,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ju(n,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ju(n,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ju(n,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw eC(n,d,c);Fn(n,d)}}catch(s){if(s instanceof qr)throw s;Fn(n,"network-request-failed",{message:String(s)})}}async function eu(n,e,t,r,s={}){const i=await Qs(n,e,t,r,s);return"mfaPendingCredential"in i&&Fn(n,"multi-factor-auth-required",{_serverResponse:i}),i}function rC(n,e,t,r){const s=`${e}${t}?${r}`;return n.config.emulator?Mg(n.config,s):`${n.config.apiScheme}://${s}`}function Lx(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Vx{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ir(this.auth,"network-request-failed")),Ox.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ju(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=ir(n,e,r);return s.customData._tokenResponse=t,s}function hw(n){return n!==void 0&&n.enterprise!==void 0}class Fx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Lx(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function jx(n,e){return Qs(n,"GET","/v2/recaptchaConfig",qs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bx(n,e){return Qs(n,"POST","/v1/accounts:delete",e)}async function sC(n,e){return Qs(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function il(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Ux(n,e=!1){const t=at(n),r=await t.getIdToken(e),s=Og(r);oe(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:il(Of(s.auth_time)),issuedAtTime:il(Of(s.iat)),expirationTime:il(Of(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Of(n){return Number(n)*1e3}function Og(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Sc("JWT malformed, contained fewer than 3 sections"),null;try{const s=WS(t);return s?JSON.parse(s):(Sc("Failed to decode base64 JWT payload"),null)}catch(s){return Sc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function fw(n){const e=Og(n);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xl(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof qr&&Wx(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function Wx({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=il(this.lastLoginAt),this.creationTime=il(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fd(n){var e;const t=n.auth,r=await n.getIdToken(),s=await xl(n,sC(t,{idToken:r}));oe(s==null?void 0:s.users.length,t,"internal-error");const i=s.users[0];n._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?iC(i.providerUserInfo):[],a=Yx(n.providerData,o),l=n.isAnonymous,c=!(n.email&&i.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new rm(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(n,h)}async function Hx(n){const e=at(n);await fd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Yx(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function iC(n){return n.map(e=>{var{providerId:t}=e,r=Ag(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zx(n,e){const t=await nC(n,{},async()=>{const r=Jl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=n.config,o=rC(n,s,"/v1/token",`key=${i}`),a=await n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",tC.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function qx(n,e){return Qs(n,"POST","/v2/accounts:revokeToken",qs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):fw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){oe(e.length!==0,"internal-error");const t=fw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:i}=await zx(e,t);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:i}=t,o=new wo;return r&&(oe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(oe(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(oe(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wo,this.toJSON())}_performRefresh(){return Cr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(n,e){oe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ir{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,i=Ag(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $x(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new rm(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await xl(this,this.stsTokenManager.getToken(this.auth,e));return oe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Ux(this,e)}reload(){return Hx(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ir(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await fd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zn(this.auth.app))return Promise.reject(br(this.auth));const e=await this.getIdToken();return await xl(this,Bx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,i,o,a,l,c,d;const h=(r=t.displayName)!==null&&r!==void 0?r:void 0,p=(s=t.email)!==null&&s!==void 0?s:void 0,g=(i=t.phoneNumber)!==null&&i!==void 0?i:void 0,_=(o=t.photoURL)!==null&&o!==void 0?o:void 0,D=(a=t.tenantId)!==null&&a!==void 0?a:void 0,I=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,w=(c=t.createdAt)!==null&&c!==void 0?c:void 0,y=(d=t.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:E,emailVerified:x,isAnonymous:L,providerData:M,stsTokenManager:S}=t;oe(E&&S,e,"internal-error");const v=wo.fromJSON(this.name,S);oe(typeof E=="string",e,"internal-error"),rs(h,e.name),rs(p,e.name),oe(typeof x=="boolean",e,"internal-error"),oe(typeof L=="boolean",e,"internal-error"),rs(g,e.name),rs(_,e.name),rs(D,e.name),rs(I,e.name),rs(w,e.name),rs(y,e.name);const C=new Ir({uid:E,auth:e,email:p,emailVerified:x,displayName:h,isAnonymous:L,photoURL:_,phoneNumber:g,tenantId:D,stsTokenManager:v,createdAt:w,lastLoginAt:y});return M&&Array.isArray(M)&&(C.providerData=M.map(P=>Object.assign({},P))),I&&(C._redirectEventId=I),C}static async _fromIdTokenResponse(e,t,r=!1){const s=new wo;s.updateFromServerResponse(t);const i=new Ir({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await fd(i),i}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];oe(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?iC(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new wo;a.updateFromIdToken(r);const l=new Ir({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new rm(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw=new Map;function kr(n){Ur(n instanceof Function,"Expected a class definition");let e=pw.get(n);return e?(Ur(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,pw.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}oC.type="NONE";const mw=oC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(n,e,t){return`firebase:${n}:${e}:${t}`}class Eo{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Cc(this.userKey,s.apiKey,i),this.fullPersistenceKey=Cc("persistence",s.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ir._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Eo(kr(mw),e,r);const s=(await Promise.all(t.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||kr(mw);const o=Cc(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const d=await c._get(o);if(d){const h=Ir._fromJSON(e,d);c!==i&&(a=h),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Eo(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(t.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Eo(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(aC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hC(e))return"Blackberry";if(fC(e))return"Webos";if(lC(e))return"Safari";if((e.includes("chrome/")||uC(e))&&!e.includes("edge/"))return"Chrome";if(dC(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function aC(n=Wt()){return/firefox\//i.test(n)}function lC(n=Wt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uC(n=Wt()){return/crios\//i.test(n)}function cC(n=Wt()){return/iemobile/i.test(n)}function dC(n=Wt()){return/android/i.test(n)}function hC(n=Wt()){return/blackberry/i.test(n)}function fC(n=Wt()){return/webos/i.test(n)}function Lg(n=Wt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Qx(n=Wt()){var e;return Lg(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Kx(){return dR()&&document.documentMode===10}function pC(n=Wt()){return Lg(n)||dC(n)||fC(n)||hC(n)||/windows phone/i.test(n)||cC(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(n,e=[]){let t;switch(n){case"Browser":t=gw(Wt());break;case"Worker":t=`${gw(Wt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ra}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xx(n,e={}){return Qs(n,"GET","/v2/passwordPolicy",qs(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx=6;class Zx{constructor(e){var t,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:Jx,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vw(this),this.idTokenSubscription=new vw(this),this.beforeStateQueue=new Gx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ZS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=kr(t)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Eo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await sC(this,{idToken:e}),r=await Ir._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Zn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await fd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Nx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zn(this.app))return Promise.reject(br(this));const t=e?at(e):null;return t&&oe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zn(this.app)?Promise.reject(br(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zn(this.app)?Promise.reject(br(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(kr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Xx(this),t=new Zx(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Xl("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await qx(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&kr(e)||this._popupRedirectResolver;oe(t,this,"argument-error"),this.redirectPersistenceManager=await Eo.create(this,[kr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const i=typeof t=="function"?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof t=="function"){const l=e.addObserver(t,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(t);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&Rx(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Li(n){return at(n)}class vw{constructor(e){this.auth=e,this.observer=null,this.addObserver=_R(t=>this.observer=t)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ih={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tA(n){ih=n}function gC(n){return ih.loadJS(n)}function nA(){return ih.recaptchaEnterpriseScript}function rA(){return ih.gapiScript}function sA(n){return`__${n}${Math.floor(Math.random()*1e6)}`}const iA="recaptcha-enterprise",oA="NO_RECAPTCHA";class aA{constructor(e){this.type=iA,this.auth=Li(e)}async verify(e="verify",t=!1){async function r(i){if(!t){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{jx(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new Fx(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;hw(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(oA)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!t&&hw(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=nA();l.length!==0&&(l+=a),gC(l).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function yw(n,e,t,r=!1){const s=new aA(n);let i;try{i=await s.verify(t)}catch{i=await s.verify(t,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function sm(n,e,t,r){var s;if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await yw(n,e,t,t==="getOobCode");return r(n,i)}else return r(n,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await yw(n,e,t,t==="getOobCode");return r(n,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(n,e){const t=xg(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),i=t.getOptions();if(cd(i,e??{}))return s;Fn(s,"already-initialized")}return t.initialize({options:e})}function uA(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(kr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function cA(n,e,t){const r=Li(n);oe(r._canInitEmulator,r,"emulator-config-failed"),oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=vC(e),{host:o,port:a}=dA(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),hA()}function vC(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function dA(n){const e=vC(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:_w(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:_w(o)}}}function _w(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function hA(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Cr("not implemented")}_getIdTokenResponse(e){return Cr("not implemented")}_linkToIdToken(e,t){return Cr("not implemented")}_getReauthenticationResolver(e){return Cr("not implemented")}}async function fA(n,e){return Qs(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pA(n,e){return eu(n,"POST","/v1/accounts:signInWithPassword",qs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mA(n,e){return eu(n,"POST","/v1/accounts:signInWithEmailLink",qs(n,e))}async function gA(n,e){return eu(n,"POST","/v1/accounts:signInWithEmailLink",qs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al extends Vg{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new Al(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Al(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sm(e,t,"signInWithPassword",pA);case"emailLink":return mA(e,{email:this._email,oobCode:this._password});default:Fn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sm(e,r,"signUpPassword",fA);case"emailLink":return gA(e,{idToken:t,email:this._email,oobCode:this._password});default:Fn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function To(n,e){return eu(n,"POST","/v1/accounts:signInWithIdp",qs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA="http://localhost";class ki extends Vg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ki(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Fn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,i=Ag(t,["providerId","signInMethod"]);if(!r||!s)return null;const o=new ki(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return To(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,To(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,To(e,t)}buildRequest(){const e={requestUri:vA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Jl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _A(n){const e=Ua(Wa(n)).link,t=e?Ua(Wa(e)).deep_link_id:null,r=Ua(Wa(n)).deep_link_id;return(r?Ua(Wa(r)).link:null)||r||t||e||n}class Fg{constructor(e){var t,r,s,i,o,a;const l=Ua(Wa(e)),c=(t=l.apiKey)!==null&&t!==void 0?t:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=yA((s=l.mode)!==null&&s!==void 0?s:null);oe(c&&d&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=d,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const t=_A(e);try{return new Fg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(){this.providerId=sa.PROVIDER_ID}static credential(e,t){return Al._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Fg.parseLink(t);return oe(r,"argument-error"),Al._fromEmailAndCode(e,r.code,r.tenantId)}}sa.PROVIDER_ID="password";sa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";sa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu extends yC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends tu{constructor(){super("facebook.com")}static credential(e){return ki._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cs.credential(e.oauthAccessToken)}catch{return null}}}cs.FACEBOOK_SIGN_IN_METHOD="facebook.com";cs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends tu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ki._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return ds.credential(t,r)}catch{return null}}}ds.GOOGLE_SIGN_IN_METHOD="google.com";ds.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends tu{constructor(){super("github.com")}static credential(e){return ki._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hs.credential(e.oauthAccessToken)}catch{return null}}}hs.GITHUB_SIGN_IN_METHOD="github.com";hs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends tu{constructor(){super("twitter.com")}static credential(e,t){return ki._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return fs.credential(t,r)}catch{return null}}}fs.TWITTER_SIGN_IN_METHOD="twitter.com";fs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wA(n,e){return eu(n,"POST","/v1/accounts:signUp",qs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const i=await Ir._fromIdTokenResponse(e,r,s),o=ww(r);return new Di({user:i,providerId:o,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=ww(r);return new Di({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function ww(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd extends qr{constructor(e,t,r,s){var i;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,pd.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new pd(e,t,r,s)}}function _C(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?pd._fromErrorAndOperation(n,i,e,r):i})}async function EA(n,e,t=!1){const r=await xl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Di._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TA(n,e,t=!1){const{auth:r}=n;if(Zn(r.app))return Promise.reject(br(r));const s="reauthenticate";try{const i=await xl(n,_C(r,s,e,n),t);oe(i.idToken,r,"internal-error");const o=Og(i.idToken);oe(o,r,"internal-error");const{sub:a}=o;return oe(n.uid===a,r,"user-mismatch"),Di._forOperation(n,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Fn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wC(n,e,t=!1){if(Zn(n.app))return Promise.reject(br(n));const r="signIn",s=await _C(n,r,e),i=await Di._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(i.user),i}async function SA(n,e){return wC(Li(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EC(n){const e=Li(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function CA(n,e,t){if(Zn(n.app))return Promise.reject(br(n));const r=Li(n),o=await sm(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",wA).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&EC(n),l}),a=await Di._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function IA(n,e,t){return Zn(n.app)?Promise.reject(br(n)):SA(at(n),sa.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&EC(n),r})}function kA(n,e,t,r){return at(n).onIdTokenChanged(e,t,r)}function DA(n,e,t){return at(n).beforeAuthStateChanged(e,t)}function PA(n,e,t,r){return at(n).onAuthStateChanged(e,t,r)}function bA(n){return at(n).signOut()}const md="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(md,"1"),this.storage.removeItem(md),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA=1e3,xA=10;class SC extends TC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!t&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);Kx()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,xA):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},RA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}SC.type="LOCAL";const AA=SC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC extends TC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}CC.type="SESSION";const IC=CC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new oh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:i}=t.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(t.origin,i)),l=await NA(a);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}oh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jg(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=jg("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const p=h;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(){return window}function OA(n){or().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(){return typeof or().WorkerGlobalScope<"u"&&typeof or().importScripts=="function"}async function LA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function VA(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function FA(){return kC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC="firebaseLocalStorageDb",jA=1,gd="firebaseLocalStorage",PC="fbase_key";class nu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ah(n,e){return n.transaction([gd],e?"readwrite":"readonly").objectStore(gd)}function BA(){const n=indexedDB.deleteDatabase(DC);return new nu(n).toPromise()}function im(){const n=indexedDB.open(DC,jA);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(gd,{keyPath:PC})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(gd)?e(r):(r.close(),await BA(),e(await im()))})})}async function Ew(n,e,t){const r=ah(n,!0).put({[PC]:e,value:t});return new nu(r).toPromise()}async function UA(n,e){const t=ah(n,!1).get(e),r=await new nu(t).toPromise();return r===void 0?null:r.value}function Tw(n,e){const t=ah(n,!0).delete(e);return new nu(t).toPromise()}const WA=800,$A=3;class bC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await im(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>$A)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=oh._getInstance(FA()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await LA(),!this.activeServiceWorker)return;this.sender=new MA(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||VA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await im();return await Ew(e,md,"1"),await Tw(e,md),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ew(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>UA(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Tw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=ah(s,!1).getAll();return new nu(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),WA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bC.type="LOCAL";const HA=bC;new Zl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(n,e){return e?kr(e):(oe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg extends Vg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return To(e,this._buildIdpRequest())}_linkToIdToken(e,t){return To(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return To(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function zA(n){return wC(n.auth,new Bg(n),n.bypassAuthState)}function qA(n){const{auth:e,user:t}=n;return oe(t,e,"internal-error"),TA(t,new Bg(n),n.bypassAuthState)}async function QA(n){const{auth:e,user:t}=n;return oe(t,e,"internal-error"),EA(t,new Bg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,t,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:t,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zA;case"linkViaPopup":case"linkViaRedirect":return QA;case"reauthViaPopup":case"reauthViaRedirect":return qA;default:Fn(this.auth,"internal-error")}}resolve(e){Ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA=new Zl(2e3,1e4);class fo extends RC{constructor(e,t,r,s,i){super(e,t,s,i),this.provider=r,this.authWindow=null,this.pollId=null,fo.currentPopupAction&&fo.currentPopupAction.cancel(),fo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oe(e,this.auth,"internal-error"),e}async onExecution(){Ur(this.filter.length===1,"Popup operations only handle one event");const e=jg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ir(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ir(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ir(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,KA.get())};e()}}fo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA="pendingRedirect",Ic=new Map;class XA extends RC{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Ic.get(this.auth._key());if(!e){try{const r=await JA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Ic.set(this.auth._key(),e)}return this.bypassAuthState||Ic.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function JA(n,e){const t=tN(e),r=eN(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function ZA(n,e){Ic.set(n._key(),e)}function eN(n){return kr(n._redirectPersistence)}function tN(n){return Cc(GA,n.config.apiKey,n.name)}async function nN(n,e,t=!1){if(Zn(n.app))return Promise.reject(br(n));const r=Li(n),s=YA(r,e),o=await new XA(r,s,t).execute();return o&&!t&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=10*60*1e3;class sN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!iN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!xC(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(ir(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rN&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sw(e))}saveEventToCache(e){this.cachedEventUids.add(Sw(e)),this.lastProcessedEventTime=Date.now()}}function Sw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function xC({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function iN(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xC(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oN(n,e={}){return Qs(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lN=/^https?/;async function uN(n){if(n.config.emulator)return;const{authorizedDomains:e}=await oN(n);for(const t of e)try{if(cN(t))return}catch{}Fn(n,"unauthorized-domain")}function cN(n){const e=nm(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!lN.test(t))return!1;if(aN.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=new Zl(3e4,6e4);function Cw(){const n=or().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function hN(n){return new Promise((e,t)=>{var r,s,i;function o(){Cw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Cw(),t(ir(n,"network-request-failed"))},timeout:dN.get()})}if(!((s=(r=or().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=or().gapi)===null||i===void 0)&&i.load)o();else{const a=sA("iframefcb");return or()[a]=()=>{gapi.load?o():t(ir(n,"network-request-failed"))},gC(`${rA()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw kc=null,e})}let kc=null;function fN(n){return kc=kc||hN(n),kc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=new Zl(5e3,15e3),mN="__/auth/iframe",gN="emulator/auth/iframe",vN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _N(n){const e=n.config;oe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Mg(e,gN):`https://${n.config.authDomain}/${mN}`,r={apiKey:e.apiKey,appName:n.name,v:ra},s=yN.get(n.config.apiHost);s&&(r.eid=s);const i=n._getFrameworks();return i.length&&(r.fw=i.join(",")),`${t}?${Jl(r).slice(1)}`}async function wN(n){const e=await fN(n),t=or().gapi;return oe(t,n,"internal-error"),e.open({where:document.body,url:_N(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vN,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=ir(n,"network-request-failed"),a=or().setTimeout(()=>{i(o)},pN.get());function l(){or().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TN=500,SN=600,CN="_blank",IN="http://localhost";class Iw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kN(n,e,t,r=TN,s=SN){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},EN),{width:r.toString(),height:s.toString(),top:i,left:o}),c=Wt().toLowerCase();t&&(a=uC(c)?CN:t),aC(c)&&(e=e||IN,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[g,_])=>`${p}${g}=${_},`,"");if(Qx(c)&&a!=="_self")return DN(e||"",a),new Iw(null);const h=window.open(e||"",a,d);oe(h,n,"popup-blocked");try{h.focus()}catch{}return new Iw(h)}function DN(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN="__/auth/handler",bN="emulator/auth/handler",RN=encodeURIComponent("fac");async function kw(n,e,t,r,s,i){oe(n.config.authDomain,n,"auth-domain-config-required"),oe(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ra,eventId:s};if(e instanceof yC){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",yR(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof tu){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await n._getAppCheckToken(),c=l?`#${RN}=${encodeURIComponent(l)}`:"";return`${xN(n)}?${Jl(a).slice(1)}${c}`}function xN({config:n}){return n.emulator?Mg(n,bN):`https://${n.authDomain}/${PN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf="webStorageSupport";class AN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=IC,this._completeRedirectFn=nN,this._overrideRedirectResult=ZA}async _openPopup(e,t,r,s){var i;Ur((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await kw(e,t,r,nm(),s);return kN(e,o,jg())}async _openRedirect(e,t,r,s){await this._originValidation(e);const i=await kw(e,t,r,nm(),s);return OA(i),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:i}=this.eventManagers[t];return s?Promise.resolve(s):(Ur(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await wN(e),r=new sN(e);return t.register("authEvent",s=>(oe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Lf,{type:Lf},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Lf];o!==void 0&&t(!!o),Fn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=uN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return pC()||lC()||Lg()}}const NN=AN;var Dw="@firebase/auth",Pw="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LN(n){Mo(new Ii("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;oe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mC(n)},c=new eA(r,s,i,l);return uA(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Mo(new Ii("auth-internal",e=>{const t=Li(e.getProvider("auth").getImmediate());return(r=>new MN(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),bs(Dw,Pw,ON(n)),bs(Dw,Pw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=5*60,FN=YS("authIdTokenMaxAge")||VN;let bw=null;const jN=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>FN)return;const s=t==null?void 0:t.token;bw!==s&&(bw=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function BN(n=KS()){const e=xg(n,"auth");if(e.isInitialized())return e.getImmediate();const t=lA(n,{popupRedirectResolver:NN,persistence:[HA,AA,IC]}),r=YS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=jN(i.toString());DA(t,o,()=>o(t.currentUser)),kA(t,a=>o(a))}}const s=$S("auth");return s&&cA(t,`http://${s}`),t}function UN(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}tA({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const i=ir("internal-error");i.customData=s,t(i)},r.type="text/javascript",r.charset="UTF-8",UN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LN("Browser");var Rw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mi,AC;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,v){function C(){}C.prototype=v.prototype,S.D=v.prototype,S.prototype=new C,S.prototype.constructor=S,S.C=function(P,R,N){for(var b=Array(arguments.length-2),se=2;se<arguments.length;se++)b[se-2]=arguments[se];return v.prototype[R].apply(P,b)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(S,v,C){C||(C=0);var P=Array(16);if(typeof v=="string")for(var R=0;16>R;++R)P[R]=v.charCodeAt(C++)|v.charCodeAt(C++)<<8|v.charCodeAt(C++)<<16|v.charCodeAt(C++)<<24;else for(R=0;16>R;++R)P[R]=v[C++]|v[C++]<<8|v[C++]<<16|v[C++]<<24;v=S.g[0],C=S.g[1],R=S.g[2];var N=S.g[3],b=v+(N^C&(R^N))+P[0]+3614090360&4294967295;v=C+(b<<7&4294967295|b>>>25),b=N+(R^v&(C^R))+P[1]+3905402710&4294967295,N=v+(b<<12&4294967295|b>>>20),b=R+(C^N&(v^C))+P[2]+606105819&4294967295,R=N+(b<<17&4294967295|b>>>15),b=C+(v^R&(N^v))+P[3]+3250441966&4294967295,C=R+(b<<22&4294967295|b>>>10),b=v+(N^C&(R^N))+P[4]+4118548399&4294967295,v=C+(b<<7&4294967295|b>>>25),b=N+(R^v&(C^R))+P[5]+1200080426&4294967295,N=v+(b<<12&4294967295|b>>>20),b=R+(C^N&(v^C))+P[6]+2821735955&4294967295,R=N+(b<<17&4294967295|b>>>15),b=C+(v^R&(N^v))+P[7]+4249261313&4294967295,C=R+(b<<22&4294967295|b>>>10),b=v+(N^C&(R^N))+P[8]+1770035416&4294967295,v=C+(b<<7&4294967295|b>>>25),b=N+(R^v&(C^R))+P[9]+2336552879&4294967295,N=v+(b<<12&4294967295|b>>>20),b=R+(C^N&(v^C))+P[10]+4294925233&4294967295,R=N+(b<<17&4294967295|b>>>15),b=C+(v^R&(N^v))+P[11]+2304563134&4294967295,C=R+(b<<22&4294967295|b>>>10),b=v+(N^C&(R^N))+P[12]+1804603682&4294967295,v=C+(b<<7&4294967295|b>>>25),b=N+(R^v&(C^R))+P[13]+4254626195&4294967295,N=v+(b<<12&4294967295|b>>>20),b=R+(C^N&(v^C))+P[14]+2792965006&4294967295,R=N+(b<<17&4294967295|b>>>15),b=C+(v^R&(N^v))+P[15]+1236535329&4294967295,C=R+(b<<22&4294967295|b>>>10),b=v+(R^N&(C^R))+P[1]+4129170786&4294967295,v=C+(b<<5&4294967295|b>>>27),b=N+(C^R&(v^C))+P[6]+3225465664&4294967295,N=v+(b<<9&4294967295|b>>>23),b=R+(v^C&(N^v))+P[11]+643717713&4294967295,R=N+(b<<14&4294967295|b>>>18),b=C+(N^v&(R^N))+P[0]+3921069994&4294967295,C=R+(b<<20&4294967295|b>>>12),b=v+(R^N&(C^R))+P[5]+3593408605&4294967295,v=C+(b<<5&4294967295|b>>>27),b=N+(C^R&(v^C))+P[10]+38016083&4294967295,N=v+(b<<9&4294967295|b>>>23),b=R+(v^C&(N^v))+P[15]+3634488961&4294967295,R=N+(b<<14&4294967295|b>>>18),b=C+(N^v&(R^N))+P[4]+3889429448&4294967295,C=R+(b<<20&4294967295|b>>>12),b=v+(R^N&(C^R))+P[9]+568446438&4294967295,v=C+(b<<5&4294967295|b>>>27),b=N+(C^R&(v^C))+P[14]+3275163606&4294967295,N=v+(b<<9&4294967295|b>>>23),b=R+(v^C&(N^v))+P[3]+4107603335&4294967295,R=N+(b<<14&4294967295|b>>>18),b=C+(N^v&(R^N))+P[8]+1163531501&4294967295,C=R+(b<<20&4294967295|b>>>12),b=v+(R^N&(C^R))+P[13]+2850285829&4294967295,v=C+(b<<5&4294967295|b>>>27),b=N+(C^R&(v^C))+P[2]+4243563512&4294967295,N=v+(b<<9&4294967295|b>>>23),b=R+(v^C&(N^v))+P[7]+1735328473&4294967295,R=N+(b<<14&4294967295|b>>>18),b=C+(N^v&(R^N))+P[12]+2368359562&4294967295,C=R+(b<<20&4294967295|b>>>12),b=v+(C^R^N)+P[5]+4294588738&4294967295,v=C+(b<<4&4294967295|b>>>28),b=N+(v^C^R)+P[8]+2272392833&4294967295,N=v+(b<<11&4294967295|b>>>21),b=R+(N^v^C)+P[11]+1839030562&4294967295,R=N+(b<<16&4294967295|b>>>16),b=C+(R^N^v)+P[14]+4259657740&4294967295,C=R+(b<<23&4294967295|b>>>9),b=v+(C^R^N)+P[1]+2763975236&4294967295,v=C+(b<<4&4294967295|b>>>28),b=N+(v^C^R)+P[4]+1272893353&4294967295,N=v+(b<<11&4294967295|b>>>21),b=R+(N^v^C)+P[7]+4139469664&4294967295,R=N+(b<<16&4294967295|b>>>16),b=C+(R^N^v)+P[10]+3200236656&4294967295,C=R+(b<<23&4294967295|b>>>9),b=v+(C^R^N)+P[13]+681279174&4294967295,v=C+(b<<4&4294967295|b>>>28),b=N+(v^C^R)+P[0]+3936430074&4294967295,N=v+(b<<11&4294967295|b>>>21),b=R+(N^v^C)+P[3]+3572445317&4294967295,R=N+(b<<16&4294967295|b>>>16),b=C+(R^N^v)+P[6]+76029189&4294967295,C=R+(b<<23&4294967295|b>>>9),b=v+(C^R^N)+P[9]+3654602809&4294967295,v=C+(b<<4&4294967295|b>>>28),b=N+(v^C^R)+P[12]+3873151461&4294967295,N=v+(b<<11&4294967295|b>>>21),b=R+(N^v^C)+P[15]+530742520&4294967295,R=N+(b<<16&4294967295|b>>>16),b=C+(R^N^v)+P[2]+3299628645&4294967295,C=R+(b<<23&4294967295|b>>>9),b=v+(R^(C|~N))+P[0]+4096336452&4294967295,v=C+(b<<6&4294967295|b>>>26),b=N+(C^(v|~R))+P[7]+1126891415&4294967295,N=v+(b<<10&4294967295|b>>>22),b=R+(v^(N|~C))+P[14]+2878612391&4294967295,R=N+(b<<15&4294967295|b>>>17),b=C+(N^(R|~v))+P[5]+4237533241&4294967295,C=R+(b<<21&4294967295|b>>>11),b=v+(R^(C|~N))+P[12]+1700485571&4294967295,v=C+(b<<6&4294967295|b>>>26),b=N+(C^(v|~R))+P[3]+2399980690&4294967295,N=v+(b<<10&4294967295|b>>>22),b=R+(v^(N|~C))+P[10]+4293915773&4294967295,R=N+(b<<15&4294967295|b>>>17),b=C+(N^(R|~v))+P[1]+2240044497&4294967295,C=R+(b<<21&4294967295|b>>>11),b=v+(R^(C|~N))+P[8]+1873313359&4294967295,v=C+(b<<6&4294967295|b>>>26),b=N+(C^(v|~R))+P[15]+4264355552&4294967295,N=v+(b<<10&4294967295|b>>>22),b=R+(v^(N|~C))+P[6]+2734768916&4294967295,R=N+(b<<15&4294967295|b>>>17),b=C+(N^(R|~v))+P[13]+1309151649&4294967295,C=R+(b<<21&4294967295|b>>>11),b=v+(R^(C|~N))+P[4]+4149444226&4294967295,v=C+(b<<6&4294967295|b>>>26),b=N+(C^(v|~R))+P[11]+3174756917&4294967295,N=v+(b<<10&4294967295|b>>>22),b=R+(v^(N|~C))+P[2]+718787259&4294967295,R=N+(b<<15&4294967295|b>>>17),b=C+(N^(R|~v))+P[9]+3951481745&4294967295,S.g[0]=S.g[0]+v&4294967295,S.g[1]=S.g[1]+(R+(b<<21&4294967295|b>>>11))&4294967295,S.g[2]=S.g[2]+R&4294967295,S.g[3]=S.g[3]+N&4294967295}r.prototype.u=function(S,v){v===void 0&&(v=S.length);for(var C=v-this.blockSize,P=this.B,R=this.h,N=0;N<v;){if(R==0)for(;N<=C;)s(this,S,N),N+=this.blockSize;if(typeof S=="string"){for(;N<v;)if(P[R++]=S.charCodeAt(N++),R==this.blockSize){s(this,P),R=0;break}}else for(;N<v;)if(P[R++]=S[N++],R==this.blockSize){s(this,P),R=0;break}}this.h=R,this.o+=v},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var v=1;v<S.length-8;++v)S[v]=0;var C=8*this.o;for(v=S.length-8;v<S.length;++v)S[v]=C&255,C/=256;for(this.u(S),S=Array(16),v=C=0;4>v;++v)for(var P=0;32>P;P+=8)S[C++]=this.g[v]>>>P&255;return S};function i(S,v){var C=a;return Object.prototype.hasOwnProperty.call(C,S)?C[S]:C[S]=v(S)}function o(S,v){this.h=v;for(var C=[],P=!0,R=S.length-1;0<=R;R--){var N=S[R]|0;P&&N==v||(C[R]=N,P=!1)}this.g=C}var a={};function l(S){return-128<=S&&128>S?i(S,function(v){return new o([v|0],0>v?-1:0)}):new o([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return h;if(0>S)return I(c(-S));for(var v=[],C=1,P=0;S>=C;P++)v[P]=S/C|0,C*=4294967296;return new o(v,0)}function d(S,v){if(S.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(S.charAt(0)=="-")return I(d(S.substring(1),v));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=c(Math.pow(v,8)),P=h,R=0;R<S.length;R+=8){var N=Math.min(8,S.length-R),b=parseInt(S.substring(R,R+N),v);8>N?(N=c(Math.pow(v,N)),P=P.j(N).add(c(b))):(P=P.j(C),P=P.add(c(b)))}return P}var h=l(0),p=l(1),g=l(16777216);n=o.prototype,n.m=function(){if(D(this))return-I(this).m();for(var S=0,v=1,C=0;C<this.g.length;C++){var P=this.i(C);S+=(0<=P?P:4294967296+P)*v,v*=4294967296}return S},n.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(_(this))return"0";if(D(this))return"-"+I(this).toString(S);for(var v=c(Math.pow(S,6)),C=this,P="";;){var R=x(C,v).g;C=w(C,R.j(v));var N=((0<C.g.length?C.g[0]:C.h)>>>0).toString(S);if(C=R,_(C))return N+P;for(;6>N.length;)N="0"+N;P=N+P}},n.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function _(S){if(S.h!=0)return!1;for(var v=0;v<S.g.length;v++)if(S.g[v]!=0)return!1;return!0}function D(S){return S.h==-1}n.l=function(S){return S=w(this,S),D(S)?-1:_(S)?0:1};function I(S){for(var v=S.g.length,C=[],P=0;P<v;P++)C[P]=~S.g[P];return new o(C,~S.h).add(p)}n.abs=function(){return D(this)?I(this):this},n.add=function(S){for(var v=Math.max(this.g.length,S.g.length),C=[],P=0,R=0;R<=v;R++){var N=P+(this.i(R)&65535)+(S.i(R)&65535),b=(N>>>16)+(this.i(R)>>>16)+(S.i(R)>>>16);P=b>>>16,N&=65535,b&=65535,C[R]=b<<16|N}return new o(C,C[C.length-1]&-2147483648?-1:0)};function w(S,v){return S.add(I(v))}n.j=function(S){if(_(this)||_(S))return h;if(D(this))return D(S)?I(this).j(I(S)):I(I(this).j(S));if(D(S))return I(this.j(I(S)));if(0>this.l(g)&&0>S.l(g))return c(this.m()*S.m());for(var v=this.g.length+S.g.length,C=[],P=0;P<2*v;P++)C[P]=0;for(P=0;P<this.g.length;P++)for(var R=0;R<S.g.length;R++){var N=this.i(P)>>>16,b=this.i(P)&65535,se=S.i(R)>>>16,re=S.i(R)&65535;C[2*P+2*R]+=b*re,y(C,2*P+2*R),C[2*P+2*R+1]+=N*re,y(C,2*P+2*R+1),C[2*P+2*R+1]+=b*se,y(C,2*P+2*R+1),C[2*P+2*R+2]+=N*se,y(C,2*P+2*R+2)}for(P=0;P<v;P++)C[P]=C[2*P+1]<<16|C[2*P];for(P=v;P<2*v;P++)C[P]=0;return new o(C,0)};function y(S,v){for(;(S[v]&65535)!=S[v];)S[v+1]+=S[v]>>>16,S[v]&=65535,v++}function E(S,v){this.g=S,this.h=v}function x(S,v){if(_(v))throw Error("division by zero");if(_(S))return new E(h,h);if(D(S))return v=x(I(S),v),new E(I(v.g),I(v.h));if(D(v))return v=x(S,I(v)),new E(I(v.g),v.h);if(30<S.g.length){if(D(S)||D(v))throw Error("slowDivide_ only works with positive integers.");for(var C=p,P=v;0>=P.l(S);)C=L(C),P=L(P);var R=M(C,1),N=M(P,1);for(P=M(P,2),C=M(C,2);!_(P);){var b=N.add(P);0>=b.l(S)&&(R=R.add(C),N=b),P=M(P,1),C=M(C,1)}return v=w(S,R.j(v)),new E(R,v)}for(R=h;0<=S.l(v);){for(C=Math.max(1,Math.floor(S.m()/v.m())),P=Math.ceil(Math.log(C)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),N=c(C),b=N.j(v);D(b)||0<b.l(S);)C-=P,N=c(C),b=N.j(v);_(N)&&(N=p),R=R.add(N),S=w(S,b)}return new E(R,S)}n.A=function(S){return x(this,S).h},n.and=function(S){for(var v=Math.max(this.g.length,S.g.length),C=[],P=0;P<v;P++)C[P]=this.i(P)&S.i(P);return new o(C,this.h&S.h)},n.or=function(S){for(var v=Math.max(this.g.length,S.g.length),C=[],P=0;P<v;P++)C[P]=this.i(P)|S.i(P);return new o(C,this.h|S.h)},n.xor=function(S){for(var v=Math.max(this.g.length,S.g.length),C=[],P=0;P<v;P++)C[P]=this.i(P)^S.i(P);return new o(C,this.h^S.h)};function L(S){for(var v=S.g.length+1,C=[],P=0;P<v;P++)C[P]=S.i(P)<<1|S.i(P-1)>>>31;return new o(C,S.h)}function M(S,v){var C=v>>5;v%=32;for(var P=S.g.length-C,R=[],N=0;N<P;N++)R[N]=0<v?S.i(N+C)>>>v|S.i(N+C+1)<<32-v:S.i(N+C);return new o(R,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,AC=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,mi=o}).apply(typeof Rw<"u"?Rw:typeof self<"u"?self:typeof window<"u"?window:{});var Zu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var NC,$a,MC,Dc,om,OC,LC,VC;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,f,m){return u==Array.prototype||u==Object.prototype||(u[f]=m.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zu=="object"&&Zu];for(var f=0;f<u.length;++f){var m=u[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=t(this);function s(u,f){if(f)e:{var m=r;u=u.split(".");for(var k=0;k<u.length-1;k++){var O=u[k];if(!(O in m))break e;m=m[O]}u=u[u.length-1],k=m[u],f=f(k),f!=k&&f!=null&&e(m,u,{configurable:!0,writable:!0,value:f})}}function i(u,f){u instanceof String&&(u+="");var m=0,k=!1,O={next:function(){if(!k&&m<u.length){var V=m++;return{value:f(V,u[V]),done:!1}}return k=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}s("Array.prototype.values",function(u){return u||function(){return i(this,function(f,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var f=typeof u;return f=f!="object"?f:u?Array.isArray(u)?"array":f:"null",f=="array"||f=="object"&&typeof u.length=="number"}function c(u){var f=typeof u;return f=="object"&&u!=null||f=="function"}function d(u,f,m){return u.call.apply(u.bind,arguments)}function h(u,f,m){if(!u)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,k),u.apply(f,O)}}return function(){return u.apply(f,arguments)}}function p(u,f,m){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,p.apply(null,arguments)}function g(u,f){var m=Array.prototype.slice.call(arguments,1);return function(){var k=m.slice();return k.push.apply(k,arguments),u.apply(this,k)}}function _(u,f){function m(){}m.prototype=f.prototype,u.aa=f.prototype,u.prototype=new m,u.prototype.constructor=u,u.Qb=function(k,O,V){for(var Y=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)Y[Le-2]=arguments[Le];return f.prototype[O].apply(k,Y)}}function D(u){const f=u.length;if(0<f){const m=Array(f);for(let k=0;k<f;k++)m[k]=u[k];return m}return[]}function I(u,f){for(let m=1;m<arguments.length;m++){const k=arguments[m];if(l(k)){const O=u.length||0,V=k.length||0;u.length=O+V;for(let Y=0;Y<V;Y++)u[O+Y]=k[Y]}else u.push(k)}}class w{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function y(u){return/^[\s\xa0]*$/.test(u)}function E(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function x(u){return x[" "](u),u}x[" "]=function(){};var L=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function M(u,f,m){for(const k in u)f.call(m,u[k],k,u)}function S(u,f){for(const m in u)f.call(void 0,u[m],m,u)}function v(u){const f={};for(const m in u)f[m]=u[m];return f}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(u,f){let m,k;for(let O=1;O<arguments.length;O++){k=arguments[O];for(m in k)u[m]=k[m];for(let V=0;V<C.length;V++)m=C[V],Object.prototype.hasOwnProperty.call(k,m)&&(u[m]=k[m])}}function R(u){var f=1;u=u.split(":");const m=[];for(;0<f&&u.length;)m.push(u.shift()),f--;return u.length&&m.push(u.join(":")),m}function N(u){a.setTimeout(()=>{throw u},0)}function b(){var u=F;let f=null;return u.g&&(f=u.g,u.g=u.g.next,u.g||(u.h=null),f.next=null),f}class se{constructor(){this.h=this.g=null}add(f,m){const k=re.get();k.set(f,m),this.h?this.h.next=k:this.g=k,this.h=k}}var re=new w(()=>new ee,u=>u.reset());class ee{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,B=!1,F=new se,H=()=>{const u=a.Promise.resolve(void 0);ie=()=>{u.then(Q)}};var Q=()=>{for(var u;u=b();){try{u.h.call(u.g)}catch(m){N(m)}var f=re;f.j(u),100>f.h&&(f.h++,u.next=f.g,f.g=u)}B=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(u,f){this.type=u,this.g=this.target=f,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var De=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,f=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const m=()=>{};a.addEventListener("test",m,f),a.removeEventListener("test",m,f)}catch{}return u}();function Se(u,f){if(le.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var m=this.type=u.type,k=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=f,f=u.relatedTarget){if(L){e:{try{x(f.nodeName);var O=!0;break e}catch{}O=!1}O||(f=null)}}else m=="mouseover"?f=u.fromElement:m=="mouseout"&&(f=u.toElement);this.relatedTarget=f,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:ge[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Se.aa.h.call(this)}}_(Se,le);var ge={2:"touch",3:"pen",4:"mouse"};Se.prototype.h=function(){Se.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var $e="closure_listenable_"+(1e6*Math.random()|0),yt=0;function Gr(u,f,m,k,O){this.listener=u,this.proxy=null,this.src=f,this.type=m,this.capture=!!k,this.ha=O,this.key=++yt,this.da=this.fa=!1}function Dn(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Xr(u){this.src=u,this.g={},this.h=0}Xr.prototype.add=function(u,f,m,k,O){var V=u.toString();u=this.g[V],u||(u=this.g[V]=[],this.h++);var Y=Ge(u,f,k,O);return-1<Y?(f=u[Y],m||(f.fa=!1)):(f=new Gr(f,this.src,V,!!k,O),f.fa=m,u.push(f)),f};function Ui(u,f){var m=f.type;if(m in u.g){var k=u.g[m],O=Array.prototype.indexOf.call(k,f,void 0),V;(V=0<=O)&&Array.prototype.splice.call(k,O,1),V&&(Dn(f),u.g[m].length==0&&(delete u.g[m],u.h--))}}function Ge(u,f,m,k){for(var O=0;O<u.length;++O){var V=u[O];if(!V.da&&V.listener==f&&V.capture==!!m&&V.ha==k)return O}return-1}var ht="closure_lm_"+(1e6*Math.random()|0),Un={};function pr(u,f,m,k,O){if(Array.isArray(f)){for(var V=0;V<f.length;V++)pr(u,f[V],m,k,O);return null}return m=Wv(m),u&&u[$e]?u.K(f,m,c(k)?!!k.capture:!1,O):Jr(u,f,m,!1,k,O)}function Jr(u,f,m,k,O,V){if(!f)throw Error("Invalid event type");var Y=c(O)?!!O.capture:!!O,Le=Lh(u);if(Le||(u[ht]=Le=new Xr(u)),m=Le.add(f,m,k,Y,V),m.proxy)return m;if(k=Wi(),m.proxy=k,k.src=u,k.listener=m,u.addEventListener)De||(O=Y),O===void 0&&(O=!1),u.addEventListener(f.toString(),k,O);else if(u.attachEvent)u.attachEvent(Uv(f.toString()),k);else if(u.addListener&&u.removeListener)u.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return m}function Wi(){function u(m){return f.call(u.src,u.listener,m)}const f=qk;return u}function Bv(u,f,m,k,O){if(Array.isArray(f))for(var V=0;V<f.length;V++)Bv(u,f[V],m,k,O);else k=c(k)?!!k.capture:!!k,m=Wv(m),u&&u[$e]?(u=u.i,f=String(f).toString(),f in u.g&&(V=u.g[f],m=Ge(V,m,k,O),-1<m&&(Dn(V[m]),Array.prototype.splice.call(V,m,1),V.length==0&&(delete u.g[f],u.h--)))):u&&(u=Lh(u))&&(f=u.g[f.toString()],u=-1,f&&(u=Ge(f,m,k,O)),(m=-1<u?f[u]:null)&&Oh(m))}function Oh(u){if(typeof u!="number"&&u&&!u.da){var f=u.src;if(f&&f[$e])Ui(f.i,u);else{var m=u.type,k=u.proxy;f.removeEventListener?f.removeEventListener(m,k,u.capture):f.detachEvent?f.detachEvent(Uv(m),k):f.addListener&&f.removeListener&&f.removeListener(k),(m=Lh(f))?(Ui(m,u),m.h==0&&(m.src=null,f[ht]=null)):Dn(u)}}}function Uv(u){return u in Un?Un[u]:Un[u]="on"+u}function qk(u,f){if(u.da)u=!0;else{f=new Se(f,this);var m=u.listener,k=u.ha||u.src;u.fa&&Oh(u),u=m.call(k,f)}return u}function Lh(u){return u=u[ht],u instanceof Xr?u:null}var Vh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wv(u){return typeof u=="function"?u:(u[Vh]||(u[Vh]=function(f){return u.handleEvent(f)}),u[Vh])}function Rt(){J.call(this),this.i=new Xr(this),this.M=this,this.F=null}_(Rt,J),Rt.prototype[$e]=!0,Rt.prototype.removeEventListener=function(u,f,m,k){Bv(this,u,f,m,k)};function $t(u,f){var m,k=u.F;if(k)for(m=[];k;k=k.F)m.push(k);if(u=u.M,k=f.type||f,typeof f=="string")f=new le(f,u);else if(f instanceof le)f.target=f.target||u;else{var O=f;f=new le(k,u),P(f,O)}if(O=!0,m)for(var V=m.length-1;0<=V;V--){var Y=f.g=m[V];O=_u(Y,k,!0,f)&&O}if(Y=f.g=u,O=_u(Y,k,!0,f)&&O,O=_u(Y,k,!1,f)&&O,m)for(V=0;V<m.length;V++)Y=f.g=m[V],O=_u(Y,k,!1,f)&&O}Rt.prototype.N=function(){if(Rt.aa.N.call(this),this.i){var u=this.i,f;for(f in u.g){for(var m=u.g[f],k=0;k<m.length;k++)Dn(m[k]);delete u.g[f],u.h--}}this.F=null},Rt.prototype.K=function(u,f,m,k){return this.i.add(String(u),f,!1,m,k)},Rt.prototype.L=function(u,f,m,k){return this.i.add(String(u),f,!0,m,k)};function _u(u,f,m,k){if(f=u.i.g[String(f)],!f)return!0;f=f.concat();for(var O=!0,V=0;V<f.length;++V){var Y=f[V];if(Y&&!Y.da&&Y.capture==m){var Le=Y.listener,_t=Y.ha||Y.src;Y.fa&&Ui(u.i,Y),O=Le.call(_t,k)!==!1&&O}}return O&&!k.defaultPrevented}function $v(u,f,m){if(typeof u=="function")m&&(u=p(u,m));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(u,f||0)}function Hv(u){u.g=$v(()=>{u.g=null,u.i&&(u.i=!1,Hv(u))},u.l);const f=u.h;u.h=null,u.m.apply(null,f)}class Qk extends J{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Hv(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ca(u){J.call(this),this.h=u,this.g={}}_(ca,J);var Yv=[];function zv(u){M(u.g,function(f,m){this.g.hasOwnProperty(m)&&Oh(f)},u),u.g={}}ca.prototype.N=function(){ca.aa.N.call(this),zv(this)},ca.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fh=a.JSON.stringify,Kk=a.JSON.parse,Gk=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function jh(){}jh.prototype.h=null;function qv(u){return u.h||(u.h=u.i())}function Qv(){}var da={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Bh(){le.call(this,"d")}_(Bh,le);function Uh(){le.call(this,"c")}_(Uh,le);var Gs={},Kv=null;function wu(){return Kv=Kv||new Rt}Gs.La="serverreachability";function Gv(u){le.call(this,Gs.La,u)}_(Gv,le);function ha(u){const f=wu();$t(f,new Gv(f))}Gs.STAT_EVENT="statevent";function Xv(u,f){le.call(this,Gs.STAT_EVENT,u),this.stat=f}_(Xv,le);function Ht(u){const f=wu();$t(f,new Xv(f,u))}Gs.Ma="timingevent";function Jv(u,f){le.call(this,Gs.Ma,u),this.size=f}_(Jv,le);function fa(u,f){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},f)}function pa(){this.g=!0}pa.prototype.xa=function(){this.g=!1};function Xk(u,f,m,k,O,V){u.info(function(){if(u.g)if(V)for(var Y="",Le=V.split("&"),_t=0;_t<Le.length;_t++){var Ie=Le[_t].split("=");if(1<Ie.length){var xt=Ie[0];Ie=Ie[1];var At=xt.split("_");Y=2<=At.length&&At[1]=="type"?Y+(xt+"="+Ie+"&"):Y+(xt+"=redacted&")}}else Y=null;else Y=V;return"XMLHTTP REQ ("+k+") [attempt "+O+"]: "+f+`
`+m+`
`+Y})}function Jk(u,f,m,k,O,V,Y){u.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+O+"]: "+f+`
`+m+`
`+V+" "+Y})}function $i(u,f,m,k){u.info(function(){return"XMLHTTP TEXT ("+f+"): "+eD(u,m)+(k?" "+k:"")})}function Zk(u,f){u.info(function(){return"TIMEOUT: "+f})}pa.prototype.info=function(){};function eD(u,f){if(!u.g)return f;if(!f)return null;try{var m=JSON.parse(f);if(m){for(u=0;u<m.length;u++)if(Array.isArray(m[u])){var k=m[u];if(!(2>k.length)){var O=k[1];if(Array.isArray(O)&&!(1>O.length)){var V=O[0];if(V!="noop"&&V!="stop"&&V!="close")for(var Y=1;Y<O.length;Y++)O[Y]=""}}}}return Fh(m)}catch{return f}}var Eu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Zv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wh;function Tu(){}_(Tu,jh),Tu.prototype.g=function(){return new XMLHttpRequest},Tu.prototype.i=function(){return{}},Wh=new Tu;function Zr(u,f,m,k){this.j=u,this.i=f,this.l=m,this.R=k||1,this.U=new ca(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ey}function ey(){this.i=null,this.g="",this.h=!1}var ty={},$h={};function Hh(u,f,m){u.L=1,u.v=ku(mr(f)),u.m=m,u.P=!0,ny(u,null)}function ny(u,f){u.F=Date.now(),Su(u),u.A=mr(u.v);var m=u.A,k=u.R;Array.isArray(k)||(k=[String(k)]),gy(m.i,"t",k),u.C=0,m=u.j.J,u.h=new ey,u.g=My(u.j,m?f:null,!u.m),0<u.O&&(u.M=new Qk(p(u.Y,u,u.g),u.O)),f=u.U,m=u.g,k=u.ca;var O="readystatechange";Array.isArray(O)||(O&&(Yv[0]=O.toString()),O=Yv);for(var V=0;V<O.length;V++){var Y=pr(m,O[V],k||f.handleEvent,!1,f.h||f);if(!Y)break;f.g[Y.key]=Y}f=u.H?v(u.H):{},u.m?(u.u||(u.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,f)):(u.u="GET",u.g.ea(u.A,u.u,null,f)),ha(),Xk(u.i,u.u,u.A,u.l,u.R,u.m)}Zr.prototype.ca=function(u){u=u.target;const f=this.M;f&&gr(u)==3?f.j():this.Y(u)},Zr.prototype.Y=function(u){try{if(u==this.g)e:{const At=gr(this.g);var f=this.g.Ba();const zi=this.g.Z();if(!(3>At)&&(At!=3||this.g&&(this.h.h||this.g.oa()||Sy(this.g)))){this.J||At!=4||f==7||(f==8||0>=zi?ha(3):ha(2)),Yh(this);var m=this.g.Z();this.X=m;t:if(ry(this)){var k=Sy(this.g);u="";var O=k.length,V=gr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xs(this),ma(this);var Y="";break t}this.h.i=new a.TextDecoder}for(f=0;f<O;f++)this.h.h=!0,u+=this.h.i.decode(k[f],{stream:!(V&&f==O-1)});k.length=0,this.h.g+=u,this.C=0,Y=this.h.g}else Y=this.g.oa();if(this.o=m==200,Jk(this.i,this.u,this.A,this.l,this.R,At,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,_t=this.g;if((Le=_t.g?_t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Le)){var Ie=Le;break t}}Ie=null}if(m=Ie)$i(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zh(this,m);else{this.o=!1,this.s=3,Ht(12),Xs(this),ma(this);break e}}if(this.P){m=!0;let Pn;for(;!this.J&&this.C<Y.length;)if(Pn=tD(this,Y),Pn==$h){At==4&&(this.s=4,Ht(14),m=!1),$i(this.i,this.l,null,"[Incomplete Response]");break}else if(Pn==ty){this.s=4,Ht(15),$i(this.i,this.l,Y,"[Invalid Chunk]"),m=!1;break}else $i(this.i,this.l,Pn,null),zh(this,Pn);if(ry(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||Y.length!=0||this.h.h||(this.s=1,Ht(16),m=!1),this.o=this.o&&m,!m)$i(this.i,this.l,Y,"[Invalid Chunked Response]"),Xs(this),ma(this);else if(0<Y.length&&!this.W){this.W=!0;var xt=this.j;xt.g==this&&xt.ba&&!xt.M&&(xt.j.info("Great, no buffering proxy detected. Bytes received: "+Y.length),Jh(xt),xt.M=!0,Ht(11))}}else $i(this.i,this.l,Y,null),zh(this,Y);At==4&&Xs(this),this.o&&!this.J&&(At==4?Ry(this.j,this):(this.o=!1,Su(this)))}else yD(this.g),m==400&&0<Y.indexOf("Unknown SID")?(this.s=3,Ht(12)):(this.s=0,Ht(13)),Xs(this),ma(this)}}}catch{}finally{}};function ry(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function tD(u,f){var m=u.C,k=f.indexOf(`
`,m);return k==-1?$h:(m=Number(f.substring(m,k)),isNaN(m)?ty:(k+=1,k+m>f.length?$h:(f=f.slice(k,k+m),u.C=k+m,f)))}Zr.prototype.cancel=function(){this.J=!0,Xs(this)};function Su(u){u.S=Date.now()+u.I,sy(u,u.I)}function sy(u,f){if(u.B!=null)throw Error("WatchDog timer not null");u.B=fa(p(u.ba,u),f)}function Yh(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Zr.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Zk(this.i,this.A),this.L!=2&&(ha(),Ht(17)),Xs(this),this.s=2,ma(this)):sy(this,this.S-u)};function ma(u){u.j.G==0||u.J||Ry(u.j,u)}function Xs(u){Yh(u);var f=u.M;f&&typeof f.ma=="function"&&f.ma(),u.M=null,zv(u.U),u.g&&(f=u.g,u.g=null,f.abort(),f.ma())}function zh(u,f){try{var m=u.j;if(m.G!=0&&(m.g==u||qh(m.h,u))){if(!u.K&&qh(m.h,u)&&m.G==3){try{var k=m.Da.g.parse(f)}catch{k=null}if(Array.isArray(k)&&k.length==3){var O=k;if(O[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<u.F)Au(m),Ru(m);else break e;Xh(m),Ht(18)}}else m.za=O[1],0<m.za-m.T&&37500>O[2]&&m.F&&m.v==0&&!m.C&&(m.C=fa(p(m.Za,m),6e3));if(1>=ay(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Zs(m,11)}else if((u.K||m.g==u)&&Au(m),!y(f))for(O=m.Da.g.parse(f),f=0;f<O.length;f++){let Ie=O[f];if(m.T=Ie[0],Ie=Ie[1],m.G==2)if(Ie[0]=="c"){m.K=Ie[1],m.ia=Ie[2];const xt=Ie[3];xt!=null&&(m.la=xt,m.j.info("VER="+m.la));const At=Ie[4];At!=null&&(m.Aa=At,m.j.info("SVER="+m.Aa));const zi=Ie[5];zi!=null&&typeof zi=="number"&&0<zi&&(k=1.5*zi,m.L=k,m.j.info("backChannelRequestTimeoutMs_="+k)),k=m;const Pn=u.g;if(Pn){const Mu=Pn.g?Pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mu){var V=k.h;V.g||Mu.indexOf("spdy")==-1&&Mu.indexOf("quic")==-1&&Mu.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Qh(V,V.h),V.h=null))}if(k.D){const Zh=Pn.g?Pn.g.getResponseHeader("X-HTTP-Session-Id"):null;Zh&&(k.ya=Zh,Fe(k.I,k.D,Zh))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-u.F,m.j.info("Handshake RTT: "+m.R+"ms")),k=m;var Y=u;if(k.qa=Ny(k,k.J?k.ia:null,k.W),Y.K){ly(k.h,Y);var Le=Y,_t=k.L;_t&&(Le.I=_t),Le.B&&(Yh(Le),Su(Le)),k.g=Y}else Py(k);0<m.i.length&&xu(m)}else Ie[0]!="stop"&&Ie[0]!="close"||Zs(m,7);else m.G==3&&(Ie[0]=="stop"||Ie[0]=="close"?Ie[0]=="stop"?Zs(m,7):Gh(m):Ie[0]!="noop"&&m.l&&m.l.ta(Ie),m.v=0)}}ha(4)}catch{}}var nD=class{constructor(u,f){this.g=u,this.map=f}};function iy(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function oy(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ay(u){return u.h?1:u.g?u.g.size:0}function qh(u,f){return u.h?u.h==f:u.g?u.g.has(f):!1}function Qh(u,f){u.g?u.g.add(f):u.h=f}function ly(u,f){u.h&&u.h==f?u.h=null:u.g&&u.g.has(f)&&u.g.delete(f)}iy.prototype.cancel=function(){if(this.i=uy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function uy(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let f=u.i;for(const m of u.g.values())f=f.concat(m.D);return f}return D(u.i)}function rD(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var f=[],m=u.length,k=0;k<m;k++)f.push(u[k]);return f}f=[],m=0;for(k in u)f[m++]=u[k];return f}function sD(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var f=[];u=u.length;for(var m=0;m<u;m++)f.push(m);return f}f=[],m=0;for(const k in u)f[m++]=k;return f}}}function cy(u,f){if(u.forEach&&typeof u.forEach=="function")u.forEach(f,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,f,void 0);else for(var m=sD(u),k=rD(u),O=k.length,V=0;V<O;V++)f.call(void 0,k[V],m&&m[V],u)}var dy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function iD(u,f){if(u){u=u.split("&");for(var m=0;m<u.length;m++){var k=u[m].indexOf("="),O=null;if(0<=k){var V=u[m].substring(0,k);O=u[m].substring(k+1)}else V=u[m];f(V,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function Js(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Js){this.h=u.h,Cu(this,u.j),this.o=u.o,this.g=u.g,Iu(this,u.s),this.l=u.l;var f=u.i,m=new ya;m.i=f.i,f.g&&(m.g=new Map(f.g),m.h=f.h),hy(this,m),this.m=u.m}else u&&(f=String(u).match(dy))?(this.h=!1,Cu(this,f[1]||"",!0),this.o=ga(f[2]||""),this.g=ga(f[3]||"",!0),Iu(this,f[4]),this.l=ga(f[5]||"",!0),hy(this,f[6]||"",!0),this.m=ga(f[7]||"")):(this.h=!1,this.i=new ya(null,this.h))}Js.prototype.toString=function(){var u=[],f=this.j;f&&u.push(va(f,fy,!0),":");var m=this.g;return(m||f=="file")&&(u.push("//"),(f=this.o)&&u.push(va(f,fy,!0),"@"),u.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&u.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&u.push("/"),u.push(va(m,m.charAt(0)=="/"?lD:aD,!0))),(m=this.i.toString())&&u.push("?",m),(m=this.m)&&u.push("#",va(m,cD)),u.join("")};function mr(u){return new Js(u)}function Cu(u,f,m){u.j=m?ga(f,!0):f,u.j&&(u.j=u.j.replace(/:$/,""))}function Iu(u,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);u.s=f}else u.s=null}function hy(u,f,m){f instanceof ya?(u.i=f,dD(u.i,u.h)):(m||(f=va(f,uD)),u.i=new ya(f,u.h))}function Fe(u,f,m){u.i.set(f,m)}function ku(u){return Fe(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function ga(u,f){return u?f?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function va(u,f,m){return typeof u=="string"?(u=encodeURI(u).replace(f,oD),m&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function oD(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var fy=/[#\/\?@]/g,aD=/[#\?:]/g,lD=/[#\?]/g,uD=/[#\?@]/g,cD=/#/g;function ya(u,f){this.h=this.g=null,this.i=u||null,this.j=!!f}function es(u){u.g||(u.g=new Map,u.h=0,u.i&&iD(u.i,function(f,m){u.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}n=ya.prototype,n.add=function(u,f){es(this),this.i=null,u=Hi(this,u);var m=this.g.get(u);return m||this.g.set(u,m=[]),m.push(f),this.h+=1,this};function py(u,f){es(u),f=Hi(u,f),u.g.has(f)&&(u.i=null,u.h-=u.g.get(f).length,u.g.delete(f))}function my(u,f){return es(u),f=Hi(u,f),u.g.has(f)}n.forEach=function(u,f){es(this),this.g.forEach(function(m,k){m.forEach(function(O){u.call(f,O,k,this)},this)},this)},n.na=function(){es(this);const u=Array.from(this.g.values()),f=Array.from(this.g.keys()),m=[];for(let k=0;k<f.length;k++){const O=u[k];for(let V=0;V<O.length;V++)m.push(f[k])}return m},n.V=function(u){es(this);let f=[];if(typeof u=="string")my(this,u)&&(f=f.concat(this.g.get(Hi(this,u))));else{u=Array.from(this.g.values());for(let m=0;m<u.length;m++)f=f.concat(u[m])}return f},n.set=function(u,f){return es(this),this.i=null,u=Hi(this,u),my(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[f]),this.h+=1,this},n.get=function(u,f){return u?(u=this.V(u),0<u.length?String(u[0]):f):f};function gy(u,f,m){py(u,f),0<m.length&&(u.i=null,u.g.set(Hi(u,f),D(m)),u.h+=m.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],f=Array.from(this.g.keys());for(var m=0;m<f.length;m++){var k=f[m];const V=encodeURIComponent(String(k)),Y=this.V(k);for(k=0;k<Y.length;k++){var O=V;Y[k]!==""&&(O+="="+encodeURIComponent(String(Y[k]))),u.push(O)}}return this.i=u.join("&")};function Hi(u,f){return f=String(f),u.j&&(f=f.toLowerCase()),f}function dD(u,f){f&&!u.j&&(es(u),u.i=null,u.g.forEach(function(m,k){var O=k.toLowerCase();k!=O&&(py(this,k),gy(this,O,m))},u)),u.j=f}function hD(u,f){const m=new pa;if(a.Image){const k=new Image;k.onload=g(ts,m,"TestLoadImage: loaded",!0,f,k),k.onerror=g(ts,m,"TestLoadImage: error",!1,f,k),k.onabort=g(ts,m,"TestLoadImage: abort",!1,f,k),k.ontimeout=g(ts,m,"TestLoadImage: timeout",!1,f,k),a.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=u}else f(!1)}function fD(u,f){const m=new pa,k=new AbortController,O=setTimeout(()=>{k.abort(),ts(m,"TestPingServer: timeout",!1,f)},1e4);fetch(u,{signal:k.signal}).then(V=>{clearTimeout(O),V.ok?ts(m,"TestPingServer: ok",!0,f):ts(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(O),ts(m,"TestPingServer: error",!1,f)})}function ts(u,f,m,k,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),k(m)}catch{}}function pD(){this.g=new Gk}function mD(u,f,m){const k=m||"";try{cy(u,function(O,V){let Y=O;c(O)&&(Y=Fh(O)),f.push(k+V+"="+encodeURIComponent(Y))})}catch(O){throw f.push(k+"type="+encodeURIComponent("_badmap")),O}}function Du(u){this.l=u.Ub||null,this.j=u.eb||!1}_(Du,jh),Du.prototype.g=function(){return new Pu(this.l,this.j)},Du.prototype.i=function(u){return function(){return u}}({});function Pu(u,f){Rt.call(this),this.D=u,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(Pu,Rt),n=Pu.prototype,n.open=function(u,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=f,this.readyState=1,wa(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(f.body=u),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_a(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,wa(this)),this.g&&(this.readyState=3,wa(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vy(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function vy(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var f=u.value?u.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!u.done}))&&(this.response=this.responseText+=f)}u.done?_a(this):wa(this),this.readyState==3&&vy(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,_a(this))},n.Qa=function(u){this.g&&(this.response=u,_a(this))},n.ga=function(){this.g&&_a(this)};function _a(u){u.readyState=4,u.l=null,u.j=null,u.v=null,wa(u)}n.setRequestHeader=function(u,f){this.u.append(u,f)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,u.push(m[0]+": "+m[1]),m=f.next();return u.join(`\r
`)};function wa(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Pu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function yy(u){let f="";return M(u,function(m,k){f+=k,f+=":",f+=m,f+=`\r
`}),f}function Kh(u,f,m){e:{for(k in m){var k=!1;break e}k=!0}k||(m=yy(m),typeof u=="string"?m!=null&&encodeURIComponent(String(m)):Fe(u,f,m))}function Xe(u){Rt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(Xe,Rt);var gD=/^https?$/i,vD=["POST","PUT"];n=Xe.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,f,m,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);f=f?f.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wh.g(),this.v=this.o?qv(this.o):qv(Wh),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(f,String(u),!0),this.B=!1}catch(V){_y(this,V);return}if(u=m||"",m=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var O in k)m.set(O,k[O]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const V of k.keys())m.set(V,k.get(V));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(m.keys()).find(V=>V.toLowerCase()=="content-type"),O=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(vD,f,void 0))||k||O||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,Y]of m)this.g.setRequestHeader(V,Y);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ty(this),this.u=!0,this.g.send(u),this.u=!1}catch(V){_y(this,V)}};function _y(u,f){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=f,u.m=5,wy(u),bu(u)}function wy(u){u.A||(u.A=!0,$t(u,"complete"),$t(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,$t(this,"complete"),$t(this,"abort"),bu(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bu(this,!0)),Xe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ey(this):this.bb())},n.bb=function(){Ey(this)};function Ey(u){if(u.h&&typeof o<"u"&&(!u.v[1]||gr(u)!=4||u.Z()!=2)){if(u.u&&gr(u)==4)$v(u.Ea,0,u);else if($t(u,"readystatechange"),gr(u)==4){u.h=!1;try{const Y=u.Z();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var k;if(k=Y===0){var O=String(u.D).match(dy)[1]||null;!O&&a.self&&a.self.location&&(O=a.self.location.protocol.slice(0,-1)),k=!gD.test(O?O.toLowerCase():"")}m=k}if(m)$t(u,"complete"),$t(u,"success");else{u.m=6;try{var V=2<gr(u)?u.g.statusText:""}catch{V=""}u.l=V+" ["+u.Z()+"]",wy(u)}}finally{bu(u)}}}}function bu(u,f){if(u.g){Ty(u);const m=u.g,k=u.v[0]?()=>{}:null;u.g=null,u.v=null,f||$t(u,"ready");try{m.onreadystatechange=k}catch{}}}function Ty(u){u.I&&(a.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function gr(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<gr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var f=this.g.responseText;return u&&f.indexOf(u)==0&&(f=f.substring(u.length)),Kk(f)}};function Sy(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function yD(u){const f={};u=(u.g&&2<=gr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<u.length;k++){if(y(u[k]))continue;var m=R(u[k]);const O=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const V=f[O]||[];f[O]=V,V.push(m)}S(f,function(k){return k.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ea(u,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[u]||f}function Cy(u){this.Aa=0,this.i=[],this.j=new pa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ea("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ea("baseRetryDelayMs",5e3,u),this.cb=Ea("retryDelaySeedMs",1e4,u),this.Wa=Ea("forwardChannelMaxRetries",2,u),this.wa=Ea("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new iy(u&&u.concurrentRequestLimit),this.Da=new pD,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Cy.prototype,n.la=8,n.G=1,n.connect=function(u,f,m,k){Ht(0),this.W=u,this.H=f||{},m&&k!==void 0&&(this.H.OSID=m,this.H.OAID=k),this.F=this.X,this.I=Ny(this,null,this.W),xu(this)};function Gh(u){if(Iy(u),u.G==3){var f=u.U++,m=mr(u.I);if(Fe(m,"SID",u.K),Fe(m,"RID",f),Fe(m,"TYPE","terminate"),Ta(u,m),f=new Zr(u,u.j,f),f.L=2,f.v=ku(mr(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=f.v,m=!0),m||(f.g=My(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Su(f)}Ay(u)}function Ru(u){u.g&&(Jh(u),u.g.cancel(),u.g=null)}function Iy(u){Ru(u),u.u&&(a.clearTimeout(u.u),u.u=null),Au(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function xu(u){if(!oy(u.h)&&!u.s){u.s=!0;var f=u.Ga;ie||H(),B||(ie(),B=!0),F.add(f,u),u.B=0}}function _D(u,f){return ay(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=f.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=fa(p(u.Ga,u,f),xy(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const O=new Zr(this,this.j,u);let V=this.o;if(this.S&&(V?(V=v(V),P(V,this.S)):V=this.S),this.m!==null||this.O||(O.H=V,V=null),this.P)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var k=this.i[m];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(f+=k,4096<f){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=Dy(this,O,f),m=mr(this.I),Fe(m,"RID",u),Fe(m,"CVER",22),this.D&&Fe(m,"X-HTTP-Session-Id",this.D),Ta(this,m),V&&(this.O?f="headers="+encodeURIComponent(String(yy(V)))+"&"+f:this.m&&Kh(m,this.m,V)),Qh(this.h,O),this.Ua&&Fe(m,"TYPE","init"),this.P?(Fe(m,"$req",f),Fe(m,"SID","null"),O.T=!0,Hh(O,m,null)):Hh(O,m,f),this.G=2}}else this.G==3&&(u?ky(this,u):this.i.length==0||oy(this.h)||ky(this))};function ky(u,f){var m;f?m=f.l:m=u.U++;const k=mr(u.I);Fe(k,"SID",u.K),Fe(k,"RID",m),Fe(k,"AID",u.T),Ta(u,k),u.m&&u.o&&Kh(k,u.m,u.o),m=new Zr(u,u.j,m,u.B+1),u.m===null&&(m.H=u.o),f&&(u.i=f.D.concat(u.i)),f=Dy(u,m,1e3),m.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Qh(u.h,m),Hh(m,k,f)}function Ta(u,f){u.H&&M(u.H,function(m,k){Fe(f,k,m)}),u.l&&cy({},function(m,k){Fe(f,k,m)})}function Dy(u,f,m){m=Math.min(u.i.length,m);var k=u.l?p(u.l.Na,u.l,u):null;e:{var O=u.i;let V=-1;for(;;){const Y=["count="+m];V==-1?0<m?(V=O[0].g,Y.push("ofs="+V)):V=0:Y.push("ofs="+V);let Le=!0;for(let _t=0;_t<m;_t++){let Ie=O[_t].g;const xt=O[_t].map;if(Ie-=V,0>Ie)V=Math.max(0,O[_t].g-100),Le=!1;else try{mD(xt,Y,"req"+Ie+"_")}catch{k&&k(xt)}}if(Le){k=Y.join("&");break e}}}return u=u.i.splice(0,m),f.D=u,k}function Py(u){if(!u.g&&!u.u){u.Y=1;var f=u.Fa;ie||H(),B||(ie(),B=!0),F.add(f,u),u.v=0}}function Xh(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=fa(p(u.Fa,u),xy(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,by(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=fa(p(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ht(10),Ru(this),by(this))};function Jh(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function by(u){u.g=new Zr(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var f=mr(u.qa);Fe(f,"RID","rpc"),Fe(f,"SID",u.K),Fe(f,"AID",u.T),Fe(f,"CI",u.F?"0":"1"),!u.F&&u.ja&&Fe(f,"TO",u.ja),Fe(f,"TYPE","xmlhttp"),Ta(u,f),u.m&&u.o&&Kh(f,u.m,u.o),u.L&&(u.g.I=u.L);var m=u.g;u=u.ia,m.L=1,m.v=ku(mr(f)),m.m=null,m.P=!0,ny(m,u)}n.Za=function(){this.C!=null&&(this.C=null,Ru(this),Xh(this),Ht(19))};function Au(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function Ry(u,f){var m=null;if(u.g==f){Au(u),Jh(u),u.g=null;var k=2}else if(qh(u.h,f))m=f.D,ly(u.h,f),k=1;else return;if(u.G!=0){if(f.o)if(k==1){m=f.m?f.m.length:0,f=Date.now()-f.F;var O=u.B;k=wu(),$t(k,new Jv(k,m)),xu(u)}else Py(u);else if(O=f.s,O==3||O==0&&0<f.X||!(k==1&&_D(u,f)||k==2&&Xh(u)))switch(m&&0<m.length&&(f=u.h,f.i=f.i.concat(m)),O){case 1:Zs(u,5);break;case 4:Zs(u,10);break;case 3:Zs(u,6);break;default:Zs(u,2)}}}function xy(u,f){let m=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(m*=2),m*f}function Zs(u,f){if(u.j.info("Error code "+f),f==2){var m=p(u.fb,u),k=u.Xa;const O=!k;k=new Js(k||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Cu(k,"https"),ku(k),O?hD(k.toString(),m):fD(k.toString(),m)}else Ht(2);u.G=0,u.l&&u.l.sa(f),Ay(u),Iy(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Ht(2)):(this.j.info("Failed to ping google.com"),Ht(1))};function Ay(u){if(u.G=0,u.ka=[],u.l){const f=uy(u.h);(f.length!=0||u.i.length!=0)&&(I(u.ka,f),I(u.ka,u.i),u.h.i.length=0,D(u.i),u.i.length=0),u.l.ra()}}function Ny(u,f,m){var k=m instanceof Js?mr(m):new Js(m);if(k.g!="")f&&(k.g=f+"."+k.g),Iu(k,k.s);else{var O=a.location;k=O.protocol,f=f?f+"."+O.hostname:O.hostname,O=+O.port;var V=new Js(null);k&&Cu(V,k),f&&(V.g=f),O&&Iu(V,O),m&&(V.l=m),k=V}return m=u.D,f=u.ya,m&&f&&Fe(k,m,f),Fe(k,"VER",u.la),Ta(u,k),k}function My(u,f,m){if(f&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=u.Ca&&!u.pa?new Xe(new Du({eb:m})):new Xe(u.pa),f.Ha(u.J),f}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Oy(){}n=Oy.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Nu(){}Nu.prototype.g=function(u,f){return new on(u,f)};function on(u,f){Rt.call(this),this.g=new Cy(f),this.l=u,this.h=f&&f.messageUrlParams||null,u=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(u?u["X-WebChannel-Content-Type"]=f.messageContentType:u={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(u?u["X-WebChannel-Client-Profile"]=f.va:u={"X-WebChannel-Client-Profile":f.va}),this.g.S=u,(u=f&&f.Sb)&&!y(u)&&(this.g.m=u),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!y(f)&&(this.g.D=f,u=this.h,u!==null&&f in u&&(u=this.h,f in u&&delete u[f])),this.j=new Yi(this)}_(on,Rt),on.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){Gh(this.g)},on.prototype.o=function(u){var f=this.g;if(typeof u=="string"){var m={};m.__data__=u,u=m}else this.u&&(m={},m.__data__=Fh(u),u=m);f.i.push(new nD(f.Ya++,u)),f.G==3&&xu(f)},on.prototype.N=function(){this.g.l=null,delete this.j,Gh(this.g),delete this.g,on.aa.N.call(this)};function Ly(u){Bh.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var f=u.__sm__;if(f){e:{for(const m in f){u=m;break e}u=void 0}(this.i=u)&&(u=this.i,f=f!==null&&u in f?f[u]:void 0),this.data=f}else this.data=u}_(Ly,Bh);function Vy(){Uh.call(this),this.status=1}_(Vy,Uh);function Yi(u){this.g=u}_(Yi,Oy),Yi.prototype.ua=function(){$t(this.g,"a")},Yi.prototype.ta=function(u){$t(this.g,new Ly(u))},Yi.prototype.sa=function(u){$t(this.g,new Vy)},Yi.prototype.ra=function(){$t(this.g,"b")},Nu.prototype.createWebChannel=Nu.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,VC=function(){return new Nu},LC=function(){return wu()},OC=Gs,om={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Eu.NO_ERROR=0,Eu.TIMEOUT=8,Eu.HTTP_ERROR=6,Dc=Eu,Zv.COMPLETE="complete",MC=Zv,Qv.EventType=da,da.OPEN="a",da.CLOSE="b",da.ERROR="c",da.MESSAGE="d",Rt.prototype.listen=Rt.prototype.K,$a=Qv,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,NC=Xe}).apply(typeof Zu<"u"?Zu:typeof self<"u"?self:typeof window<"u"?window:{});const xw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Lt.UNAUTHENTICATED=new Lt(null),Lt.GOOGLE_CREDENTIALS=new Lt("google-credentials-uid"),Lt.FIRST_PARTY=new Lt("first-party-uid"),Lt.MOCK_USER=new Lt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ia="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi=new bg("@firebase/firestore");function xa(){return Pi.logLevel}function X(n,...e){if(Pi.logLevel<=Ee.DEBUG){const t=e.map(Ug);Pi.debug(`Firestore (${ia}): ${n}`,...t)}}function Wr(n,...e){if(Pi.logLevel<=Ee.ERROR){const t=e.map(Ug);Pi.error(`Firestore (${ia}): ${n}`,...t)}}function Oo(n,...e){if(Pi.logLevel<=Ee.WARN){const t=e.map(Ug);Pi.warn(`Firestore (${ia}): ${n}`,...t)}}function Ug(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ae(n="Unexpected state"){const e=`FIRESTORE (${ia}) INTERNAL ASSERTION FAILED: `+n;throw Wr(e),new Error(e)}function Me(n,e){n||ae()}function ce(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends qr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class WN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Lt.UNAUTHENTICATED))}shutdown(){}}class $N{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class HN{constructor(e){this.t=e,this.currentUser=Lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Me(this.o===void 0);let r=this.i;const s=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve();let i=new Rr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Rr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Rr)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Me(typeof r.accessToken=="string"),new FC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Me(e===null||typeof e=="string"),new Lt(e)}}class YN{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Lt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class zN{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new YN(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QN{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Me(this.o===void 0);const r=i=>{i.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,X("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Me(typeof t.token=="string"),this.R=t.token,new qN(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=KN(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<t&&(r+=e.charAt(s[i]%e.length))}return r}}function ke(n,e){return n<e?-1:n>e?1:0}function Lo(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new q(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new q(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new q(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return dt.fromMillis(Date.now())}static fromDate(e){return dt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new dt(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ue(e)}static min(){return new ue(new dt(0,0))}static max(){return new ue(new dt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e,t,r){t===void 0?t=0:t>e.length&&ae(),r===void 0?r=e.length-t:r>e.length-t&&ae(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Nl.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Nl?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const i=e.get(s),o=t.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Be extends Nl{construct(e,t,r){return new Be(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new q(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new Be(t)}static emptyPath(){return new Be([])}}const GN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class St extends Nl{construct(e,t,r){return new St(e,t,r)}static isValidIdentifier(e){return GN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),St.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new St(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const i=()=>{if(r.length===0)throw new q(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new q(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new q(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new q(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new St(t)}static emptyPath(){return new St([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.path=e}static fromPath(e){return new ne(Be.fromString(e))}static fromName(e){return new ne(Be.fromString(e).popFirst(5))}static empty(){return new ne(Be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Be.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ne(new Be(e.slice()))}}function XN(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=ue.fromTimestamp(r===1e9?new dt(t+1,0):new dt(t,r));return new Ls(s,ne.empty(),e)}function JN(n){return new Ls(n.readTime,n.key,-1)}class Ls{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ls(ue.min(),ne.empty(),-1)}static max(){return new Ls(ue.max(),ne.empty(),-1)}}function ZN(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ne.comparator(n.documentKey,e.documentKey),t!==0?t:ke(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ru(n){if(n.code!==U.FAILED_PRECONDITION||n.message!==eM)throw n;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new W((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(t,i).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof W?t:W.resolve(t)}catch(t){return W.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):W.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):W.reject(t)}static resolve(e){return new W((t,r)=>{t(e)})}static reject(e){return new W((t,r)=>{r(e)})}static waitFor(e){return new W((t,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&t()},l=>r(l))}),o=!0,i===s&&t()})}static or(e){let t=W.resolve(!1);for(const r of e)t=t.next(s=>s?W.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,i)=>{r.push(t.call(this,s,i))}),this.waitFor(r)}static mapArray(e,t){return new W((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;t(e[c]).next(d=>{o[c]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,t){return new W((r,s)=>{const i=()=>{e()===!0?t().next(()=>{i()},s):r()};i()})}}function nM(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function su(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ie(r),this.se=r=>t.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Wg.oe=-1;function lh(n){return n==null}function vd(n){return n===0&&1/n==-1/0}function rM(n){return typeof n=="number"&&Number.isInteger(n)&&!vd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Vi(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function BC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,t){this.comparator=e,this.root=t||Et.EMPTY}insert(e,t){return new Ke(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Et.BLACK,null,null))}remove(e){return new Ke(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Et.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ec(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ec(this.root,e,this.comparator,!1)}getReverseIterator(){return new ec(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ec(this.root,e,this.comparator,!0)}}class ec{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?r(e.key,t):1,t&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Et{constructor(e,t,r,s,i){this.key=e,this.value=t,this.color=r??Et.RED,this.left=s??Et.EMPTY,this.right=i??Et.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,i){return new Et(e??this.key,t??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,t,r),null):i===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Et.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Et.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Et.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Et.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ae();const e=this.left.check();if(e!==this.right.check())throw ae();return e+(this.isRed()?0:1)}}Et.EMPTY=null,Et.RED=!0,Et.BLACK=!1;Et.EMPTY=new class{constructor(){this.size=0}get key(){throw ae()}get value(){throw ae()}get color(){throw ae()}get left(){throw ae()}get right(){throw ae()}copy(e,t,r,s,i){return this}insert(e,t,r){return new Et(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.comparator=e,this.data=new Ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Nw(this.data.getIterator())}getIteratorFrom(e){return new Nw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new kt(this.comparator);return t.data=e,t}}class Nw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.fields=e,e.sort(St.comparator)}static empty(){return new hn([])}unionWith(e){let t=new kt(St.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new hn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Lo(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new UC("Invalid base64 string: "+i):i}}(e);return new Pt(t)}static fromUint8Array(e){const t=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Pt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pt.EMPTY_BYTE_STRING=new Pt("");const sM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vs(n){if(Me(!!n),typeof n=="string"){let e=0;const t=sM.exec(n);if(Me(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:tt(n.seconds),nanos:tt(n.nanos)}}function tt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function bi(n){return typeof n=="string"?Pt.fromBase64String(n):Pt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $g(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Hg(n){const e=n.mapValue.fields.__previous_value__;return $g(e)?Hg(e):e}function Ml(n){const e=Vs(n.mapValue.fields.__local_write_time__.timestampValue);return new dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e,t,r,s,i,o,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Ol{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ol("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ol&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tc={mapValue:{}};function Ri(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?$g(n)?4:aM(n)?9007199254740991:oM(n)?10:11:ae()}function cr(n,e){if(n===e)return!0;const t=Ri(n);if(t!==Ri(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ml(n).isEqual(Ml(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Vs(s.timestampValue),a=Vs(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,i){return bi(s.bytesValue).isEqual(bi(i.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,i){return tt(s.geoPointValue.latitude)===tt(i.geoPointValue.latitude)&&tt(s.geoPointValue.longitude)===tt(i.geoPointValue.longitude)}(n,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return tt(s.integerValue)===tt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=tt(s.doubleValue),a=tt(i.doubleValue);return o===a?vd(o)===vd(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return Lo(n.arrayValue.values||[],e.arrayValue.values||[],cr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(Aw(o)!==Aw(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!cr(o[l],a[l])))return!1;return!0}(n,e);default:return ae()}}function Ll(n,e){return(n.values||[]).find(t=>cr(t,e))!==void 0}function Vo(n,e){if(n===e)return 0;const t=Ri(n),r=Ri(e);if(t!==r)return ke(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ke(n.booleanValue,e.booleanValue);case 2:return function(i,o){const a=tt(i.integerValue||i.doubleValue),l=tt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return Mw(n.timestampValue,e.timestampValue);case 4:return Mw(Ml(n),Ml(e));case 5:return ke(n.stringValue,e.stringValue);case 6:return function(i,o){const a=bi(i),l=bi(o);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=ke(a[c],l[c]);if(d!==0)return d}return ke(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,o){const a=ke(tt(i.latitude),tt(o.latitude));return a!==0?a:ke(tt(i.longitude),tt(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Ow(n.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,c,d;const h=i.fields||{},p=o.fields||{},g=(a=h.value)===null||a===void 0?void 0:a.arrayValue,_=(l=p.value)===null||l===void 0?void 0:l.arrayValue,D=ke(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((d=_==null?void 0:_.values)===null||d===void 0?void 0:d.length)||0);return D!==0?D:Ow(g,_)}(n.mapValue,e.mapValue);case 11:return function(i,o){if(i===tc.mapValue&&o===tc.mapValue)return 0;if(i===tc.mapValue)return 1;if(o===tc.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const p=ke(l[h],d[h]);if(p!==0)return p;const g=Vo(a[l[h]],c[d[h]]);if(g!==0)return g}return ke(l.length,d.length)}(n.mapValue,e.mapValue);default:throw ae()}}function Mw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ke(n,e);const t=Vs(n),r=Vs(e),s=ke(t.seconds,r.seconds);return s!==0?s:ke(t.nanos,r.nanos)}function Ow(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const i=Vo(t[s],r[s]);if(i)return i}return ke(t.length,r.length)}function Fo(n){return am(n)}function am(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Vs(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return bi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ne.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const i of t.values||[])s?s=!1:r+=",",r+=am(i);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${am(t.fields[o])}`;return s+"}"}(n.mapValue):ae()}function Lw(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function lm(n){return!!n&&"integerValue"in n}function Yg(n){return!!n&&"arrayValue"in n}function Vw(n){return!!n&&"nullValue"in n}function Fw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Pc(n){return!!n&&"mapValue"in n}function oM(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function ol(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Vi(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ol(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ol(n.arrayValue.values[t]);return e}return Object.assign({},n)}function aM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.value=e}static empty(){return new en({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Pc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ol(t)}setAll(e){let t=St.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,r,s),r={},s=[],t=a.popLast()}o?r[a.lastSegment()]=ol(o):s.push(a.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,r,s)}delete(e){const t=this.field(e.popLast());Pc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return cr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Pc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Vi(t,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new en(ol(this.value))}}function WC(n){const e=[];return Vi(n.fields,(t,r)=>{const s=new St([t]);if(Pc(r)){const i=WC(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new hn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,t,r,s,i,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ft(e,0,ue.min(),ue.min(),ue.min(),en.empty(),0)}static newFoundDocument(e,t,r,s){return new Ft(e,1,t,ue.min(),r,s,0)}static newNoDocument(e,t){return new Ft(e,2,t,ue.min(),ue.min(),en.empty(),0)}static newUnknownDocument(e,t){return new Ft(e,3,t,ue.min(),ue.min(),en.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=en.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=en.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,t){this.position=e,this.inclusive=t}}function jw(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const i=e[s],o=n.position[s];if(i.field.isKeyField()?r=ne.comparator(ne.fromName(o.referenceValue),t.key):r=Vo(o,t.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Bw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!cr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e,t="asc"){this.field=e,this.dir=t}}function lM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{}class ct extends $C{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new cM(e,t,r):t==="array-contains"?new fM(e,r):t==="in"?new pM(e,r):t==="not-in"?new mM(e,r):t==="array-contains-any"?new gM(e,r):new ct(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new dM(e,r):new hM(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Vo(t,this.value)):t!==null&&Ri(this.value)===Ri(t)&&this.matchesComparison(Vo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jn extends $C{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new jn(e,t)}matches(e){return HC(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function HC(n){return n.op==="and"}function YC(n){return uM(n)&&HC(n)}function uM(n){for(const e of n.filters)if(e instanceof jn)return!1;return!0}function um(n){if(n instanceof ct)return n.field.canonicalString()+n.op.toString()+Fo(n.value);if(YC(n))return n.filters.map(e=>um(e)).join(",");{const e=n.filters.map(t=>um(t)).join(",");return`${n.op}(${e})`}}function zC(n,e){return n instanceof ct?function(r,s){return s instanceof ct&&r.op===s.op&&r.field.isEqual(s.field)&&cr(r.value,s.value)}(n,e):n instanceof jn?function(r,s){return s instanceof jn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&zC(o,s.filters[a]),!0):!1}(n,e):void ae()}function qC(n){return n instanceof ct?function(t){return`${t.field.canonicalString()} ${t.op} ${Fo(t.value)}`}(n):n instanceof jn?function(t){return t.op.toString()+" {"+t.getFilters().map(qC).join(" ,")+"}"}(n):"Filter"}class cM extends ct{constructor(e,t,r){super(e,t,r),this.key=ne.fromName(r.referenceValue)}matches(e){const t=ne.comparator(e.key,this.key);return this.matchesComparison(t)}}class dM extends ct{constructor(e,t){super(e,"in",t),this.keys=QC("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class hM extends ct{constructor(e,t){super(e,"not-in",t),this.keys=QC("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function QC(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ne.fromName(r.referenceValue))}class fM extends ct{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Yg(t)&&Ll(t.arrayValue,this.value)}}class pM extends ct{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ll(this.value.arrayValue,t)}}class mM extends ct{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ll(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Ll(this.value.arrayValue,t)}}class gM extends ct{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Yg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Ll(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e,t=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function Uw(n,e=null,t=[],r=[],s=null,i=null,o=null){return new vM(n,e,t,r,s,i,o)}function zg(n){const e=ce(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>um(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),lh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Fo(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Fo(r)).join(",")),e.ue=t}return e.ue}function qg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!lM(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!zC(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Bw(n.startAt,e.startAt)&&Bw(n.endAt,e.endAt)}function cm(n){return ne.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,t=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function yM(n,e,t,r,s,i,o,a){return new oa(n,e,t,r,s,i,o,a)}function uh(n){return new oa(n)}function Ww(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function KC(n){return n.collectionGroup!==null}function al(n){const e=ce(n);if(e.ce===null){e.ce=[];const t=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),t.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new kt(St.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{t.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Vl(i,r))}),t.has(St.keyField().canonicalString())||e.ce.push(new Vl(St.keyField(),r))}return e.ce}function ar(n){const e=ce(n);return e.le||(e.le=_M(e,al(n))),e.le}function _M(n,e){if(n.limitType==="F")return Uw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Vl(s.field,i)});const t=n.endAt?new yd(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new yd(n.startAt.position,n.startAt.inclusive):null;return Uw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function dm(n,e){const t=n.filters.concat([e]);return new oa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function _d(n,e,t){return new oa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ch(n,e){return qg(ar(n),ar(e))&&n.limitType===e.limitType}function GC(n){return`${zg(ar(n))}|lt:${n.limitType}`}function Gi(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>qC(s)).join(", ")}]`),lh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>Fo(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>Fo(s)).join(",")),`Target(${r})`}(ar(n))}; limitType=${n.limitType})`}function dh(n,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ne.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(n,e)&&function(r,s){for(const i of al(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=jw(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,al(r),s)||r.endAt&&!function(o,a,l){const c=jw(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,al(r),s))}(n,e)}function wM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function XC(n){return(e,t)=>{let r=!1;for(const s of al(n)){const i=EM(s,e,t);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function EM(n,e,t){const r=n.field.isKeyField()?ne.comparator(e.key,t.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?Vo(l,c):ae()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Vi(this.inner,(t,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return BC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM=new Ke(ne.comparator);function $r(){return TM}const JC=new Ke(ne.comparator);function Ha(...n){let e=JC;for(const t of n)e=e.insert(t.key,t);return e}function ZC(n){let e=JC;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ci(){return ll()}function eI(){return ll()}function ll(){return new aa(n=>n.toString(),(n,e)=>n.isEqual(e))}const SM=new Ke(ne.comparator),CM=new kt(ne.comparator);function we(...n){let e=CM;for(const t of n)e=e.add(t);return e}const IM=new kt(ke);function kM(){return IM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vd(e)?"-0":e}}function tI(n){return{integerValue:""+n}}function DM(n,e){return rM(e)?tI(e):Qg(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(){this._=void 0}}function PM(n,e,t){return n instanceof Fl?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&$g(i)&&(i=Hg(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(t,e):n instanceof jl?rI(n,e):n instanceof Bl?sI(n,e):function(s,i){const o=nI(s,i),a=$w(o)+$w(s.Pe);return lm(o)&&lm(s.Pe)?tI(a):Qg(s.serializer,a)}(n,e)}function bM(n,e,t){return n instanceof jl?rI(n,e):n instanceof Bl?sI(n,e):t}function nI(n,e){return n instanceof wd?function(r){return lm(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Fl extends hh{}class jl extends hh{constructor(e){super(),this.elements=e}}function rI(n,e){const t=iI(e);for(const r of n.elements)t.some(s=>cr(s,r))||t.push(r);return{arrayValue:{values:t}}}class Bl extends hh{constructor(e){super(),this.elements=e}}function sI(n,e){let t=iI(e);for(const r of n.elements)t=t.filter(s=>!cr(s,r));return{arrayValue:{values:t}}}class wd extends hh{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function $w(n){return tt(n.integerValue||n.doubleValue)}function iI(n){return Yg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e,t){this.field=e,this.transform=t}}function xM(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof jl&&s instanceof jl||r instanceof Bl&&s instanceof Bl?Lo(r.elements,s.elements,cr):r instanceof wd&&s instanceof wd?cr(r.Pe,s.Pe):r instanceof Fl&&s instanceof Fl}(n.transform,e.transform)}class AM{constructor(e,t){this.version=e,this.transformResults=t}}class Kt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Kt}static exists(e){return new Kt(void 0,e)}static updateTime(e){return new Kt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class fh{}function oI(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new ph(n.key,Kt.none()):new iu(n.key,n.data,Kt.none());{const t=n.data,r=en.empty();let s=new kt(St.comparator);for(let i of e.fields)if(!s.has(i)){let o=t.field(i);o===null&&i.length>1&&(i=i.popLast(),o=t.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Ks(n.key,r,new hn(s.toArray()),Kt.none())}}function NM(n,e,t){n instanceof iu?function(s,i,o){const a=s.value.clone(),l=Yw(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Ks?function(s,i,o){if(!bc(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=Yw(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(aI(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,e,t):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function ul(n,e,t,r){return n instanceof iu?function(i,o,a,l){if(!bc(i.precondition,o))return a;const c=i.value.clone(),d=zw(i.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ks?function(i,o,a,l){if(!bc(i.precondition,o))return a;const c=zw(i.fieldTransforms,l,o),d=o.data;return d.setAll(aI(i)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(n,e,t,r):function(i,o,a){return bc(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(n,e,t)}function MM(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),i=nI(r.transform,s||null);i!=null&&(t===null&&(t=en.empty()),t.set(r.field,i))}return t||null}function Hw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Lo(r,s,(i,o)=>xM(i,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class iu extends fh{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ks extends fh{constructor(e,t,r,s,i=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function aI(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Yw(n,e,t){const r=new Map;Me(n.length===t.length);for(let s=0;s<t.length;s++){const i=n[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,bM(o,a,t[s]))}return r}function zw(n,e,t){const r=new Map;for(const s of n){const i=s.transform,o=t.data.field(s.field);r.set(s.field,PM(i,o,e))}return r}class ph extends fh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class OM extends fh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&NM(i,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=ul(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=ul(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=eI();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=t.has(s.key)?null:a;const l=oI(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ue.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),we())}isEqual(e){return this.batchId===e.batchId&&Lo(this.mutations,e.mutations,(t,r)=>Hw(t,r))&&Lo(this.baseMutations,e.baseMutations,(t,r)=>Hw(t,r))}}class Kg{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Me(e.mutations.length===r.length);let s=function(){return SM}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Kg(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt,Te;function jM(n){switch(n){default:return ae();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0}}function lI(n){if(n===void 0)return Wr("GRPC error has no .code"),U.UNKNOWN;switch(n){case lt.OK:return U.OK;case lt.CANCELLED:return U.CANCELLED;case lt.UNKNOWN:return U.UNKNOWN;case lt.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case lt.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case lt.INTERNAL:return U.INTERNAL;case lt.UNAVAILABLE:return U.UNAVAILABLE;case lt.UNAUTHENTICATED:return U.UNAUTHENTICATED;case lt.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case lt.NOT_FOUND:return U.NOT_FOUND;case lt.ALREADY_EXISTS:return U.ALREADY_EXISTS;case lt.PERMISSION_DENIED:return U.PERMISSION_DENIED;case lt.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case lt.ABORTED:return U.ABORTED;case lt.OUT_OF_RANGE:return U.OUT_OF_RANGE;case lt.UNIMPLEMENTED:return U.UNIMPLEMENTED;case lt.DATA_LOSS:return U.DATA_LOSS;default:return ae()}}(Te=lt||(lt={}))[Te.OK=0]="OK",Te[Te.CANCELLED=1]="CANCELLED",Te[Te.UNKNOWN=2]="UNKNOWN",Te[Te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Te[Te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Te[Te.NOT_FOUND=5]="NOT_FOUND",Te[Te.ALREADY_EXISTS=6]="ALREADY_EXISTS",Te[Te.PERMISSION_DENIED=7]="PERMISSION_DENIED",Te[Te.UNAUTHENTICATED=16]="UNAUTHENTICATED",Te[Te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Te[Te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Te[Te.ABORTED=10]="ABORTED",Te[Te.OUT_OF_RANGE=11]="OUT_OF_RANGE",Te[Te.UNIMPLEMENTED=12]="UNIMPLEMENTED",Te[Te.INTERNAL=13]="INTERNAL",Te[Te.UNAVAILABLE=14]="UNAVAILABLE",Te[Te.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM=new mi([4294967295,4294967295],0);function qw(n){const e=BM().encode(n),t=new AC;return t.update(e),new Uint8Array(t.digest())}function Qw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new mi([t,r],0),new mi([s,i],0)]}class Gg{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ya(`Invalid padding: ${t}`);if(r<0)throw new Ya(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ya(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Ya(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=mi.fromNumber(this.Ie)}Ee(e,t,r){let s=e.add(t.multiply(mi.fromNumber(r)));return s.compare(UM)===1&&(s=new mi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=qw(e),[r,s]=Qw(t);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Gg(i,s,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const t=qw(e),[r,s]=Qw(t);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Ya extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,t,r,s,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,ou.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new mh(ue.min(),s,new Ke(ke),$r(),we())}}class ou{constructor(e,t,r,s,i){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new ou(r,t,we(),we(),we())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,t,r,s){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=s}}class uI{constructor(e,t){this.targetId=e,this.me=t}}class cI{constructor(e,t,r=Pt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class Kw{constructor(){this.fe=0,this.ge=Xw(),this.pe=Pt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=we(),t=we(),r=we();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:ae()}}),new ou(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=Xw()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Me(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class WM{constructor(e){this.Le=e,this.Be=new Map,this.ke=$r(),this.qe=Gw(),this.Qe=new Ke(ke)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:ae()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,s)=>{this.ze(s)&&t(s)})}He(e){const t=e.targetId,r=e.me.count,s=this.Je(t);if(s){const i=s.target;if(cm(i))if(r===0){const o=new ne(i.path);this.Ue(t,o,Ft.newNoDocument(o,ue.min()))}else Me(r===1);else{const o=this.Ye(t);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(t);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,c)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=t;let o,a;try{o=bi(r).toUint8Array()}catch(l){if(l instanceof UC)return Oo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Gg(o,s,i)}catch(l){return Oo(l instanceof Ya?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let s=0;return r.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,i,null),s++)}),s}rt(e){const t=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&cm(a.target)){const l=new ne(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Ft.newNoDocument(l,e))}i.be&&(t.set(o,i.ve()),i.Ce())}});let r=we();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new mh(e,t,this.Qe,this.ke,r);return this.ke=$r(),this.qe=Gw(),this.Qe=new Ke(ke),s}$e(e,t){if(!this.ze(e))return;const r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,t)?s.Fe(t,1):s.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Kw,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new kt(ke),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||X("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Kw),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Gw(){return new Ke(ne.comparator)}function Xw(){return new Ke(ne.comparator)}const $M={asc:"ASCENDING",desc:"DESCENDING"},HM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YM={and:"AND",or:"OR"};class zM{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function hm(n,e){return n.useProto3Json||lh(e)?e:{value:e}}function Ed(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dI(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function qM(n,e){return Ed(n,e.toTimestamp())}function lr(n){return Me(!!n),ue.fromTimestamp(function(t){const r=Vs(t);return new dt(r.seconds,r.nanos)}(n))}function Xg(n,e){return fm(n,e).canonicalString()}function fm(n,e){const t=function(s){return new Be(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function hI(n){const e=Be.fromString(n);return Me(vI(e)),e}function pm(n,e){return Xg(n.databaseId,e.path)}function Vf(n,e){const t=hI(e);if(t.get(1)!==n.databaseId.projectId)throw new q(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new q(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ne(pI(t))}function fI(n,e){return Xg(n.databaseId,e)}function QM(n){const e=hI(n);return e.length===4?Be.emptyPath():pI(e)}function mm(n){return new Be(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function pI(n){return Me(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Jw(n,e,t){return{name:pm(n,e),fields:t.value.mapValue.fields}}function KM(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,d){return c.useProto3Json?(Me(d===void 0||typeof d=="string"),Pt.fromBase64String(d||"")):(Me(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Pt.fromUint8Array(d||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?U.UNKNOWN:lI(c.code);return new q(d,c.message||"")}(o);t=new cI(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Vf(n,r.document.name),i=lr(r.document.updateTime),o=r.document.createTime?lr(r.document.createTime):ue.min(),a=new en({mapValue:{fields:r.document.fields}}),l=Ft.newFoundDocument(s,i,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];t=new Rc(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Vf(n,r.document),i=r.readTime?lr(r.readTime):ue.min(),o=Ft.newNoDocument(s,i),a=r.removedTargetIds||[];t=new Rc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Vf(n,r.document),i=r.removedTargetIds||[];t=new Rc([],i,s,null)}else{if(!("filter"in e))return ae();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new FM(s,i),a=r.targetId;t=new uI(a,o)}}return t}function GM(n,e){let t;if(e instanceof iu)t={update:Jw(n,e.key,e.value)};else if(e instanceof ph)t={delete:pm(n,e.key)};else if(e instanceof Ks)t={update:Jw(n,e.key,e.data),updateMask:iO(e.fieldMask)};else{if(!(e instanceof OM))return ae();t={verify:pm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Fl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof jl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Bl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof wd)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ae()}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:qM(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ae()}(n,e.precondition)),t}function XM(n,e){return n&&n.length>0?(Me(e!==void 0),n.map(t=>function(s,i){let o=s.updateTime?lr(s.updateTime):lr(i);return o.isEqual(ue.min())&&(o=lr(i)),new AM(o,s.transformResults||[])}(t,e))):[]}function JM(n,e){return{documents:[fI(n,e.path)]}}function ZM(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=fI(n,s);const i=function(c){if(c.length!==0)return gI(jn.create(c,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:Xi(p.field),direction:nO(p.dir)}}(d))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const a=hm(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:t,parent:s}}function eO(n){let e=QM(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Me(r===1);const d=t.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];t.where&&(i=function(h){const p=mI(h);return p instanceof jn&&YC(p)?p.getFilters():[p]}(t.where));let o=[];t.orderBy&&(o=function(h){return h.map(p=>function(_){return new Vl(Ji(_.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(p))}(t.orderBy));let a=null;t.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,lh(p)?null:p}(t.limit));let l=null;t.startAt&&(l=function(h){const p=!!h.before,g=h.values||[];return new yd(g,p)}(t.startAt));let c=null;return t.endAt&&(c=function(h){const p=!h.before,g=h.values||[];return new yd(g,p)}(t.endAt)),yM(e,s,o,i,a,"F",l,c)}function tO(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ae()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function mI(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Ji(t.unaryFilter.field);return ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ji(t.unaryFilter.field);return ct.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ji(t.unaryFilter.field);return ct.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ji(t.unaryFilter.field);return ct.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ae()}}(n):n.fieldFilter!==void 0?function(t){return ct.create(Ji(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ae()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return jn.create(t.compositeFilter.filters.map(r=>mI(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ae()}}(t.compositeFilter.op))}(n):ae()}function nO(n){return $M[n]}function rO(n){return HM[n]}function sO(n){return YM[n]}function Xi(n){return{fieldPath:n.canonicalString()}}function Ji(n){return St.fromServerFormat(n.fieldPath)}function gI(n){return n instanceof ct?function(t){if(t.op==="=="){if(Fw(t.value))return{unaryFilter:{field:Xi(t.field),op:"IS_NAN"}};if(Vw(t.value))return{unaryFilter:{field:Xi(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Fw(t.value))return{unaryFilter:{field:Xi(t.field),op:"IS_NOT_NAN"}};if(Vw(t.value))return{unaryFilter:{field:Xi(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xi(t.field),op:rO(t.op),value:t.value}}}(n):n instanceof jn?function(t){const r=t.getFilters().map(s=>gI(s));return r.length===1?r[0]:{compositeFilter:{op:sO(t.op),filters:r}}}(n):ae()}function iO(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function vI(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,t,r,s,i=ue.min(),o=ue.min(),a=Pt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new vs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e){this.ct=e}}function aO(n){const e=eO({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?_d(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(){this.un=new uO}addToCollectionParentIndex(e,t){return this.un.add(t),W.resolve()}getCollectionParents(e,t){return W.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return W.resolve()}deleteFieldIndex(e,t){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,t){return W.resolve()}getDocumentsMatchingTarget(e,t){return W.resolve(null)}getIndexType(e,t){return W.resolve(0)}getFieldIndexes(e,t){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,t){return W.resolve(Ls.min())}getMinOffsetFromCollectionGroup(e,t){return W.resolve(Ls.min())}updateCollectionGroup(e,t,r){return W.resolve()}updateIndexEntries(e,t){return W.resolve()}}class uO{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new kt(Be.comparator),i=!s.has(r);return this.index[t]=s.add(r),i}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new kt(Be.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new jo(0)}static kn(){return new jo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(){this.changes=new aa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ft.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?W.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&ul(r.mutation,s,hn.empty(),dt.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,we()).next(()=>r))}getLocalViewOfDocuments(e,t,r=we()){const s=ci();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(i=>{let o=Ha();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=ci();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,we()))}populateOverlays(e,t,r){const s=[];return r.forEach(i=>{t.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,s){let i=$r();const o=ll(),a=function(){return ll()}();return t.forEach((l,c)=>{const d=r.get(c.key);s.has(c.key)&&(d===void 0||d.mutation instanceof Ks)?i=i.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),ul(d.mutation,c,d.mutation.getFieldMask(),dt.now())):o.set(c.key,hn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,d)=>o.set(c,d)),t.forEach((c,d)=>{var h;return a.set(c,new dO(d,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,t){const r=ll();let s=new Ke((o,a)=>o-a),i=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=t.get(l);if(c===null)return;let d=r.get(l)||hn.empty();d=a.applyToLocalView(c,d),r.set(l,d);const h=(s.get(a.batchId)||we()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,h=eI();d.forEach(p=>{if(!i.has(p)){const g=oI(t.get(p),r.get(p));g!==null&&h.set(p,g),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return W.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(o){return ne.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):KC(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-i.size):W.resolve(ci());let a=-1,l=i;return o.next(c=>W.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(d)?W.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,we())).next(d=>({batchId:a,changes:ZC(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ne(t)).next(r=>{let s=Ha();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const i=t.collectionGroup;let o=Ha();return this.indexManager.getCollectionParents(e,i).next(a=>W.forEach(a,l=>{const c=function(h,p){return new oa(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(t,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(d=>{d.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i,s))).next(o=>{i.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,Ft.newInvalidDocument(d)))});let a=Ha();return o.forEach((l,c)=>{const d=i.get(l);d!==void 0&&ul(d.mutation,c,hn.empty(),dt.now()),dh(t,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return W.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:lr(s.createTime)}}(t)),W.resolve()}getNamedQuery(e,t){return W.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(s){return{name:s.name,query:aO(s.bundledQuery),readTime:lr(s.readTime)}}(t)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(){this.overlays=new Ke(ne.comparator),this.Ir=new Map}getOverlay(e,t){return W.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ci();return W.forEach(t,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,i)=>{this.ht(e,t,i)}),W.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),W.resolve()}getOverlaysForCollection(e,t,r){const s=ci(),i=t.length+1,o=new ne(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return W.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let i=new Ke((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let d=i.get(c.largestBatchId);d===null&&(d=ci(),i=i.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=ci(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=s)););return W.resolve(a)}ht(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new VM(t,r));let i=this.Ir.get(t);i===void 0&&(i=we(),this.Ir.set(t,i)),this.Ir.set(t,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(){this.sessionToken=Pt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(){this.Tr=new kt(mt.Er),this.dr=new kt(mt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const r=new mt(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new mt(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){const t=new ne(new Be([])),r=new mt(t,e),s=new mt(t,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new ne(new Be([])),r=new mt(t,e),s=new mt(t,e+1);let i=we();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const t=new mt(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class mt{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return ne.comparator(e.key,t.key)||ke(e.wr,t.wr)}static Ar(e,t){return ke(e.wr,t.wr)||ne.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new kt(mt.Er)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new LM(i,t,r,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new mt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return W.resolve(o)}lookupMutationBatch(e,t){return W.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.vr(r),i=s<0?0:s;return W.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new mt(t,0),s=new mt(t,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const a=this.Dr(o.wr);i.push(a)}),W.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new kt(ke);return t.forEach(s=>{const i=new mt(s,0),o=new mt(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],a=>{r=r.add(a.wr)})}),W.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let i=r;ne.isDocumentKey(i)||(i=i.child(""));const o=new mt(new ne(i),0);let a=new kt(ke);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.wr)),!0)},o),W.resolve(this.Cr(a))}Cr(e){const t=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){Me(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return W.forEach(t.mutations,s=>{const i=new mt(s.key,t.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){const r=new mt(t,0),s=this.br.firstAfterOrEqual(r);return W.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e){this.Mr=e,this.docs=function(){return new Ke(ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return W.resolve(r?r.document.mutableCopy():Ft.newInvalidDocument(t))}getEntries(e,t){let r=$r();return t.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Ft.newInvalidDocument(s))}),W.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let i=$r();const o=t.path,a=new ne(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||ZN(JN(d),r)<=0||(s.has(d.key)||dh(t,d))&&(i=i.insert(d.key,d.mutableCopy()))}return W.resolve(i)}getAllFromCollectionGroup(e,t,r,s){ae()}Or(e,t){return W.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new yO(this)}getSize(e){return W.resolve(this.size)}}class yO extends cO{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),W.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(e){this.persistence=e,this.Nr=new aa(t=>zg(t),qg),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Jg,this.targetCount=0,this.kr=jo.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,s)=>t(s)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),W.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new jo(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,W.resolve()}updateTargetData(e,t){return this.Kn(t),W.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,t,r){let s=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),W.waitFor(i).next(()=>s)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,t){const r=this.Nr.get(t)||null;return W.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),W.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);const s=this.persistence.referenceDelegate,i=[];return s&&t.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),W.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),W.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Br.yr(t);return W.resolve(r)}containsKey(e,t){return W.resolve(this.Br.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Wg(0),this.Kr=!1,this.Kr=!0,this.$r=new mO,this.referenceDelegate=e(this),this.Ur=new _O(this),this.indexManager=new lO,this.remoteDocumentCache=function(s){return new vO(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new oO(t),this.Gr=new fO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new pO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new gO(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){X("MemoryPersistence","Starting transaction:",e);const s=new EO(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,t){return W.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}}class EO extends tM{constructor(e){super(),this.currentSequenceNumber=e}}class Zg{constructor(e){this.persistence=e,this.Jr=new Jg,this.Yr=null}static Zr(e){return new Zg(e)}get Xr(){if(this.Yr)return this.Yr;throw ae()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),W.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),W.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),W.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.Xr,r=>{const s=ne.fromPath(r);return this.ei(e,s).next(i=>{i||t.removeEntry(s,ue.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return W.or([()=>W.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=s}static Wi(e,t){let r=we(),s=we();for(const i of t.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new ev(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return hR()?8:nM(Wt())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,s){const i={result:null};return this.Yi(e,t).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,t,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new TO;return this.Xi(e,t,o).next(a=>{if(i.result=a,this.zi)return this.es(e,t,o,a.size)})}).next(()=>i.result)}es(e,t,r,s){return r.documentReadCount<this.ji?(xa()<=Ee.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",Gi(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),W.resolve()):(xa()<=Ee.DEBUG&&X("QueryEngine","Query:",Gi(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(xa()<=Ee.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",Gi(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ar(t))):W.resolve())}Yi(e,t){if(Ww(t))return W.resolve(null);let r=ar(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=_d(t,null,"F"),r=ar(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=we(...i);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(t,a);return this.ns(t,c,o,l.readTime)?this.Yi(e,_d(t,null,"F")):this.rs(e,c,t,l)}))})))}Zi(e,t,r,s){return Ww(t)||s.isEqual(ue.min())?W.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(t,i);return this.ns(t,o,r,s)?W.resolve(null):(xa()<=Ee.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Gi(t)),this.rs(e,o,t,XN(s,-1)).next(a=>a))})}ts(e,t){let r=new kt(XC(e));return t.forEach((s,i)=>{dh(e,i)&&(r=r.add(i))}),r}ns(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const i=e.limitType==="F"?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,t,r){return xa()<=Ee.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",Gi(t)),this.Ji.getDocumentsMatchingQuery(e,t,Ls.min(),r)}rs(e,t,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(t.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e,t,r,s){this.persistence=e,this.ss=t,this.serializer=s,this.os=new Ke(ke),this._s=new aa(i=>zg(i),qg),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hO(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function IO(n,e,t,r){return new CO(n,e,t,r)}async function yI(n,e){const t=ce(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=we();for(const c of s){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of i){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return t.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function kO(n,e){const t=ce(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const h=c.batch,p=h.keys();let g=W.resolve();return p.forEach(_=>{g=g.next(()=>d.getEntry(l,_)).next(D=>{const I=c.docVersions.get(_);Me(I!==null),D.version.compareTo(I)<0&&(h.applyToRemoteDocument(D,c),D.isValidDocument()&&(D.setReadTime(c.commitVersion),d.addEntry(D)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(t,r,e,i).next(()=>i.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=we();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function _I(n){const e=ce(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function DO(n,e){const t=ce(n),r=e.snapshotVersion;let s=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=t.cs.newChangeBuffer({trackRemovals:!0});s=t.os;const a=[];e.targetChanges.forEach((d,h)=>{const p=s.get(h);if(!p)return;a.push(t.Ur.removeMatchingKeys(i,d.removedDocuments,h).next(()=>t.Ur.addMatchingKeys(i,d.addedDocuments,h)));let g=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(Pt.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),s=s.insert(h,g),function(D,I,w){return D.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(p,g,d)&&a.push(t.Ur.updateTargetData(i,g))});let l=$r(),c=we();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(PO(i,o,e.documentUpdates).next(d=>{l=d.Ps,c=d.Is})),!r.isEqual(ue.min())){const d=t.Ur.getLastRemoteSnapshotVersion(i).next(h=>t.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return W.waitFor(a).next(()=>o.apply(i)).next(()=>t.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(t.os=s,i))}function PO(n,e,t){let r=we(),s=we();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let o=$r();return t.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ue.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):X("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:s}})}function bO(n,e){const t=ce(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function RO(n,e){const t=ce(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Ur.getTargetData(r,e).next(i=>i?(s=i,W.resolve(s)):t.Ur.allocateTargetId(r).next(o=>(s=new vs(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}async function gm(n,e,t){const r=ce(n),s=r.os.get(e),i=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!su(o))throw o;X("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function Zw(n,e,t){const r=ce(n);let s=ue.min(),i=we();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const h=ce(l),p=h._s.get(d);return p!==void 0?W.resolve(h.os.get(p)):h.Ur.getTargetData(c,d)}(r,o,ar(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,t?s:ue.min(),t?i:we())).next(a=>(xO(r,wM(e),a),{documents:a,Ts:i})))}function xO(n,e,t){let r=n.us.get(e)||ue.min();t.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),n.us.set(e,r)}class e0{constructor(){this.activeTargetIds=kM()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class AO{constructor(){this.so=new e0,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new e0,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){X("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){X("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nc=null;function Ff(){return nc===null?nc=function(){return 268435456+Math.round(2147483648*Math.random())}():nc++,"0x"+nc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ot="WebChannelConnection";class LO extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(t,r,s,i,o){const a=Ff(),l=this.xo(t,r.toUriEncodedString());X("RestConnection",`Sending RPC '${t}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,i,o),this.No(t,l,c,s).then(d=>(X("RestConnection",`Received RPC '${t}' ${a}: `,d),d),d=>{throw Oo("RestConnection",`RPC '${t}' ${a} failed with error: `,d,"url: ",l,"request:",s),d})}Lo(t,r,s,i,o,a){return this.Mo(t,r,s,i,o)}Oo(t,r,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ia}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>t[o]=i),s&&s.headers.forEach((i,o)=>t[o]=i)}xo(t,r){const s=MO[t];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,s){const i=Ff();return new Promise((o,a)=>{const l=new NC;l.setWithCredentials(!0),l.listenOnce(MC.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Dc.NO_ERROR:const d=l.getResponseJson();X(Ot,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(d)),o(d);break;case Dc.TIMEOUT:X(Ot,`RPC '${e}' ${i} timed out`),a(new q(U.DEADLINE_EXCEEDED,"Request time out"));break;case Dc.HTTP_ERROR:const h=l.getStatus();if(X(Ot,`RPC '${e}' ${i} failed with status:`,h,"response text:",l.getResponseText()),h>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const _=function(I){const w=I.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(w)>=0?w:U.UNKNOWN}(g.status);a(new q(_,g.message))}else a(new q(U.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new q(U.UNAVAILABLE,"Connection failed."));break;default:ae()}}finally{X(Ot,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);X(Ot,`RPC '${e}' ${i} sending request:`,s),l.send(t,"POST",c,r,15)})}Bo(e,t,r){const s=Ff(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=VC(),a=LC(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;const d=i.join("");X(Ot,`Creating RPC '${e}' stream ${s}: ${d}`,l);const h=o.createWebChannel(d,l);let p=!1,g=!1;const _=new OO({Io:I=>{g?X(Ot,`Not sending because RPC '${e}' stream ${s} is closed:`,I):(p||(X(Ot,`Opening RPC '${e}' stream ${s} transport.`),h.open(),p=!0),X(Ot,`RPC '${e}' stream ${s} sending:`,I),h.send(I))},To:()=>h.close()}),D=(I,w,y)=>{I.listen(w,E=>{try{y(E)}catch(x){setTimeout(()=>{throw x},0)}})};return D(h,$a.EventType.OPEN,()=>{g||(X(Ot,`RPC '${e}' stream ${s} transport opened.`),_.yo())}),D(h,$a.EventType.CLOSE,()=>{g||(g=!0,X(Ot,`RPC '${e}' stream ${s} transport closed`),_.So())}),D(h,$a.EventType.ERROR,I=>{g||(g=!0,Oo(Ot,`RPC '${e}' stream ${s} transport errored:`,I),_.So(new q(U.UNAVAILABLE,"The operation could not be completed")))}),D(h,$a.EventType.MESSAGE,I=>{var w;if(!g){const y=I.data[0];Me(!!y);const E=y,x=E.error||((w=E[0])===null||w===void 0?void 0:w.error);if(x){X(Ot,`RPC '${e}' stream ${s} received error:`,x);const L=x.status;let M=function(C){const P=lt[C];if(P!==void 0)return lI(P)}(L),S=x.message;M===void 0&&(M=U.INTERNAL,S="Unknown error status: "+L+" with message "+x.message),g=!0,_.So(new q(M,S)),h.close()}else X(Ot,`RPC '${e}' stream ${s} received:`,y),_.bo(y)}}),D(a,OC.STAT_EVENT,I=>{I.stat===om.PROXY?X(Ot,`RPC '${e}' stream ${s} detected buffering proxy`):I.stat===om.NOPROXY&&X(Ot,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{_.wo()},0),_}}function jf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(n){return new zM(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e,t,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,t-r);s>0&&X("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e,t,r,s,i,o,a,l){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new wI(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===U.RESOURCE_EXHAUSTED?(Wr(t.toString()),Wr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===t&&this.P_(r,s)},r=>{e(()=>{const s=new q(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,t){const r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return X("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(X("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class VO extends EI{constructor(e,t,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,o),this.serializer=i}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=KM(this.serializer,e),r=function(i){if(!("targetChange"in i))return ue.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ue.min():o.readTime?lr(o.readTime):ue.min()}(e);return this.listener.d_(t,r)}A_(e){const t={};t.database=mm(this.serializer),t.addTarget=function(i,o){let a;const l=o.target;if(a=cm(l)?{documents:JM(i,l)}:{query:ZM(i,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=dI(i,o.resumeToken);const c=hm(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ue.min())>0){a.readTime=Ed(i,o.snapshotVersion.toTimestamp());const c=hm(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=tO(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){const t={};t.database=mm(this.serializer),t.removeTarget=e,this.a_(t)}}class FO extends EI{constructor(e,t,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Me(!!e.streamToken),this.lastStreamToken=e.streamToken,Me(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Me(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=XM(e.writeResults,e.commitTime),r=lr(e.commitTime);return this.listener.g_(r,t)}p_(){const e={};e.database=mm(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>GM(this.serializer,r))};this.a_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new q(U.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,fm(t,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new q(U.UNKNOWN,i.toString())})}Lo(e,t,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,fm(t,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new q(U.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class BO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Wr(t),this.D_=!1):X("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e,t,r,s,i){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{Fi(this)&&(X("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=ce(l);c.L_.add(4),await au(c),c.q_.set("Unknown"),c.L_.delete(4),await vh(c)}(this))})}),this.q_=new BO(r,s)}}async function vh(n){if(Fi(n))for(const e of n.B_)await e(!0)}async function au(n){for(const e of n.B_)await e(!1)}function TI(n,e){const t=ce(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),sv(t)?rv(t):la(t).r_()&&nv(t,e))}function tv(n,e){const t=ce(n),r=la(t);t.N_.delete(e),r.r_()&&SI(t,e),t.N_.size===0&&(r.r_()?r.o_():Fi(t)&&t.q_.set("Unknown"))}function nv(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ue.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}la(n).A_(e)}function SI(n,e){n.Q_.xe(e),la(n).R_(e)}function rv(n){n.Q_=new WM({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),la(n).start(),n.q_.v_()}function sv(n){return Fi(n)&&!la(n).n_()&&n.N_.size>0}function Fi(n){return ce(n).L_.size===0}function CI(n){n.Q_=void 0}async function WO(n){n.q_.set("Online")}async function $O(n){n.N_.forEach((e,t)=>{nv(n,e)})}async function HO(n,e){CI(n),sv(n)?(n.q_.M_(e),rv(n)):n.q_.set("Unknown")}async function YO(n,e,t){if(n.q_.set("Online"),e instanceof cI&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.N_.delete(a),s.Q_.removeTarget(a))}(n,e)}catch(r){X("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Td(n,r)}else if(e instanceof Rc?n.Q_.Ke(e):e instanceof uI?n.Q_.He(e):n.Q_.We(e),!t.isEqual(ue.min()))try{const r=await _I(n.localStore);t.compareTo(r)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.N_.get(c);d&&i.N_.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=i.N_.get(l);if(!d)return;i.N_.set(l,d.withResumeToken(Pt.EMPTY_BYTE_STRING,d.snapshotVersion)),SI(i,l);const h=new vs(d.target,l,c,d.sequenceNumber);nv(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(n,t)}catch(r){X("RemoteStore","Failed to raise snapshot:",r),await Td(n,r)}}async function Td(n,e,t){if(!su(e))throw e;n.L_.add(1),await au(n),n.q_.set("Offline"),t||(t=()=>_I(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{X("RemoteStore","Retrying IndexedDB access"),await t(),n.L_.delete(1),await vh(n)})}function II(n,e){return e().catch(t=>Td(n,t,e))}async function yh(n){const e=ce(n),t=Fs(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;zO(e);)try{const s=await bO(e.localStore,r);if(s===null){e.O_.length===0&&t.o_();break}r=s.batchId,qO(e,s)}catch(s){await Td(e,s)}kI(e)&&DI(e)}function zO(n){return Fi(n)&&n.O_.length<10}function qO(n,e){n.O_.push(e);const t=Fs(n);t.r_()&&t.V_&&t.m_(e.mutations)}function kI(n){return Fi(n)&&!Fs(n).n_()&&n.O_.length>0}function DI(n){Fs(n).start()}async function QO(n){Fs(n).p_()}async function KO(n){const e=Fs(n);for(const t of n.O_)e.m_(t.mutations)}async function GO(n,e,t){const r=n.O_.shift(),s=Kg.from(r,e,t);await II(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await yh(n)}async function XO(n,e){e&&Fs(n).V_&&await async function(r,s){if(function(o){return jM(o)&&o!==U.ABORTED}(s.code)){const i=r.O_.shift();Fs(r).s_(),await II(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await yh(r)}}(n,e),kI(n)&&DI(n)}async function n0(n,e){const t=ce(n);t.asyncQueue.verifyOperationInProgress(),X("RemoteStore","RemoteStore received new credentials");const r=Fi(t);t.L_.add(3),await au(t),r&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await vh(t)}async function JO(n,e){const t=ce(n);e?(t.L_.delete(2),await vh(t)):e||(t.L_.add(2),await au(t),t.q_.set("Unknown"))}function la(n){return n.K_||(n.K_=function(t,r,s){const i=ce(t);return i.w_(),new VO(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(n.datastore,n.asyncQueue,{Eo:WO.bind(null,n),Ro:$O.bind(null,n),mo:HO.bind(null,n),d_:YO.bind(null,n)}),n.B_.push(async e=>{e?(n.K_.s_(),sv(n)?rv(n):n.q_.set("Unknown")):(await n.K_.stop(),CI(n))})),n.K_}function Fs(n){return n.U_||(n.U_=function(t,r,s){const i=ce(t);return i.w_(),new FO(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:QO.bind(null,n),mo:XO.bind(null,n),f_:KO.bind(null,n),g_:GO.bind(null,n)}),n.B_.push(async e=>{e?(n.U_.s_(),await yh(n)):(await n.U_.stop(),n.O_.length>0&&(X("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))})),n.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e,t,r,s,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,i){const o=Date.now()+r,a=new iv(e,t,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ov(n,e){if(Wr("AsyncQueue",`${e}: ${n}`),su(n))return new q(U.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e){this.comparator=e?(t,r)=>e(t,r)||ne.comparator(t.key,r.key):(t,r)=>ne.comparator(t.key,r.key),this.keyedMap=Ha(),this.sortedSet=new Ke(this.comparator)}static emptySet(e){return new So(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof So)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new So;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(){this.W_=new Ke(ne.comparator)}track(e){const t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):ae():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Bo{constructor(e,t,r,s,i,o,a,l,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,s,i){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new Bo(e,t,So.emptySet(t),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ch(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class eL{constructor(){this.queries=s0(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){const s=ce(t),i=s.queries;s.queries=s0(),i.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new q(U.ABORTED,"Firestore shutting down"))}}function s0(){return new aa(n=>GC(n),ch)}async function av(n,e){const t=ce(n);let r=3;const s=e.query;let i=t.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new ZO,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await t.onListen(s,!0);break;case 1:i.z_=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(o){const a=ov(o,`Initialization of query '${Gi(e.query)}' failed`);return void e.onError(a)}t.queries.set(s,i),i.j_.push(e),e.Z_(t.onlineState),i.z_&&e.X_(i.z_)&&uv(t)}async function lv(n,e){const t=ce(n),r=e.query;let s=3;const i=t.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function tL(n,e){const t=ce(n);let r=!1;for(const s of e){const i=s.query,o=t.queries.get(i);if(o){for(const a of o.j_)a.X_(s)&&(r=!0);o.z_=s}}r&&uv(t)}function nL(n,e,t){const r=ce(n),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(t);r.queries.delete(e)}function uv(n){n.Y_.forEach(e=>{e.next()})}var vm,i0;(i0=vm||(vm={})).ea="default",i0.Cache="cache";class cv{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Bo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Bo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==vm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e){this.key=e}}class bI{constructor(e){this.key=e}}class rL{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=we(),this.mutatedKeys=we(),this.Aa=XC(e),this.Ra=new So(this.Aa)}get Va(){return this.Ta}ma(e,t){const r=t?t.fa:new r0,s=t?t.Ra:this.Ra;let i=t?t.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const p=s.get(d),g=dh(this.query,h)?h:null,_=!!p&&this.mutatedKeys.has(p.key),D=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let I=!1;p&&g?p.data.isEqual(g.data)?_!==D&&(r.track({type:3,doc:g}),I=!0):this.ga(p,g)||(r.track({type:2,doc:g}),I=!0,(l&&this.Aa(g,l)>0||c&&this.Aa(g,c)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),I=!0):p&&!g&&(r.track({type:1,doc:p}),I=!0,(l||c)&&(a=!0)),I&&(g?(o=o.add(g),i=D?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:i}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,h)=>function(g,_){const D=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ae()}};return D(g)-D(_)}(d.type,h.type)||this.Aa(d.doc,h.doc)),this.pa(r),s=s!=null&&s;const a=t&&!s?this.ya():[],l=this.da.size===0&&this.current&&!s?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new Bo(this.query,e.Ra,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new r0,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=we(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const t=[];return e.forEach(r=>{this.da.has(r)||t.push(new bI(r))}),this.da.forEach(r=>{e.has(r)||t.push(new PI(r))}),t}ba(e){this.Ta=e.Ts,this.da=we();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Bo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class sL{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class iL{constructor(e){this.key=e,this.va=!1}}class oL{constructor(e,t,r,s,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new aa(a=>GC(a),ch),this.Ma=new Map,this.xa=new Set,this.Oa=new Ke(ne.comparator),this.Na=new Map,this.La=new Jg,this.Ba={},this.ka=new Map,this.qa=jo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function aL(n,e,t=!0){const r=OI(n);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await RI(r,e,t,!0),s}async function lL(n,e){const t=OI(n);await RI(t,e,!0,!1)}async function RI(n,e,t,r){const s=await RO(n.localStore,ar(e)),i=s.targetId,o=n.sharedClientState.addLocalQueryTarget(i,t);let a;return r&&(a=await uL(n,e,i,o==="current",s.resumeToken)),n.isPrimaryClient&&t&&TI(n.remoteStore,s),a}async function uL(n,e,t,r,s){n.Ka=(h,p,g)=>async function(D,I,w,y){let E=I.view.ma(w);E.ns&&(E=await Zw(D.localStore,I.query,!1).then(({documents:S})=>I.view.ma(S,E)));const x=y&&y.targetChanges.get(I.targetId),L=y&&y.targetMismatches.get(I.targetId)!=null,M=I.view.applyChanges(E,D.isPrimaryClient,x,L);return a0(D,I.targetId,M.wa),M.snapshot}(n,h,p,g);const i=await Zw(n.localStore,e,!0),o=new rL(e,i.Ts),a=o.ma(i.documents),l=ou.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),c=o.applyChanges(a,n.isPrimaryClient,l);a0(n,t,c.wa);const d=new sL(e,t,o);return n.Fa.set(e,d),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),c.snapshot}async function cL(n,e,t){const r=ce(n),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!ch(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await gm(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&tv(r.remoteStore,s.targetId),ym(r,s.targetId)}).catch(ru)):(ym(r,s.targetId),await gm(r.localStore,s.targetId,!0))}async function dL(n,e){const t=ce(n),r=t.Fa.get(e),s=t.Ma.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),tv(t.remoteStore,r.targetId))}async function hL(n,e,t){const r=_L(n);try{const s=await function(o,a){const l=ce(o),c=dt.now(),d=a.reduce((g,_)=>g.add(_.key),we());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let _=$r(),D=we();return l.cs.getEntries(g,d).next(I=>{_=I,_.forEach((w,y)=>{y.isValidDocument()||(D=D.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,_)).next(I=>{h=I;const w=[];for(const y of a){const E=MM(y,h.get(y.key).overlayedDocument);E!=null&&w.push(new Ks(y.key,E,WC(E.value.mapValue),Kt.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,w,a)}).next(I=>{p=I;const w=I.applyToLocalDocumentSet(h,D);return l.documentOverlayCache.saveOverlays(g,I.batchId,w)})}).then(()=>({batchId:p.batchId,changes:ZC(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new Ke(ke)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,s.batchId,t),await lu(r,s.changes),await yh(r.remoteStore)}catch(s){const i=ov(s,"Failed to persist write");t.reject(i)}}async function xI(n,e){const t=ce(n);try{const r=await DO(t.localStore,e);e.targetChanges.forEach((s,i)=>{const o=t.Na.get(i);o&&(Me(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?Me(o.va):s.removedDocuments.size>0&&(Me(o.va),o.va=!1))}),await lu(t,r,e)}catch(r){await ru(r)}}function o0(n,e,t){const r=ce(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Fa.forEach((i,o)=>{const a=o.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=ce(o);l.onlineState=a;let c=!1;l.queries.forEach((d,h)=>{for(const p of h.j_)p.Z_(a)&&(c=!0)}),c&&uv(l)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function fL(n,e,t){const r=ce(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new Ke(ne.comparator);o=o.insert(i,Ft.newNoDocument(i,ue.min()));const a=we().add(i),l=new mh(ue.min(),new Map,new Ke(ke),o,a);await xI(r,l),r.Oa=r.Oa.remove(i),r.Na.delete(e),dv(r)}else await gm(r.localStore,e,!1).then(()=>ym(r,e,t)).catch(ru)}async function pL(n,e){const t=ce(n),r=e.batch.batchId;try{const s=await kO(t.localStore,e);NI(t,r,null),AI(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await lu(t,s)}catch(s){await ru(s)}}async function mL(n,e,t){const r=ce(n);try{const s=await function(o,a){const l=ce(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(Me(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);NI(r,e,t),AI(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await lu(r,s)}catch(s){await ru(s)}}function AI(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function NI(n,e,t){const r=ce(n);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(t?i.reject(t):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function ym(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||MI(n,r)})}function MI(n,e){n.xa.delete(e.path.canonicalString());const t=n.Oa.get(e);t!==null&&(tv(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),dv(n))}function a0(n,e,t){for(const r of t)r instanceof PI?(n.La.addReference(r.key,e),gL(n,r)):r instanceof bI?(X("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||MI(n,r.key)):ae()}function gL(n,e){const t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(X("SyncEngine","New document in limbo: "+t),n.xa.add(r),dv(n))}function dv(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){const e=n.xa.values().next().value;n.xa.delete(e);const t=new ne(Be.fromString(e)),r=n.qa.next();n.Na.set(r,new iL(t)),n.Oa=n.Oa.insert(t,r),TI(n.remoteStore,new vs(ar(uh(t.path)),r,"TargetPurposeLimboResolution",Wg.oe))}}async function lu(n,e,t){const r=ce(n),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,t).then(c=>{var d;if((c||t)&&r.isPrimaryClient){const h=c?!c.fromCache:(d=t==null?void 0:t.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){s.push(c);const h=ev.Wi(l.targetId,c);i.push(h)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(l,c){const d=ce(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>W.forEach(c,p=>W.forEach(p.$i,g=>d.persistence.referenceDelegate.addReference(h,p.targetId,g)).next(()=>W.forEach(p.Ui,g=>d.persistence.referenceDelegate.removeReference(h,p.targetId,g)))))}catch(h){if(!su(h))throw h;X("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const p=h.targetId;if(!h.fromCache){const g=d.os.get(p),_=g.snapshotVersion,D=g.withLastLimboFreeSnapshotVersion(_);d.os=d.os.insert(p,D)}}}(r.localStore,i))}async function vL(n,e){const t=ce(n);if(!t.currentUser.isEqual(e)){X("SyncEngine","User change. New user:",e.toKey());const r=await yI(t.localStore,e);t.currentUser=e,function(i,o){i.ka.forEach(a=>{a.forEach(l=>{l.reject(new q(U.CANCELLED,o))})}),i.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await lu(t,r.hs)}}function yL(n,e){const t=ce(n),r=t.Na.get(e);if(r&&r.va)return we().add(r.key);{let s=we();const i=t.Ma.get(e);if(!i)return s;for(const o of i){const a=t.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function OI(n){const e=ce(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=xI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fL.bind(null,e),e.Ca.d_=tL.bind(null,e.eventManager),e.Ca.$a=nL.bind(null,e.eventManager),e}function _L(n){const e=ce(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mL.bind(null,e),e}class Sd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gh(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return IO(this.persistence,new SO,e.initialUser,this.serializer)}Ga(e){return new wO(Zg.Zr,this.serializer)}Wa(e){return new AO}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sd.provider={build:()=>new Sd};class _m{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>o0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=vL.bind(null,this.syncEngine),await JO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new eL}()}createDatastore(e){const t=gh(e.databaseInfo.databaseId),r=function(i){return new LO(i)}(e.databaseInfo);return function(i,o,a,l){return new jO(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,i,o,a){return new UO(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,t=>o0(this.syncEngine,t,0),function(){return t0.D()?new t0:new NO}())}createSyncEngine(e,t){return function(s,i,o,a,l,c,d){const h=new oL(s,i,o,a,l,c);return d&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const i=ce(s);X("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await au(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}_m.provider={build:()=>new _m};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Wr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e,t,r,s,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Lt.UNAUTHENTICATED,this.clientId=jC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{X("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(X("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=ov(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Bf(n,e){n.asyncQueue.verifyOperationInProgress(),X("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await yI(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function l0(n,e){n.asyncQueue.verifyOperationInProgress();const t=await EL(n);X("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>n0(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>n0(e.remoteStore,s)),n._onlineComponents=e}async function EL(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){X("FirestoreClient","Using user provided OfflineComponentProvider");try{await Bf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===U.FAILED_PRECONDITION||s.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;Oo("Error using user provided cache. Falling back to memory cache: "+t),await Bf(n,new Sd)}}else X("FirestoreClient","Using default OfflineComponentProvider"),await Bf(n,new Sd);return n._offlineComponents}async function LI(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(X("FirestoreClient","Using user provided OnlineComponentProvider"),await l0(n,n._uninitializedComponentsProvider._online)):(X("FirestoreClient","Using default OnlineComponentProvider"),await l0(n,new _m))),n._onlineComponents}function TL(n){return LI(n).then(e=>e.syncEngine)}async function Cd(n){const e=await LI(n),t=e.eventManager;return t.onListen=aL.bind(null,e.syncEngine),t.onUnlisten=cL.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=lL.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=dL.bind(null,e.syncEngine),t}function SL(n,e,t={}){const r=new Rr;return n.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const d=new hv({next:p=>{d.Za(),o.enqueueAndForget(()=>lv(i,h));const g=p.docs.has(a);!g&&p.fromCache?c.reject(new q(U.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&l&&l.source==="server"?c.reject(new q(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new cv(uh(a.path),d,{includeMetadataChanges:!0,_a:!0});return av(i,h)}(await Cd(n),n.asyncQueue,e,t,r)),r.promise}function CL(n,e,t={}){const r=new Rr;return n.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const d=new hv({next:p=>{d.Za(),o.enqueueAndForget(()=>lv(i,h)),p.fromCache&&l.source==="server"?c.reject(new q(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new cv(a,d,{includeMetadataChanges:!0,_a:!0});return av(i,h)}(await Cd(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(n,e,t){if(!t)throw new q(U.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function IL(n,e,t,r){if(e===!0&&r===!0)throw new q(U.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function c0(n){if(!ne.isDocumentKey(n))throw new q(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function d0(n){if(ne.isDocumentKey(n))throw new q(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function _h(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ae()}function Gt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new q(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=_h(n);throw new q(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new q(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new q(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}IL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wh{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new h0({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new q(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new q(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new h0(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new WN;switch(r.type){case"firstParty":return new zN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new q(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=u0.get(t);r&&(X("ComponentProvider","Removing Datastore"),u0.delete(t),r.terminate())}(this),Promise.resolve()}}function kL(n,e,t,r={}){var s;const i=(n=Gt(n,wh))._getSettings(),o=`${e}:${t}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Oo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Lt.MOCK_USER;else{a=iR(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new q(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Lt(c)}n._authCredentials=new $N(new FC(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Qr(this.firestore,e,this._query)}}class Bt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bt(this.firestore,e,this._key)}}class Rs extends Qr{constructor(e,t,r){super(e,t,uh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bt(this.firestore,null,new ne(e))}withConverter(e){return new Rs(this.firestore,e,this._path)}}function cn(n,e,...t){if(n=at(n),FI("collection","path",e),n instanceof wh){const r=Be.fromString(e,...t);return d0(r),new Rs(n,null,r)}{if(!(n instanceof Bt||n instanceof Rs))throw new q(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Be.fromString(e,...t));return d0(r),new Rs(n.firestore,null,r)}}function pe(n,e,...t){if(n=at(n),arguments.length===1&&(e=jC.newId()),FI("doc","path",e),n instanceof wh){const r=Be.fromString(e,...t);return c0(r),new Bt(n,null,new ne(r))}{if(!(n instanceof Bt||n instanceof Rs))throw new q(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Be.fromString(e,...t));return c0(r),new Bt(n.firestore,n instanceof Rs?n.converter:null,new ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new wI(this,"async_queue_retry"),this.Vu=()=>{const r=jf();r&&X("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const t=jf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=jf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new Rr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!su(e))throw e;X("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Wr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const s=iv.createAndSchedule(this,e,t,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&ae()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}function p0(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const s=t;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(n,["next","error","complete"])}class dr extends wh{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new f0,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new f0(e),this._firestoreClient=void 0,await e}}}function DL(n,e){const t=typeof n=="object"?n:KS(),r=typeof n=="string"?n:"(default)",s=xg(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=rR("firestore");i&&kL(s,...i)}return s}function uu(n){if(n._terminated)throw new q(U.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||PL(n),n._firestoreClient}function PL(n){var e,t,r;const s=n._freezeSettings(),i=function(a,l,c,d){return new iM(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,VI(d.experimentalLongPollingOptions),d.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new wL(n._authCredentials,n._appCheckCredentials,n._queue,i,n._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Uo(Pt.fromBase64String(e))}catch(t){throw new q(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Uo(Pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new q(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new St(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new q(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new q(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL=/^__.*__$/;class RL{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ks(e,this.data,this.fieldMask,t,this.fieldTransforms):new iu(e,this.data,t,this.fieldTransforms)}}class jI{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ks(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function BI(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ae()}}class mv{constructor(e,t,r,s,i,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new mv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Id(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(BI(this.Cu)&&bL.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class xL{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||gh(e)}Qu(e,t,r,s=!1){return new mv({Cu:e,methodName:t,qu:r,path:St.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function du(n){const e=n._freezeSettings(),t=gh(n._databaseId);return new xL(n._databaseId,!!e.ignoreUndefinedProperties,t)}function gv(n,e,t,r,s,i={}){const o=n.Qu(i.merge||i.mergeFields?2:0,e,t,s);yv("Data must be an object, but it was:",o,r);const a=$I(r,o);let l,c;if(i.merge)l=new hn(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const p=wm(e,h,t);if(!o.contains(p))throw new q(U.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);YI(d,p)||d.push(p)}l=new hn(d),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new RL(new en(a),l,c)}class hu extends Eh{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hu}}class vv extends Eh{_toFieldTransform(e){return new RM(e.path,new Fl)}isEqual(e){return e instanceof vv}}function UI(n,e,t,r){const s=n.Qu(1,e,t);yv("Data must be an object, but it was:",s,r);const i=[],o=en.empty();Vi(r,(l,c)=>{const d=_v(e,l,t);c=at(c);const h=s.Nu(d);if(c instanceof hu)i.push(d);else{const p=fu(c,h);p!=null&&(i.push(d),o.set(d,p))}});const a=new hn(i);return new jI(o,a,s.fieldTransforms)}function WI(n,e,t,r,s,i){const o=n.Qu(1,e,t),a=[wm(e,r,t)],l=[s];if(i.length%2!=0)throw new q(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(wm(e,i[p])),l.push(i[p+1]);const c=[],d=en.empty();for(let p=a.length-1;p>=0;--p)if(!YI(c,a[p])){const g=a[p];let _=l[p];_=at(_);const D=o.Nu(g);if(_ instanceof hu)c.push(g);else{const I=fu(_,D);I!=null&&(c.push(g),d.set(g,I))}}const h=new hn(c);return new jI(d,h,o.fieldTransforms)}function AL(n,e,t,r=!1){return fu(t,n.Qu(r?4:3,e))}function fu(n,e){if(HI(n=at(n)))return yv("Unsupported field value:",e,n),$I(n,e);if(n instanceof Eh)return function(r,s){if(!BI(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=fu(a,s.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(n,e)}return function(r,s){if((r=at(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return DM(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=dt.fromDate(r);return{timestampValue:Ed(s.serializer,i)}}if(r instanceof dt){const i=new dt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ed(s.serializer,i)}}if(r instanceof fv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Uo)return{bytesValue:dI(s.serializer,r._byteString)};if(r instanceof Bt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Xg(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof pv)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return Qg(a.serializer,l)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${_h(r)}`)}(n,e)}function $I(n,e){const t={};return BC(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vi(n,(r,s)=>{const i=fu(s,e.Mu(r));i!=null&&(t[r]=i)}),{mapValue:{fields:t}}}function HI(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof dt||n instanceof fv||n instanceof Uo||n instanceof Bt||n instanceof Eh||n instanceof pv)}function yv(n,e,t){if(!HI(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const r=_h(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function wm(n,e,t){if((e=at(e))instanceof cu)return e._internalPath;if(typeof e=="string")return _v(n,e);throw Id("Field path arguments must be of type string or ",n,!1,void 0,t)}const NL=new RegExp("[~\\*/\\[\\]]");function _v(n,e,t){if(e.search(NL)>=0)throw Id(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new cu(...e.split("."))._internalPath}catch{throw Id(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Id(n,e,t,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new q(U.INVALID_ARGUMENT,a+n+l)}function YI(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e,t,r,s,i){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ML(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Th("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class ML extends zI{data(){return super.data()}}function Th(n,e){return typeof e=="string"?_v(n,e):e instanceof cu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new q(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wv{}class Ev extends wv{}function xs(n,e,...t){let r=[];e instanceof wv&&r.push(e),r=r.concat(t),function(i){const o=i.filter(l=>l instanceof Tv).length,a=i.filter(l=>l instanceof Sh).length;if(o>1||o>0&&a>0)throw new q(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class Sh extends Ev{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Sh(e,t,r)}_apply(e){const t=this._parse(e);return KI(e._query,t),new Qr(e.firestore,e.converter,dm(e._query,t))}_parse(e){const t=du(e.firestore);return function(i,o,a,l,c,d,h){let p;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new q(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){g0(h,d);const g=[];for(const _ of h)g.push(m0(l,i,_));p={arrayValue:{values:g}}}else p=m0(l,i,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||g0(h,d),p=AL(a,o,h,d==="in"||d==="not-in");return ct.create(c,d,p)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Wo(n,e,t){const r=e,s=Th("where",n);return Sh._create(s,r,t)}class Tv extends wv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Tv(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:jn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)KI(o,l),o=dm(o,l)}(e._query,t),new Qr(e.firestore,e.converter,dm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Sv extends Ev{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Sv(e,t)}_apply(e){const t=function(s,i,o){if(s.startAt!==null)throw new q(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new q(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Vl(i,o)}(e._query,this._field,this._direction);return new Qr(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new oa(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function OL(n,e="asc"){const t=e,r=Th("orderBy",n);return Sv._create(r,t)}class Cv extends Ev{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Cv(e,t,r)}_apply(e){return new Qr(e.firestore,e.converter,_d(e._query,this._limit,this._limitType))}}function QI(n){return Cv._create("limit",n,"F")}function m0(n,e,t){if(typeof(t=at(t))=="string"){if(t==="")throw new q(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!KC(e)&&t.indexOf("/")!==-1)throw new q(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Be.fromString(t));if(!ne.isDocumentKey(r))throw new q(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Lw(n,new ne(r))}if(t instanceof Bt)return Lw(n,t._key);throw new q(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_h(t)}.`)}function g0(n,e){if(!Array.isArray(n)||n.length===0)throw new q(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function KI(n,e){const t=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new q(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new q(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class LL{convertValue(e,t="none"){switch(Ri(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(bi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ae()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Vi(e,(s,i)=>{r[s]=this.convertValue(i,t)}),r}convertVectorValue(e){var t,r,s;const i=(s=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>tt(o.doubleValue));return new pv(i)}convertGeoPoint(e){return new fv(tt(e.latitude),tt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Hg(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ml(e));default:return null}}convertTimestamp(e){const t=Vs(e);return new dt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Be.fromString(e);Me(vI(r));const s=new Ol(r.get(1),r.get(3)),i=new ne(r.popFirst(5));return s.isEqual(t)||Wr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class GI extends zI{constructor(e,t,r,s,i,o){super(e,t,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new xc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Th("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class xc extends GI{data(e={}){return super.data(e)}}class XI{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new za(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new xc(this._firestore,this._userDataWriter,r.key,r,new za(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new q(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new xc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new za(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new xc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new za(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:VL(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function VL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ae()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function js(n){n=Gt(n,Bt);const e=Gt(n.firestore,dr);return SL(uu(e),n._key).then(t=>ZI(e,n,t))}class kv extends LL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Uo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bt(this.firestore,null,t)}}function er(n){n=Gt(n,Qr);const e=Gt(n.firestore,dr),t=uu(e),r=new kv(e);return qI(n._query),CL(t,n._query).then(s=>new XI(e,r,n,s))}function ji(n,e,t){n=Gt(n,Bt);const r=Gt(n.firestore,dr),s=Iv(n.converter,e,t);return pu(r,[gv(du(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,Kt.none())])}function $o(n,e,t,...r){n=Gt(n,Bt);const s=Gt(n.firestore,dr),i=du(s);let o;return o=typeof(e=at(e))=="string"||e instanceof cu?WI(i,"updateDoc",n._key,e,t,r):UI(i,"updateDoc",n._key,e),pu(s,[o.toMutation(n._key,Kt.exists(!0))])}function FL(n){return pu(Gt(n.firestore,dr),[new ph(n._key,Kt.none())])}function JI(n,e){const t=Gt(n.firestore,dr),r=pe(n),s=Iv(n.converter,e);return pu(t,[gv(du(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,Kt.exists(!1))]).then(()=>r)}function qa(n,...e){var t,r,s;n=at(n);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||p0(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(p0(e[o])){const h=e[o];e[o]=(t=h.next)===null||t===void 0?void 0:t.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(s=h.complete)===null||s===void 0?void 0:s.bind(h)}let l,c,d;if(n instanceof Bt)c=Gt(n.firestore,dr),d=uh(n._key.path),l={next:h=>{e[o]&&e[o](ZI(c,n,h))},error:e[o+1],complete:e[o+2]};else{const h=Gt(n,Qr);c=Gt(h.firestore,dr),d=h._query;const p=new kv(c);l={next:g=>{e[o]&&e[o](new XI(c,p,h,g))},error:e[o+1],complete:e[o+2]},qI(n._query)}return function(p,g,_,D){const I=new hv(D),w=new cv(g,I,_);return p.asyncQueue.enqueueAndForget(async()=>av(await Cd(p),w)),()=>{I.Za(),p.asyncQueue.enqueueAndForget(async()=>lv(await Cd(p),w))}}(uu(c),d,a,l)}function pu(n,e){return function(r,s){const i=new Rr;return r.asyncQueue.enqueueAndForget(async()=>hL(await TL(r),s,i)),i.promise}(uu(n),e)}function ZI(n,e,t){const r=t.docs.get(e._key),s=new kv(n);return new GI(n,s,e._key,r,new za(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=du(e)}set(e,t,r){this._verifyNotCommitted();const s=Uf(e,this._firestore),i=Iv(s.converter,t,r),o=gv(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,r);return this._mutations.push(o.toMutation(s._key,Kt.none())),this}update(e,t,r,...s){this._verifyNotCommitted();const i=Uf(e,this._firestore);let o;return o=typeof(t=at(t))=="string"||t instanceof cu?WI(this._dataReader,"WriteBatch.update",i._key,t,r,s):UI(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(o.toMutation(i._key,Kt.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Uf(e,this._firestore);return this._mutations=this._mutations.concat(new ph(t._key,Kt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new q(U.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Uf(n,e){if((n=at(n)).firestore!==e)throw new q(U.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cl(){return new hu("deleteField")}function kd(){return new vv("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qa(n){return uu(n=Gt(n,dr)),new jL(n,e=>pu(n,e))}(function(e,t=!0){(function(s){ia=s})(ra),Mo(new Ii("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new dr(new HN(r.getProvider("auth-internal")),new QN(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new q(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ol(c.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),bs(xw,"4.7.3",e),bs(xw,"4.7.3","esm2017")})();var BL="firebase",UL="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bs(BL,UL,"app");const WL={apiKey:"AIzaSyCSI3fz-q0yaaOKhjdSIz0-2GLxXbSlSnU",authDomain:"balance-app-789fc.firebaseapp.com",projectId:"balance-app-789fc",storageBucket:"balance-app-789fc.firebasestorage.app",messagingSenderId:"715855398123",appId:"1:715855398123:web:5550df6e662206bf14aaae"},ek=QS(WL),rt=BN(ek),te=DL(ek),$L="_authContainer_1o8y8_8",HL="_authContent_1o8y8_16",YL="_formWrapper_1o8y8_23",zL="_authFooter_1o8y8_27",qL="_authTitle_1o8y8_33",QL="_authInput_1o8y8_42",KL="_authToggleLink_1o8y8_65",GL="_errorMessage_1o8y8_78",XL="_authButton_1o8y8_87",Je={authContainer:$L,authContent:HL,formWrapper:YL,authFooter:zL,authTitle:qL,authInput:QL,authToggleLink:KL,errorMessage:GL,authButton:XL};function JL(){const[n,e]=A.useState(""),[t,r]=A.useState(""),[s,i]=A.useState(""),o=async a=>{if(a.preventDefault(),i(""),!n||!t){i("   .");return}try{await IA(rt,n,t)}catch(l){console.error("Login Error:",l),i("   .")}};return T.jsx("div",{className:Je.authContainer,children:T.jsxs("div",{className:Je.authContent,children:[T.jsxs("form",{className:Je.formWrapper,onSubmit:o,children:[T.jsx("h2",{className:Je.authTitle,children:" !"}),T.jsx("input",{type:"email",className:Je.authInput,value:n,onChange:a=>e(a.target.value),placeholder:"","aria-label":""}),T.jsx("input",{type:"password",className:Je.authInput,value:t,onChange:a=>r(a.target.value),placeholder:"","aria-label":""})]}),T.jsxs("div",{className:Je.authFooter,children:[s&&T.jsx("p",{className:Je.errorMessage,children:s}),T.jsx("button",{type:"submit",className:Je.authButton,onClick:o,children:""}),T.jsxs("p",{className:Je.authToggleLink,children:[" ? ",T.jsx(Ci,{to:"/signup",children:""})]})]})]})})}function ZL(){const[n,e]=A.useState(""),[t,r]=A.useState(""),[s,i]=A.useState(""),[o,a]=A.useState(""),[l,c]=A.useState(""),d=async h=>{if(h.preventDefault(),c(""),!n||!t||!s||!o){c("  .");return}if(s!==o){c("  .");return}if(s.length<6){c(" 6  .");return}try{const g=(await CA(rt,t,s)).user;await ji(pe(te,"users",g.uid),{uid:g.uid,realName:n.trim(),email:t,surveyCompleted:!1})}catch(p){console.error("Sign Up Error:",p),p.code==="auth/email-already-in-use"?c("   ."):p.code==="auth/invalid-email"?c("   ."):c("   .  .")}};return T.jsx("div",{className:Je.authContainer,children:T.jsxs("div",{className:Je.authContent,children:[T.jsxs("form",{className:Je.formWrapper,onSubmit:d,children:[T.jsx("h2",{className:Je.authTitle,children:"?"}),T.jsx("input",{className:Je.authInput,value:n,onChange:h=>e(h.target.value),placeholder:"","aria-label":""}),T.jsx("input",{type:"email",className:Je.authInput,value:t,onChange:h=>r(h.target.value),placeholder:"","aria-label":""}),T.jsx("input",{type:"password",className:Je.authInput,value:s,onChange:h=>i(h.target.value),placeholder:" (6 )","aria-label":""}),T.jsx("input",{type:"password",className:Je.authInput,value:o,onChange:h=>a(h.target.value),placeholder:" ","aria-label":" "})]}),T.jsxs("div",{className:Je.authFooter,children:[l&&T.jsx("p",{className:Je.errorMessage,children:l}),T.jsx("button",{type:"submit",className:Je.authButton,onClick:d,children:""}),T.jsxs("p",{className:Je.authToggleLink,children:["  ? ",T.jsx(Ci,{to:"/login",children:""})]})]})]})})}const v0=[{text:"   ,    ?",answers:[{text:"   ",effects:{SHO:1,DRI:1}},{text:"   ",effects:{PAS:1.5}}]},{text:"    ?",answers:[{text:"   ",effects:{PAC:2}},{text:"    ",effects:{DRI:2}}]},{text:"   ?",answers:[{text:"   ",effects:{PAC:1,SHO:1}},{text:"   ",effects:{DRI:1,PAS:1}}]},{text:"    ?",answers:[{text:"   ",effects:{DEF:1,PAC:.5}},{text:"    ",effects:{SHO:.5,DEF:-.5}}]}],y0=[{text:"    ?",answers:[{text:"  ",effects:{PAC:1.5,DEF:.5}},{text:"   ",effects:{DEF:2}}]},{text:"    ?",answers:[{text:"    ",effects:{PAC:1,PAS:1}},{text:"   ",effects:{DRI:1,PAS:1}}]},{text:"    ?",answers:[{text:" 11  ",effects:{DEF:1.5}},{text:"     ",effects:{DEF:1,PAS:.5}}]},{text:"   ?",answers:[{text:"   ",effects:{PAC:1,PAS:1,DEF:-.5}},{text:"   ",effects:{DEF:1.5,PHY:.5}}]}],rc={ST:[{text:"   ?",answers:[{text:"  ",effects:{SHO:1.5,PAC:.5}},{text:"   ",effects:{PHY:1,SHO:1}}]},{text:"  ,  ?",answers:[{text:" ",effects:{PHY:1.5}},{text:"  ",effects:{PAC:1,DRI:.5}}]},{text:"     ?",answers:[{text:" ",effects:{PAC:1.5}},{text:"    ",effects:{PAS:1,DRI:.5}}]},{text:"     ?",answers:[{text:"  ",effects:{SHO:2}},{text:"    ",effects:{DRI:1.5,SHO:.5}}]}],LW:v0,RW:v0,CAM:[{text:"     ?",answers:[{text:" ",effects:{PAS:2}},{text:"  ",effects:{DRI:2}}]},{text:"     ?",answers:[{text:"    ",effects:{SHO:1.5}},{text:"    ",effects:{PAS:1.5}}]},{text:"   ?",answers:[{text:"   ",effects:{DRI:1,PAS:1}},{text:"   ",effects:{PAC:1,SHO:1}}]},{text:"      ?",answers:[{text:"  ",effects:{DRI:1.5}},{text:" 21 ",effects:{PAS:1.5}}]}],CM:[{text:"    ?",answers:[{text:"     ",effects:{PAS:1.5,PAC:.5}},{text:"    ",effects:{PAS:1,DRI:1}}]},{text:"   ?",answers:[{text:"  ",effects:{PAS:1,SHO:.5,DEF:-.5}},{text:"  ",effects:{DEF:1,PHY:.5,PAS:-.5}}]},{text:"     ?",answers:[{text:"   ",effects:{PAS:2}},{text:"   ",effects:{PHY:1.5,PAC:.5}}]},{text:"   ?",answers:[{text:"  ",effects:{DRI:1.5}},{text:"  ",effects:{DEF:1.5}}]}],CDM:[{text:"    ?",answers:[{text:"   ",effects:{DEF:1,PHY:1}},{text:"   ",effects:{PAC:1,DEF:1}}]},{text:"     ?",answers:[{text:"   ",effects:{DEF:2}},{text:"   ",effects:{DEF:1,PHY:1}}]},{text:"      ?",answers:[{text:"   ",effects:{PAS:1.5}},{text:"     ",effects:{PAS:1.5,PHY:-.5}}]},{text:"     ?",answers:[{text:"     ",effects:{DEF:2}},{text:"   ",effects:{PHY:1.5,PAC:.5}}]}],LB:y0,RB:y0,CB:[{text:"    ?",answers:[{text:"   ",effects:{DEF:2,PAC:-.5}},{text:"  ",effects:{DEF:1,PHY:1.5}}]},{text:"   ?",answers:[{text:"   ",effects:{PAS:1,DEF:.5}},{text:"   ",effects:{PAS:2}}]},{text:"    ?",answers:[{text:" ",effects:{PHY:2,DEF:.5}},{text:"    ",effects:{PAC:1,DEF:1.5}}]},{text:"     ?",answers:[{text:"  ",effects:{DEF:1,PAS:.5}},{text:"    ",effects:{DEF:1.5,PHY:.5}}]}],GK:[{text:" 11  ,  ?",answers:[{text:"   ",effects:{DEF:2,PHY:-.5}},{text:"   ",effects:{PAC:1,DEF:1.5}}]},{text:"      ?",answers:[{text:"  ()",effects:{DEF:1.5,PHY:.5}},{text:"  ()",effects:{DEF:2}}]},{text:"    ?",answers:[{text:"   ",effects:{PAS:2,DEF:-.5}},{text:"   ",effects:{PAS:1.5}}]},{text:"  ,  ?",answers:[{text:"   ",effects:{PHY:1.5,DEF:1}},{text:"   ",effects:{DEF:2}}]}]},e2=.8,t2=.2,n2=60,_0={ST:{PAC:1.1,SHO:1.4,PAS:1,DRI:1.2,DEF:.7,PHY:1.1},CAM:{PAC:1,SHO:1,PAS:1.4,DRI:1.2,DEF:.8,PHY:.9},CM:{PAC:.9,SHO:1,PAS:1.4,DRI:1.1,DEF:1,PHY:1},CDM:{PAC:.9,SHO:.8,PAS:1.1,DRI:.9,DEF:1.5,PHY:1.2},CB:{PAC:.8,SHO:.7,PAS:.9,DRI:.8,DEF:1.6,PHY:1.3},LB:{PAC:1.1,SHO:.7,PAS:1,DRI:1,DEF:1.4,PHY:1.1},LW:{PAC:1.3,SHO:1.2,PAS:1.1,DRI:1.4,DEF:.8,PHY:.9}},r2=(n,e)=>{let t=0,r=0,s=0;for(let o=0;o<n.length;o++)t+=n[o]*e[o],r+=n[o]**2,s+=e[o]**2;const i=Math.sqrt(r)*Math.sqrt(s);return i===0?0:t/i},s2=(n,e)=>{let t=0;for(let r=0;r<n.length;r++)t+=(n[r]-e[r])**2;return Math.sqrt(t)},i2=(n,e=25)=>1-Math.min(n/e,1),w0=(n,e)=>{let t=e;e==="RW"&&(t="LW"),e==="RB"&&(t="LB");const r=_0[t]?_0[t]:{PAC:1,SHO:1,PAS:1,DRI:1,DEF:1,PHY:1};return["PAC","SHO","PAS","DRI","DEF","PHY"].map(i=>(n[i]??n2)*(r[i]||1))},o2=(n,e,t)=>{if(!n||!e||!t)return[];const r=w0(n,t);return e.map(i=>{const o=w0(i,t),a=r2(r,o),l=s2(r,o),c=i2(l),d=e2*a+t2*c;return{name:i.Name,team:i.Team,ovr:i.OVR,score:d}}).sort((i,o)=>o.score-i.score).slice(0,5)},a2="_surveyContainer_k6wo6_7",l2="_progressBarContainer_k6wo6_15",u2="_progressBar_k6wo6_15",c2="_questionContent_k6wo6_31",d2="_questionText_k6wo6_47",h2="_answerFooter_k6wo6_54",f2="_positionFormation_k6wo6_61",p2="_positionLine_k6wo6_67",m2="_positionCard_k6wo6_73",g2="_answerButton_k6wo6_97",v2="_centeredContainer_k6wo6_124",y2="_analysisTitle_k6wo6_134",_2="_analysisSubtitle_k6wo6_140",w2="_errorMessage_k6wo6_146",Tt={surveyContainer:a2,progressBarContainer:l2,progressBar:u2,questionContent:c2,questionText:d2,answerFooter:h2,positionFormation:f2,positionLine:p2,positionCard:m2,answerButton:g2,centeredContainer:v2,analysisTitle:y2,analysisSubtitle:_2,errorMessage:w2},E2=[["LW","ST","RW"],["CAM","CM","CDM"],["LB","CB","RB"],["GK"]],T2=60,S2=({onSelect:n})=>T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:Tt.questionContent,children:[T.jsx("p",{children:"Q0."}),T.jsx("h2",{className:Tt.questionText,children:"   ?"})]}),T.jsx("div",{className:Tt.answerFooter,children:T.jsx("div",{className:Tt.positionFormation,children:E2.map((e,t)=>T.jsx("div",{className:Tt.positionLine,children:e.map(r=>T.jsx("button",{className:Tt.positionCard,onClick:()=>n(r),children:r},r))},t))})})]}),C2=({question:n,onAnswer:e,questionNumber:t})=>T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:Tt.questionContent,children:[T.jsxs("p",{children:["Q",t,"."]}),T.jsx("h2",{className:Tt.questionText,children:n.text})]}),T.jsx("div",{className:Tt.answerFooter,children:n.answers.map((r,s)=>T.jsx("button",{className:Tt.answerButton,onClick:()=>e(r.effects),children:r.text},s))})]}),I2=()=>T.jsxs("div",{className:Tt.centeredContainer,children:[T.jsx("h2",{className:Tt.analysisTitle,children:" ..."}),T.jsx("p",{className:Tt.analysisSubtitle,children:"     ."})]});function k2({userProfile:n}){const[e,t]=A.useState("position"),[r,s]=A.useState(null),[i,o]=A.useState([]),[a,l]=A.useState(0),[c,d]=A.useState({PAC:0,SHO:0,PAS:0,DRI:0,DEF:0,PHY:0}),[h,p]=A.useState(""),g=zs();A.useEffect(()=>{if(e!=="answering"||!r)return;if(r==="GK"){const v=rc.GK||[];o(v.sort(()=>.5-Math.random()).slice(0,5));return}let x=["RW","RB"].includes(r)?r.replace("R","L"):r;const L=rc[x]||[];let M=[];for(const v in rc)v!==x&&v!=="GK"&&M.push(...rc[v]);const S=M.sort(()=>.5-Math.random()).slice(0,6);o([...L,...S].sort(()=>.5-Math.random()))},[e,r]),A.useEffect(()=>{i.length>0&&a===i.length&&I()},[a,i]);const _=x=>{s(x),t("answering")},D=x=>{const L={...c};for(const M in x)M in L&&(L[M]+=x[M]);d(L),l(M=>M+1)},I=async()=>{t("analyzing"),p("");const x=rt.currentUser;if(!x){p("    .  ."),t("position");return}try{const L=Object.keys(c).reduce((N,b)=>(N[b]=T2+Math.round(c[b]),N),{}),M=cn(te,"players"),S=xs(M,Wo("Position","==",r)),v=await er(S);if(v.empty)throw new Error(`'${r}'     .`);const C=v.docs.map(N=>N.data()),P=o2(L,C,r),R=pe(te,"users",x.uid);if(await $o(R,{surveyCompleted:!0,stats:L,preferredPosition:r,recommendedPlayers:P}),n!=null&&n.teamId){const N=pe(te,"teams",n.teamId,"members",x.uid);await ji(N,{position:r},{merge:!0})}g("/")}catch(L){console.error("Survey Processing Error:",L),p(`   : ${L.message}`),t("position")}},w=i.length||(r==="GK"?5:10),y=a/w*100,E=()=>{switch(e){case"answering":{const x=i[a];return x?T.jsx(C2,{question:x,onAnswer:D,questionNumber:a+1}):null}case"analyzing":return T.jsx(I2,{});case"position":default:return T.jsx(S2,{onSelect:_})}};return T.jsxs("div",{className:Tt.surveyContainer,children:[T.jsx("div",{className:Tt.progressBarContainer,children:T.jsx("div",{className:Tt.progressBar,style:{width:`${y}%`}})}),h&&T.jsx("p",{className:Tt.errorMessage,children:h}),E()]})}const D2="_overlay_j6mgj_7",P2="_modal_j6mgj_18",b2="_modalHeader_j6mgj_30",R2="_closeButton_j6mgj_46",x2="_form_j6mgj_60",A2="_description_j6mgj_68",N2="_questionBlock_j6mgj_82",M2="_error_j6mgj_120",O2="_submitButton_j6mgj_130",vr={overlay:D2,modal:P2,modalHeader:b2,closeButton:R2,form:x2,description:A2,questionBlock:N2,error:M2,submitButton:O2},L2="_dropdownContainer_1eggn_6",V2="_dropdownHeader_1eggn_12",F2="_dropdownValue_1eggn_32",j2="_placeholder_1eggn_36",B2="_dropdownList_1eggn_40",U2="_dropdownItem_1eggn_57",W2="_arrow_1eggn_70",$2="_down_1eggn_79",H2="_up_1eggn_82",yr={dropdownContainer:L2,dropdownHeader:V2,dropdownValue:F2,placeholder:j2,dropdownList:B2,dropdownItem:U2,arrow:W2,down:$2,up:H2},tk=({options:n,placeholder:e,value:t,onChange:r})=>{const[s,i]=A.useState(!1),o=A.useRef(null),a=c=>{r==null||r(c),i(!1)},l=(c,d)=>{(c.key==="Enter"||c.key===" ")&&(c.preventDefault(),a(d))};return A.useEffect(()=>{const c=h=>{o.current&&!o.current.contains(h.target)&&i(!1)},d=h=>{h.key==="Escape"&&i(!1)};return document.addEventListener("mousedown",c),document.addEventListener("keydown",d),()=>{document.removeEventListener("mousedown",c),document.removeEventListener("keydown",d)}},[]),T.jsxs("div",{className:yr.dropdownContainer,ref:o,children:[T.jsxs("button",{type:"button",className:yr.dropdownHeader,onClick:()=>i(c=>!c),"aria-haspopup":"listbox","aria-expanded":s,children:[t?T.jsx("span",{className:yr.dropdownValue,children:t}):T.jsx("span",{className:yr.placeholder,children:e||"..."}),T.jsx("span",{className:`${yr.arrow} ${s?yr.up:yr.down}`})]}),s&&T.jsx("ul",{className:yr.dropdownList,role:"listbox",children:n.map(c=>T.jsx("li",{role:"option","aria-selected":c===t,className:yr.dropdownItem,onClick:()=>a(c),onKeyDown:d=>l(d,c),tabIndex:0,children:c},c))})]})},E0=1,Aa=[{id:"bomber",text:"  (Best Attacker)",stat:"SHO"},{id:"midfielder",text:"   (MVP)",stat:"PAS"},{id:"defender",text:"  (Best Defender)",stat:"DEF"},{id:"goalkeeper",text:"  (Best Goalkeeper)",stat:"PHY"}],nk=({teamId:n,match:e,attendees:t=[],onClose:r})=>{const[s,i]=A.useState({}),[o,a]=A.useState(""),[l,c]=A.useState(!1),{playerOptionsList:d,uidToNameMap:h,nameToUidMap:p}=A.useMemo(()=>{const I=[],w=new Map,y=new Map;for(const E of t){const x=`${E.name} (${E.pos||"N/A"})`;I.push(x),w.set(E.uid,x),y.set(x,E.uid)}return I.sort(),{playerOptionsList:I,uidToNameMap:w,nameToUidMap:y}},[t]),g=(I,w)=>{const y=p.get(w);y&&i(E=>({...E,[I]:y}))},_=async(I,w,y)=>{try{const E={};Aa.forEach(S=>{E[S.id]={}});for(const S of w)Aa.forEach(v=>{const C=S[v.id];C&&(E[v.id][C]=(E[v.id][C]||0)+1)});const x={},L=(S,v)=>{const P=(y.get(S)||{})[v]||60;x[S]||(x[S]={}),x[S][`stats.${v}`]=P+1};Aa.forEach(S=>{const v=E[S.id];for(const C in v)v[C]>=E0&&L(C,S.stat)});for(const S in x){const v=pe(te,"users",S);I.update(v,x[S])}const M=pe(te,"teams",n,"matches",e.id);I.update(M,{statsCalculated:!0})}catch(E){throw console.error("    :",E),new Error("  ")}},D=async I=>{var y;if(I.preventDefault(),Object.keys(s).length<Aa.length){a("  .");return}const w=(y=rt.currentUser)==null?void 0:y.uid;if(!(!w||!n||!(e!=null&&e.id))){c(!0),a("");try{const E=Qa(te),x=cn(te,"teams",n,"matches",e.id,"surveys"),L=pe(x,w);E.set(L,{...s,submittedAt:new Date});const M=pe(te,"teams",n,"matches",e.id),S=(e.pendingSurveyParticipants||[]).filter(R=>R!==w);E.update(M,{pendingSurveyParticipants:S});const v=await er(x),C=t.length,P=v.docs.length+1>=C;if(P){const R=[...v.docs.map(re=>re.data()),s],N=new Set(R.flatMap(re=>Object.values(re))),b=await Promise.all(Array.from(N).map(re=>js(pe(te,"users",re)))),se=new Map(b.map(re=>{var ee;return[re.id,((ee=re.data())==null?void 0:ee.stats)||{}]}));await _(E,R,se)}await E.commit(),alert(P?" .       !":" . ."),r()}catch(E){console.error("  :",E),a("   .  ."),c(!1)}}};return T.jsx("div",{className:vr.overlay,children:T.jsxs("div",{className:vr.modal,children:[T.jsxs("div",{className:vr.modalHeader,children:[T.jsx("h3",{children:"  "}),T.jsx("button",{onClick:r,className:vr.closeButton,disabled:l,children:""})]}),T.jsxs("form",{onSubmit:D,className:vr.form,children:[T.jsxs("p",{className:vr.description,children:["       1 .",T.jsx("br",{}),"    ",T.jsxs("strong",{children:[E0," "]}),"    ."]}),Aa.map(I=>{const w=h.get(s[I.id]);return T.jsxs("div",{className:vr.questionBlock,children:[T.jsx("label",{children:I.text}),T.jsx(tk,{placeholder:" ",options:d,value:w,onChange:y=>g(I.id,y)})]},I.id)}),o&&T.jsx("p",{className:vr.error,children:o}),T.jsx("button",{type:"submit",className:vr.submitButton,disabled:l,children:l?" ...":" "})]})]})})},Y2="_modalOverlay_wp2jl_2",z2="_modalContent_wp2jl_15",q2="_modalTitle_wp2jl_25",Q2="_modalMessage_wp2jl_32",K2="_modalActions_wp2jl_38",G2="_modalButton_wp2jl_43",X2="_cancelButton_wp2jl_54",J2="_confirmButton_wp2jl_63",_r={modalOverlay:Y2,modalContent:z2,modalTitle:q2,modalMessage:Q2,modalActions:K2,modalButton:G2,cancelButton:X2,confirmButton:J2};function Z2({title:n,message:e,onConfirm:t,onClose:r}){const s=i=>i.stopPropagation();return T.jsx("div",{className:_r.modalOverlay,onClick:r,children:T.jsxs("div",{className:_r.modalContent,onClick:s,children:[T.jsx("h2",{className:_r.modalTitle,children:n}),T.jsx("p",{className:_r.modalMessage,children:e}),T.jsxs("div",{className:_r.modalActions,children:[T.jsx("button",{className:`${_r.modalButton} ${_r.cancelButton}`,onClick:r,children:""}),T.jsx("button",{className:`${_r.modalButton} ${_r.confirmButton}`,onClick:t,children:""})]})]})})}const eV="_loadingContainer_scdb2_7",tV="_choiceContainer_scdb2_17",nV="_choiceContent_scdb2_23",rV="_choiceTitle_scdb2_29",sV="_choiceSubtitle_scdb2_35",iV="_choiceListContainer_scdb2_40",oV="_playerChoiceCard_scdb2_45",aV="_mainContainer_scdb2_65",lV="_mainHeader_scdb2_71",uV="_logoutButton_scdb2_85",cV="_profileContent_scdb2_99",dV="_profileCard_scdb2_103",hV="_mainProfileCard_scdb2_112",fV="_playerTeam_scdb2_116",pV="_playerOvr_scdb2_117",mV="_playerInfo_scdb2_123",gV="_profileName_scdb2_127",vV="_playerName_scdb2_128",yV="_statsGrid_scdb2_154",_V="_statItem_scdb2_164",wV="_statValue_scdb2_164",EV="_menuContainer_scdb2_175",TV="_menuCard_scdb2_182",Pe={loadingContainer:eV,choiceContainer:tV,choiceContent:nV,choiceTitle:rV,choiceSubtitle:sV,choiceListContainer:iV,playerChoiceCard:oV,mainContainer:aV,mainHeader:lV,logoutButton:uV,profileContent:cV,profileCard:dV,mainProfileCard:hV,playerTeam:fV,playerOvr:pV,playerInfo:mV,profileName:gV,playerName:vV,statsGrid:yV,statItem:_V,statValue:wV,menuContainer:EV,menuCard:TV},SV=({recommendedPlayers:n,onSelectPlayer:e})=>T.jsx("div",{className:Pe.choiceContainer,children:T.jsxs("div",{className:Pe.choiceContent,children:[T.jsx("h2",{className:Pe.choiceTitle,children:" !"}),T.jsx("p",{className:Pe.choiceSubtitle,children:"      ."}),T.jsx("div",{className:Pe.choiceListContainer,children:n==null?void 0:n.map((t,r)=>T.jsxs("button",{className:Pe.playerChoiceCard,onClick:()=>e(t),children:[T.jsxs("div",{className:Pe.playerInfo,children:[T.jsx("span",{className:Pe.playerName,children:t.name}),T.jsx("span",{className:Pe.playerTeam,children:t.team})]}),T.jsxs("div",{className:Pe.playerOvr,children:[T.jsx("span",{children:"OVR"}),T.jsx("span",{children:t.ovr})]})]},r))})]})}),CV=({profile:n,myOvr:e,onLogout:t,onRedoSurvey:r})=>{const s=zs(),i=!!(n!=null&&n.teamId);return T.jsxs("div",{className:Pe.mainContainer,children:[T.jsxs("header",{className:Pe.mainHeader,children:[T.jsx("h2",{children:" "}),T.jsx("button",{onClick:t,className:Pe.logoutButton,children:""})]}),T.jsxs("div",{className:Pe.profileContent,children:[T.jsxs("div",{className:`${Pe.profileCard} ${Pe.mainProfileCard}`,children:[T.jsxs("div",{className:Pe.playerInfo,children:[T.jsx("span",{className:Pe.profileName,children:n.realName}),T.jsxs("span",{className:Pe.playerTeam,children:[" : ",n.selectedPlayer.name]})]}),T.jsxs("div",{className:Pe.playerOvr,children:[T.jsx("span",{children:"MY OVR"}),T.jsx("span",{children:e})]})]}),T.jsx("div",{className:Pe.statsGrid,children:n.stats&&["DRI","PAC","PAS","PHY","SHO","DEF"].map(o=>T.jsxs("div",{className:Pe.statItem,children:[T.jsx("span",{className:Pe.statValue,children:n.stats[o]||60}),T.jsx("span",{className:Pe.statName,children:o.toUpperCase()})]},o))}),T.jsxs("div",{className:Pe.menuContainer,children:[T.jsx("h3",{children:" "}),i?T.jsxs("button",{className:Pe.menuCard,onClick:()=>s(`/team/${n.teamId}`),children:[T.jsx("h4",{children:" "}),T.jsx("p",{children:"      ."})]}):T.jsxs(T.Fragment,{children:[T.jsxs(Ci,{to:"/create-team",className:Pe.menuCard,children:[T.jsx("h4",{children:" "}),T.jsx("p",{children:"    ."})]}),T.jsxs(Ci,{to:"/join-team",className:Pe.menuCard,children:[T.jsx("h4",{children:" "}),T.jsx("p",{children:"     ."})]})]})]}),T.jsxs("div",{className:Pe.menuContainer,children:[T.jsx("h3",{children:" "}),T.jsxs("button",{className:Pe.menuCard,onClick:r,children:[T.jsx("h4",{children:" "}),T.jsx("p",{children:"       ."})]})]})]})]})};function IV({userProfile:n}){const e=zs(),[t,r]=A.useState(null),[s,i]=A.useState(!1),o=A.useMemo(()=>{if(!n)return 60;if(typeof n.playerOvr=="number")return n.playerOvr;if(n.stats){const d=Object.values(n.stats).map(Number).filter(h=>!isNaN(h));if(d.length>0)return Math.round(d.reduce((h,p)=>h+p,0)/d.length)}return 60},[n]);A.useEffect(()=>{if(!n)return;const d=!!n.selectedPlayer,h=Array.isArray(n.recommendedPlayers)&&n.recommendedPlayers.length>0;!d&&!h&&e("/survey")},[n,e]),A.useEffect(()=>{const d=async()=>{var I;const h=(I=rt.currentUser)==null?void 0:I.uid,p=n==null?void 0:n.teamId;if(!h||!p)return;const g=cn(te,"teams",p,"matches"),_=xs(g,Wo("pendingSurveyParticipants","array-contains",h),QI(1)),D=await er(_);if(!D.empty){const w=D.docs[0],y={id:w.id,...w.data()},E=pe(te,"teams",p,"matches",y.id,"surveys",h);if(!(await js(E)).exists()){const L=cn(te,"teams",p,"matches",y.id,"attendance"),M=xs(L,Wo("status","==","yes")),v=(await er(M)).docs.map(R=>R.id);if(v.length===0)return;const P=(await Promise.all(v.map(R=>js(pe(te,"users",R))))).map(R=>{if(!R.exists())return null;const N=R.data();let b=60;if(typeof N.playerOvr=="number")b=N.playerOvr;else if(N.stats){const se=Object.values(N.stats).filter(re=>typeof re=="number");se.length>0&&(b=Math.round(se.reduce((re,ee)=>re+ee,0)/se.length))}return{uid:R.id,name:N.realName,pos:N.position||"CM",ovr:b}}).filter(Boolean);r({match:y,attendees:P})}}};n!=null&&n.teamId&&d()},[n]);const a=()=>{bA(rt).catch(d=>console.error("Logout Error:",d))},l=async d=>{const h=rt.currentUser;if(!(!h||!d))try{const p=pe(te,"users",h.uid);await $o(p,{selectedPlayer:d});const g=n==null?void 0:n.teamId,_=(d==null?void 0:d.position)||(d==null?void 0:d.pos)||null;if(g&&_){const D=pe(te,"teams",g,"members",h.uid);await ji(D,{position:_},{merge:!0})}}catch(p){console.error("Player selection failed:",p),alert("    .")}},c=async()=>{i(!1);const d=rt.currentUser;if(d)try{const h=pe(te,"users",d.uid);await $o(h,{surveyCompleted:!1,stats:cl(),recommendedPlayers:cl(),selectedPlayer:cl()}),e("/survey")}catch(h){console.error("Redo survey failed:",h),alert("    .")}};return n?T.jsxs(T.Fragment,{children:[t&&T.jsx(nk,{teamId:n.teamId,match:t.match,attendees:t.attendees,userProfile:n,onClose:()=>r(null)}),s&&T.jsx(Z2,{title:" ",message:"  ?     .",onConfirm:c,onClose:()=>i(!1)}),n.selectedPlayer?T.jsx(CV,{profile:n,myOvr:o,onLogout:a,onRedoSurvey:()=>i(!0)}):T.jsx(SV,{recommendedPlayers:n.recommendedPlayers,onSelectPlayer:l})]}):T.jsx("div",{className:Pe.loadingContainer,children:"   ..."})}const kV="_pageContainer_zzpt9_8",DV="_pageHeader_zzpt9_16",PV="_backButton_zzpt9_21",bV="_content_zzpt9_28",RV="_footer_zzpt9_35",xV="_loadingContainer_zzpt9_40",AV="_title_zzpt9_50",NV="_input_zzpt9_59",MV="_button_zzpt9_83",OV="_errorMessage_zzpt9_106",$n={pageContainer:kV,pageHeader:DV,backButton:PV,content:bV,footer:RV,loadingContainer:xV,title:AV,input:NV,button:MV,errorMessage:OV};function LV(){const[n,e]=A.useState(""),[t,r]=A.useState(null),[s,i]=A.useState(!0),[o,a]=A.useState(!1),[l,c]=A.useState(""),d=zs();A.useEffect(()=>{(async()=>{const g=rt.currentUser;if(g){const _=pe(te,"users",g.uid),D=await js(_);D.exists()&&r(D.data())}i(!1)})()},[]);const h=async p=>{p.preventDefault(),c("");const g=n.trim();if(s||!t){c("   .");return}if(!g){c("  .");return}if(t.teamId){c("    .");return}a(!0);try{const _=rt.currentUser,D=cn(te,"teams"),I=g.toLowerCase(),w=xs(D,Wo("teamNameLower","==",I),QI(1));if(!(await er(w)).empty)throw new Error("   .");const E=Math.random().toString(36).substring(2,8).toUpperCase(),L=(await JI(D,{teamName:g,teamNameLower:I,captainId:_.uid,inviteCode:E,createdAt:kd()})).id,M=pe(te,"teams",L,"members",_.uid);await ji(M,{realName:t.realName||"",position:t.preferredPosition||"CM",role:"captain",joinedAt:kd()});const S=pe(te,"users",_.uid);await $o(S,{teamId:L,teamRole:"captain"}),d(`/team/${L}`)}catch(_){console.error("Team Creation Error:",_),c(_.message||"    .")}finally{a(!1)}};return s?T.jsx("div",{className:$n.loadingContainer,children:"   ..."}):T.jsxs("div",{className:$n.pageContainer,children:[T.jsx("header",{className:$n.pageHeader,children:T.jsx(Ci,{to:"/",className:$n.backButton,children:""})}),T.jsx("div",{className:$n.content,children:T.jsxs("form",{onSubmit:h,children:[T.jsx("h2",{className:$n.title,children:"  "}),T.jsx("input",{className:$n.input,value:n,onChange:p=>e(p.target.value),placeholder:"  ","aria-label":" ",maxLength:40})]})}),T.jsxs("div",{className:$n.footer,children:[l&&T.jsx("p",{className:$n.errorMessage,children:l}),T.jsx("button",{type:"submit",className:$n.button,onClick:h,disabled:o,children:o?" ...":" "})]})]})}const VV="_pageContainer_t6j7b_8",FV="_pageHeader_t6j7b_16",jV="_backButton_t6j7b_21",BV="_content_t6j7b_28",UV="_footer_t6j7b_35",WV="_loadingContainer_t6j7b_40",$V="_title_t6j7b_50",HV="_input_t6j7b_59",YV="_button_t6j7b_83",zV="_errorMessage_t6j7b_106",Hn={pageContainer:VV,pageHeader:FV,backButton:jV,content:BV,footer:UV,loadingContainer:WV,title:$V,input:HV,button:YV,errorMessage:zV};function qV(){const[n,e]=A.useState(""),[t,r]=A.useState(null),[s,i]=A.useState(!0),[o,a]=A.useState(!1),[l,c]=A.useState(""),d=zs();A.useEffect(()=>{(async()=>{const g=rt.currentUser;if(g){const _=pe(te,"users",g.uid),D=await js(_);D.exists()&&r(D.data())}i(!1)})()},[]);const h=async p=>{if(p.preventDefault(),c(""),s||!t){c("   .");return}if(!n.trim()){c("  .");return}if(t.teamId){c("    .");return}a(!0);const g=rt.currentUser;try{const _=cn(te,"teams"),D=xs(_,Wo("inviteCode","==",n.trim().toUpperCase())),I=await er(D);if(I.empty)throw new Error("   .");const y=I.docs[0].id,E=pe(te,"teams",y,"members",g.uid);await ji(E,{realName:t.realName,position:t.preferredPosition||"CM",role:"member"});const x=pe(te,"users",g.uid);await $o(x,{teamId:y,teamRole:"member"}),d(`/team/${y}`)}catch(_){console.error("Team Join Error:",_),c(_.message||"    .")}finally{a(!1)}};return s?T.jsx("div",{className:Hn.loadingContainer,children:"   ..."}):T.jsxs("div",{className:Hn.pageContainer,children:[T.jsx("header",{className:Hn.pageHeader,children:T.jsx(Ci,{to:"/",className:Hn.backButton,children:""})}),T.jsx("div",{className:Hn.content,children:T.jsxs("form",{onSubmit:h,children:[T.jsx("h2",{className:Hn.title,children:" "}),T.jsx("input",{className:Hn.input,value:n,onChange:p=>e(p.target.value),placeholder:"  ","aria-label":" "})]})}),T.jsxs("div",{className:Hn.footer,children:[l&&T.jsx("p",{className:Hn.errorMessage,children:l}),T.jsx("button",{className:Hn.button,onClick:h,disabled:o,children:o?" ...":""})]})]})}function yn(n){const e=Object.prototype.toString.call(n);return n instanceof Date||typeof n=="object"&&e==="[object Date]"?new n.constructor(+n):typeof n=="number"||e==="[object Number]"||typeof n=="string"||e==="[object String]"?new Date(n):new Date(NaN)}function xi(n,e){return n instanceof Date?new n.constructor(e):new Date(e)}const rk=6048e5,QV=864e5;let KV={};function Ch(){return KV}function Ul(n,e){var a,l,c,d;const t=Ch(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??t.weekStartsOn??((d=(c=t.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,s=yn(n),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Dd(n){return Ul(n,{weekStartsOn:1})}function sk(n){const e=yn(n),t=e.getFullYear(),r=xi(n,0);r.setFullYear(t+1,0,4),r.setHours(0,0,0,0);const s=Dd(r),i=xi(n,0);i.setFullYear(t,0,4),i.setHours(0,0,0,0);const o=Dd(i);return e.getTime()>=s.getTime()?t+1:e.getTime()>=o.getTime()?t:t-1}function Wl(n){const e=yn(n);return e.setHours(0,0,0,0),e}function T0(n){const e=yn(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function GV(n,e){const t=Wl(n),r=Wl(e),s=+t-T0(t),i=+r-T0(r);return Math.round((s-i)/QV)}function XV(n){const e=sk(n),t=xi(n,0);return t.setFullYear(e,0,4),t.setHours(0,0,0,0),Dd(t)}function JV(n,e){const t=Wl(n),r=Wl(e);return+t==+r}function ZV(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function eF(n){if(!ZV(n)&&typeof n!="number")return!1;const e=yn(n);return!isNaN(Number(e))}function tF(n){const e=yn(n),t=xi(n,0);return t.setFullYear(e.getFullYear(),0,1),t.setHours(0,0,0,0),t}const nF={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},rF=(n,e,t)=>{let r;const s=nF[n];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function Co(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const sF={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},iF={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},oF={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},aF={date:Co({formats:sF,defaultWidth:"full"}),time:Co({formats:iF,defaultWidth:"full"}),dateTime:Co({formats:oF,defaultWidth:"full"})},lF={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},uF=(n,e,t,r)=>lF[n];function Kn(n){return(e,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let s;if(r==="formatting"&&n.formattingValues){const o=n.defaultFormattingWidth||n.defaultWidth,a=t!=null&&t.width?String(t.width):o;s=n.formattingValues[a]||n.formattingValues[o]}else{const o=n.defaultWidth,a=t!=null&&t.width?String(t.width):n.defaultWidth;s=n.values[a]||n.values[o]}const i=n.argumentCallback?n.argumentCallback(e):e;return s[i]}}const cF={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},dF={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},hF={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},fF={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},pF={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},mF={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},gF=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},vF={ordinalNumber:gF,era:Kn({values:cF,defaultWidth:"wide"}),quarter:Kn({values:dF,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Kn({values:hF,defaultWidth:"wide"}),day:Kn({values:fF,defaultWidth:"wide"}),dayPeriod:Kn({values:pF,defaultWidth:"wide",formattingValues:mF,defaultFormattingWidth:"wide"})};function Gn(n){return(e,t={})=>{const r=t.width,s=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],l=Array.isArray(a)?_F(a,h=>h.test(o)):yF(a,h=>h.test(o));let c;c=n.valueCallback?n.valueCallback(l):l,c=t.valueCallback?t.valueCallback(c):c;const d=e.slice(o.length);return{value:c,rest:d}}}function yF(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function _F(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function ik(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const s=r[0],i=e.match(n.parsePattern);if(!i)return null;let o=n.valueCallback?n.valueCallback(i[0]):i[0];o=t.valueCallback?t.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const wF=/^(\d+)(th|st|nd|rd)?/i,EF=/\d+/i,TF={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},SF={any:[/^b/i,/^(a|c)/i]},CF={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},IF={any:[/1/i,/2/i,/3/i,/4/i]},kF={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},DF={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},PF={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},bF={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},RF={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},xF={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},AF={ordinalNumber:ik({matchPattern:wF,parsePattern:EF,valueCallback:n=>parseInt(n,10)}),era:Gn({matchPatterns:TF,defaultMatchWidth:"wide",parsePatterns:SF,defaultParseWidth:"any"}),quarter:Gn({matchPatterns:CF,defaultMatchWidth:"wide",parsePatterns:IF,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Gn({matchPatterns:kF,defaultMatchWidth:"wide",parsePatterns:DF,defaultParseWidth:"any"}),day:Gn({matchPatterns:PF,defaultMatchWidth:"wide",parsePatterns:bF,defaultParseWidth:"any"}),dayPeriod:Gn({matchPatterns:RF,defaultMatchWidth:"any",parsePatterns:xF,defaultParseWidth:"any"})},NF={code:"en-US",formatDistance:rF,formatLong:aF,formatRelative:uF,localize:vF,match:AF,options:{weekStartsOn:0,firstWeekContainsDate:1}};function MF(n){const e=yn(n);return GV(e,tF(e))+1}function OF(n){const e=yn(n),t=+Dd(e)-+XV(e);return Math.round(t/rk)+1}function ok(n,e){var d,h,p,g;const t=yn(n),r=t.getFullYear(),s=Ch(),i=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(p=s.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,o=xi(n,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=Ul(o,e),l=xi(n,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const c=Ul(l,e);return t.getTime()>=a.getTime()?r+1:t.getTime()>=c.getTime()?r:r-1}function LF(n,e){var a,l,c,d;const t=Ch(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??t.firstWeekContainsDate??((d=(c=t.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,s=ok(n,e),i=xi(n,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),Ul(i,e)}function VF(n,e){const t=yn(n),r=+Ul(t,e)-+LF(t,e);return Math.round(r/rk)+1}function xe(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const ss={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return xe(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):xe(t+1,2)},d(n,e){return xe(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return xe(n.getHours()%12||12,e.length)},H(n,e){return xe(n.getHours(),e.length)},m(n,e){return xe(n.getMinutes(),e.length)},s(n,e){return xe(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),s=Math.trunc(r*Math.pow(10,t-3));return xe(s,e.length)}},Qi={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},S0={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),s=r>0?r:1-r;return t.ordinalNumber(s,{unit:"year"})}return ss.y(n,e)},Y:function(n,e,t,r){const s=ok(n,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return xe(o,2)}return e==="Yo"?t.ordinalNumber(i,{unit:"year"}):xe(i,e.length)},R:function(n,e){const t=sk(n);return xe(t,e.length)},u:function(n,e){const t=n.getFullYear();return xe(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return xe(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return xe(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return ss.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return xe(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const s=VF(n,r);return e==="wo"?t.ordinalNumber(s,{unit:"week"}):xe(s,e.length)},I:function(n,e,t){const r=OF(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):xe(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):ss.d(n,e)},D:function(n,e,t){const r=MF(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):xe(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const s=n.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return xe(i,2);case"eo":return t.ordinalNumber(i,{unit:"day"});case"eee":return t.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(s,{width:"short",context:"formatting"});case"eeee":default:return t.day(s,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const s=n.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return xe(i,e.length);case"co":return t.ordinalNumber(i,{unit:"day"});case"ccc":return t.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(s,{width:"narrow",context:"standalone"});case"cccccc":return t.day(s,{width:"short",context:"standalone"});case"cccc":default:return t.day(s,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return xe(s,e.length);case"io":return t.ordinalNumber(s,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const s=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let s;switch(r===12?s=Qi.noon:r===0?s=Qi.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let s;switch(r>=17?s=Qi.evening:r>=12?s=Qi.afternoon:r>=4?s=Qi.morning:s=Qi.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return ss.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):ss.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):xe(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):xe(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):ss.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):ss.s(n,e)},S:function(n,e){return ss.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return I0(r);case"XXXX":case"XX":return ri(r);case"XXXXX":case"XXX":default:return ri(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return I0(r);case"xxxx":case"xx":return ri(r);case"xxxxx":case"xxx":default:return ri(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+C0(r,":");case"OOOO":default:return"GMT"+ri(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+C0(r,":");case"zzzz":default:return"GMT"+ri(r,":")}},t:function(n,e,t){const r=Math.trunc(n.getTime()/1e3);return xe(r,e.length)},T:function(n,e,t){const r=n.getTime();return xe(r,e.length)}};function C0(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),s=Math.trunc(r/60),i=r%60;return i===0?t+String(s):t+String(s)+e+xe(i,2)}function I0(n,e){return n%60===0?(n>0?"-":"+")+xe(Math.abs(n)/60,2):ri(n,e)}function ri(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),s=xe(Math.trunc(r/60),2),i=xe(r%60,2);return t+s+e+i}const k0=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},ak=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},FF=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],s=t[2];if(!s)return k0(n,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",k0(r,e)).replace("{{time}}",ak(s,e))},jF={p:ak,P:FF},BF=/^D+$/,UF=/^Y+$/,WF=["D","DD","YY","YYYY"];function $F(n){return BF.test(n)}function HF(n){return UF.test(n)}function YF(n,e,t){const r=zF(n,e,t);if(console.warn(r),WF.includes(n))throw new RangeError(r)}function zF(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const qF=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,QF=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,KF=/^'([^]*?)'?$/,GF=/''/g,XF=/[a-zA-Z]/;function JF(n,e,t){var d,h,p,g,_,D,I,w;const r=Ch(),s=(t==null?void 0:t.locale)??r.locale??NF,i=(t==null?void 0:t.firstWeekContainsDate)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(p=r.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,o=(t==null?void 0:t.weekStartsOn)??((D=(_=t==null?void 0:t.locale)==null?void 0:_.options)==null?void 0:D.weekStartsOn)??r.weekStartsOn??((w=(I=r.locale)==null?void 0:I.options)==null?void 0:w.weekStartsOn)??0,a=yn(n);if(!eF(a))throw new RangeError("Invalid time value");let l=e.match(QF).map(y=>{const E=y[0];if(E==="p"||E==="P"){const x=jF[E];return x(y,s.formatLong)}return y}).join("").match(qF).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const E=y[0];if(E==="'")return{isToken:!1,value:ZF(y)};if(S0[E])return{isToken:!0,value:y};if(E.match(XF))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");return{isToken:!1,value:y}});s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const c={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return l.map(y=>{if(!y.isToken)return y.value;const E=y.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&HF(E)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&$F(E))&&YF(E,e,String(n));const x=S0[E[0]];return x(a,E,s.localize,c)}).join("")}function ZF(n){const e=n.match(KF);return e?e[1].replace(GF,"'"):n}function Wf(n,e){const t=yn(n);return t.setHours(e),t}function $f(n,e){const t=yn(n);return t.setMinutes(e),t}function ej(){return Wl(Date.now())}const tj={lessThanXSeconds:{one:"1 ",other:"{{count}} "},xSeconds:{one:"1",other:"{{count}}"},halfAMinute:"30",lessThanXMinutes:{one:"1 ",other:"{{count}} "},xMinutes:{one:"1",other:"{{count}}"},aboutXHours:{one:" 1",other:" {{count}}"},xHours:{one:"1",other:"{{count}}"},xDays:{one:"1",other:"{{count}}"},aboutXWeeks:{one:" 1",other:" {{count}}"},xWeeks:{one:"1",other:"{{count}}"},aboutXMonths:{one:" 1",other:" {{count}}"},xMonths:{one:"1",other:"{{count}}"},aboutXYears:{one:" 1",other:" {{count}}"},xYears:{one:"1",other:"{{count}}"},overXYears:{one:"1 ",other:"{{count}} "},almostXYears:{one:" 1",other:" {{count}}"}},nj=(n,e,t)=>{let r;const s=tj[n];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?r+" ":r+" ":r},rj={full:"y M d EEEE",long:"y M d",medium:"y.MM.dd",short:"y.MM.dd"},sj={full:"a H mm ss zzzz",long:"a H:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},ij={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},oj={date:Co({formats:rj,defaultWidth:"full"}),time:Co({formats:sj,defaultWidth:"full"}),dateTime:Co({formats:ij,defaultWidth:"full"})},aj={lastWeek:"'' eeee p",yesterday:"'' p",today:"'' p",tomorrow:"'' p",nextWeek:"'' eeee p",other:"P"},lj=(n,e,t,r)=>aj[n],uj={narrow:["BC","AD"],abbreviated:["BC","AD"],wide:["",""]},cj={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1","2","3","4"]},dj={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["1","2","3","4","5","6","7","8","9","10","11","12"],wide:["1","2","3","4","5","6","7","8","9","10","11","12"]},hj={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},fj={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},pj={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},mj=(n,e)=>{const t=Number(n);switch(String(e==null?void 0:e.unit)){case"minute":case"second":return String(t);case"date":return t+"";default:return t+""}},gj={ordinalNumber:mj,era:Kn({values:uj,defaultWidth:"wide"}),quarter:Kn({values:cj,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Kn({values:dj,defaultWidth:"wide"}),day:Kn({values:hj,defaultWidth:"wide"}),dayPeriod:Kn({values:fj,defaultWidth:"wide",formattingValues:pj,defaultFormattingWidth:"wide"})},vj=/^(\d+)(|)?/i,yj=/\d+/i,_j={narrow:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(|)/i},wj={any:[/^(bc|)/i,/^(ad|)/i]},Ej={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234]?/i},Tj={any:[/1/i,/2/i,/3/i,/4/i]},Sj={narrow:/^(1[012]|[123456789])/,abbreviated:/^(1[012]|[123456789])/i,wide:/^(1[012]|[123456789])/i},Cj={any:[/^1?$/,/^2/,/^3/,/^4/,/^5/,/^6/,/^7/,/^8/,/^9/,/^10/,/^11/,/^12/]},Ij={narrow:/^[]/,short:/^[]/,abbreviated:/^[]/,wide:/^[]/},kj={any:[/^/,/^/,/^/,/^/,/^/,/^/,/^/]},Dj={any:/^(am|pm|||||||)/i},Pj={any:{am:/^(am|)/i,pm:/^(pm|)/i,midnight:/^/i,noon:/^/i,morning:/^/i,afternoon:/^/i,evening:/^/i,night:/^/i}},bj={ordinalNumber:ik({matchPattern:vj,parsePattern:yj,valueCallback:n=>parseInt(n,10)}),era:Gn({matchPatterns:_j,defaultMatchWidth:"wide",parsePatterns:wj,defaultParseWidth:"any"}),quarter:Gn({matchPatterns:Ej,defaultMatchWidth:"wide",parsePatterns:Tj,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Gn({matchPatterns:Sj,defaultMatchWidth:"wide",parsePatterns:Cj,defaultParseWidth:"any"}),day:Gn({matchPatterns:Ij,defaultMatchWidth:"wide",parsePatterns:kj,defaultParseWidth:"any"}),dayPeriod:Gn({matchPatterns:Dj,defaultMatchWidth:"any",parsePatterns:Pj,defaultParseWidth:"any"})},Em={code:"ko",formatDistance:nj,formatLong:oj,formatRelative:lj,localize:gj,match:bj,options:{weekStartsOn:0,firstWeekContainsDate:1}};function lk(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=lk(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Ct(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=lk(n))&&(r&&(r+=" "),r+=e);return r}const uk=6048e5,Rj=864e5,Ih=6e4,kh=36e5,xj=1e3,D0=Symbol.for("constructDateFrom");function Oe(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&D0 in n?n[D0](e):n instanceof Date?new n.constructor(e):new Date(e)}function Z(n,e){return Oe(e||n,n)}function Ln(n,e,t){const r=Z(n,t==null?void 0:t.in);return isNaN(e)?Oe((t==null?void 0:t.in)||n,NaN):(e&&r.setDate(r.getDate()+e),r)}function Bn(n,e,t){const r=Z(n,t==null?void 0:t.in);if(isNaN(e))return Oe(n,NaN);if(!e)return r;const s=r.getDate(),i=Oe(n,r.getTime());i.setMonth(r.getMonth()+e+1,0);const o=i.getDate();return s>=o?i:(r.setFullYear(i.getFullYear(),i.getMonth(),s),r)}function ck(n,e,t){return Oe(n,+Z(n)+e)}function Aj(n,e,t){return ck(n,e*kh)}let Nj={};function Bi(){return Nj}function Hr(n,e){var a,l,c,d;const t=Bi(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??t.weekStartsOn??((d=(c=t.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,s=Z(n,e==null?void 0:e.in),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Ho(n,e){return Hr(n,{...e,weekStartsOn:1})}function dk(n,e){const t=Z(n,e==null?void 0:e.in),r=t.getFullYear(),s=Oe(t,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const i=Ho(s),o=Oe(t,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const a=Ho(o);return t.getTime()>=i.getTime()?r+1:t.getTime()>=a.getTime()?r:r-1}function Pd(n){const e=Z(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function Kr(n,...e){const t=Oe.bind(null,e.find(r=>typeof r=="object"));return e.map(t)}function Ai(n,e){const t=Z(n,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function Yo(n,e,t){const[r,s]=Kr(t==null?void 0:t.in,n,e),i=Ai(r),o=Ai(s),a=+i-Pd(i),l=+o-Pd(o);return Math.round((a-l)/Rj)}function Mj(n,e){const t=dk(n,e),r=Oe(n,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Ho(r)}function Tm(n,e,t){const r=Z(n,t==null?void 0:t.in);return r.setTime(r.getTime()+e*Ih),r}function Dv(n,e,t){return Bn(n,e*3,t)}function Oj(n,e,t){return ck(n,e*1e3)}function bd(n,e,t){return Ln(n,e*7,t)}function xr(n,e,t){return Bn(n,e*12,t)}function P0(n,e){let t,r=e==null?void 0:e.in;return n.forEach(s=>{!r&&typeof s=="object"&&(r=Oe.bind(null,s));const i=Z(s,r);(!t||t<i||isNaN(+i))&&(t=i)}),Oe(r,t||NaN)}function b0(n,e){let t,r=e==null?void 0:e.in;return n.forEach(s=>{!r&&typeof s=="object"&&(r=Oe.bind(null,s));const i=Z(s,r);(!t||t>i||isNaN(+i))&&(t=i)}),Oe(r,t||NaN)}function Lj(n,e,t){const[r,s]=Kr(t==null?void 0:t.in,n,e);return+Ai(r)==+Ai(s)}function Ar(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function Rd(n){return!(!Ar(n)&&typeof n!="number"||isNaN(+Z(n)))}function xd(n,e,t){const[r,s]=Kr(t==null?void 0:t.in,n,e),i=r.getFullYear()-s.getFullYear(),o=r.getMonth()-s.getMonth();return i*12+o}function gi(n,e){const t=Z(n,e==null?void 0:e.in);return Math.trunc(t.getMonth()/3)+1}function Ad(n,e,t){const[r,s]=Kr(t==null?void 0:t.in,n,e),i=r.getFullYear()-s.getFullYear(),o=gi(r)-gi(s);return i*4+o}function Nd(n,e,t){const[r,s]=Kr(t==null?void 0:t.in,n,e);return r.getFullYear()-s.getFullYear()}function Vj(n,e,t){const[r,s]=Kr(t==null?void 0:t.in,n,e),i=R0(r,s),o=Math.abs(Yo(r,s));r.setDate(r.getDate()-i*o);const a=+(R0(r,s)===-i),l=i*(o-a);return l===0?0:l}function R0(n,e){const t=n.getFullYear()-e.getFullYear()||n.getMonth()-e.getMonth()||n.getDate()-e.getDate()||n.getHours()-e.getHours()||n.getMinutes()-e.getMinutes()||n.getSeconds()-e.getSeconds()||n.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function hk(n,e){const t=Z(n,e==null?void 0:e.in);return t.setHours(23,59,59,999),t}function fk(n,e){const t=Z(n,e==null?void 0:e.in),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Sm(n,e){const t=Z(n,e==null?void 0:e.in),r=t.getMonth(),s=r-r%3;return t.setMonth(s,1),t.setHours(0,0,0,0),t}function pk(n,e){const t=Z(n,e==null?void 0:e.in);return t.setDate(1),t.setHours(0,0,0,0),t}function mk(n,e){const t=Z(n,e==null?void 0:e.in),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t}function Dh(n,e){const t=Z(n,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function Fj(n,e){var a,l;const t=Bi(),r=t.weekStartsOn??((l=(a=t.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??0,s=Z(n,e==null?void 0:e.in),i=s.getDay(),o=(i<r?-7:0)+6-(i-r);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}const jj={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Bj=(n,e,t)=>{let r;const s=jj[n];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function Hf(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const Uj={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Wj={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},$j={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Hj={date:Hf({formats:Uj,defaultWidth:"full"}),time:Hf({formats:Wj,defaultWidth:"full"}),dateTime:Hf({formats:$j,defaultWidth:"full"})},Yj={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},zj=(n,e,t,r)=>Yj[n];function Na(n){return(e,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let s;if(r==="formatting"&&n.formattingValues){const o=n.defaultFormattingWidth||n.defaultWidth,a=t!=null&&t.width?String(t.width):o;s=n.formattingValues[a]||n.formattingValues[o]}else{const o=n.defaultWidth,a=t!=null&&t.width?String(t.width):n.defaultWidth;s=n.values[a]||n.values[o]}const i=n.argumentCallback?n.argumentCallback(e):e;return s[i]}}const qj={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Qj={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Kj={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Gj={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Xj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Jj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Zj=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},e4={ordinalNumber:Zj,era:Na({values:qj,defaultWidth:"wide"}),quarter:Na({values:Qj,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Na({values:Kj,defaultWidth:"wide"}),day:Na({values:Gj,defaultWidth:"wide"}),dayPeriod:Na({values:Xj,defaultWidth:"wide",formattingValues:Jj,defaultFormattingWidth:"wide"})};function Ma(n){return(e,t={})=>{const r=t.width,s=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],l=Array.isArray(a)?n4(a,h=>h.test(o)):t4(a,h=>h.test(o));let c;c=n.valueCallback?n.valueCallback(l):l,c=t.valueCallback?t.valueCallback(c):c;const d=e.slice(o.length);return{value:c,rest:d}}}function t4(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function n4(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function r4(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const s=r[0],i=e.match(n.parsePattern);if(!i)return null;let o=n.valueCallback?n.valueCallback(i[0]):i[0];o=t.valueCallback?t.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const s4=/^(\d+)(th|st|nd|rd)?/i,i4=/\d+/i,o4={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},a4={any:[/^b/i,/^(a|c)/i]},l4={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},u4={any:[/1/i,/2/i,/3/i,/4/i]},c4={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},d4={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},h4={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},f4={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},p4={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},m4={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},g4={ordinalNumber:r4({matchPattern:s4,parsePattern:i4,valueCallback:n=>parseInt(n,10)}),era:Ma({matchPatterns:o4,defaultMatchWidth:"wide",parsePatterns:a4,defaultParseWidth:"any"}),quarter:Ma({matchPatterns:l4,defaultMatchWidth:"wide",parsePatterns:u4,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Ma({matchPatterns:c4,defaultMatchWidth:"wide",parsePatterns:d4,defaultParseWidth:"any"}),day:Ma({matchPatterns:h4,defaultMatchWidth:"wide",parsePatterns:f4,defaultParseWidth:"any"}),dayPeriod:Ma({matchPatterns:p4,defaultMatchWidth:"any",parsePatterns:m4,defaultParseWidth:"any"})},gk={code:"en-US",formatDistance:Bj,formatLong:Hj,formatRelative:zj,localize:e4,match:g4,options:{weekStartsOn:0,firstWeekContainsDate:1}};function v4(n,e){const t=Z(n,e==null?void 0:e.in);return Yo(t,Dh(t))+1}function Pv(n,e){const t=Z(n,e==null?void 0:e.in),r=+Ho(t)-+Mj(t);return Math.round(r/uk)+1}function bv(n,e){var d,h,p,g;const t=Z(n,e==null?void 0:e.in),r=t.getFullYear(),s=Bi(),i=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(p=s.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,o=Oe((e==null?void 0:e.in)||n,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=Hr(o,e),l=Oe((e==null?void 0:e.in)||n,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const c=Hr(l,e);return+t>=+a?r+1:+t>=+c?r:r-1}function y4(n,e){var a,l,c,d;const t=Bi(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??t.firstWeekContainsDate??((d=(c=t.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,s=bv(n,e),i=Oe((e==null?void 0:e.in)||n,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),Hr(i,e)}function vk(n,e){const t=Z(n,e==null?void 0:e.in),r=+Hr(t,e)-+y4(t,e);return Math.round(r/uk)+1}function Ae(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const is={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return Ae(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):Ae(t+1,2)},d(n,e){return Ae(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return Ae(n.getHours()%12||12,e.length)},H(n,e){return Ae(n.getHours(),e.length)},m(n,e){return Ae(n.getMinutes(),e.length)},s(n,e){return Ae(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),s=Math.trunc(r*Math.pow(10,t-3));return Ae(s,e.length)}},Ki={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},x0={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),s=r>0?r:1-r;return t.ordinalNumber(s,{unit:"year"})}return is.y(n,e)},Y:function(n,e,t,r){const s=bv(n,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return Ae(o,2)}return e==="Yo"?t.ordinalNumber(i,{unit:"year"}):Ae(i,e.length)},R:function(n,e){const t=dk(n);return Ae(t,e.length)},u:function(n,e){const t=n.getFullYear();return Ae(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Ae(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Ae(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return is.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return Ae(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const s=vk(n,r);return e==="wo"?t.ordinalNumber(s,{unit:"week"}):Ae(s,e.length)},I:function(n,e,t){const r=Pv(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):Ae(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):is.d(n,e)},D:function(n,e,t){const r=v4(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):Ae(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const s=n.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Ae(i,2);case"eo":return t.ordinalNumber(i,{unit:"day"});case"eee":return t.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(s,{width:"short",context:"formatting"});case"eeee":default:return t.day(s,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const s=n.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Ae(i,e.length);case"co":return t.ordinalNumber(i,{unit:"day"});case"ccc":return t.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(s,{width:"narrow",context:"standalone"});case"cccccc":return t.day(s,{width:"short",context:"standalone"});case"cccc":default:return t.day(s,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return Ae(s,e.length);case"io":return t.ordinalNumber(s,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const s=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let s;switch(r===12?s=Ki.noon:r===0?s=Ki.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let s;switch(r>=17?s=Ki.evening:r>=12?s=Ki.afternoon:r>=4?s=Ki.morning:s=Ki.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return is.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):is.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):Ae(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):Ae(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):is.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):is.s(n,e)},S:function(n,e){return is.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return N0(r);case"XXXX":case"XX":return si(r);case"XXXXX":case"XXX":default:return si(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return N0(r);case"xxxx":case"xx":return si(r);case"xxxxx":case"xxx":default:return si(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+A0(r,":");case"OOOO":default:return"GMT"+si(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+A0(r,":");case"zzzz":default:return"GMT"+si(r,":")}},t:function(n,e,t){const r=Math.trunc(+n/1e3);return Ae(r,e.length)},T:function(n,e,t){return Ae(+n,e.length)}};function A0(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),s=Math.trunc(r/60),i=r%60;return i===0?t+String(s):t+String(s)+e+Ae(i,2)}function N0(n,e){return n%60===0?(n>0?"-":"+")+Ae(Math.abs(n)/60,2):si(n,e)}function si(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),s=Ae(Math.trunc(r/60),2),i=Ae(r%60,2);return t+s+e+i}const M0=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},yk=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},_4=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],s=t[2];if(!s)return M0(n,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",M0(r,e)).replace("{{time}}",yk(s,e))},Cm={p:yk,P:_4},w4=/^D+$/,E4=/^Y+$/,T4=["D","DD","YY","YYYY"];function S4(n){return w4.test(n)}function C4(n){return E4.test(n)}function I4(n,e,t){const r=k4(n,e,t);if(console.warn(r),T4.includes(n))throw new RangeError(r)}function k4(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const D4=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,P4=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,b4=/^'([^]*?)'?$/,R4=/''/g,x4=/[a-zA-Z]/;function O0(n,e,t){var d,h,p,g,_,D,I,w;const r=Bi(),s=(t==null?void 0:t.locale)??r.locale??gk,i=(t==null?void 0:t.firstWeekContainsDate)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(p=r.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,o=(t==null?void 0:t.weekStartsOn)??((D=(_=t==null?void 0:t.locale)==null?void 0:_.options)==null?void 0:D.weekStartsOn)??r.weekStartsOn??((w=(I=r.locale)==null?void 0:I.options)==null?void 0:w.weekStartsOn)??0,a=Z(n,t==null?void 0:t.in);if(!Rd(a))throw new RangeError("Invalid time value");let l=e.match(P4).map(y=>{const E=y[0];if(E==="p"||E==="P"){const x=Cm[E];return x(y,s.formatLong)}return y}).join("").match(D4).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const E=y[0];if(E==="'")return{isToken:!1,value:A4(y)};if(x0[E])return{isToken:!0,value:y};if(E.match(x4))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");return{isToken:!1,value:y}});s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const c={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return l.map(y=>{if(!y.isToken)return y.value;const E=y.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&C4(E)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&S4(E))&&I4(E,e,String(n));const x=x0[E[0]];return x(a,E,s.localize,c)}).join("")}function A4(n){const e=n.match(b4);return e?e[1].replace(R4,"'"):n}function L0(n,e){return Z(n,e==null?void 0:e.in).getDate()}function N4(n,e){return Z(n,e==null?void 0:e.in).getDay()}function M4(n,e){const t=Z(n,e==null?void 0:e.in),r=t.getFullYear(),s=t.getMonth(),i=Oe(t,0);return i.setFullYear(r,s+1,0),i.setHours(0,0,0,0),i.getDate()}function O4(){return Object.assign({},Bi())}function Nr(n,e){return Z(n,e==null?void 0:e.in).getHours()}function L4(n,e){const t=Z(n,e==null?void 0:e.in).getDay();return t===0?7:t}function Mr(n,e){return Z(n,e==null?void 0:e.in).getMinutes()}function jt(n,e){return Z(n,e==null?void 0:e.in).getMonth()}function As(n){return Z(n).getSeconds()}function Im(n){return+Z(n)}function me(n,e){return Z(n,e==null?void 0:e.in).getFullYear()}function Bs(n,e){return+Z(n)>+Z(e)}function tr(n,e){return+Z(n)<+Z(e)}function V4(n,e){return+Z(n)==+Z(e)}function F4(n,e){const t=j4(e)?new e(0):Oe(e,0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),t}function j4(n){var e;return typeof n=="function"&&((e=n.prototype)==null?void 0:e.constructor)===n}const B4=10;class _k{constructor(){K(this,"subPriority",0)}validate(e,t){return!0}}class U4 extends _k{constructor(e,t,r,s,i){super(),this.value=e,this.validateValue=t,this.setValue=r,this.priority=s,i&&(this.subPriority=i)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,r){return this.setValue(e,t,this.value,r)}}class W4 extends _k{constructor(t,r){super();K(this,"priority",B4);K(this,"subPriority",-1);this.context=t||(s=>Oe(r,s))}set(t,r){return r.timestampIsSet?t:Oe(t,F4(t,this.context))}}class be{run(e,t,r,s){const i=this.parse(e,t,r,s);return i?{setter:new U4(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(e,t,r){return!0}}class $4 extends be{constructor(){super(...arguments);K(this,"priority",140);K(this,"incompatibleTokens",["R","u","t","T"])}parse(t,r,s){switch(r){case"G":case"GG":case"GGG":return s.era(t,{width:"abbreviated"})||s.era(t,{width:"narrow"});case"GGGGG":return s.era(t,{width:"narrow"});case"GGGG":default:return s.era(t,{width:"wide"})||s.era(t,{width:"abbreviated"})||s.era(t,{width:"narrow"})}}set(t,r,s){return r.era=s,t.setFullYear(s,0,1),t.setHours(0,0,0,0),t}}const st={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Xn={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function it(n,e){return n&&{value:e(n.value),rest:n.rest}}function ze(n,e){const t=e.match(n);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function Jn(n,e){const t=e.match(n);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const r=t[1]==="+"?1:-1,s=t[2]?parseInt(t[2],10):0,i=t[3]?parseInt(t[3],10):0,o=t[5]?parseInt(t[5],10):0;return{value:r*(s*kh+i*Ih+o*xj),rest:e.slice(t[0].length)}}function wk(n){return ze(st.anyDigitsSigned,n)}function et(n,e){switch(n){case 1:return ze(st.singleDigit,e);case 2:return ze(st.twoDigits,e);case 3:return ze(st.threeDigits,e);case 4:return ze(st.fourDigits,e);default:return ze(new RegExp("^\\d{1,"+n+"}"),e)}}function Md(n,e){switch(n){case 1:return ze(st.singleDigitSigned,e);case 2:return ze(st.twoDigitsSigned,e);case 3:return ze(st.threeDigitsSigned,e);case 4:return ze(st.fourDigitsSigned,e);default:return ze(new RegExp("^-?\\d{1,"+n+"}"),e)}}function Rv(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Ek(n,e){const t=e>0,r=t?e:1-e;let s;if(r<=50)s=n||100;else{const i=r+50,o=Math.trunc(i/100)*100,a=n>=i%100;s=n+o-(a?100:0)}return t?s:1-s}function Tk(n){return n%400===0||n%4===0&&n%100!==0}class H4 extends be{constructor(){super(...arguments);K(this,"priority",130);K(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,r,s){const i=o=>({year:o,isTwoDigitYear:r==="yy"});switch(r){case"y":return it(et(4,t),i);case"yo":return it(s.ordinalNumber(t,{unit:"year"}),i);default:return it(et(r.length,t),i)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,s){const i=t.getFullYear();if(s.isTwoDigitYear){const a=Ek(s.year,i);return t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}const o=!("era"in r)||r.era===1?s.year:1-s.year;return t.setFullYear(o,0,1),t.setHours(0,0,0,0),t}}class Y4 extends be{constructor(){super(...arguments);K(this,"priority",130);K(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,r,s){const i=o=>({year:o,isTwoDigitYear:r==="YY"});switch(r){case"Y":return it(et(4,t),i);case"Yo":return it(s.ordinalNumber(t,{unit:"year"}),i);default:return it(et(r.length,t),i)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,s,i){const o=bv(t,i);if(s.isTwoDigitYear){const l=Ek(s.year,o);return t.setFullYear(l,0,i.firstWeekContainsDate),t.setHours(0,0,0,0),Hr(t,i)}const a=!("era"in r)||r.era===1?s.year:1-s.year;return t.setFullYear(a,0,i.firstWeekContainsDate),t.setHours(0,0,0,0),Hr(t,i)}}class z4 extends be{constructor(){super(...arguments);K(this,"priority",130);K(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,r){return Md(r==="R"?4:r.length,t)}set(t,r,s){const i=Oe(t,0);return i.setFullYear(s,0,4),i.setHours(0,0,0,0),Ho(i)}}class q4 extends be{constructor(){super(...arguments);K(this,"priority",130);K(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,r){return Md(r==="u"?4:r.length,t)}set(t,r,s){return t.setFullYear(s,0,1),t.setHours(0,0,0,0),t}}class Q4 extends be{constructor(){super(...arguments);K(this,"priority",120);K(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,s){switch(r){case"Q":case"QQ":return et(r.length,t);case"Qo":return s.ordinalNumber(t,{unit:"quarter"});case"QQQ":return s.quarter(t,{width:"abbreviated",context:"formatting"})||s.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(t,{width:"wide",context:"formatting"})||s.quarter(t,{width:"abbreviated",context:"formatting"})||s.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=1&&r<=4}set(t,r,s){return t.setMonth((s-1)*3,1),t.setHours(0,0,0,0),t}}class K4 extends be{constructor(){super(...arguments);K(this,"priority",120);K(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,s){switch(r){case"q":case"qq":return et(r.length,t);case"qo":return s.ordinalNumber(t,{unit:"quarter"});case"qqq":return s.quarter(t,{width:"abbreviated",context:"standalone"})||s.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(t,{width:"wide",context:"standalone"})||s.quarter(t,{width:"abbreviated",context:"standalone"})||s.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=1&&r<=4}set(t,r,s){return t.setMonth((s-1)*3,1),t.setHours(0,0,0,0),t}}class G4 extends be{constructor(){super(...arguments);K(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);K(this,"priority",110)}parse(t,r,s){const i=o=>o-1;switch(r){case"M":return it(ze(st.month,t),i);case"MM":return it(et(2,t),i);case"Mo":return it(s.ordinalNumber(t,{unit:"month"}),i);case"MMM":return s.month(t,{width:"abbreviated",context:"formatting"})||s.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(t,{width:"wide",context:"formatting"})||s.month(t,{width:"abbreviated",context:"formatting"})||s.month(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=11}set(t,r,s){return t.setMonth(s,1),t.setHours(0,0,0,0),t}}class X4 extends be{constructor(){super(...arguments);K(this,"priority",110);K(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,r,s){const i=o=>o-1;switch(r){case"L":return it(ze(st.month,t),i);case"LL":return it(et(2,t),i);case"Lo":return it(s.ordinalNumber(t,{unit:"month"}),i);case"LLL":return s.month(t,{width:"abbreviated",context:"standalone"})||s.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(t,{width:"wide",context:"standalone"})||s.month(t,{width:"abbreviated",context:"standalone"})||s.month(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=11}set(t,r,s){return t.setMonth(s,1),t.setHours(0,0,0,0),t}}function J4(n,e,t){const r=Z(n,t==null?void 0:t.in),s=vk(r,t)-e;return r.setDate(r.getDate()-s*7),Z(r,t==null?void 0:t.in)}class Z4 extends be{constructor(){super(...arguments);K(this,"priority",100);K(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,r,s){switch(r){case"w":return ze(st.week,t);case"wo":return s.ordinalNumber(t,{unit:"week"});default:return et(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,s,i){return Hr(J4(t,s,i),i)}}function eB(n,e,t){const r=Z(n,t==null?void 0:t.in),s=Pv(r,t)-e;return r.setDate(r.getDate()-s*7),r}class tB extends be{constructor(){super(...arguments);K(this,"priority",100);K(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,r,s){switch(r){case"I":return ze(st.week,t);case"Io":return s.ordinalNumber(t,{unit:"week"});default:return et(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,s){return Ho(eB(t,s))}}const nB=[31,28,31,30,31,30,31,31,30,31,30,31],rB=[31,29,31,30,31,30,31,31,30,31,30,31];class sB extends be{constructor(){super(...arguments);K(this,"priority",90);K(this,"subPriority",1);K(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,r,s){switch(r){case"d":return ze(st.date,t);case"do":return s.ordinalNumber(t,{unit:"date"});default:return et(r.length,t)}}validate(t,r){const s=t.getFullYear(),i=Tk(s),o=t.getMonth();return i?r>=1&&r<=rB[o]:r>=1&&r<=nB[o]}set(t,r,s){return t.setDate(s),t.setHours(0,0,0,0),t}}class iB extends be{constructor(){super(...arguments);K(this,"priority",90);K(this,"subpriority",1);K(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,r,s){switch(r){case"D":case"DD":return ze(st.dayOfYear,t);case"Do":return s.ordinalNumber(t,{unit:"date"});default:return et(r.length,t)}}validate(t,r){const s=t.getFullYear();return Tk(s)?r>=1&&r<=366:r>=1&&r<=365}set(t,r,s){return t.setMonth(0,s),t.setHours(0,0,0,0),t}}function xv(n,e,t){var h,p,g,_;const r=Bi(),s=(t==null?void 0:t.weekStartsOn)??((p=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??r.weekStartsOn??((_=(g=r.locale)==null?void 0:g.options)==null?void 0:_.weekStartsOn)??0,i=Z(n,t==null?void 0:t.in),o=i.getDay(),l=(e%7+7)%7,c=7-s,d=e<0||e>6?e-(o+c)%7:(l+c)%7-(o+c)%7;return Ln(i,d,t)}class oB extends be{constructor(){super(...arguments);K(this,"priority",90);K(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,r,s){switch(r){case"E":case"EE":case"EEE":return s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(t,{width:"wide",context:"formatting"})||s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,s,i){return t=xv(t,s,i),t.setHours(0,0,0,0),t}}class aB extends be{constructor(){super(...arguments);K(this,"priority",90);K(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,r,s,i){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+i.weekStartsOn+6)%7+l};switch(r){case"e":case"ee":return it(et(r.length,t),o);case"eo":return it(s.ordinalNumber(t,{unit:"day"}),o);case"eee":return s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"eeeee":return s.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(t,{width:"wide",context:"formatting"})||s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,s,i){return t=xv(t,s,i),t.setHours(0,0,0,0),t}}class lB extends be{constructor(){super(...arguments);K(this,"priority",90);K(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,r,s,i){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+i.weekStartsOn+6)%7+l};switch(r){case"c":case"cc":return it(et(r.length,t),o);case"co":return it(s.ordinalNumber(t,{unit:"day"}),o);case"ccc":return s.day(t,{width:"abbreviated",context:"standalone"})||s.day(t,{width:"short",context:"standalone"})||s.day(t,{width:"narrow",context:"standalone"});case"ccccc":return s.day(t,{width:"narrow",context:"standalone"});case"cccccc":return s.day(t,{width:"short",context:"standalone"})||s.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(t,{width:"wide",context:"standalone"})||s.day(t,{width:"abbreviated",context:"standalone"})||s.day(t,{width:"short",context:"standalone"})||s.day(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=6}set(t,r,s,i){return t=xv(t,s,i),t.setHours(0,0,0,0),t}}function uB(n,e,t){const r=Z(n,t==null?void 0:t.in),s=L4(r,t),i=e-s;return Ln(r,i,t)}class cB extends be{constructor(){super(...arguments);K(this,"priority",90);K(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,r,s){const i=o=>o===0?7:o;switch(r){case"i":case"ii":return et(r.length,t);case"io":return s.ordinalNumber(t,{unit:"day"});case"iii":return it(s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"}),i);case"iiiii":return it(s.day(t,{width:"narrow",context:"formatting"}),i);case"iiiiii":return it(s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"}),i);case"iiii":default:return it(s.day(t,{width:"wide",context:"formatting"})||s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"}),i)}}validate(t,r){return r>=1&&r<=7}set(t,r,s){return t=uB(t,s),t.setHours(0,0,0,0),t}}class dB extends be{constructor(){super(...arguments);K(this,"priority",80);K(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,r,s){switch(r){case"a":case"aa":case"aaa":return s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(t,{width:"wide",context:"formatting"})||s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,s){return t.setHours(Rv(s),0,0,0),t}}class hB extends be{constructor(){super(...arguments);K(this,"priority",80);K(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,r,s){switch(r){case"b":case"bb":case"bbb":return s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(t,{width:"wide",context:"formatting"})||s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,s){return t.setHours(Rv(s),0,0,0),t}}class fB extends be{constructor(){super(...arguments);K(this,"priority",80);K(this,"incompatibleTokens",["a","b","t","T"])}parse(t,r,s){switch(r){case"B":case"BB":case"BBB":return s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(t,{width:"wide",context:"formatting"})||s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,s){return t.setHours(Rv(s),0,0,0),t}}class pB extends be{constructor(){super(...arguments);K(this,"priority",70);K(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,r,s){switch(r){case"h":return ze(st.hour12h,t);case"ho":return s.ordinalNumber(t,{unit:"hour"});default:return et(r.length,t)}}validate(t,r){return r>=1&&r<=12}set(t,r,s){const i=t.getHours()>=12;return i&&s<12?t.setHours(s+12,0,0,0):!i&&s===12?t.setHours(0,0,0,0):t.setHours(s,0,0,0),t}}class mB extends be{constructor(){super(...arguments);K(this,"priority",70);K(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,r,s){switch(r){case"H":return ze(st.hour23h,t);case"Ho":return s.ordinalNumber(t,{unit:"hour"});default:return et(r.length,t)}}validate(t,r){return r>=0&&r<=23}set(t,r,s){return t.setHours(s,0,0,0),t}}class gB extends be{constructor(){super(...arguments);K(this,"priority",70);K(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,r,s){switch(r){case"K":return ze(st.hour11h,t);case"Ko":return s.ordinalNumber(t,{unit:"hour"});default:return et(r.length,t)}}validate(t,r){return r>=0&&r<=11}set(t,r,s){return t.getHours()>=12&&s<12?t.setHours(s+12,0,0,0):t.setHours(s,0,0,0),t}}class vB extends be{constructor(){super(...arguments);K(this,"priority",70);K(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,r,s){switch(r){case"k":return ze(st.hour24h,t);case"ko":return s.ordinalNumber(t,{unit:"hour"});default:return et(r.length,t)}}validate(t,r){return r>=1&&r<=24}set(t,r,s){const i=s<=24?s%24:s;return t.setHours(i,0,0,0),t}}class yB extends be{constructor(){super(...arguments);K(this,"priority",60);K(this,"incompatibleTokens",["t","T"])}parse(t,r,s){switch(r){case"m":return ze(st.minute,t);case"mo":return s.ordinalNumber(t,{unit:"minute"});default:return et(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,s){return t.setMinutes(s,0,0),t}}class _B extends be{constructor(){super(...arguments);K(this,"priority",50);K(this,"incompatibleTokens",["t","T"])}parse(t,r,s){switch(r){case"s":return ze(st.second,t);case"so":return s.ordinalNumber(t,{unit:"second"});default:return et(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,s){return t.setSeconds(s,0),t}}class wB extends be{constructor(){super(...arguments);K(this,"priority",30);K(this,"incompatibleTokens",["t","T"])}parse(t,r){const s=i=>Math.trunc(i*Math.pow(10,-r.length+3));return it(et(r.length,t),s)}set(t,r,s){return t.setMilliseconds(s),t}}class EB extends be{constructor(){super(...arguments);K(this,"priority",10);K(this,"incompatibleTokens",["t","T","x"])}parse(t,r){switch(r){case"X":return Jn(Xn.basicOptionalMinutes,t);case"XX":return Jn(Xn.basic,t);case"XXXX":return Jn(Xn.basicOptionalSeconds,t);case"XXXXX":return Jn(Xn.extendedOptionalSeconds,t);case"XXX":default:return Jn(Xn.extended,t)}}set(t,r,s){return r.timestampIsSet?t:Oe(t,t.getTime()-Pd(t)-s)}}class TB extends be{constructor(){super(...arguments);K(this,"priority",10);K(this,"incompatibleTokens",["t","T","X"])}parse(t,r){switch(r){case"x":return Jn(Xn.basicOptionalMinutes,t);case"xx":return Jn(Xn.basic,t);case"xxxx":return Jn(Xn.basicOptionalSeconds,t);case"xxxxx":return Jn(Xn.extendedOptionalSeconds,t);case"xxx":default:return Jn(Xn.extended,t)}}set(t,r,s){return r.timestampIsSet?t:Oe(t,t.getTime()-Pd(t)-s)}}class SB extends be{constructor(){super(...arguments);K(this,"priority",40);K(this,"incompatibleTokens","*")}parse(t){return wk(t)}set(t,r,s){return[Oe(t,s*1e3),{timestampIsSet:!0}]}}class CB extends be{constructor(){super(...arguments);K(this,"priority",20);K(this,"incompatibleTokens","*")}parse(t){return wk(t)}set(t,r,s){return[Oe(t,s),{timestampIsSet:!0}]}}const IB={G:new $4,y:new H4,Y:new Y4,R:new z4,u:new q4,Q:new Q4,q:new K4,M:new G4,L:new X4,w:new Z4,I:new tB,d:new sB,D:new iB,E:new oB,e:new aB,c:new lB,i:new cB,a:new dB,b:new hB,B:new fB,h:new pB,H:new mB,K:new gB,k:new vB,m:new yB,s:new _B,S:new wB,X:new EB,x:new TB,t:new SB,T:new CB},kB=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,DB=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,PB=/^'([^]*?)'?$/,bB=/''/g,RB=/\S/,xB=/[a-zA-Z]/;function AB(n,e,t,r){var I,w,y,E,x,L,M,S;const s=()=>Oe((r==null?void 0:r.in)||t,NaN),i=O4(),o=(r==null?void 0:r.locale)??i.locale??gk,a=(r==null?void 0:r.firstWeekContainsDate)??((w=(I=r==null?void 0:r.locale)==null?void 0:I.options)==null?void 0:w.firstWeekContainsDate)??i.firstWeekContainsDate??((E=(y=i.locale)==null?void 0:y.options)==null?void 0:E.firstWeekContainsDate)??1,l=(r==null?void 0:r.weekStartsOn)??((L=(x=r==null?void 0:r.locale)==null?void 0:x.options)==null?void 0:L.weekStartsOn)??i.weekStartsOn??((S=(M=i.locale)==null?void 0:M.options)==null?void 0:S.weekStartsOn)??0;if(!e)return n?s():Z(t,r==null?void 0:r.in);const c={firstWeekContainsDate:a,weekStartsOn:l,locale:o},d=[new W4(r==null?void 0:r.in,t)],h=e.match(DB).map(v=>{const C=v[0];if(C in Cm){const P=Cm[C];return P(v,o.formatLong)}return v}).join("").match(kB),p=[];for(let v of h){const C=v[0],P=IB[C];if(P){const{incompatibleTokens:R}=P;if(Array.isArray(R)){const b=p.find(se=>R.includes(se.token)||se.token===C);if(b)throw new RangeError(`The format string mustn't contain \`${b.fullToken}\` and \`${v}\` at the same time`)}else if(P.incompatibleTokens==="*"&&p.length>0)throw new RangeError(`The format string mustn't contain \`${v}\` and any other token at the same time`);p.push({token:C,fullToken:v});const N=P.run(n,v,o.match,c);if(!N)return s();d.push(N.setter),n=N.rest}else{if(C.match(xB))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");if(v==="''"?v="'":C==="'"&&(v=NB(v)),n.indexOf(v)===0)n=n.slice(v.length);else return s()}}if(n.length>0&&RB.test(n))return s();const g=d.map(v=>v.priority).sort((v,C)=>C-v).filter((v,C,P)=>P.indexOf(v)===C).map(v=>d.filter(C=>C.priority===v).sort((C,P)=>P.subPriority-C.subPriority)).map(v=>v[0]);let _=Z(t,r==null?void 0:r.in);if(isNaN(+_))return s();const D={};for(const v of g){if(!v.validate(_,c))return s();const C=v.set(_,D,c);Array.isArray(C)?(_=C[0],Object.assign(D,C[1])):_=C}return _}function NB(n){return n.match(PB)[1].replace(bB,"'")}function MB(n,e,t){const[r,s]=Kr(t==null?void 0:t.in,n,e);return r.getFullYear()===s.getFullYear()&&r.getMonth()===s.getMonth()}function OB(n,e,t){const[r,s]=Kr(t==null?void 0:t.in,n,e);return+Sm(r)==+Sm(s)}function LB(n,e,t){const[r,s]=Kr(t==null?void 0:t.in,n,e);return r.getFullYear()===s.getFullYear()}function $l(n,e,t){const r=+Z(n,t==null?void 0:t.in),[s,i]=[+Z(e.start,t==null?void 0:t.in),+Z(e.end,t==null?void 0:t.in)].sort((o,a)=>o-a);return r>=s&&r<=i}function VB(n,e,t){return Ln(n,-1,t)}function FB(n,e){const t=()=>Oe(e==null?void 0:e.in,NaN),s=WB(n);let i;if(s.date){const c=$B(s.date,2);i=HB(c.restDateString,c.year)}if(!i||isNaN(+i))return t();const o=+i;let a=0,l;if(s.time&&(a=YB(s.time),isNaN(a)))return t();if(s.timezone){if(l=zB(s.timezone),isNaN(l))return t()}else{const c=new Date(o+a),d=Z(0,e==null?void 0:e.in);return d.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),d.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),d}return Z(o+a+l,e==null?void 0:e.in)}const sc={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},jB=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,BB=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,UB=/^([+-])(\d{2})(?::?(\d{2}))?$/;function WB(n){const e={},t=n.split(sc.dateTimeDelimiter);let r;if(t.length>2)return e;if(/:/.test(t[0])?r=t[0]:(e.date=t[0],r=t[1],sc.timeZoneDelimiter.test(e.date)&&(e.date=n.split(sc.timeZoneDelimiter)[0],r=n.substr(e.date.length,n.length))),r){const s=sc.timezone.exec(r);s?(e.time=r.replace(s[1],""),e.timezone=s[1]):e.time=r}return e}function $B(n,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=n.match(t);if(!r)return{year:NaN,restDateString:""};const s=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?s:i*100,restDateString:n.slice((r[1]||r[2]).length)}}function HB(n,e){if(e===null)return new Date(NaN);const t=n.match(jB);if(!t)return new Date(NaN);const r=!!t[4],s=Oa(t[1]),i=Oa(t[2])-1,o=Oa(t[3]),a=Oa(t[4]),l=Oa(t[5])-1;if(r)return XB(e,a,l)?qB(e,a,l):new Date(NaN);{const c=new Date(0);return!KB(e,i,o)||!GB(e,s)?new Date(NaN):(c.setUTCFullYear(e,i,Math.max(s,o)),c)}}function Oa(n){return n?parseInt(n):1}function YB(n){const e=n.match(BB);if(!e)return NaN;const t=Yf(e[1]),r=Yf(e[2]),s=Yf(e[3]);return JB(t,r,s)?t*kh+r*Ih+s*1e3:NaN}function Yf(n){return n&&parseFloat(n.replace(",","."))||0}function zB(n){if(n==="Z")return 0;const e=n.match(UB);if(!e)return 0;const t=e[1]==="+"?-1:1,r=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return ZB(r,s)?t*(r*kh+s*Ih):NaN}function qB(n,e,t){const r=new Date(0);r.setUTCFullYear(n,0,4);const s=r.getUTCDay()||7,i=(e-1)*7+t+1-s;return r.setUTCDate(r.getUTCDate()+i),r}const QB=[31,null,31,30,31,30,31,31,30,31,30,31];function Sk(n){return n%400===0||n%4===0&&n%100!==0}function KB(n,e,t){return e>=0&&e<=11&&t>=1&&t<=(QB[e]||(Sk(n)?29:28))}function GB(n,e){return e>=1&&e<=(Sk(n)?366:365)}function XB(n,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function JB(n,e,t){return n===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&n>=0&&n<25}function ZB(n,e){return e>=0&&e<=59}function un(n,e,t){const r=Z(n,t==null?void 0:t.in),s=r.getFullYear(),i=r.getDate(),o=Oe(n,0);o.setFullYear(s,e,15),o.setHours(0,0,0,0);const a=M4(o);return r.setMonth(e,Math.min(i,a)),r}function Ac(n,e,t){const r=Z(n,t==null?void 0:t.in);return r.setHours(e),r}function Nc(n,e,t){const r=Z(n,t==null?void 0:t.in);return r.setMinutes(e),r}function Zi(n,e,t){const r=Z(n,t==null?void 0:t.in),s=Math.trunc(r.getMonth()/3)+1,i=e-s;return un(r,r.getMonth()+i*3)}function Mc(n,e,t){const r=Z(n,t==null?void 0:t.in);return r.setSeconds(e),r}function zn(n,e,t){const r=Z(n,t==null?void 0:t.in);return isNaN(+r)?Oe(n,NaN):(r.setFullYear(e),r)}function vi(n,e,t){return Bn(n,-e,t)}function Ck(n,e,t){return Dv(n,-1,t)}function V0(n,e,t){return bd(n,-1,t)}function zo(n,e,t){return xr(n,-e,t)}function Ph(){return typeof window<"u"}function ua(n){return Ik(n)?(n.nodeName||"").toLowerCase():"#document"}function pn(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function fr(n){var e;return(e=(Ik(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function Ik(n){return Ph()?n instanceof Node||n instanceof pn(n).Node:!1}function qt(n){return Ph()?n instanceof Element||n instanceof pn(n).Element:!1}function hr(n){return Ph()?n instanceof HTMLElement||n instanceof pn(n).HTMLElement:!1}function F0(n){return!Ph()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof pn(n).ShadowRoot}const eU=new Set(["inline","contents"]);function mu(n){const{overflow:e,overflowX:t,overflowY:r,display:s}=kn(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!eU.has(s)}const tU=new Set(["table","td","th"]);function nU(n){return tU.has(ua(n))}const rU=[":popover-open",":modal"];function bh(n){return rU.some(e=>{try{return n.matches(e)}catch{return!1}})}const sU=["transform","translate","scale","rotate","perspective"],iU=["transform","translate","scale","rotate","perspective","filter"],oU=["paint","layout","strict","content"];function Av(n){const e=Nv(),t=qt(n)?kn(n):n;return sU.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||iU.some(r=>(t.willChange||"").includes(r))||oU.some(r=>(t.contain||"").includes(r))}function aU(n){let e=Us(n);for(;hr(e)&&!qo(e);){if(Av(e))return e;if(bh(e))return null;e=Us(e)}return null}function Nv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const lU=new Set(["html","body","#document"]);function qo(n){return lU.has(ua(n))}function kn(n){return pn(n).getComputedStyle(n)}function Rh(n){return qt(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Us(n){if(ua(n)==="html")return n;const e=n.assignedSlot||n.parentNode||F0(n)&&n.host||fr(n);return F0(e)?e.host:e}function kk(n){const e=Us(n);return qo(e)?n.ownerDocument?n.ownerDocument.body:n.body:hr(e)&&mu(e)?e:kk(e)}function Hl(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=kk(n),i=s===((r=n.ownerDocument)==null?void 0:r.body),o=pn(s);if(i){const a=km(o);return e.concat(o,o.visualViewport||[],mu(s)?s:[],a&&t?Hl(a):[])}return e.concat(s,Hl(s,[],t))}function km(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}const Qo=Math.min,yi=Math.max,Od=Math.round,ic=Math.floor,ur=n=>({x:n,y:n}),uU={left:"right",right:"left",bottom:"top",top:"bottom"},cU={start:"end",end:"start"};function dU(n,e,t){return yi(n,Qo(e,t))}function xh(n,e){return typeof n=="function"?n(e):n}function Ko(n){return n.split("-")[0]}function gu(n){return n.split("-")[1]}function hU(n){return n==="x"?"y":"x"}function Mv(n){return n==="y"?"height":"width"}const fU=new Set(["top","bottom"]);function di(n){return fU.has(Ko(n))?"y":"x"}function Ov(n){return hU(di(n))}function pU(n,e,t){t===void 0&&(t=!1);const r=gu(n),s=Ov(n),i=Mv(s);let o=s==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Ld(o)),[o,Ld(o)]}function mU(n){const e=Ld(n);return[Dm(n),e,Dm(e)]}function Dm(n){return n.replace(/start|end/g,e=>cU[e])}const j0=["left","right"],B0=["right","left"],gU=["top","bottom"],vU=["bottom","top"];function yU(n,e,t){switch(n){case"top":case"bottom":return t?e?B0:j0:e?j0:B0;case"left":case"right":return e?gU:vU;default:return[]}}function _U(n,e,t,r){const s=gu(n);let i=yU(Ko(n),t==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Dm)))),i}function Ld(n){return n.replace(/left|right|bottom|top/g,e=>uU[e])}function wU(n){return{top:0,right:0,bottom:0,left:0,...n}}function Dk(n){return typeof n!="number"?wU(n):{top:n,right:n,bottom:n,left:n}}function Vd(n){const{x:e,y:t,width:r,height:s}=n;return{width:r,height:s,top:t,left:e,right:e+r,bottom:t+s,x:e,y:t}}var EU=typeof document<"u",TU=function(){},Fd=EU?A.useLayoutEffect:TU;const SU={...Mm},CU=SU.useInsertionEffect,IU=CU||(n=>n());function kU(n){const e=A.useRef(()=>{});return IU(()=>{e.current=n}),A.useCallback(function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return e.current==null?void 0:e.current(...r)},[])}function U0(n,e,t){let{reference:r,floating:s}=n;const i=di(e),o=Ov(e),a=Mv(o),l=Ko(e),c=i==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let g;switch(l){case"top":g={x:d,y:r.y-s.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:h};break;case"left":g={x:r.x-s.width,y:h};break;default:g={x:r.x,y:r.y}}switch(gu(e)){case"start":g[o]-=p*(t&&c?-1:1);break;case"end":g[o]+=p*(t&&c?-1:1);break}return g}const DU=async(n,e,t)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=t,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:n,floating:e,strategy:s}),{x:d,y:h}=U0(c,r,l),p=r,g={},_=0;for(let D=0;D<a.length;D++){const{name:I,fn:w}=a[D],{x:y,y:E,data:x,reset:L}=await w({x:d,y:h,initialPlacement:r,placement:p,strategy:s,middlewareData:g,rects:c,platform:o,elements:{reference:n,floating:e}});d=y??d,h=E??h,g={...g,[I]:{...g[I],...x}},L&&_<=50&&(_++,typeof L=="object"&&(L.placement&&(p=L.placement),L.rects&&(c=L.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:s}):L.rects),{x:d,y:h}=U0(c,p,l)),D=-1)}return{x:d,y:h,placement:p,strategy:s,middlewareData:g}};async function PU(n,e){var t;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=n,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:g=0}=xh(e,n),_=Dk(g),I=a[p?h==="floating"?"reference":"floating":h],w=Vd(await i.getClippingRect({element:(t=await(i.isElement==null?void 0:i.isElement(I)))==null||t?I:I.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),y=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),x=await(i.isElement==null?void 0:i.isElement(E))?await(i.getScale==null?void 0:i.getScale(E))||{x:1,y:1}:{x:1,y:1},L=Vd(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:E,strategy:l}):y);return{top:(w.top-L.top+_.top)/x.y,bottom:(L.bottom-w.bottom+_.bottom)/x.y,left:(w.left-L.left+_.left)/x.x,right:(L.right-w.right+_.right)/x.x}}const bU=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=xh(n,e)||{};if(c==null)return{};const h=Dk(d),p={x:t,y:r},g=Ov(s),_=Mv(g),D=await o.getDimensions(c),I=g==="y",w=I?"top":"left",y=I?"bottom":"right",E=I?"clientHeight":"clientWidth",x=i.reference[_]+i.reference[g]-p[g]-i.floating[_],L=p[g]-i.reference[g],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let S=M?M[E]:0;(!S||!await(o.isElement==null?void 0:o.isElement(M)))&&(S=a.floating[E]||i.floating[_]);const v=x/2-L/2,C=S/2-D[_]/2-1,P=Qo(h[w],C),R=Qo(h[y],C),N=P,b=S-D[_]-R,se=S/2-D[_]/2+v,re=dU(N,se,b),ee=!l.arrow&&gu(s)!=null&&se!==re&&i.reference[_]/2-(se<N?P:R)-D[_]/2<0,ie=ee?se<N?se-N:se-b:0;return{[g]:p[g]+ie,data:{[g]:re,centerOffset:se-re-ie,...ee&&{alignmentOffset:ie}},reset:ee}}}),RU=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:D=!0,...I}=xh(n,e);if((t=i.arrow)!=null&&t.alignmentOffset)return{};const w=Ko(s),y=di(a),E=Ko(a)===a,x=await(l.isRTL==null?void 0:l.isRTL(c.floating)),L=p||(E||!D?[Ld(a)]:mU(a)),M=_!=="none";!p&&M&&L.push(..._U(a,D,_,x));const S=[a,...L],v=await PU(e,I),C=[];let P=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&C.push(v[w]),h){const se=pU(s,o,x);C.push(v[se[0]],v[se[1]])}if(P=[...P,{placement:s,overflows:C}],!C.every(se=>se<=0)){var R,N;const se=(((R=i.flip)==null?void 0:R.index)||0)+1,re=S[se];if(re&&(!(h==="alignment"?y!==di(re):!1)||P.every(B=>di(B.placement)===y?B.overflows[0]>0:!0)))return{data:{index:se,overflows:P},reset:{placement:re}};let ee=(N=P.filter(ie=>ie.overflows[0]<=0).sort((ie,B)=>ie.overflows[1]-B.overflows[1])[0])==null?void 0:N.placement;if(!ee)switch(g){case"bestFit":{var b;const ie=(b=P.filter(B=>{if(M){const F=di(B.placement);return F===y||F==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(F=>F>0).reduce((F,H)=>F+H,0)]).sort((B,F)=>B[1]-F[1])[0])==null?void 0:b[0];ie&&(ee=ie);break}case"initialPlacement":ee=a;break}if(s!==ee)return{reset:{placement:ee}}}return{}}}},xU=new Set(["left","top"]);async function AU(n,e){const{placement:t,platform:r,elements:s}=n,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Ko(t),a=gu(t),l=di(t)==="y",c=xU.has(o)?-1:1,d=i&&l?-1:1,h=xh(e,n);let{mainAxis:p,crossAxis:g,alignmentAxis:_}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof _=="number"&&(g=a==="end"?_*-1:_),l?{x:g*d,y:p*c}:{x:p*c,y:g*d}}const NU=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await AU(e,n);return o===((t=a.offset)==null?void 0:t.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}};function Pk(n){const e=kn(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=hr(n),i=s?n.offsetWidth:t,o=s?n.offsetHeight:r,a=Od(t)!==i||Od(r)!==o;return a&&(t=i,r=o),{width:t,height:r,$:a}}function Lv(n){return qt(n)?n:n.contextElement}function Io(n){const e=Lv(n);if(!hr(e))return ur(1);const t=e.getBoundingClientRect(),{width:r,height:s,$:i}=Pk(e);let o=(i?Od(t.width):t.width)/r,a=(i?Od(t.height):t.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const MU=ur(0);function bk(n){const e=pn(n);return!Nv()||!e.visualViewport?MU:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function OU(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==pn(n)?!1:e}function Ni(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const s=n.getBoundingClientRect(),i=Lv(n);let o=ur(1);e&&(r?qt(r)&&(o=Io(r)):o=Io(n));const a=OU(i,t,r)?bk(i):ur(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(i){const p=pn(i),g=r&&qt(r)?pn(r):r;let _=p,D=km(_);for(;D&&r&&g!==_;){const I=Io(D),w=D.getBoundingClientRect(),y=kn(D),E=w.left+(D.clientLeft+parseFloat(y.paddingLeft))*I.x,x=w.top+(D.clientTop+parseFloat(y.paddingTop))*I.y;l*=I.x,c*=I.y,d*=I.x,h*=I.y,l+=E,c+=x,_=pn(D),D=km(_)}}return Vd({width:d,height:h,x:l,y:c})}function Ah(n,e){const t=Rh(n).scrollLeft;return e?e.left+t:Ni(fr(n)).left+t}function Rk(n,e){const t=n.getBoundingClientRect(),r=t.left+e.scrollLeft-Ah(n,t),s=t.top+e.scrollTop;return{x:r,y:s}}function LU(n){let{elements:e,rect:t,offsetParent:r,strategy:s}=n;const i=s==="fixed",o=fr(r),a=e?bh(e.floating):!1;if(r===o||a&&i)return t;let l={scrollLeft:0,scrollTop:0},c=ur(1);const d=ur(0),h=hr(r);if((h||!h&&!i)&&((ua(r)!=="body"||mu(o))&&(l=Rh(r)),hr(r))){const g=Ni(r);c=Io(r),d.x=g.x+r.clientLeft,d.y=g.y+r.clientTop}const p=o&&!h&&!i?Rk(o,l):ur(0);return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-l.scrollLeft*c.x+d.x+p.x,y:t.y*c.y-l.scrollTop*c.y+d.y+p.y}}function VU(n){return Array.from(n.getClientRects())}function FU(n){const e=fr(n),t=Rh(n),r=n.ownerDocument.body,s=yi(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=yi(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-t.scrollLeft+Ah(n);const a=-t.scrollTop;return kn(r).direction==="rtl"&&(o+=yi(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}const W0=25;function jU(n,e){const t=pn(n),r=fr(n),s=t.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const d=Nv();(!d||d&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}const c=Ah(r);if(c<=0){const d=r.ownerDocument,h=d.body,p=getComputedStyle(h),g=d.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,_=Math.abs(r.clientWidth-h.clientWidth-g);_<=W0&&(i-=_)}else c<=W0&&(i+=c);return{width:i,height:o,x:a,y:l}}const BU=new Set(["absolute","fixed"]);function UU(n,e){const t=Ni(n,!0,e==="fixed"),r=t.top+n.clientTop,s=t.left+n.clientLeft,i=hr(n)?Io(n):ur(1),o=n.clientWidth*i.x,a=n.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function $0(n,e,t){let r;if(e==="viewport")r=jU(n,t);else if(e==="document")r=FU(fr(n));else if(qt(e))r=UU(e,t);else{const s=bk(n);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Vd(r)}function xk(n,e){const t=Us(n);return t===e||!qt(t)||qo(t)?!1:kn(t).position==="fixed"||xk(t,e)}function WU(n,e){const t=e.get(n);if(t)return t;let r=Hl(n,[],!1).filter(a=>qt(a)&&ua(a)!=="body"),s=null;const i=kn(n).position==="fixed";let o=i?Us(n):n;for(;qt(o)&&!qo(o);){const a=kn(o),l=Av(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&BU.has(s.position)||mu(o)&&!l&&xk(n,o))?r=r.filter(d=>d!==o):s=a,o=Us(o)}return e.set(n,r),r}function $U(n){let{element:e,boundary:t,rootBoundary:r,strategy:s}=n;const o=[...t==="clippingAncestors"?bh(e)?[]:WU(e,this._c):[].concat(t),r],a=o[0],l=o.reduce((c,d)=>{const h=$0(e,d,s);return c.top=yi(h.top,c.top),c.right=Qo(h.right,c.right),c.bottom=Qo(h.bottom,c.bottom),c.left=yi(h.left,c.left),c},$0(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function HU(n){const{width:e,height:t}=Pk(n);return{width:e,height:t}}function YU(n,e,t){const r=hr(e),s=fr(e),i=t==="fixed",o=Ni(n,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=ur(0);function c(){l.x=Ah(s)}if(r||!r&&!i)if((ua(e)!=="body"||mu(s))&&(a=Rh(e)),r){const g=Ni(e,!0,i,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else s&&c();i&&!r&&s&&c();const d=s&&!r&&!i?Rk(s,a):ur(0),h=o.left+a.scrollLeft-l.x-d.x,p=o.top+a.scrollTop-l.y-d.y;return{x:h,y:p,width:o.width,height:o.height}}function zf(n){return kn(n).position==="static"}function H0(n,e){if(!hr(n)||kn(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return fr(n)===t&&(t=t.ownerDocument.body),t}function Ak(n,e){const t=pn(n);if(bh(n))return t;if(!hr(n)){let s=Us(n);for(;s&&!qo(s);){if(qt(s)&&!zf(s))return s;s=Us(s)}return t}let r=H0(n,e);for(;r&&nU(r)&&zf(r);)r=H0(r,e);return r&&qo(r)&&zf(r)&&!Av(r)?t:r||aU(n)||t}const zU=async function(n){const e=this.getOffsetParent||Ak,t=this.getDimensions,r=await t(n.floating);return{reference:YU(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function qU(n){return kn(n).direction==="rtl"}const QU={convertOffsetParentRelativeRectToViewportRelativeRect:LU,getDocumentElement:fr,getClippingRect:$U,getOffsetParent:Ak,getElementRects:zU,getClientRects:VU,getDimensions:HU,getScale:Io,isElement:qt,isRTL:qU};function Nk(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function KU(n,e){let t=null,r;const s=fr(n);function i(){var a;clearTimeout(r),(a=t)==null||a.disconnect(),t=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=n.getBoundingClientRect(),{left:d,top:h,width:p,height:g}=c;if(a||e(),!p||!g)return;const _=ic(h),D=ic(s.clientWidth-(d+p)),I=ic(s.clientHeight-(h+g)),w=ic(d),E={rootMargin:-_+"px "+-D+"px "+-I+"px "+-w+"px",threshold:yi(0,Qo(1,l))||1};let x=!0;function L(M){const S=M[0].intersectionRatio;if(S!==l){if(!x)return o();S?o(!1,S):r=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!Nk(c,n.getBoundingClientRect())&&o(),x=!1}try{t=new IntersectionObserver(L,{...E,root:s.ownerDocument})}catch{t=new IntersectionObserver(L,E)}t.observe(n)}return o(!0),i}function GU(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Lv(n),d=s||i?[...c?Hl(c):[],...Hl(e)]:[];d.forEach(w=>{s&&w.addEventListener("scroll",t,{passive:!0}),i&&w.addEventListener("resize",t)});const h=c&&a?KU(c,t):null;let p=-1,g=null;o&&(g=new ResizeObserver(w=>{let[y]=w;y&&y.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var E;(E=g)==null||E.observe(e)})),t()}),c&&!l&&g.observe(c),g.observe(e));let _,D=l?Ni(n):null;l&&I();function I(){const w=Ni(n);D&&!Nk(D,w)&&t(),D=w,_=requestAnimationFrame(I)}return t(),()=>{var w;d.forEach(y=>{s&&y.removeEventListener("scroll",t),i&&y.removeEventListener("resize",t)}),h==null||h(),(w=g)==null||w.disconnect(),g=null,l&&cancelAnimationFrame(_)}}const XU=NU,JU=RU,Y0=bU,ZU=(n,e,t)=>{const r=new Map,s={platform:QU,...t},i={...s.platform,_c:r};return DU(n,e,{...s,platform:i})};var e3=typeof document<"u",t3=function(){},Oc=e3?A.useLayoutEffect:t3;function jd(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,s;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!jd(n[r],e[r]))return!1;return!0}if(s=Object.keys(n),t=s.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=t;r--!==0;){const i=s[r];if(!(i==="_owner"&&n.$$typeof)&&!jd(n[i],e[i]))return!1}return!0}return n!==n&&e!==e}function Mk(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function z0(n,e){const t=Mk(n);return Math.round(e*t)/t}function qf(n){const e=A.useRef(n);return Oc(()=>{e.current=n}),e}function n3(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=n,[d,h]=A.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[p,g]=A.useState(r);jd(p,r)||g(r);const[_,D]=A.useState(null),[I,w]=A.useState(null),y=A.useCallback(B=>{B!==M.current&&(M.current=B,D(B))},[]),E=A.useCallback(B=>{B!==S.current&&(S.current=B,w(B))},[]),x=i||_,L=o||I,M=A.useRef(null),S=A.useRef(null),v=A.useRef(d),C=l!=null,P=qf(l),R=qf(s),N=qf(c),b=A.useCallback(()=>{if(!M.current||!S.current)return;const B={placement:e,strategy:t,middleware:p};R.current&&(B.platform=R.current),ZU(M.current,S.current,B).then(F=>{const H={...F,isPositioned:N.current!==!1};se.current&&!jd(v.current,H)&&(v.current=H,ea.flushSync(()=>{h(H)}))})},[p,e,t,R,N]);Oc(()=>{c===!1&&v.current.isPositioned&&(v.current.isPositioned=!1,h(B=>({...B,isPositioned:!1})))},[c]);const se=A.useRef(!1);Oc(()=>(se.current=!0,()=>{se.current=!1}),[]),Oc(()=>{if(x&&(M.current=x),L&&(S.current=L),x&&L){if(P.current)return P.current(x,L,b);b()}},[x,L,b,P,C]);const re=A.useMemo(()=>({reference:M,floating:S,setReference:y,setFloating:E}),[y,E]),ee=A.useMemo(()=>({reference:x,floating:L}),[x,L]),ie=A.useMemo(()=>{const B={position:t,left:0,top:0};if(!ee.floating)return B;const F=z0(ee.floating,d.x),H=z0(ee.floating,d.y);return a?{...B,transform:"translate("+F+"px, "+H+"px)",...Mk(ee.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:F,top:H}},[t,a,ee.floating,d.x,d.y]);return A.useMemo(()=>({...d,update:b,refs:re,elements:ee,floatingStyles:ie}),[d,b,re,ee,ie])}const r3=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:s}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?Y0({element:r.current,padding:s}).fn(t):{}:r?Y0({element:r,padding:s}).fn(t):{}}}},s3=(n,e)=>({...XU(n),options:[n,e]}),i3=(n,e)=>({...JU(n),options:[n,e]}),o3=(n,e)=>({...r3(n),options:[n,e]}),a3={...Mm};let q0=!1,l3=0;const Q0=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+l3++;function u3(){const[n,e]=A.useState(()=>q0?Q0():void 0);return Fd(()=>{n==null&&e(Q0())},[]),A.useEffect(()=>{q0=!0},[]),n}const c3=a3.useId,Ok=c3||u3,d3=A.forwardRef(function(e,t){const{context:{placement:r,elements:{floating:s},middlewareData:{arrow:i,shift:o}},width:a=14,height:l=7,tipRadius:c=0,strokeWidth:d=0,staticOffset:h,stroke:p,d:g,style:{transform:_,...D}={},...I}=e,w=Ok(),[y,E]=A.useState(!1);if(Fd(()=>{if(!s)return;kn(s).direction==="rtl"&&E(!0)},[s]),!s)return null;const[x,L]=r.split("-"),M=x==="top"||x==="bottom";let S=h;(M&&o!=null&&o.x||!M&&o!=null&&o.y)&&(S=null);const v=d*2,C=v/2,P=a/2*(c/-8+1),R=l/2*c/4,N=!!g,b=S&&L==="end"?"bottom":"top";let se=S&&L==="end"?"right":"left";S&&y&&(se=L==="end"?"left":"right");const re=(i==null?void 0:i.x)!=null?S||i.x:"",ee=(i==null?void 0:i.y)!=null?S||i.y:"",ie=g||"M0,0"+(" H"+a)+(" L"+(a-P)+","+(l-R))+(" Q"+a/2+","+l+" "+P+","+(l-R))+" Z",B={top:N?"rotate(180deg)":"",left:N?"rotate(90deg)":"rotate(-90deg)",bottom:N?"":"rotate(180deg)",right:N?"rotate(-90deg)":"rotate(90deg)"}[x];return T.jsxs("svg",{...I,"aria-hidden":!0,ref:t,width:N?a:a+v,height:a,viewBox:"0 0 "+a+" "+(l>a?l:a),style:{position:"absolute",pointerEvents:"none",[se]:re,[b]:ee,[x]:M||N?"100%":"calc(100% - "+v/2+"px)",transform:[B,_].filter(F=>!!F).join(" "),...D},children:[v>0&&T.jsx("path",{clipPath:"url(#"+w+")",fill:"none",stroke:p,strokeWidth:v+(g?0:1),d:ie}),T.jsx("path",{stroke:v&&!g?I.fill:"none",d:ie}),T.jsx("clipPath",{id:w,children:T.jsx("rect",{x:-C,y:C*(N?-1:1),width:a+v,height:a})})]})});function h3(){const n=new Map;return{emit(e,t){var r;(r=n.get(e))==null||r.forEach(s=>s(t))},on(e,t){n.has(e)||n.set(e,new Set),n.get(e).add(t)},off(e,t){var r;(r=n.get(e))==null||r.delete(t)}}}const f3=A.createContext(null),p3=A.createContext(null),m3=()=>{var n;return((n=A.useContext(f3))==null?void 0:n.id)||null},g3=()=>A.useContext(p3);function v3(n){const{open:e=!1,onOpenChange:t,elements:r}=n,s=Ok(),i=A.useRef({}),[o]=A.useState(()=>h3()),a=m3()!=null,[l,c]=A.useState(r.reference),d=kU((g,_,D)=>{i.current.openEvent=g?_:void 0,o.emit("openchange",{open:g,event:_,reason:D,nested:a}),t==null||t(g,_,D)}),h=A.useMemo(()=>({setPositionReference:c}),[]),p=A.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return A.useMemo(()=>({dataRef:i,open:e,onOpenChange:d,elements:p,events:o,floatingId:s,refs:h}),[e,d,p,o,s,h])}function y3(n){n===void 0&&(n={});const{nodeId:e}=n,t=v3({...n,elements:{reference:null,floating:null,...n.elements}}),r=n.rootContext||t,s=r.elements,[i,o]=A.useState(null),[a,l]=A.useState(null),d=(s==null?void 0:s.domReference)||i,h=A.useRef(null),p=g3();Fd(()=>{d&&(h.current=d)},[d]);const g=n3({...n,elements:{...s,...a&&{reference:a}}}),_=A.useCallback(E=>{const x=qt(E)?{getBoundingClientRect:()=>E.getBoundingClientRect(),getClientRects:()=>E.getClientRects(),contextElement:E}:E;l(x),g.refs.setReference(x)},[g.refs]),D=A.useCallback(E=>{(qt(E)||E===null)&&(h.current=E,o(E)),(qt(g.refs.reference.current)||g.refs.reference.current===null||E!==null&&!qt(E))&&g.refs.setReference(E)},[g.refs]),I=A.useMemo(()=>({...g.refs,setReference:D,setPositionReference:_,domReference:h}),[g.refs,D,_]),w=A.useMemo(()=>({...g.elements,domReference:d}),[g.elements,d]),y=A.useMemo(()=>({...g,...r,refs:I,elements:w,nodeId:e}),[g,I,w,e,r]);return Fd(()=>{r.dataRef.current.floatingContext=y;const E=p==null?void 0:p.nodesRef.current.find(x=>x.id===e);E&&(E.context=y)}),A.useMemo(()=>({...g,context:y,refs:I,elements:w}),[g,I,w,y])}/*!
  react-datepicker v8.8.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var Pm=function(e,t){return Pm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i])},Pm(e,t)};function bt(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Pm(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var _e=function(){return _e=Object.assign||function(t){for(var r,s=1,i=arguments.length;s<i;s++){r=arguments[s];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},_e.apply(this,arguments)};function nr(n,e,t){if(t||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))}var _3=function(n){var e=n.showTimeSelectOnly,t=e===void 0?!1:e,r=n.showTime,s=r===void 0?!1:r,i=n.className,o=n.children,a=t?"Choose Time":"Choose Date".concat(s?" and Time":"");return j.createElement("div",{className:i,role:"dialog","aria-label":a,"aria-modal":"true"},o)},w3=function(n,e){var t=A.useRef(null),r=A.useRef(n);r.current=n;var s=A.useCallback(function(i){var o,a=i.composed&&i.composedPath&&i.composedPath().find(function(l){return l instanceof Node})||i.target;t.current&&!t.current.contains(a)&&(e&&a instanceof HTMLElement&&a.classList.contains(e)||(o=r.current)===null||o===void 0||o.call(r,i))},[e]);return A.useEffect(function(){return document.addEventListener("mousedown",s),function(){document.removeEventListener("mousedown",s)}},[s]),t},Nh=function(n){var e=n.children,t=n.onClickOutside,r=n.className,s=n.containerRef,i=n.style,o=n.ignoreClass,a=w3(t,o);return j.createElement("div",{className:r,style:i,ref:function(l){a.current=l,s&&(s.current=l)}},e)},z;(function(n){n.ArrowUp="ArrowUp",n.ArrowDown="ArrowDown",n.ArrowLeft="ArrowLeft",n.ArrowRight="ArrowRight",n.PageUp="PageUp",n.PageDown="PageDown",n.Home="Home",n.End="End",n.Enter="Enter",n.Space=" ",n.Tab="Tab",n.Escape="Escape",n.Backspace="Backspace",n.X="x"})(z||(z={}));function Lk(){var n=typeof window<"u"?window:globalThis;return n}var vu=12;function Re(n){if(n==null)return new Date;var e=typeof n=="string"?FB(n):Z(n);return Mh(e)?e:new Date}function Qf(n,e,t,r,s){s===void 0&&(s=Re());for(var i=Go(t)||Go(Vv()),o=Array.isArray(e)?e:[e],a=0,l=o;a<l.length;a++){var c=l[a],d=AB(n,c,s,{locale:i});if(Mh(d)&&(!r||n===We(d,c,t)))return d}return null}function Mh(n,e){return Rd(n)&&!tr(n,new Date("1/1/1800"))}function We(n,e,t){if(t==="en")return O0(n,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=t?Go(t):void 0;return t&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),r=r||Go(Vv()),O0(n,e,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function an(n,e){var t=e.dateFormat,r=e.locale,s=Array.isArray(t)&&t.length>0?t[0]:t;return n&&We(n,s,r)||""}var Vk=" - ";function E3(n,e,t){if(!n&&!e)return"";var r=n?an(n,t):"",s=e?an(e,t):"",i=t.rangeSeparator||Vk;return"".concat(r).concat(i).concat(s)}function T3(n,e){if(!(n!=null&&n.length))return"";var t=n[0]?an(n[0],e):"";if(n.length===1)return t;if(n.length===2&&n[1]){var r=an(n[1],e);return"".concat(t,", ").concat(r)}var s=n.length-1;return"".concat(t," (+").concat(s,")")}function Kf(n,e){var t=e.hour,r=t===void 0?0:t,s=e.minute,i=s===void 0?0:s,o=e.second,a=o===void 0?0:o;return Ac(Nc(Mc(n,a),i),r)}function S3(n){return Pv(n)}function C3(n,e){return We(n,"ddd",e)}function Lc(n){return Ai(n)}function Ns(n,e,t){var r=Go(e||Vv());return Hr(n,{locale:r,weekStartsOn:t})}function Or(n){return pk(n)}function Ka(n){return Dh(n)}function K0(n){return Sm(n)}function G0(){return Ai(Re())}function X0(n){return hk(n)}function I3(n){return Fj(n)}function k3(n){return fk(n)}function qn(n,e){return n&&e?LB(n,e):!n&&!e}function zt(n,e){return n&&e?MB(n,e):!n&&!e}function Bd(n,e){return n&&e?OB(n,e):!n&&!e}function ye(n,e){return n&&e?Lj(n,e):!n&&!e}function hi(n,e){return n&&e?V4(n,e):!n&&!e}function ii(n,e,t){var r,s=Ai(e),i=hk(t);try{r=$l(n,{start:s,end:i})}catch{r=!1}return r}function Vv(){var n=Lk();return n.__localeId__}function Go(n){if(typeof n=="string"){var e=Lk();return e.__localeData__?e.__localeData__[n]:void 0}else return n}function D3(n,e,t){return e(We(n,"EEEE",t))}function P3(n,e){return We(n,"EEEEEE",e)}function b3(n,e){return We(n,"EEE",e)}function Fv(n,e){return We(un(Re(),n),"LLLL",e)}function Fk(n,e){return We(un(Re(),n),"LLL",e)}function R3(n,e){return We(Zi(Re(),n),"QQQ",e)}function En(n,e){var t=e===void 0?{}:e,r=t.minDate,s=t.maxDate,i=t.excludeDates,o=t.excludeDateIntervals,a=t.includeDates,l=t.includeDateIntervals,c=t.filterDate,d=t.disabled;return d?!0:yu(n,{minDate:r,maxDate:s})||i&&i.some(function(h){return h instanceof Date?ye(n,h):ye(n,h.date)})||o&&o.some(function(h){var p=h.start,g=h.end;return $l(n,{start:p,end:g})})||a&&!a.some(function(h){return ye(n,h)})||l&&!l.some(function(h){var p=h.start,g=h.end;return $l(n,{start:p,end:g})})||c&&!c(Re(n))||!1}function jv(n,e){var t=e===void 0?{}:e,r=t.excludeDates,s=t.excludeDateIntervals;return s&&s.length>0?s.some(function(i){var o=i.start,a=i.end;return $l(n,{start:o,end:a})}):r&&r.some(function(i){var o;return i instanceof Date?ye(n,i):ye(n,(o=i.date)!==null&&o!==void 0?o:new Date)})||!1}function jk(n,e){var t=e===void 0?{}:e,r=t.minDate,s=t.maxDate,i=t.excludeDates,o=t.includeDates,a=t.filterDate;return yu(n,{minDate:r?pk(r):void 0,maxDate:s?fk(s):void 0})||(i==null?void 0:i.some(function(l){return zt(n,l instanceof Date?l:l.date)}))||o&&!o.some(function(l){return zt(n,l)})||a&&!a(Re(n))||!1}function oc(n,e,t,r){var s=me(n),i=jt(n),o=me(e),a=jt(e),l=me(r);return s===o&&s===l?i<=t&&t<=a:s<o?l===s&&i<=t||l===o&&a>=t||l<o&&l>s:!1}function x3(n,e){var t=e===void 0?{}:e,r=t.minDate,s=t.maxDate,i=t.excludeDates,o=t.includeDates;return yu(n,{minDate:r,maxDate:s})||i&&i.some(function(a){return zt(a instanceof Date?a:a.date,n)})||o&&!o.some(function(a){return zt(a,n)})||!1}function ac(n,e){var t=e===void 0?{}:e,r=t.minDate,s=t.maxDate,i=t.excludeDates,o=t.includeDates,a=t.filterDate,l=t.disabled;return l?!0:yu(n,{minDate:r,maxDate:s})||(i==null?void 0:i.some(function(c){return Bd(n,c instanceof Date?c:c.date)}))||o&&!o.some(function(c){return Bd(n,c)})||a&&!a(Re(n))||!1}function lc(n,e,t){if(!e||!t||!Rd(e)||!Rd(t))return!1;var r=me(e),s=me(t);return r<=n&&s>=n}function Vc(n,e){var t=e===void 0?{}:e,r=t.minDate,s=t.maxDate,i=t.excludeDates,o=t.includeDates,a=t.filterDate,l=t.disabled;if(l)return!0;var c=new Date(n,0,1);return yu(c,{minDate:r?Dh(r):void 0,maxDate:s?mk(s):void 0})||(i==null?void 0:i.some(function(d){return qn(c,d instanceof Date?d:d.date)}))||o&&!o.some(function(d){return qn(c,d)})||a&&!a(Re(c))||!1}function uc(n,e,t,r){var s=me(n),i=gi(n),o=me(e),a=gi(e),l=me(r);return s===o&&s===l?i<=t&&t<=a:s<o?l===s&&i<=t||l===o&&a>=t||l<o&&l>s:!1}function yu(n,e){var t,r=e===void 0?{}:e,s=r.minDate,i=r.maxDate;return(t=s&&Yo(n,s)<0||i&&Yo(n,i)>0)!==null&&t!==void 0?t:!1}function J0(n,e){return e.some(function(t){return Nr(t)===Nr(n)&&Mr(t)===Mr(n)&&As(t)===As(n)})}function Z0(n,e){var t=e===void 0?{}:e,r=t.excludeTimes,s=t.includeTimes,i=t.filterTime;return r&&J0(n,r)||s&&!J0(n,s)||i&&!i(n)||!1}function eE(n,e){var t=e.minTime,r=e.maxTime;if(!t||!r)throw new Error("Both minTime and maxTime props required");var s=Re();s=Ac(s,Nr(n)),s=Nc(s,Mr(n)),s=Mc(s,As(n));var i=Re();i=Ac(i,Nr(t)),i=Nc(i,Mr(t)),i=Mc(i,As(t));var o=Re();o=Ac(o,Nr(r)),o=Nc(o,Mr(r)),o=Mc(o,As(r));var a;try{a=!$l(s,{start:i,end:o})}catch{a=!1}return a}function tE(n,e){var t=e===void 0?{}:e,r=t.minDate,s=t.includeDates,i=vi(n,1);return r&&xd(r,i)>0||s&&s.every(function(o){return xd(o,i)>0})||!1}function nE(n,e){var t=e===void 0?{}:e,r=t.maxDate,s=t.includeDates,i=Bn(n,1);return r&&xd(i,r)>0||s&&s.every(function(o){return xd(i,o)>0})||!1}function A3(n,e){var t=e===void 0?{}:e,r=t.minDate,s=t.includeDates,i=Dh(n),o=Ck(i);return r&&Ad(r,o)>0||s&&s.every(function(a){return Ad(a,o)>0})||!1}function N3(n,e){var t=e===void 0?{}:e,r=t.maxDate,s=t.includeDates,i=mk(n),o=Dv(i,1);return r&&Ad(o,r)>0||s&&s.every(function(a){return Ad(o,a)>0})||!1}function rE(n,e){var t=e===void 0?{}:e,r=t.minDate,s=t.includeDates,i=zo(n,1);return r&&Nd(r,i)>0||s&&s.every(function(o){return Nd(o,i)>0})||!1}function M3(n,e){var t=e===void 0?{}:e,r=t.minDate,s=t.yearItemNumber,i=s===void 0?vu:s,o=Ka(zo(n,i)),a=Dr(o,i).endPeriod,l=r&&me(r);return l&&l>a||!1}function sE(n,e){var t=e===void 0?{}:e,r=t.maxDate,s=t.includeDates,i=xr(n,1);return r&&Nd(i,r)>0||s&&s.every(function(o){return Nd(i,o)>0})||!1}function O3(n,e){var t=e===void 0?{}:e,r=t.maxDate,s=t.yearItemNumber,i=s===void 0?vu:s,o=xr(n,i),a=Dr(o,i).startPeriod,l=r&&me(r);return l&&l<a||!1}function Bk(n){var e=n.minDate,t=n.includeDates;if(t&&e){var r=t.filter(function(s){return Yo(s,e)>=0});return b0(r)}else return t?b0(t):e}function Uk(n){var e=n.maxDate,t=n.includeDates;if(t&&e){var r=t.filter(function(s){return Yo(s,e)<=0});return P0(r)}else return t?P0(t):e}function iE(n,e){var t;n===void 0&&(n=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var r=new Map,s=0,i=n.length;s<i;s++){var o=n[s];if(Ar(o)){var a=We(o,"MM.dd.yyyy"),l=r.get(a)||[];l.includes(e)||(l.push(e),r.set(a,l))}else if(typeof o=="object"){var c=Object.keys(o),d=(t=c[0])!==null&&t!==void 0?t:"",h=o[d];if(typeof d=="string"&&Array.isArray(h))for(var p=0,g=h.length;p<g;p++){var _=h[p];if(_){var a=We(_,"MM.dd.yyyy"),l=r.get(a)||[];l.includes(d)||(l.push(d),r.set(a,l))}}}}return r}function L3(n,e){return n.length!==e.length?!1:n.every(function(t,r){return t===e[r]})}function V3(n,e){n===void 0&&(n=[]),e===void 0&&(e="react-datepicker__day--holidays");var t=new Map;return n.forEach(function(r){var s=r.date,i=r.holidayName;if(Ar(s)){var o=We(s,"MM.dd.yyyy"),a=t.get(o)||{className:"",holidayNames:[]};if(!("className"in a&&a.className===e&&L3(a.holidayNames,[i]))){a.className=e;var l=a.holidayNames;a.holidayNames=l?nr(nr([],l,!0),[i],!1):[i],t.set(o,a)}}}),t}function F3(n,e,t,r,s){for(var i=s.length,o=[],a=0;a<i;a++){var l=n,c=s[a];c&&(l=Aj(l,Nr(c)),l=Tm(l,Mr(c)),l=Oj(l,As(c)));var d=Tm(n,(t+1)*r);Bs(l,e)&&tr(l,d)&&c!=null&&o.push(c)}return o}function oE(n){return n<10?"0".concat(n):"".concat(n)}function Dr(n,e){e===void 0&&(e=vu);var t=Math.ceil(me(n)/e)*e,r=t-(e-1);return{startPeriod:r,endPeriod:t}}function j3(n){var e=new Date(n.getFullYear(),n.getMonth(),n.getDate()),t=new Date(n.getFullYear(),n.getMonth(),n.getDate(),24);return Math.round((+t-+e)/36e5)}function aE(n){var e=n.getSeconds(),t=n.getMilliseconds();return Z(n.getTime()-e*1e3-t)}function B3(n,e){return aE(n).getTime()===aE(e).getTime()}function lE(n){if(!Ar(n))throw new Error("Invalid date");var e=new Date(n);return e.setHours(0,0,0,0),e}function Gf(n,e){if(!Ar(n)||!Ar(e))throw new Error("Invalid date received");var t=lE(n),r=lE(e);return tr(t,r)}function Wk(n){return n.key===z.Space}var U3=function(n){bt(e,n);function e(t){var r=n.call(this,t)||this;return r.inputRef=j.createRef(),r.onTimeChange=function(s){var i,o;r.setState({time:s});var a=r.props.date,l=a instanceof Date&&!isNaN(+a),c=l?a:new Date;if(s!=null&&s.includes(":")){var d=s.split(":"),h=d[0],p=d[1];c.setHours(Number(h)),c.setMinutes(Number(p))}(o=(i=r.props).onChange)===null||o===void 0||o.call(i,c)},r.renderTimeInput=function(){var s=r.state.time,i=r.props,o=i.date,a=i.timeString,l=i.customTimeInput;return l?A.cloneElement(l,{date:o,value:s,onChange:r.onTimeChange}):j.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var c;(c=r.inputRef.current)===null||c===void 0||c.focus()},required:!0,value:s,onChange:function(c){r.onTimeChange(c.target.value||a)}})},r.state={time:r.props.timeString},r}return e.getDerivedStateFromProps=function(t,r){return t.timeString!==r.time?{time:t.timeString}:null},e.prototype.render=function(){return j.createElement("div",{className:"react-datepicker__input-time-container"},j.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),j.createElement("div",{className:"react-datepicker-time__input-container"},j.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e}(A.Component),W3=function(n){bt(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.dayEl=A.createRef(),t.handleClick=function(r){!t.isDisabled()&&t.props.onClick&&t.props.onClick(r)},t.handleMouseEnter=function(r){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(r)},t.handleOnKeyDown=function(r){var s,i,o=r.key;o===z.Space&&(r.preventDefault(),r.key=z.Enter),(i=(s=t.props).handleOnKeyDown)===null||i===void 0||i.call(s,r)},t.isSameDay=function(r){return ye(t.props.day,r)},t.isKeyboardSelected=function(){var r;if(t.props.disabledKeyboardNavigation)return!1;var s=t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(o){return t.isSameDayOrWeek(o)}):t.isSameDayOrWeek(t.props.selected),i=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!s&&t.isSameDayOrWeek(t.props.preSelection)&&!i},t.isDisabled=function(r){return r===void 0&&(r=t.props.day),En(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate,disabled:t.props.disabled})},t.isExcluded=function(){return jv(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return ye(t.props.day,Ns(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(r){return t.props.showWeekPicker&&ye(r,Ns(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(r){return t.isSameDay(r)||t.isSameWeek(r)},t.getHighLightedClass=function(){var r=t.props,s=r.day,i=r.highlightDates;if(!i)return!1;var o=We(s,"MM.dd.yyyy");return i.get(o)},t.getHolidaysClass=function(){var r,s=t.props,i=s.day,o=s.holidays;if(!o)return[void 0];var a=We(i,"MM.dd.yyyy");return o.has(a)?[(r=o.get(a))===null||r===void 0?void 0:r.className]:[void 0]},t.isInRange=function(){var r=t.props,s=r.day,i=r.startDate,o=r.endDate;return!i||!o?!1:ii(s,i,o)},t.isInSelectingRange=function(){var r,s=t.props,i=s.day,o=s.selectsStart,a=s.selectsEnd,l=s.selectsRange,c=s.selectsDisabledDaysInRange,d=s.startDate,h=s.swapRange,p=s.endDate,g=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;if(!(o||a||l)||!g||!c&&t.isDisabled())return!1;if(o&&p&&(tr(g,p)||hi(g,p)))return ii(i,g,p);if(a&&d&&(Bs(g,d)||hi(g,d)))return ii(i,d,g);if(l&&d&&!p){if(hi(g,d)||Bs(g,d))return ii(i,d,g);if(h&&tr(g,d))return ii(i,g,d)}return!1},t.isSelectingRangeStart=function(){var r;if(!t.isInSelectingRange())return!1;var s=t.props,i=s.day,o=s.startDate,a=s.selectsStart,l=s.swapRange,c=s.selectsRange,d=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return a?ye(i,d):c&&l&&o&&d?ye(i,tr(d,o)?d:o):ye(i,o)},t.isSelectingRangeEnd=function(){var r;if(!t.isInSelectingRange())return!1;var s=t.props,i=s.day,o=s.endDate,a=s.selectsEnd,l=s.selectsRange,c=s.swapRange,d=s.startDate,h=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return a?ye(i,h):l&&c&&d&&h?ye(i,tr(h,d)?d:h):l?ye(i,h):ye(i,o)},t.isRangeStart=function(){var r=t.props,s=r.day,i=r.startDate,o=r.endDate;return!i||!o?!1:ye(i,s)},t.isRangeEnd=function(){var r=t.props,s=r.day,i=r.startDate,o=r.endDate;return!i||!o?!1:ye(o,s)},t.isWeekend=function(){var r=N4(t.props.day);return r===0||r===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===jt(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(jt(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(Re())},t.isSelected=function(){var r;return t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(s){return t.isSameDayOrWeek(s)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(r){var s=t.props.dayClassName?t.props.dayClassName(r):void 0;return Ct("react-datepicker__day",s,"react-datepicker__day--"+C3(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var r=t.props,s=r.day,i=r.ariaLabelPrefixWhenEnabled,o=i===void 0?"Choose":i,a=r.ariaLabelPrefixWhenDisabled,l=a===void 0?"Not available":a,c=t.isDisabled()||t.isExcluded()?l:o;return"".concat(c," ").concat(We(s,"PPPP",t.props.locale))},t.getTitle=function(){var r=t.props,s=r.day,i=r.holidays,o=i===void 0?new Map:i,a=r.excludeDates,l=We(s,"MM.dd.yyyy"),c=[];return o.has(l)&&c.push.apply(c,o.get(l).holidayNames),t.isExcluded()&&c.push(a==null?void 0:a.filter(function(d){return d instanceof Date?ye(d,s):ye(d==null?void 0:d.date,s)}).map(function(d){if(!(d instanceof Date))return d==null?void 0:d.message})),c.join(", ")},t.getTabIndex=function(){var r=t.props.selected,s=t.props.preSelection,i=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(r)&&ye(s,r))?0:-1;return i},t.handleFocusDay=function(){var r;t.shouldFocusDay()&&((r=t.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(L0(t.props.day),t.props.day):L0(t.props.day)},t.render=function(){return j.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"gridcell",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&j.createElement("span",{className:"overlay"},t.getTitle()))},t}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},e.prototype.isDayActiveElement=function(){var t,r,s;return((r=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((s=document.activeElement)===null||s===void 0?void 0:s.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e}(A.Component),$3=function(n){bt(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.weekNumberEl=A.createRef(),t.handleClick=function(r){t.props.onClick&&t.props.onClick(r)},t.handleOnKeyDown=function(r){var s,i,o=r.key;o===z.Space&&(r.preventDefault(),r.key=z.Enter),(i=(s=t.props).handleOnKeyDown)===null||i===void 0||i.call(s,r)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!ye(t.props.date,t.props.selected)&&ye(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||ye(t.props.date,t.props.selected)&&ye(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(r){var s=!1;t.getTabIndex()===0&&!(r!=null&&r.isInputFocused)&&ye(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(s=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(s=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(s=!0)),s&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},e.prototype.render=function(){var t=this.props,r=t.weekNumber,s=t.isWeekDisabled,i=t.ariaLabelPrefix,o=i===void 0?e.defaultProps.ariaLabelPrefix:i,a=t.onClick,l={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!a&&!s,"react-datepicker__week-number--selected":!!a&&ye(this.props.date,this.props.selected)};return j.createElement("div",{ref:this.weekNumberEl,className:Ct(l),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:"gridcell"},r)},e}(A.Component),H3=function(n){bt(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.isDisabled=function(r){return En(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(r,s){t.props.onDayClick&&t.props.onDayClick(r,s)},t.handleDayMouseEnter=function(r){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(r)},t.handleWeekClick=function(r,s,i){for(var o,a,l,c=new Date(r),d=0;d<7;d++){var h=new Date(r);h.setDate(h.getDate()+d);var p=!t.isDisabled(h);if(p){c=h;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(c,s,i),t.props.showWeekPicker&&t.handleDayClick(c,i),((o=t.props.shouldCloseOnSelect)!==null&&o!==void 0?o:e.defaultProps.shouldCloseOnSelect)&&((l=(a=t.props).setOpen)===null||l===void 0||l.call(a,!1))},t.formatWeekNumber=function(r){return t.props.formatWeekNumber?t.props.formatWeekNumber(r):S3(r)},t.isWeekDisabled=function(){for(var r=t.startOfWeek(),s=Ln(r,6),i=new Date(r);i<=s;){if(!t.isDisabled(i))return!1;i=Ln(i,1)}return!0},t.renderDays=function(){var r=t.startOfWeek(),s=[],i=t.formatWeekNumber(r);if(t.props.showWeekNumber){var o=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,r,i):void 0;s.push(j.createElement($3,_e({key:"W"},e.defaultProps,t.props,{weekNumber:i,isWeekDisabled:t.isWeekDisabled(),date:r,onClick:o})))}return s.concat([0,1,2,3,4,5,6].map(function(a){var l=Ln(r,a);return j.createElement(W3,_e({},e.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:l.valueOf(),day:l,onClick:t.handleDayClick.bind(t,l),onMouseEnter:t.handleDayMouseEnter.bind(t,l)}))}))},t.startOfWeek=function(){return Ns(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!ye(t.startOfWeek(),t.props.selected)&&ye(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":ye(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},r=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return j.createElement("div",{className:Ct(t,r),role:"row"},this.renderDays())},e}(A.Component),La,Y3=6,ko={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Xf=(La={},La[ko.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},La[ko.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},La[ko.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},La),cc=1;function uE(n,e){return n?ko.FOUR_COLUMNS:e?ko.TWO_COLUMNS:ko.THREE_COLUMNS}var z3=function(n){bt(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.MONTH_REFS=nr([],Array(12),!0).map(function(){return A.createRef()}),t.QUARTER_REFS=nr([],Array(4),!0).map(function(){return A.createRef()}),t.isDisabled=function(r){return En(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate,disabled:t.props.disabled})},t.isExcluded=function(r){return jv(r,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(r,s){var i,o;(o=(i=t.props).onDayClick)===null||o===void 0||o.call(i,r,s,t.props.orderInDisplay)},t.handleDayMouseEnter=function(r){var s,i;(i=(s=t.props).onDayMouseEnter)===null||i===void 0||i.call(s,r)},t.handleMouseLeave=function(){var r,s;(s=(r=t.props).onMouseLeave)===null||s===void 0||s.call(r)},t.isRangeStartMonth=function(r){var s=t.props,i=s.day,o=s.startDate,a=s.endDate;return!o||!a?!1:zt(un(i,r),o)},t.isRangeStartQuarter=function(r){var s=t.props,i=s.day,o=s.startDate,a=s.endDate;return!o||!a?!1:Bd(Zi(i,r),o)},t.isRangeEndMonth=function(r){var s=t.props,i=s.day,o=s.startDate,a=s.endDate;return!o||!a?!1:zt(un(i,r),a)},t.isRangeEndQuarter=function(r){var s=t.props,i=s.day,o=s.startDate,a=s.endDate;return!o||!a?!1:Bd(Zi(i,r),a)},t.isInSelectingRangeMonth=function(r){var s,i=t.props,o=i.day,a=i.selectsStart,l=i.selectsEnd,c=i.selectsRange,d=i.startDate,h=i.endDate,p=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return!(a||l||c)||!p?!1:a&&h?oc(p,h,r,o):l&&d||c&&d&&!h?oc(d,p,r,o):!1},t.isSelectingMonthRangeStart=function(r){var s;if(!t.isInSelectingRangeMonth(r))return!1;var i=t.props,o=i.day,a=i.startDate,l=i.selectsStart,c=un(o,r),d=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return l?zt(c,d):zt(c,a)},t.isSelectingMonthRangeEnd=function(r){var s;if(!t.isInSelectingRangeMonth(r))return!1;var i=t.props,o=i.day,a=i.endDate,l=i.selectsEnd,c=i.selectsRange,d=un(o,r),h=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return l||c?zt(d,h):zt(d,a)},t.isInSelectingRangeQuarter=function(r){var s,i=t.props,o=i.day,a=i.selectsStart,l=i.selectsEnd,c=i.selectsRange,d=i.startDate,h=i.endDate,p=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return!(a||l||c)||!p?!1:a&&h?uc(p,h,r,o):l&&d||c&&d&&!h?uc(d,p,r,o):!1},t.isWeekInMonth=function(r){var s=t.props.day,i=Ln(r,6);return zt(r,s)||zt(i,s)},t.isCurrentMonth=function(r,s){return me(r)===me(Re())&&s===jt(Re())},t.isCurrentQuarter=function(r,s){return me(r)===me(Re())&&s===gi(Re())},t.isSelectedMonth=function(r,s,i){return jt(i)===s&&me(r)===me(i)},t.isSelectMonthInList=function(r,s,i){return i.some(function(o){return t.isSelectedMonth(r,s,o)})},t.isSelectedQuarter=function(r,s,i){return gi(r)===s&&me(r)===me(i)},t.isMonthSelected=function(){var r=t.props,s=r.day,i=r.selected,o=r.selectedDates,a=r.selectsMultiple,l=jt(s);return a?o==null?void 0:o.some(function(c){return t.isSelectedMonth(s,l,c)}):!!i&&t.isSelectedMonth(s,l,i)},t.renderWeeks=function(){for(var r=[],s=t.props.fixedHeight,i=0,o=!1,a=Ns(Or(t.props.day),t.props.locale,t.props.calendarStartDay),l=function(_){return t.props.showWeekPicker?Ns(_,t.props.locale,t.props.calendarStartDay):t.props.preSelection},c=function(_){return t.props.showWeekPicker?Ns(_,t.props.locale,t.props.calendarStartDay):t.props.selected},d=t.props.selected?c(t.props.selected):void 0,h=t.props.preSelection?l(t.props.preSelection):void 0;r.push(j.createElement(H3,_e({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:i,day:a,month:jt(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:d,preSelection:h,showWeekNumber:t.props.showWeekNumbers}))),!o;){i++,a=bd(a,1);var p=s&&i>=Y3,g=!s&&!t.isWeekInMonth(a);if(p||g)if(t.props.peekNextMonth)o=!0;else break}return r},t.onMonthClick=function(r,s){var i=t.isMonthDisabledForLabelDate(s),o=i.isDisabled,a=i.labelDate;o||t.handleDayClick(Or(a),r)},t.onMonthMouseEnter=function(r){var s=t.isMonthDisabledForLabelDate(r),i=s.isDisabled,o=s.labelDate;i||t.handleDayMouseEnter(Or(o))},t.handleMonthNavigation=function(r,s){var i,o,a,l;(o=(i=t.props).setPreSelection)===null||o===void 0||o.call(i,s),(l=(a=t.MONTH_REFS[r])===null||a===void 0?void 0:a.current)===null||l===void 0||l.focus()},t.handleKeyboardNavigation=function(r,s,i){var o,a=t.props,l=a.selected,c=a.preSelection,d=a.setPreSelection,h=a.minDate,p=a.maxDate,g=a.showFourColumnMonthYearPicker,_=a.showTwoColumnMonthYearPicker;if(c){var D=uE(g,_),I=t.getVerticalOffset(D),w=(o=Xf[D])===null||o===void 0?void 0:o.grid,y=function(S,v,C){var P,R,N=v,b=C;switch(S){case z.ArrowRight:N=Bn(v,cc),b=C===11?0:C+cc;break;case z.ArrowLeft:N=vi(v,cc),b=C===0?11:C-cc;break;case z.ArrowUp:N=vi(v,I),b=!((P=w==null?void 0:w[0])===null||P===void 0)&&P.includes(C)?C+12-I:C-I;break;case z.ArrowDown:N=Bn(v,I),b=!((R=w==null?void 0:w[w.length-1])===null||R===void 0)&&R.includes(C)?C-12+I:C+I;break}return{newCalculatedDate:N,newCalculatedMonth:b}},E=function(S,v,C){for(var P=40,R=S,N=!1,b=0,se=y(R,v,C),re=se.newCalculatedDate,ee=se.newCalculatedMonth;!N;){if(b>=P){re=v,ee=C;break}if(h&&re<h){R=z.ArrowRight;var ie=y(R,re,ee);re=ie.newCalculatedDate,ee=ie.newCalculatedMonth}if(p&&re>p){R=z.ArrowLeft;var ie=y(R,re,ee);re=ie.newCalculatedDate,ee=ie.newCalculatedMonth}if(x3(re,t.props)){var ie=y(R,re,ee);re=ie.newCalculatedDate,ee=ie.newCalculatedMonth}else N=!0;b++}return{newCalculatedDate:re,newCalculatedMonth:ee}};if(s===z.Enter){t.isMonthDisabled(i)||(t.onMonthClick(r,i),d==null||d(l));return}var x=E(s,c,i),L=x.newCalculatedDate,M=x.newCalculatedMonth;switch(s){case z.ArrowRight:case z.ArrowLeft:case z.ArrowUp:case z.ArrowDown:t.handleMonthNavigation(M,L);break}}},t.getVerticalOffset=function(r){var s,i;return(i=(s=Xf[r])===null||s===void 0?void 0:s.verticalNavigationOffset)!==null&&i!==void 0?i:0},t.onMonthKeyDown=function(r,s){var i=t.props,o=i.disabledKeyboardNavigation,a=i.handleOnMonthKeyDown,l=r.key;l!==z.Tab&&r.preventDefault(),o||t.handleKeyboardNavigation(r,l,s),a&&a(r)},t.onQuarterClick=function(r,s){var i=Zi(t.props.day,s);ac(i,t.props)||t.handleDayClick(K0(i),r)},t.onQuarterMouseEnter=function(r){var s=Zi(t.props.day,r);ac(s,t.props)||t.handleDayMouseEnter(K0(s))},t.handleQuarterNavigation=function(r,s){var i,o,a,l;t.isDisabled(s)||t.isExcluded(s)||((o=(i=t.props).setPreSelection)===null||o===void 0||o.call(i,s),(l=(a=t.QUARTER_REFS[r-1])===null||a===void 0?void 0:a.current)===null||l===void 0||l.focus())},t.onQuarterKeyDown=function(r,s){var i,o,a=r.key;if(!t.props.disabledKeyboardNavigation)switch(a){case z.Enter:t.onQuarterClick(r,s),(o=(i=t.props).setPreSelection)===null||o===void 0||o.call(i,t.props.selected);break;case z.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(s===4?1:s+1,Dv(t.props.preSelection,1));break;case z.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(s===1?4:s-1,Ck(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(r){var s,i=t.props,o=i.day,a=i.disabled,l=i.minDate,c=i.maxDate,d=i.excludeDates,h=i.includeDates,p=un(o,r);return a?{isDisabled:!0,labelDate:un(o,r)}:{isDisabled:(s=(l||c||d||h)&&jk(p,t.props))!==null&&s!==void 0?s:!1,labelDate:p}},t.isMonthDisabled=function(r){var s=t.isMonthDisabledForLabelDate(r).isDisabled;return s},t.getMonthClassNames=function(r){var s=t.props,i=s.day,o=s.startDate,a=s.endDate,l=s.preSelection,c=s.monthClassName,d=c?c(un(i,r)):void 0,h=t.getSelection();return Ct("react-datepicker__month-text","react-datepicker__month-".concat(r),d,{"react-datepicker__month-text--disabled":t.isMonthDisabled(r),"react-datepicker__month-text--selected":h?t.isSelectMonthInList(i,r,h):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&l&&t.isSelectedMonth(i,r,l)&&!t.isMonthSelected()&&!t.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":o&&a?oc(o,a,r,i):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(r),"react-datepicker__month-text--range-end":t.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":t.isCurrentMonth(i,r)})},t.getTabIndex=function(r){if(t.props.preSelection==null)return"-1";var s=jt(t.props.preSelection),i=t.isMonthDisabledForLabelDate(s).isDisabled,o=r===s&&!(i||t.props.disabledKeyboardNavigation)?"0":"-1";return o},t.getQuarterTabIndex=function(r){if(t.props.preSelection==null)return"-1";var s=gi(t.props.preSelection),i=ac(t.props.day,t.props),o=r===s&&!(i||t.props.disabledKeyboardNavigation)?"0":"-1";return o},t.getAriaLabel=function(r){var s=t.props,i=s.chooseDayAriaLabelPrefix,o=i===void 0?"Choose":i,a=s.disabledDayAriaLabelPrefix,l=a===void 0?"Not available":a,c=s.day,d=s.locale,h=un(c,r),p=t.isDisabled(h)||t.isExcluded(h)?l:o;return"".concat(p," ").concat(We(h,"MMMM yyyy",d))},t.getQuarterClassNames=function(r){var s=t.props,i=s.day,o=s.startDate,a=s.endDate,l=s.selected,c=s.minDate,d=s.maxDate,h=s.excludeDates,p=s.includeDates,g=s.filterDate,_=s.preSelection,D=s.disabledKeyboardNavigation,I=s.disabled,w=(c||d||h||p||g||I)&&ac(Zi(i,r),t.props);return Ct("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":w,"react-datepicker__quarter-text--selected":l?t.isSelectedQuarter(i,r,l):void 0,"react-datepicker__quarter-text--keyboard-selected":!D&&_&&t.isSelectedQuarter(i,r,_)&&!w,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":o&&a?uc(o,a,r,i):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(r),"react-datepicker__quarter-text--today":t.isCurrentQuarter(i,r)})},t.getMonthContent=function(r){var s=t.props,i=s.showFullMonthYearPicker,o=s.renderMonthContent,a=s.locale,l=s.day,c=Fk(r,a),d=Fv(r,a);return o?o(r,c,d,l):i?d:c},t.getQuarterContent=function(r){var s,i=t.props,o=i.renderQuarterContent,a=i.locale,l=R3(r,a);return(s=o==null?void 0:o(r,l))!==null&&s!==void 0?s:l},t.renderMonths=function(){var r,s=t.props,i=s.showTwoColumnMonthYearPicker,o=s.showFourColumnMonthYearPicker,a=s.day,l=s.selected,c=(r=Xf[uE(o,i)])===null||r===void 0?void 0:r.grid;return c==null?void 0:c.map(function(d,h){return j.createElement("div",{className:"react-datepicker__month-wrapper",key:h},d.map(function(p,g){return j.createElement("div",{ref:t.MONTH_REFS[p],key:g,onClick:function(_){t.onMonthClick(_,p)},onKeyDown:function(_){Wk(_)&&(_.preventDefault(),_.key=z.Enter),t.onMonthKeyDown(_,p)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(p)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(p)}:void 0,tabIndex:Number(t.getTabIndex(p)),className:t.getMonthClassNames(p),"aria-disabled":t.isMonthDisabled(p),role:"option","aria-label":t.getAriaLabel(p),"aria-current":t.isCurrentMonth(a,p)?"date":void 0,"aria-selected":l?t.isSelectedMonth(a,p,l):void 0},t.getMonthContent(p))}))})},t.renderQuarters=function(){var r=t.props,s=r.day,i=r.selected,o=[1,2,3,4];return j.createElement("div",{className:"react-datepicker__quarter-wrapper"},o.map(function(a,l){return j.createElement("div",{key:l,ref:t.QUARTER_REFS[l],role:"option",onClick:function(c){t.onQuarterClick(c,a)},onKeyDown:function(c){t.onQuarterKeyDown(c,a)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(a)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(a)}:void 0,className:t.getQuarterClassNames(a),"aria-selected":i?t.isSelectedQuarter(s,a,i):void 0,tabIndex:Number(t.getQuarterTabIndex(a)),"aria-current":t.isCurrentQuarter(s,a)?"date":void 0},t.getQuarterContent(a))}))},t.getClassNames=function(){var r=t.props,s=r.selectingDate,i=r.selectsStart,o=r.selectsEnd,a=r.showMonthYearPicker,l=r.showQuarterYearPicker,c=r.showWeekPicker;return Ct("react-datepicker__month",{"react-datepicker__month--selecting-range":s&&(i||o)},{"react-datepicker__monthPicker":a},{"react-datepicker__quarterPicker":l},{"react-datepicker__weekPicker":c})},t}return e.prototype.getSelection=function(){var t=this.props,r=t.selected,s=t.selectedDates,i=t.selectsMultiple;if(i)return s;if(r)return[r]},e.prototype.render=function(){var t=this.props,r=t.showMonthYearPicker,s=t.showQuarterYearPicker,i=t.day,o=t.ariaLabelPrefix,a=o===void 0?"Month ":o,l=a?a.trim()+" ":"",c=r||s;return c?j.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(l).concat(We(i,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():this.renderQuarters()):j.createElement("div",{role:"table"},this.props.dayNamesHeader&&j.createElement("div",{role:"rowgroup"},this.props.dayNamesHeader),j.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(l).concat(We(i,"MMMM, yyyy",this.props.locale)),role:"rowgroup"},this.renderWeeks()))},e}(A.Component),q3=function(n){bt(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.monthOptionButtonsRef={},t.isSelectedMonth=function(r){return t.props.month===r},t.handleOptionKeyDown=function(r,s){var i;switch(s.key){case"Enter":s.preventDefault(),t.onChange(r);break;case"Escape":s.preventDefault(),t.props.onCancel();break;case"ArrowUp":case"ArrowDown":{s.preventDefault();var o=(r+(s.key==="ArrowUp"?-1:1)+t.props.monthNames.length)%t.props.monthNames.length;(i=t.monthOptionButtonsRef[o])===null||i===void 0||i.focus();break}}},t.renderOptions=function(){return t.monthOptionButtonsRef={},t.props.monthNames.map(function(r,s){return j.createElement("div",{ref:function(i){t.monthOptionButtonsRef[s]=i,t.isSelectedMonth(s)&&(i==null||i.focus())},role:"button",tabIndex:0,className:t.isSelectedMonth(s)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:t.onChange.bind(t,s),onKeyDown:t.handleOptionKeyDown.bind(t,s),"aria-selected":t.isSelectedMonth(s)?"true":void 0},t.isSelectedMonth(s)?j.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",r)})},t.onChange=function(r){return t.props.onChange(r)},t.handleClickOutside=function(){return t.props.onCancel()},t}return e.prototype.render=function(){return j.createElement(Nh,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e}(A.Component),Q3=function(n){bt(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(r){return r.map(function(s,i){return j.createElement("option",{key:s,value:i},s)})},t.renderSelectMode=function(r){return j.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(s){return t.onChange(parseInt(s.target.value))}},t.renderSelectOptions(r))},t.renderReadView=function(r,s){return j.createElement("button",{key:"read",type:"button",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},j.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),j.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},s[t.props.month]))},t.renderDropdown=function(r){return j.createElement(q3,_e({key:"dropdown"},t.props,{monthNames:r,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(r){var s=t.state.dropdownVisible,i=[t.renderReadView(!s,r)];return s&&i.unshift(t.renderDropdown(r)),i},t.onChange=function(r){t.toggleDropdown(),r!==t.props.month&&t.props.onChange(r)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(i){return Fk(i,t.props.locale)}:function(i){return Fv(i,t.props.locale)}),s;switch(this.props.dropdownMode){case"scroll":s=this.renderScrollMode(r);break;case"select":s=this.renderSelectMode(r);break}return j.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},s)},e}(A.Component);function K3(n,e){for(var t=[],r=Or(n),s=Or(e);!Bs(r,s);)t.push(Re(r)),r=Bn(r,1);return t}var G3=function(n){bt(e,n);function e(t){var r=n.call(this,t)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(s){var i=Im(s),o=qn(r.props.date,s)&&zt(r.props.date,s);return j.createElement("div",{className:o?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:i,onClick:r.onChange.bind(r,i),"aria-selected":o?"true":void 0},o?j.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",We(s,r.props.dateFormat,r.props.locale))})},r.onChange=function(s){return r.props.onChange(s)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:K3(r.props.minDate,r.props.maxDate)},r}return e.prototype.render=function(){var t=Ct({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return j.createElement(Nh,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(A.Component),X3=function(n){bt(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=Or(t.props.minDate),s=Or(t.props.maxDate),i=[];!Bs(r,s);){var o=Im(r);i.push(j.createElement("option",{key:o,value:o},We(r,t.props.dateFormat,t.props.locale))),r=Bn(r,1)}return i},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return j.createElement("select",{value:Im(Or(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){var s=We(t.props.date,t.props.dateFormat,t.props.locale);return j.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},j.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),j.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},s))},t.renderDropdown=function(){return j.createElement(G3,_e({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,s=[t.renderReadView(!r)];return r&&s.unshift(t.renderDropdown()),s},t.onChange=function(r){t.toggleDropdown();var s=Re(r);qn(t.props.date,s)&&zt(t.props.date,s)||t.props.onChange(s)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return j.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(A.Component),J3=function(n){bt(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,s,i;t.list&&(t.list.scrollTop=(i=t.centerLi&&e.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((s=(r=t.header)===null||r===void 0?void 0:r.clientHeight)!==null&&s!==void 0?s:0):t.list.clientHeight,t.centerLi))!==null&&i!==void 0?i:0)})},t.handleClick=function(r){var s,i;(t.props.minTime||t.props.maxTime)&&eE(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&Z0(r,t.props)||(i=(s=t.props).onChange)===null||i===void 0||i.call(s,r)},t.isSelectedTime=function(r){return t.props.selected&&B3(t.props.selected,r)},t.isDisabledTime=function(r){return(t.props.minTime||t.props.maxTime)&&eE(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&Z0(r,t.props)},t.liClasses=function(r){var s,i=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(r):void 0];return t.isSelectedTime(r)&&i.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(r)&&i.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(Nr(r)*3600+Mr(r)*60+As(r))%(((s=t.props.intervals)!==null&&s!==void 0?s:e.defaultProps.intervals)*60)!==0&&i.push("react-datepicker__time-list-item--injected"),i.join(" ")},t.handleOnKeyDown=function(r,s){var i,o;r.key===z.Space&&(r.preventDefault(),r.key=z.Enter),(r.key===z.ArrowUp||r.key===z.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===z.ArrowDown||r.key===z.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===z.Enter&&t.handleClick(s),(o=(i=t.props).handleOnKeyDown)===null||o===void 0||o.call(i,r)},t.renderTimes=function(){for(var r,s=[],i=typeof t.props.format=="string"?t.props.format:"p",o=(r=t.props.intervals)!==null&&r!==void 0?r:e.defaultProps.intervals,a=t.props.selected||t.props.openToDate||Re(),l=Lc(a),c=t.props.injectTimes&&t.props.injectTimes.sort(function(I,w){return I.getTime()-w.getTime()}),d=60*j3(a),h=d/o,p=0;p<h;p++){var g=Tm(l,p*o);if(s.push(g),c){var _=F3(l,g,p,o,c);s=s.concat(_)}}var D=s.reduce(function(I,w){return w.getTime()<=a.getTime()?w:I},s[0]);return s.map(function(I){return j.createElement("li",{key:I.valueOf(),onClick:t.handleClick.bind(t,I),className:t.liClasses(I),ref:function(w){I===D&&(t.centerLi=w)},onKeyDown:function(w){t.handleOnKeyDown(w,I)},tabIndex:I===D?0:-1,role:"option","aria-selected":t.isSelectedTime(I)?"true":void 0,"aria-disabled":t.isDisabledTime(I)?"true":void 0},We(I,i,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?j.createElement(j.Fragment,null):j.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){t.header=r}},j.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},e.prototype.componentWillUnmount=function(){var t;(t=this.resizeObserver)===null||t===void 0||t.disconnect()},e.prototype.observeDatePickerHeightChanges=function(){var t=this,r=this.props.monthRef;this.updateContainerHeight(),r&&(this.resizeObserver=new ResizeObserver(function(){t.updateContainerHeight()}),this.resizeObserver.observe(r))},e.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var t=this,r,s=this.state.height;return j.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),j.createElement("div",{className:"react-datepicker__time"},j.createElement("div",{className:"react-datepicker__time-box"},j.createElement("ul",{className:"react-datepicker__time-list",ref:function(i){t.list=i},style:s?{height:s}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(t,r){return r.offsetTop-(t/2-r.clientHeight/2)},e}(A.Component),cE=3,Z3=function(n){bt(e,n);function e(t){var r=n.call(this,t)||this;return r.YEAR_REFS=nr([],Array(r.props.yearItemNumber),!0).map(function(){return A.createRef()}),r.isDisabled=function(s){return En(s,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(s){return jv(s,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var s;return(s=r.props.selectingDate)!==null&&s!==void 0?s:r.props.preSelection},r.updateFocusOnPaginate=function(s){var i=function(){var o,a;(a=(o=r.YEAR_REFS[s])===null||o===void 0?void 0:o.current)===null||a===void 0||a.focus()};window.requestAnimationFrame(i)},r.handleYearClick=function(s,i){r.props.onDayClick&&r.props.onDayClick(s,i)},r.handleYearNavigation=function(s,i){var o,a,l,c,d=r.props,h=d.date,p=d.yearItemNumber;if(!(h===void 0||p===void 0)){var g=Dr(h,p).startPeriod;r.isDisabled(i)||r.isExcluded(i)||((a=(o=r.props).setPreSelection)===null||a===void 0||a.call(o,i),s-g<0?r.updateFocusOnPaginate(p-(g-s)):s-g>=p?r.updateFocusOnPaginate(Math.abs(p-(s-g))):(c=(l=r.YEAR_REFS[s-g])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus())}},r.isSameDay=function(s,i){return ye(s,i)},r.isCurrentYear=function(s){return s===me(Re())},r.isRangeStart=function(s){return r.props.startDate&&r.props.endDate&&qn(zn(Re(),s),r.props.startDate)},r.isRangeEnd=function(s){return r.props.startDate&&r.props.endDate&&qn(zn(Re(),s),r.props.endDate)},r.isInRange=function(s){return lc(s,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(s){var i=r.props,o=i.selectsStart,a=i.selectsEnd,l=i.selectsRange,c=i.startDate,d=i.endDate;return!(o||a||l)||!r.selectingDate()?!1:o&&d?lc(s,r.selectingDate(),d):a&&c||l&&c&&!d?lc(s,c,r.selectingDate()):!1},r.isSelectingRangeStart=function(s){var i;if(!r.isInSelectingRange(s))return!1;var o=r.props,a=o.startDate,l=o.selectsStart,c=zn(Re(),s);return l?qn(c,(i=r.selectingDate())!==null&&i!==void 0?i:null):qn(c,a??null)},r.isSelectingRangeEnd=function(s){var i;if(!r.isInSelectingRange(s))return!1;var o=r.props,a=o.endDate,l=o.selectsEnd,c=o.selectsRange,d=zn(Re(),s);return l||c?qn(d,(i=r.selectingDate())!==null&&i!==void 0?i:null):qn(d,a??null)},r.isKeyboardSelected=function(s){if(!(r.props.disabledKeyboardNavigation||r.props.date===void 0||r.props.preSelection==null)){var i=r.props,o=i.minDate,a=i.maxDate,l=i.excludeDates,c=i.includeDates,d=i.filterDate,h=i.selected,p=Ka(zn(r.props.date,s)),g=(o||a||l||c||d)&&Vc(s,r.props),_=!!h&&ye(p,Ka(h)),D=ye(p,Ka(r.props.preSelection));return!r.props.inline&&!_&&D&&!g}},r.isSelectedYear=function(s){var i=r.props,o=i.selectsMultiple,a=i.selected,l=i.selectedDates;return o?l==null?void 0:l.some(function(c){return s===me(c)}):!!a&&s===me(a)},r.onYearClick=function(s,i){var o=r.props.date;o!==void 0&&r.handleYearClick(Ka(zn(o,i)),s)},r.onYearKeyDown=function(s,i){var o,a,l=s.key,c=r.props,d=c.date,h=c.yearItemNumber,p=c.handleOnKeyDown;if(l!==z.Tab&&s.preventDefault(),!r.props.disabledKeyboardNavigation)switch(l){case z.Enter:if(r.props.selected==null)break;r.onYearClick(s,i),(a=(o=r.props).setPreSelection)===null||a===void 0||a.call(o,r.props.selected);break;case z.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(i+1,xr(r.props.preSelection,1));break;case z.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(i-1,zo(r.props.preSelection,1));break;case z.ArrowUp:{if(d===void 0||h===void 0||r.props.preSelection==null)break;var g=Dr(d,h).startPeriod,_=cE,D=i-_;if(D<g){var I=h%_;i>=g&&i<g+I?_=I:_+=I,D=i-_}r.handleYearNavigation(D,zo(r.props.preSelection,_));break}case z.ArrowDown:{if(d===void 0||h===void 0||r.props.preSelection==null)break;var w=Dr(d,h).endPeriod,_=cE,D=i+_;if(D>w){var I=h%_;i<=w&&i>w-I?_=I:_+=I,D=i+_}r.handleYearNavigation(D,xr(r.props.preSelection,_));break}}p&&p(s)},r.getYearClassNames=function(s){var i=r.props,o=i.date,a=i.disabled,l=i.minDate,c=i.maxDate,d=i.excludeDates,h=i.includeDates,p=i.filterDate,g=i.yearClassName;return Ct("react-datepicker__year-text","react-datepicker__year-".concat(s),o?g==null?void 0:g(zn(o,s)):void 0,{"react-datepicker__year-text--selected":r.isSelectedYear(s),"react-datepicker__year-text--disabled":(l||c||d||h||p||a)&&Vc(s,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(s),"react-datepicker__year-text--range-start":r.isRangeStart(s),"react-datepicker__year-text--range-end":r.isRangeEnd(s),"react-datepicker__year-text--in-range":r.isInRange(s),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(s),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(s),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(s),"react-datepicker__year-text--today":r.isCurrentYear(s)})},r.getYearTabIndex=function(s){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var i=me(r.props.preSelection),o=Vc(s,r.props);return s===i&&!o?"0":"-1"},r.getYearContent=function(s){return r.props.renderYearContent?r.props.renderYearContent(s):s},r}return e.prototype.render=function(){var t=this,r=[],s=this.props,i=s.date,o=s.yearItemNumber,a=s.onYearMouseEnter,l=s.onYearMouseLeave;if(i===void 0)return null;for(var c=Dr(i,o),d=c.startPeriod,h=c.endPeriod,p=function(D){r.push(j.createElement("div",{ref:g.YEAR_REFS[D-d],onClick:function(I){t.onYearClick(I,D)},onKeyDown:function(I){Wk(I)&&(I.preventDefault(),I.key=z.Enter),t.onYearKeyDown(I,D)},tabIndex:Number(g.getYearTabIndex(D)),className:g.getYearClassNames(D),onMouseEnter:g.props.usePointerEvent?void 0:function(I){return a(I,D)},onPointerEnter:g.props.usePointerEvent?function(I){return a(I,D)}:void 0,onMouseLeave:g.props.usePointerEvent?void 0:function(I){return l(I,D)},onPointerLeave:g.props.usePointerEvent?function(I){return l(I,D)}:void 0,key:D,"aria-current":g.isCurrentYear(D)?"date":void 0},g.getYearContent(D)))},g=this,_=d;_<=h;_++)p(_);return j.createElement("div",{className:"react-datepicker__year"},j.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},e}(A.Component);function eW(n,e,t,r){for(var s=[],i=0;i<2*e+1;i++){var o=n+e-i,a=!0;t&&(a=me(t)<=o),r&&a&&(a=me(r)>=o),a&&s.push(o)}return s}var tW=function(n){bt(e,n);function e(t){var r=n.call(this,t)||this;r.yearOptionButtonsRef={},r.handleOptionKeyDown=function(a,l){var c;switch(l.key){case"Enter":l.preventDefault(),r.onChange(a);break;case"Escape":l.preventDefault(),r.props.onCancel();break;case"ArrowUp":case"ArrowDown":{l.preventDefault();var d=a+(l.key==="ArrowUp"?1:-1);r.yearOptionButtonsRef[d]&&((c=r.yearOptionButtonsRef[d])===null||c===void 0||c.focus());break}}},r.renderOptions=function(){r.yearOptionButtonsRef={};var a=r.props.year,l=r.state.yearsList.map(function(h){return j.createElement("div",{ref:function(p){r.yearOptionButtonsRef[h]=p,h===a&&(p==null||p.focus())},role:"button",tabIndex:0,className:a===h?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:h,onClick:r.onChange.bind(r,h),onKeyDown:r.handleOptionKeyDown.bind(r,h),"aria-selected":a===h?"true":void 0},a===h?j.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",h)}),c=r.props.minDate?me(r.props.minDate):null,d=r.props.maxDate?me(r.props.maxDate):null;return(!d||!r.state.yearsList.find(function(h){return h===d}))&&l.unshift(j.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},j.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!c||!r.state.yearsList.find(function(h){return h===c}))&&l.push(j.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},j.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),l},r.onChange=function(a){r.props.onChange(a)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(a){var l=r.state.yearsList.map(function(c){return c+a});r.setState({yearsList:l})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var s=t.yearDropdownItemNumber,i=t.scrollableYearDropdown,o=s||(i?10:5);return r.state={yearsList:eW(r.props.year,o,r.props.minDate,r.props.maxDate)},r.dropdownRef=A.createRef(),r}return e.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var r=t.children?Array.from(t.children):null,s=r?r.find(function(i){return i.ariaSelected}):null;t.scrollTop=s&&s instanceof HTMLElement?s.offsetTop+(s.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},e.prototype.render=function(){var t=Ct({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return j.createElement(Nh,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(A.Component),nW=function(n){bt(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=t.props.minDate?me(t.props.minDate):1900,s=t.props.maxDate?me(t.props.maxDate):2100,i=[],o=r;o<=s;o++)i.push(j.createElement("option",{key:o,value:o},o));return i},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return j.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){return j.createElement("button",{key:"read",type:"button",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:t.toggleDropdown},j.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),j.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return j.createElement(tW,_e({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,s=[t.renderReadView(!r)];return r&&s.unshift(t.renderDropdown()),s},t.onChange=function(r){t.toggleDropdown(),r!==t.props.year&&t.props.onChange(r)},t.toggleDropdown=function(r){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,r)})},t.handleYearChange=function(r,s){var i;(i=t.onSelect)===null||i===void 0||i.call(t,r,s),t.setOpen()},t.onSelect=function(r,s){var i,o;(o=(i=t.props).onSelect)===null||o===void 0||o.call(i,r,s)},t.setOpen=function(){var r,s;(s=(r=t.props).setOpen)===null||s===void 0||s.call(r,!0)},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return j.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(A.Component),rW=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],$k="react-datepicker-ignore-onclickoutside",sW=function(n){var e=(n.className||"").split(/\s+/);return rW.some(function(t){return e.indexOf(t)>=0})},iW=function(n){bt(e,n);function e(t){var r=n.call(this,t)||this;return r.monthContainer=void 0,r.handleClickOutside=function(s){r.props.onClickOutside(s)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(s){var i,o;sW(s.target)&&((o=(i=r.props).onDropdownFocus)===null||o===void 0||o.call(i,s))},r.getDateInView=function(){var s=r.props,i=s.preSelection,o=s.selected,a=s.openToDate,l=Bk(r.props),c=Uk(r.props),d=Re(),h=a||o||i;return h||(l&&tr(d,l)?l:c&&Bs(d,c)?c:d)},r.increaseMonth=function(){r.setState(function(s){var i=s.date;return{date:Bn(i,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(s){var i=s.date;return{date:vi(i,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(s,i,o){r.props.onSelect(s,i,o),r.props.setPreSelection&&r.props.setPreSelection(s)},r.handleDayMouseEnter=function(s){r.setState({selectingDate:s}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(s)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(s,i){r.setState({selectingDate:zn(Re(),i)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(s,i)},r.handleYearMouseLeave=function(s,i){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(s,i)},r.handleYearChange=function(s){var i,o,a,l;(o=(i=r.props).onYearChange)===null||o===void 0||o.call(i,s),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(s),(l=(a=r.props).setOpen)===null||l===void 0||l.call(a,!0)),r.props.setPreSelection&&r.props.setPreSelection(s)},r.getEnabledPreSelectionDateForMonth=function(s){if(!En(s,r.props))return s;for(var i=Or(s),o=k3(s),a=Vj(o,i),l=null,c=0;c<=a;c++){var d=Ln(i,c);if(!En(d,r.props)){l=d;break}}return l},r.handleMonthChange=function(s){var i,o,a,l=(i=r.getEnabledPreSelectionDateForMonth(s))!==null&&i!==void 0?i:s;r.handleCustomMonthChange(l),r.props.adjustDateOnChange&&(r.props.onSelect(l),(a=(o=r.props).setOpen)===null||a===void 0||a.call(o,!0)),r.props.setPreSelection&&r.props.setPreSelection(l)},r.handleCustomMonthChange=function(s){var i,o;(o=(i=r.props).onMonthChange)===null||o===void 0||o.call(i,s),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(s){r.handleYearChange(s),r.handleMonthChange(s)},r.changeYear=function(s){r.setState(function(i){var o=i.date;return{date:zn(o,Number(s))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(s){r.setState(function(i){var o=i.date;return{date:un(o,Number(s))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(s){r.setState(function(i){var o=i.date;return{date:zn(un(o,jt(s)),me(s))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(s){s===void 0&&(s=r.state.date);var i=r.props.disabled,o=Ns(s,r.props.locale,r.props.calendarStartDay),a=[];return r.props.showWeekNumbers&&a.push(j.createElement("div",{key:"W",className:"react-datepicker__day-name ".concat(i?"react-datepicker__day-name--disabled":""),role:"columnheader"},j.createElement("span",{className:"react-datepicker__sr-only"},"Week number"),j.createElement("span",{"aria-hidden":"true"},r.props.weekLabel||"#"))),a.concat([0,1,2,3,4,5,6].map(function(l){var c=Ln(o,l),d=r.formatWeekday(c,r.props.locale),h=r.props.weekDayClassName?r.props.weekDayClassName(c):void 0;return j.createElement("div",{key:l,role:"columnheader",className:Ct("react-datepicker__day-name",h,i?"react-datepicker__day-name--disabled":"")},j.createElement("span",{className:"react-datepicker__sr-only"},We(c,"EEEE",r.props.locale)),j.createElement("span",{"aria-hidden":"true"},d))}))},r.formatWeekday=function(s,i){return r.props.formatWeekDay?D3(s,r.props.formatWeekDay,i):r.props.useWeekdaysShort?b3(s,i):P3(s,i)},r.decreaseYear=function(){r.setState(function(s){var i,o=s.date;return{date:zo(o,r.props.showYearPicker?(i=r.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var s,i,o;if(!r.props.renderCustomHeader){var a=(s=r.props.monthsShown)!==null&&s!==void 0?s:e.defaultProps.monthsShown,l=r.props.showPreviousMonths?a-1:0,c=(i=r.props.monthSelectedIn)!==null&&i!==void 0?i:l,d=vi(r.state.date,c),h;switch(!0){case r.props.disabled:h=!0;break;case r.props.showMonthYearPicker:h=rE(r.state.date,r.props);break;case r.props.showYearPicker:h=M3(r.state.date,r.props);break;case r.props.showQuarterYearPicker:h=A3(r.state.date,r.props);break;default:h=tE(d,r.props);break}if(!(!((o=r.props.forceShowMonthNavigation)!==null&&o!==void 0?o:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&h||r.props.showTimeSelectOnly)){var p=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],g=["react-datepicker__navigation","react-datepicker__navigation--previous"],_=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(_=r.decreaseYear),h&&r.props.showDisabledMonthNavigation&&(g.push("react-datepicker__navigation--previous--disabled"),_=void 0);var D=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,I=r.props,w=I.previousMonthButtonLabel,y=w===void 0?e.defaultProps.previousMonthButtonLabel:w,E=I.previousYearButtonLabel,x=E===void 0?e.defaultProps.previousYearButtonLabel:E,L=r.props,M=L.previousMonthAriaLabel,S=M===void 0?typeof y=="string"?y:"Previous Month":M,v=L.previousYearAriaLabel,C=v===void 0?typeof x=="string"?x:"Previous Year":v;return j.createElement("button",{type:"button",className:g.join(" "),onClick:_,onKeyDown:r.props.handleOnKeyDown,"aria-label":D?C:S},j.createElement("span",{className:p.join(" ")},D?x:y))}}},r.increaseYear=function(){r.setState(function(s){var i,o=s.date;return{date:xr(o,r.props.showYearPicker?(i=r.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var s;if(!r.props.renderCustomHeader){var i;switch(!0){case r.props.disabled:i=!0;break;case r.props.showMonthYearPicker:i=sE(r.state.date,r.props);break;case r.props.showYearPicker:i=O3(r.state.date,r.props);break;case r.props.showQuarterYearPicker:i=N3(r.state.date,r.props);break;default:i=nE(r.state.date,r.props);break}if(!(!((s=r.props.forceShowMonthNavigation)!==null&&s!==void 0?s:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&i||r.props.showTimeSelectOnly)){var o=["react-datepicker__navigation","react-datepicker__navigation--next"],a=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&o.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&o.push("react-datepicker__navigation--next--with-today-button");var l=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(l=r.increaseYear),i&&r.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--next--disabled"),l=void 0);var c=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,d=r.props,h=d.nextMonthButtonLabel,p=h===void 0?e.defaultProps.nextMonthButtonLabel:h,g=d.nextYearButtonLabel,_=g===void 0?e.defaultProps.nextYearButtonLabel:g,D=r.props,I=D.nextMonthAriaLabel,w=I===void 0?typeof p=="string"?p:"Next Month":I,y=D.nextYearAriaLabel,E=y===void 0?typeof _=="string"?_:"Next Year":y;return j.createElement("button",{type:"button",className:o.join(" "),onClick:l,onKeyDown:r.props.handleOnKeyDown,"aria-label":c?E:w},j.createElement("span",{className:a.join(" ")},c?_:p))}}},r.renderCurrentMonth=function(s){s===void 0&&(s=r.state.date);var i=["react-datepicker__current-month"];return r.props.showYearDropdown&&i.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&i.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&i.push("react-datepicker__current-month--hasMonthYearDropdown"),j.createElement("h2",{className:i.join(" ")},We(s,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(s){if(s===void 0&&(s=!1),!(!r.props.showYearDropdown||s))return j.createElement(nW,_e({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:me(r.state.date)}))},r.renderMonthDropdown=function(s){if(s===void 0&&(s=!1),!(!r.props.showMonthDropdown||s))return j.createElement(Q3,_e({},e.defaultProps,r.props,{month:jt(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(s){if(s===void 0&&(s=!1),!(!r.props.showMonthYearDropdown||s))return j.createElement(X3,_e({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(s){r.props.onSelect(G0(),s),r.props.setPreSelection&&r.props.setPreSelection(G0())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return j.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDayNamesHeader=function(s){return j.createElement("div",{className:"react-datepicker__day-names",role:"row"},r.header(s))},r.renderDefaultHeader=function(s){var i=s.monthDate,o=s.i;return j.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(i),j.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(o!==0),r.renderMonthYearDropdown(o!==0),r.renderYearDropdown(o!==0)))},r.renderCustomHeader=function(s){var i,o,a=s.monthDate,l=s.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var c=r.props,d=c.showYearPicker,h=c.yearItemNumber,p;if(d){var g=Dr(a,h),_=g.startPeriod,D=g.endPeriod;p={startYear:_,endYear:D}}var I=tE(r.state.date,r.props),w=nE(r.state.date,r.props),y=rE(r.state.date,r.props),E=sE(r.state.date,r.props);return j.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(o=(i=r.props).renderCustomHeader)===null||o===void 0?void 0:o.call(i,_e(_e(_e({},r.state),d&&{visibleYearsRange:p}),{customHeaderCount:l,monthDate:a,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:I,nextMonthButtonDisabled:w,prevYearButtonDisabled:y,nextYearButtonDisabled:E})))},r.renderYearHeader=function(s){var i=s.monthDate,o=r.props,a=o.showYearPicker,l=o.yearItemNumber,c=l===void 0?e.defaultProps.yearItemNumber:l,d=Dr(i,c),h=d.startPeriod,p=d.endPeriod;return j.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},a?"".concat(h," - ").concat(p):me(i))},r.renderHeader=function(s){var i=s.monthDate,o=s.i,a=o===void 0?0:o,l={monthDate:i,i:a};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(l);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(l);default:return r.renderDefaultHeader(l)}},r.renderMonths=function(){var s,i;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var o=[],a=(s=r.props.monthsShown)!==null&&s!==void 0?s:e.defaultProps.monthsShown,l=r.props.showPreviousMonths?a-1:0,c=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?xr(r.state.date,l):vi(r.state.date,l),d=(i=r.props.monthSelectedIn)!==null&&i!==void 0?i:l,h=0;h<a;++h){var p=h-d+l,g=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?xr(c,p):Bn(c,p),_="month-".concat(h),D=h<a-1,I=h>0;o.push(j.createElement("div",{key:_,ref:function(w){r.monthContainer=w??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:g,i:h}),j.createElement(z3,_e({},e.defaultProps,r.props,{containerRef:r.containerRef,ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:g,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:h,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:D,monthShowsDuplicateDaysStart:I,dayNamesHeader:r.renderDayNamesHeader(g)}))))}return o}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return j.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),j.createElement(Z3,_e({},e.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return j.createElement(J3,_e({},e.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var s=r.props.selected?new Date(r.props.selected):void 0,i=s&&Mh(s)&&!!r.props.selected,o=i?"".concat(oE(s.getHours()),":").concat(oE(s.getMinutes())):"";if(r.props.showTimeInput)return j.createElement(U3,_e({},e.defaultProps,r.props,{date:s,timeString:o,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var s,i=Dr(r.state.date,(s=r.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber),o=i.startPeriod,a=i.endPeriod,l;return r.props.showYearPicker?l="".concat(o," - ").concat(a):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?l=me(r.state.date):l="".concat(Fv(jt(r.state.date),r.props.locale)," ").concat(me(r.state.date)),j.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&l)},r.renderChildren=function(){if(r.props.children)return j.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=A.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:$k,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:vu}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){t.setState({monthContainer:t.monthContainer})}())},e.prototype.componentDidUpdate=function(t){var r=this;if(this.props.preSelection&&(!ye(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var s=!zt(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return s&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!ye(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var t=this.props.container||_3;return j.createElement(Nh,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},j.createElement("div",{style:{display:"contents"},ref:this.containerRef},j.createElement(t,{className:Ct("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},e}(A.Component),oW=function(n){var e=n.icon,t=n.className,r=t===void 0?"":t,s=n.onClick,i="react-datepicker__calendar-icon";if(typeof e=="string")return j.createElement("i",{className:"".concat(i," ").concat(e," ").concat(r),"aria-hidden":"true",onClick:s});if(j.isValidElement(e)){var o=e;return j.cloneElement(o,{className:"".concat(o.props.className||""," ").concat(i," ").concat(r),onClick:function(a){typeof o.props.onClick=="function"&&o.props.onClick(a),typeof s=="function"&&s(a)}})}return j.createElement("svg",{className:"".concat(i," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:s},j.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},Hk=function(n){bt(e,n);function e(t){var r=n.call(this,t)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return Q1.createPortal(this.props.children,this.el)},e}(A.Component),aW="[tabindex], a, button, input, select, textarea",lW=function(n){return(n instanceof HTMLAnchorElement||!n.disabled)&&n.tabIndex!==-1},Yk=function(n){bt(e,n);function e(t){var r=n.call(this,t)||this;return r.getTabChildren=function(){var s;return Array.prototype.slice.call((s=r.tabLoopRef.current)===null||s===void 0?void 0:s.querySelectorAll(aW),1,-1).filter(lW)},r.handleFocusStart=function(){var s=r.getTabChildren();s&&s.length>1&&s[s.length-1].focus()},r.handleFocusEnd=function(){var s=r.getTabChildren();s&&s.length>1&&s[0].focus()},r.tabLoopRef=A.createRef(),r}return e.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:e.defaultProps.enableTabLoop)?j.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},j.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,j.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e}(A.Component);function uW(n){function e(t){var r,s=typeof t.hidePopper=="boolean"?t.hidePopper:!0,i=A.useRef(null),o=y3(_e({open:!s,whileElementsMounted:GU,placement:t.popperPlacement,middleware:nr([i3({padding:15}),s3(10),o3({element:i})],(r=t.popperModifiers)!==null&&r!==void 0?r:[],!0)},t.popperProps)),a=_e(_e({},t),{hidePopper:s,popperProps:_e(_e({},o),{arrowRef:i})});return j.createElement(n,_e({},a))}return e.displayName="withFloating(".concat(n.displayName||n.name||"Component",")"),e}var cW=function(n){var e=n.className,t=n.wrapperClassName,r=n.hidePopper,s=r===void 0?!0:r,i=n.popperComponent,o=n.targetComponent,a=n.enableTabLoop,l=n.popperOnKeyDown,c=n.portalId,d=n.portalHost,h=n.popperProps,p=n.showArrow,g=void 0;if(!s){var _=Ct("react-datepicker-popper",e);g=j.createElement(Yk,{enableTabLoop:a},j.createElement("div",{ref:h.refs.setFloating,style:h.floatingStyles,className:_,"data-placement":h.placement,onKeyDown:l},i,p&&j.createElement(d3,{ref:h.arrowRef,context:h.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}n.popperContainer&&(g=A.createElement(n.popperContainer,{},g)),c&&!s&&(g=j.createElement(Hk,{portalId:c,portalHost:d},g));var D=Ct("react-datepicker-wrapper",t);return j.createElement(j.Fragment,null,j.createElement("div",{ref:h.refs.setReference,className:D},o),g)},dW=uW(cW);function hW(n,e){return n&&e?jt(n)!==jt(e)||me(n)!==me(e):n!==e}var Jf="Date input not valid.",dE=function(n){bt(e,n);function e(t){var r=n.call(this,t)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:Re()},r.modifyHolidays=function(){var s;return(s=r.props.holidays)===null||s===void 0?void 0:s.reduce(function(i,o){var a=new Date(o.date);return Mh(a)?nr(nr([],i,!0),[_e(_e({},o),{date:a})],!1):i},[])},r.calcInitialState=function(){var s,i=r.getPreSelection(),o=Bk(r.props),a=Uk(r.props),l=o&&tr(i,Lc(o))?o:a&&Bs(i,X0(a))?a:i;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(s=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&s!==void 0?s:l,highlightDates:iE(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.getInputValue=function(){var s,i=r.props,o=i.locale,a=i.startDate,l=i.endDate,c=i.rangeSeparator,d=i.selected,h=i.selectedDates,p=i.selectsMultiple,g=i.selectsRange,_=i.value,D=(s=r.props.dateFormat)!==null&&s!==void 0?s:e.defaultProps.dateFormat,I=r.state.inputValue;return typeof _=="string"?_:typeof I=="string"?I:g?E3(a,l,{dateFormat:D,locale:o,rangeSeparator:c}):p?T3(h??[],{dateFormat:D,locale:o}):an(d,{dateFormat:D,locale:o})},r.resetHiddenStatus=function(){r.setState(_e(_e({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(_e(_e({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){var s,i;(i=(s=r.input)===null||s===void 0?void 0:s.focus)===null||i===void 0||i.call(s,{preventScroll:!0})},r.setBlur=function(){var s,i;(i=(s=r.input)===null||s===void 0?void 0:s.blur)===null||i===void 0||i.call(s),r.cancelFocusInput()},r.deferBlur=function(){requestAnimationFrame(function(){r.setBlur()})},r.setOpen=function(s,i){i===void 0&&(i=!1),r.setState({open:s,preSelection:s&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:Zf},function(){s||r.setState(function(o){return{focused:i?o.focused:!1}},function(){!i&&r.deferBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return Ar(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(s){var i,o,a=r.state.wasHidden,l=a?r.state.open:!0;a&&r.resetHiddenStatus(),r.state.preventFocus||((o=(i=r.props).onFocus)===null||o===void 0||o.call(i,s),l&&!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.resetInputValue=function(){r.setState(_e(_e({},r.state),{inputValue:null}))},r.handleBlur=function(s){var i,o;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((o=(i=r.props).onBlur)===null||o===void 0||o.call(i,s)),r.resetInputValue(),r.state.open&&r.props.open===!1&&r.setOpen(!1),r.setState({focused:!1})},r.handleCalendarClickOutside=function(s){var i,o;r.props.inline||r.setOpen(!1),(o=(i=r.props).onClickOutside)===null||o===void 0||o.call(i,s),r.props.withPortal&&s.preventDefault()},r.handleChange=function(){for(var s,i,o,a,l,c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];var h=c[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,c),!h||typeof h.isDefaultPrevented!="function"||h.isDefaultPrevented()))){r.setState({inputValue:(h==null?void 0:h.target)instanceof HTMLInputElement?h.target.value:null,lastPreSelectChange:fW});var p=r.props,g=p.selectsRange,_=p.startDate,D=p.endDate,I=(s=r.props.dateFormat)!==null&&s!==void 0?s:e.defaultProps.dateFormat,w=(i=r.props.strictParsing)!==null&&i!==void 0?i:e.defaultProps.strictParsing,y=(h==null?void 0:h.target)instanceof HTMLInputElement?h.target.value:"";if(g){var E=r.props.rangeSeparator,x=E.trim(),L=y.split(I.includes(x)?E:x,2).map(function(b){return b.trim()}),M=L[0],S=L[1],v=Qf(M??"",I,r.props.locale,w),C=v?Qf(S??"",I,r.props.locale,w):null,P=(_==null?void 0:_.getTime())!==(v==null?void 0:v.getTime()),R=(D==null?void 0:D.getTime())!==(C==null?void 0:C.getTime());if(!P&&!R||v&&En(v,r.props)||C&&En(C,r.props))return;(a=(o=r.props).onChange)===null||a===void 0||a.call(o,[v,C],h)}else{var N=Qf(y,I,r.props.locale,w,(l=r.props.selected)!==null&&l!==void 0?l:void 0);(N||!y)&&r.setSelected(N,h,!0)}}},r.handleSelect=function(s,i,o){var a;if(!r.props.readOnly){var l=r.props,c=l.selectsRange,d=l.startDate,h=l.endDate,p=l.locale,g=l.swapRange,_=(a=r.props.dateFormat)!==null&&a!==void 0?a:e.defaultProps.dateFormat,D=!c||d&&!h&&(g||!Gf(s,d));if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&D&&r.sendFocusBackToInput(),r.props.onChangeRaw){var I=an(s,{dateFormat:_,locale:p});r.props.onChangeRaw(i,{date:s,formattedDate:I})}r.setSelected(s,i,!1,o),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect?r.setPreSelection(s):D&&r.setOpen(!1)}},r.setSelected=function(s,i,o,a){var l,c,d=s;if(r.props.showYearPicker){if(d!==null&&Vc(me(d),r.props))return}else if(r.props.showMonthYearPicker){if(d!==null&&jk(d,r.props))return}else if(d!==null&&En(d,r.props))return;var h=r.props,p=h.onChange,g=h.selectsRange,_=h.startDate,D=h.endDate,I=h.selectsMultiple,w=h.selectedDates,y=h.minTime,E=h.swapRange;if(!hi(r.props.selected,d)||r.props.allowSameDay||g||I)if(d!==null&&(r.props.selected&&(!o||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(d=Kf(d,{hour:Nr(r.props.selected),minute:Mr(r.props.selected),second:As(r.props.selected)})),!o&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&y&&(d=Kf(d,{hour:y.getHours(),minute:y.getMinutes(),second:y.getSeconds()})),r.props.inline||r.setState({preSelection:d}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:a})),g){var x=!_&&!D,L=_&&!D,M=!_&&!!D,S=_&&D;x?p==null||p([d,null],i):L?d===null?p==null||p([null,null],i):Gf(d,_)?E?p==null||p([d,_],i):p==null||p([d,null],i):p==null||p([_,d],i):M&&(d&&Gf(d,D)?p==null||p([d,D],i):p==null||p([d,null],i)),S&&(p==null||p([d,null],i))}else if(I){if(d!==null)if(!(w!=null&&w.length))p==null||p([d],i);else{var v=w.some(function(P){return ye(P,d)});if(v){var C=w.filter(function(P){return!ye(P,d)});p==null||p(C,i)}else p==null||p(nr(nr([],w,!0),[d],!1),i)}}else p==null||p(d,i);o||((c=(l=r.props).onSelect)===null||c===void 0||c.call(l,d,i),r.setState({inputValue:null}))},r.setPreSelection=function(s){if(!r.props.readOnly){var i=Ar(r.props.minDate),o=Ar(r.props.maxDate),a=!0;if(s){var l=Lc(s);if(i&&o)a=ii(s,r.props.minDate,r.props.maxDate);else if(i){var c=Lc(r.props.minDate);a=Bs(s,c)||hi(l,c)}else if(o){var d=X0(r.props.maxDate);a=tr(s,d)||hi(l,d)}}a&&r.setState({preSelection:s})}},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(s){var i,o;if(!(r.props.selectsRange||r.props.selectsMultiple)){var a=r.props.selected?r.props.selected:r.getPreSelection(),l=r.props.selected?s:Kf(a,{hour:Nr(s),minute:Mr(s)});r.setState({preSelection:l}),(o=(i=r.props).onChange)===null||o===void 0||o.call(i,l),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var s,i;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(i=(s=r.props).onInputClick)===null||i===void 0||i.call(s)},r.onInputKeyDown=function(s){var i,o,a,l,c,d;(o=(i=r.props).onKeyDown)===null||o===void 0||o.call(i,s);var h=s.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(h===z.ArrowDown||h===z.ArrowUp||h===z.Enter)&&((a=r.onInputClick)===null||a===void 0||a.call(r));return}if(r.state.open){if(h===z.ArrowDown||h===z.ArrowUp){s.preventDefault();var p=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',g=((l=r.calendar)===null||l===void 0?void 0:l.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(p);g instanceof HTMLElement&&g.focus({preventScroll:!0});return}var _=Re(r.state.preSelection);h===z.Enter?(s.preventDefault(),s.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===Zf?(r.handleSelect(_,s),!r.props.shouldCloseOnSelect&&r.setPreSelection(_)):r.setOpen(!1)):h===z.Escape?(s.preventDefault(),s.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):h===z.Tab&&r.setOpen(!1),r.inputOk()||(d=(c=r.props).onInputError)===null||d===void 0||d.call(c,{code:1,msg:Jf})}},r.onPortalKeyDown=function(s){var i=s.key;i===z.Escape&&(s.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(s){var i,o,a,l,c,d,h=r.props,p=h.minDate,g=h.maxDate,_=h.disabledKeyboardNavigation,D=h.showWeekPicker,I=h.shouldCloseOnSelect,w=h.locale,y=h.calendarStartDay,E=h.adjustDateOnChange,x=h.inline;if((o=(i=r.props).onKeyDown)===null||o===void 0||o.call(i,s),!_){var L=s.key,M=s.shiftKey,S=Re(r.state.preSelection),v=function(re,ee){var ie=ee;switch(re){case z.ArrowRight:ie=D?bd(ee,1):Ln(ee,1);break;case z.ArrowLeft:ie=D?V0(ee):VB(ee);break;case z.ArrowUp:ie=V0(ee);break;case z.ArrowDown:ie=bd(ee,1);break;case z.PageUp:ie=M?zo(ee,1):vi(ee,1);break;case z.PageDown:ie=M?xr(ee,1):Bn(ee,1);break;case z.Home:ie=Ns(ee,w,y);break;case z.End:ie=I3(ee);break}return ie},C=function(re,ee){for(var ie=40,B=re,F=!1,H=0,Q=v(re,ee);!F;){if(H>=ie){Q=ee;break}p&&Q<p&&(B=z.ArrowRight,Q=En(p,r.props)?v(B,Q):p),g&&Q>g&&(B=z.ArrowLeft,Q=En(g,r.props)?v(B,Q):g),En(Q,r.props)?((B===z.PageUp||B===z.Home)&&(B=z.ArrowRight),(B===z.PageDown||B===z.End)&&(B=z.ArrowLeft),Q=v(B,Q)):F=!0,H++}return Q};if(L===z.Enter){s.preventDefault(),r.handleSelect(S,s),!I&&r.setPreSelection(S);return}else if(L===z.Escape){s.preventDefault(),r.setOpen(!1),r.inputOk()||(l=(a=r.props).onInputError)===null||l===void 0||l.call(a,{code:1,msg:Jf});return}var P=null;switch(L){case z.ArrowLeft:case z.ArrowRight:case z.ArrowUp:case z.ArrowDown:case z.PageUp:case z.PageDown:case z.Home:case z.End:P=C(L,S);break}if(!P){(d=(c=r.props).onInputError)===null||d===void 0||d.call(c,{code:1,msg:Jf});return}if(s.preventDefault(),r.setState({lastPreSelectChange:Zf}),E&&r.setSelected(P),r.setPreSelection(P),x){var R=jt(S),N=jt(P),b=me(S),se=me(P);R!==N||b!==se?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(s){var i=s.key;i===z.Escape&&(s.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1))},r.onClearClick=function(s){s&&s.preventDefault&&s.preventDefault(),r.sendFocusBackToInput();var i=r.props,o=i.selectsRange,a=i.onChange;o?a==null||a([null,null],s):a==null||a(null,s),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(s){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(s.target===document||s.target===document.documentElement||s.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(s)&&r.setOpen(!1)},r.renderCalendar=function(){var s,i;return!r.props.inline&&!r.isCalendarOpen()?null:j.createElement(iW,_e({showMonthYearDropdown:void 0,ref:function(o){r.calendar=o}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(s=r.props.dateFormatCalendar)!==null&&s!==void 0?s:e.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:V3(r.modifyHolidays()),outsideClickIgnoreClass:r.props.outsideClickIgnoreClass,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(i=r.props.dropdownMode)!==null&&i!==void 0?i:e.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var s,i=r.props.locale,o=(s=r.props.dateFormat)!==null&&s!==void 0?s:e.defaultProps.dateFormat,a=r.props.showTimeInput||r.props.showTimeSelect,l=a?"PPPPp":"PPPP",c;return r.props.selectsRange?c="Selected start date: ".concat(an(r.props.startDate,{dateFormat:l,locale:i}),". ").concat(r.props.endDate?"End date: "+an(r.props.endDate,{dateFormat:l,locale:i}):""):r.props.showTimeSelectOnly?c="Selected time: ".concat(an(r.props.selected,{dateFormat:o,locale:i})):r.props.showYearPicker?c="Selected year: ".concat(an(r.props.selected,{dateFormat:"yyyy",locale:i})):r.props.showMonthYearPicker?c="Selected month: ".concat(an(r.props.selected,{dateFormat:"MMMM yyyy",locale:i})):r.props.showQuarterYearPicker?c="Selected quarter: ".concat(an(r.props.selected,{dateFormat:"yyyy, QQQ",locale:i})):c="Selected date: ".concat(an(r.props.selected,{dateFormat:l,locale:i})),j.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},c)},r.renderDateInput=function(){var s,i,o=Ct(r.props.className,(s={},s[r.props.outsideClickIgnoreClass||e.defaultProps.outsideClickIgnoreClass]=r.state.open,s)),a=r.props.customInput||j.createElement("input",{type:"text"}),l=r.props.customInputRef||"ref";return A.cloneElement(a,(i={},i[l]=function(c){r.input=c},i.value=r.getInputValue(),i.onBlur=r.handleBlur,i.onChange=r.handleChange,i.onClick=r.onInputClick,i.onFocus=r.handleFocus,i.onKeyDown=r.onInputKeyDown,i.id=r.props.id,i.name=r.props.name,i.form=r.props.form,i.autoFocus=r.props.autoFocus,i.placeholder=r.props.placeholderText,i.disabled=r.props.disabled,i.autoComplete=r.props.autoComplete,i.className=Ct(a.props.className,o),i.title=r.props.title,i.readOnly=r.props.readOnly,i.required=r.props.required,i.tabIndex=r.props.tabIndex,i["aria-describedby"]=r.props.ariaDescribedBy,i["aria-invalid"]=r.props.ariaInvalid,i["aria-labelledby"]=r.props.ariaLabelledBy,i["aria-required"]=r.props.ariaRequired,i))},r.renderClearButton=function(){var s=r.props,i=s.isClearable,o=s.disabled,a=s.selected,l=s.startDate,c=s.endDate,d=s.clearButtonTitle,h=s.clearButtonClassName,p=h===void 0?"":h,g=s.ariaLabelClose,_=g===void 0?"Close":g,D=s.selectedDates,I=s.readOnly;return i&&!I&&(a!=null||l!=null||c!=null||D!=null&&D.length)?j.createElement("button",{type:"button",className:Ct("react-datepicker__close-icon",p,{"react-datepicker__close-icon--disabled":o}),disabled:o,"aria-label":_,onClick:r.onClearClick,title:d,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:$k,readOnly:!1,rangeSeparator:Vk,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:vu,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(t,r){var s,i,o,a;t.inline&&hW(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:iE(this.props.highlightDates)}),!r.focused&&!hi(t.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((i=(s=this.props).onCalendarOpen)===null||i===void 0||i.call(s)),r.open===!0&&this.state.open===!1&&((a=(o=this.props).onCalendarClose)===null||a===void 0||a.call(o)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var t=this.props,r=t.showIcon,s=t.icon,i=t.calendarIconClassname,o=t.calendarIconClassName,a=t.toggleCalendarOnIconClick,l=this.state.open;return i&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),j.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&j.createElement(oW,_e({icon:s,className:Ct(o,!o&&i,l&&"react-datepicker-ignore-onclickoutside")},a?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var r=this.state.open?j.createElement(Yk,{enableTabLoop:this.props.enableTabLoop},j.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(r=j.createElement(Hk,_e({portalId:this.props.portalId},this.props),r)),j.createElement("div",null,this.renderInputContainer(),r)}return j.createElement(dW,_e({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e}(A.Component),fW="input",Zf="navigate";const pW="_overlay_jt50f_8",mW="_content_jt50f_20",gW="_header_jt50f_44",vW="_title_jt50f_52",yW="_closeButton_jt50f_56",_W="_footer_jt50f_70",wW="_buttonGroup_jt50f_75",EW="_body_jt50f_82",TW="_field_jt50f_87",SW="_fieldLabel_jt50f_91",CW="_fieldRow_jt50f_96",IW="_input_jt50f_101",kW="_button_jt50f_75",DW="_primary_jt50f_128",PW="_secondary_jt50f_142",bW="_errorMessage_jt50f_149",he={overlay:pW,content:mW,header:gW,title:vW,closeButton:yW,footer:_W,buttonGroup:wW,body:EW,field:TW,fieldLabel:SW,fieldRow:CW,input:IW,button:kW,primary:DW,secondary:PW,errorMessage:bW},RW=({teamId:n,onClose:e})=>{const[t,r]=A.useState(null),[s,i]=A.useState(null),[o,a]=A.useState(""),[l,c]=A.useState(""),[d,h]=A.useState(!1);A.useEffect(()=>{const I=w=>{w.key==="Escape"&&e()};return window.addEventListener("keydown",I),()=>window.removeEventListener("keydown",I)},[e]);const p=new Date,g=JV(t,p)?$f(Wf(p,p.getHours()),Math.ceil(p.getMinutes()/15)*15):Wf($f(new Date,0),0),_=Wf($f(new Date,45),23),D=async()=>{if(c(""),!t||!s||!o.trim()){c(", ,   .");return}const I=new Date(t.getFullYear(),t.getMonth(),t.getDate(),s.getHours(),s.getMinutes());if(I<new Date){c("      .");return}h(!0);try{await JI(cn(te,"teams",n,"matches"),{when:dt.fromDate(I),location:o.trim(),createdBy:rt.currentUser.uid,createdAt:kd(),status:"pending"}),e()}catch(w){console.error("Match creation error:",w),c("    .")}finally{h(!1)}};return ea.createPortal(T.jsx("div",{className:he.overlay,onMouseDown:e,children:T.jsxs("div",{className:he.content,onMouseDown:I=>I.stopPropagation(),children:[T.jsxs("div",{className:he.header,children:[T.jsx("h2",{className:he.title,children:"  "}),T.jsx("button",{type:"button","aria-label":"",className:he.closeButton,onClick:e,children:""})]}),T.jsxs("div",{className:he.body,children:[T.jsxs("div",{className:he.field,children:[T.jsx("span",{className:he.fieldLabel,children:" "}),T.jsxs("div",{className:he.fieldRow,children:[T.jsx(dE,{selected:t,onChange:I=>r(I),locale:Em,dateFormat:"yyyy.MM.dd (EEE)",placeholderText:" ",minDate:ej(),className:he.input,popperPlacement:"bottom-start",showPopperArrow:!1,isClearable:!0}),T.jsx(dE,{selected:s,onChange:I=>i(I),locale:Em,showTimeSelect:!0,showTimeSelectOnly:!0,timeIntervals:15,timeCaption:"",dateFormat:"HH:mm",placeholderText:" ",className:he.input,minTime:g,maxTime:_,popperPlacement:"bottom-start",showPopperArrow:!1})]})]}),T.jsxs("label",{className:he.field,children:[T.jsx("span",{className:he.fieldLabel,children:""}),T.jsx("input",{className:he.input,value:o,onChange:I=>a(I.target.value),placeholder:":  "})]})]}),T.jsxs("div",{className:he.footer,children:[l&&T.jsx("p",{className:he.errorMessage,children:l}),T.jsxs("div",{className:he.buttonGroup,children:[T.jsx("button",{type:"button",className:`${he.button} ${he.secondary}`,onClick:e,children:""}),T.jsx("button",{type:"button",className:`${he.button} ${he.primary}`,onClick:D,disabled:d,children:d?" ...":""})]})]})]})}),document.body)},zk=n=>{const e=String(n||"").toUpperCase();return e.includes("GK")?"GK":e.includes("CB")?"CB":e.includes("RB")||e.includes("RWB")?"RB":e.includes("LB")||e.includes("LWB")?"LB":e.includes("CDM")||e==="DM"?"CDM":e.includes("CAM")?"CAM":e.includes("CM")||e.includes("RCM")||e.includes("LCM")||e==="MID"||e==="MF"?"CM":e.includes("RW")||e==="RM"?"RW":e.includes("LW")||e==="LM"?"LW":e.includes("ST")||e.includes("CF")||e.includes("FW")?"ST":"CM"},xW={RB:{RB:0,CB:1,CDM:2,LB:3,CM:4,RW:5,LW:6,CAM:7,ST:8},LB:{LB:0,CB:1,CDM:2,RB:3,CM:4,LW:5,RW:6,CAM:7,ST:8},CB:{CB:0,RB:1,LB:1,CDM:2,CM:3,RW:5,LW:5,ST:7,CAM:8},CDM:{CDM:0,CM:1,CB:2,RB:3,LB:3,CAM:4,RW:5,LW:5,ST:6},CM:{CM:0,CDM:1,CAM:1,RW:3,LW:3,RB:4,LB:4,ST:4,CB:5},CAM:{CAM:0,CM:1,ST:2,RW:3,LW:3,CDM:4,RB:6,LB:6,CB:7},ST:{ST:0,CAM:2,RW:3,LW:3,CM:4,CDM:5,RB:7,LB:7,CB:8},RW:{RW:0,ST:3,CAM:3,CM:4,LW:5,CDM:6,RB:6,LB:7,CB:8},LW:{LW:0,ST:3,CAM:3,CM:4,RW:5,CDM:6,LB:6,RB:7,CB:8}},AW=(n,e)=>{var t;return n==="GK"&&e!=="GK"||e==="GK"&&n!=="GK"?1/0:n===e?0:((t=xW[n])==null?void 0:t[e])??99},hE=(n,e,t)=>{const r=d=>{var h;return((h=e.get(d))==null?void 0:h.ovr)||0},s=d=>{var h;return zk((h=e.get(d))==null?void 0:h.pos)==="GK"},i=n.filter(s).sort((d,h)=>r(h)-r(d)),o=n.filter(d=>!s(d)).sort((d,h)=>r(h)-r(d)),a=[];i.length>0&&a.push(i[0]);const l=[...i.slice(1),...o];a.push(...l.slice(0,t-a.length));const c=n.filter(d=>!a.includes(d));return{starters:a,bench:c}},fE=(n,e,t)=>{let r=new Set(n);const s=e.map(a=>({slot:a,uid:null})),i=a=>{var l;return((l=t.get(a))==null?void 0:l.ovr)||0},o=a=>{var l;return zk((l=t.get(a))==null?void 0:l.pos)};return s.forEach(a=>{const l=[...r].filter(c=>o(c)===a.slot);if(l.length>0){const c=l.sort((d,h)=>i(h)-i(d))[0];a.uid=c,r.delete(c)}}),s.forEach(a=>{if(a.uid||r.size===0)return;const l=[...r].filter(c=>isFinite(AW(a.slot,o(c))));if(l.length>0){const c=Math.floor(Math.random()*l.length),d=l[c];a.uid=d,r.delete(d)}}),s},NW=(n,e)=>{const t=new Map(n.map(c=>[c.uid,c])),r=c=>{var d;return((d=t.get(c))==null?void 0:d.ovr)||0},s=n.filter(c=>e[c.uid]==="A").map(c=>c.uid),i=n.filter(c=>e[c.uid]==="B").map(c=>c.uid);let o=n.filter(c=>!e[c.uid]);for(let c=o.length-1;c>0;c--){const d=Math.floor(Math.random()*(c+1));[o[c],o[d]]=[o[d],o[c]]}let a=s.reduce((c,d)=>c+r(d),0),l=i.reduce((c,d)=>c+r(d),0);return o.forEach(c=>{a<=l?(s.push(c.uid),a+=c.ovr):(i.push(c.uid),l+=c.ovr)}),{teamA:s,teamB:i}},ep=(n,e,t,r)=>{const s={"4-4-2":["GK","RB","CB","CB","LB","RM","CM","CM","LM","ST","ST"],"4-2-4":["GK","RB","CB","CB","LB","CDM","CM","RW","ST","ST","LW"],"4-3-3":["GK","RB","CB","CB","LB","CM","CDM","CAM","RW","ST","LW"]},i=new Map(n.map(I=>[I.uid,I])),o=s[t]||s["4-3-3"],a=s[r]||s["4-3-3"],{teamA:l,teamB:c}=NW(n,e),{starters:d,bench:h}=hE(l,i,o.length),{starters:p,bench:g}=hE(c,i,a.length),_=fE(d,o,i),D=fE(p,a,i);return{teams:{A:l,B:c},slots:{A:_,B:D},bench:{A:h,B:g}}},bm=n=>String(n||"").replace(/\s*\([^)]*\)\s*/g,"").trim(),pE=(n=[],e)=>{if(!n||n.length===0)return 0;const t=n.reduce((r,s)=>{var i;return r+(((i=e.get(s))==null?void 0:i.ovr)||0)},0);return Math.round(t/n.length)},MW="_squadHeader_1w8ox_10",OW="_headerTop_1w8ox_16",LW="_matchInfo_1w8ox_23",VW="_tabs_1w8ox_28",FW="_activeTab_1w8ox_46",jW="_controls_1w8ox_52",BW="_shuffleButton_1w8ox_59",UW="_readOnlyFormation_1w8ox_90",WW="_ovrSummary_1w8ox_103",$W="_pane_1w8ox_114",HW="_paneHeader_1w8ox_118",YW="_slotList_1w8ox_134",zW="_benchList_1w8ox_135",qW="_slotItem_1w8ox_141",QW="_slotPlayerInfo_1w8ox_152",KW="_slotPosition_1w8ox_159",GW="_slotName_1w8ox_164",XW="_slotActions_1w8ox_169",JW="_slotOvr_1w8ox_176",ZW="_pinButton_1w8ox_183",e9="_pinned_1w8ox_200",t9="_otherTeamPin_1w8ox_205",n9="_benchTitle_1w8ox_215",fe={squadHeader:MW,headerTop:OW,matchInfo:LW,tabs:VW,activeTab:FW,controls:jW,shuffleButton:BW,readOnlyFormation:UW,ovrSummary:WW,pane:$W,paneHeader:HW,slotList:YW,benchList:zW,slotItem:qW,slotPlayerInfo:QW,slotPosition:KW,slotName:GW,slotActions:XW,slotOvr:JW,pinButton:ZW,pinned:e9,otherTeamPin:t9,benchTitle:n9},r9=({match:n,page:e,setPage:t,formation:r,onFormationChange:s,onShuffle:i,onClose:o,avgOvr:a,canManage:l})=>{var d;const c=(d=n==null?void 0:n.when)!=null&&d.toDate?new Intl.DateTimeFormat("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit",weekday:"short",hour:"2-digit",minute:"2-digit"}).format(n.when.toDate()):"-";return T.jsxs("div",{className:`${he.header} ${fe.squadHeader}`,children:[T.jsxs("div",{className:fe.headerTop,children:[T.jsx("h3",{className:he.title,children:" "}),T.jsx("button",{className:he.closeButton,onClick:o,children:""})]}),T.jsx("div",{className:fe.matchInfo,children:c}),T.jsxs("div",{className:fe.tabs,children:[T.jsx("button",{onClick:()=>t(0),className:e===0?fe.activeTab:"",children:"1"}),T.jsx("button",{onClick:()=>t(1),className:e===1?fe.activeTab:"",children:"2"}),T.jsx("button",{onClick:()=>t(2),className:e===2?fe.activeTab:"",children:""})]}),e!==2&&T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:fe.controls,children:[l?T.jsx(tk,{value:r,onChange:s,options:["4-3-3","4-4-2","4-2-4"],placeholder:""}):T.jsxs("div",{className:fe.readOnlyFormation,children:[T.jsx("span",{children:""}),T.jsx("span",{children:r})]}),l&&T.jsx("button",{className:fe.shuffleButton,onClick:i,children:" "})]}),T.jsxs("div",{className:fe.ovrSummary,children:[T.jsxs("span",{children:["1  ",a.A]}),T.jsxs("span",{children:["2  ",a.B]})]})]})]})},mE=({title:n,teamLabel:e,slots:t,bench:r,attendeesMap:s,pins:i,canManage:o,onPin:a,onUnpin:l})=>T.jsxs("div",{className:fe.pane,children:[T.jsx("div",{className:fe.paneHeader,children:T.jsx("span",{children:n})}),T.jsx("div",{className:fe.slotList,children:t.map((c,d)=>{const h=c.uid?s.get(c.uid):null,p=i[c.uid]===e;return T.jsxs("div",{className:fe.slotItem,children:[T.jsxs("div",{className:fe.slotPlayerInfo,children:[T.jsx("span",{className:fe.slotPosition,children:c.slot}),T.jsx("span",{className:fe.slotName,children:h?bm(h.name):""}),i[c.uid]&&!p&&T.jsxs("span",{className:fe.otherTeamPin,children:[i[c.uid]," "]})]}),T.jsxs("div",{className:fe.slotActions,children:[h&&o&&T.jsx("button",{className:`${fe.pinButton} ${p?fe.pinned:""}`,title:p?" ":"  ",onClick:()=>p?l(c.uid):a(c.uid,e),children:""}),T.jsx("span",{className:fe.slotOvr,children:h?h.ovr:"-"})]})]},`${c.slot}-${d}`)})}),r.length>0&&T.jsxs(T.Fragment,{children:[T.jsxs("h4",{className:fe.benchTitle,children:[" (",r.length,")"]}),T.jsx("div",{className:fe.benchList,children:r.map(c=>{const d=s.get(c);if(!d)return null;const h=i[c]===e;return T.jsxs("div",{className:fe.slotItem,children:[T.jsxs("div",{className:fe.slotPlayerInfo,children:[T.jsx("span",{className:fe.slotName,children:bm(d.name)}),i[c]&&!h&&T.jsxs("span",{className:fe.otherTeamPin,children:[i[c]," "]})]}),T.jsxs("div",{className:fe.slotActions,children:[o&&T.jsx("button",{className:`${fe.pinButton} ${h?fe.pinned:""}`,title:h?" ":"  ",onClick:()=>h?l(c):a(c,e),children:""}),T.jsx("span",{className:fe.slotOvr,children:d.ovr})]})]},`bench-${c}`)})})]})]}),s9=({attendees:n})=>{const e=A.useMemo(()=>[...n].sort((t,r)=>(r.ovr||0)-(t.ovr||0)),[n]);return T.jsxs("div",{className:fe.pane,children:[T.jsxs("div",{className:fe.paneHeader,children:[T.jsx("span",{children:" "}),T.jsxs("span",{children:[" ",n.length,""]})]}),T.jsx("div",{className:fe.slotList,children:e.map(t=>T.jsxs("div",{className:fe.slotItem,children:[T.jsx("span",{className:fe.slotName,children:bm(t.name)}),T.jsx("span",{className:fe.slotOvr,children:t.ovr})]},t.uid))})]})},i9=({open:n,onClose:e,teamId:t,match:r,attendees:s=[],canManage:i})=>{const[o,a]=A.useState("4-3-3"),[l,c]=A.useState("4-3-3"),[d,h]=A.useState({teams:{A:[],B:[]},slots:{A:[],B:[]},bench:{A:[],B:[]}}),[p,g]=A.useState({}),[_,D]=A.useState(0),I=A.useMemo(()=>new Map(s.map(M=>[M.uid,M])),[s]),{avgOvr:w,currentSquad:y}=A.useMemo(()=>{if(!d||!d.teams)return{avgOvr:{A:0,B:0},currentSquad:d};const{teams:M}=d;return{avgOvr:{A:pE(M.A,I),B:pE(M.B,I)},currentSquad:d}},[d,I]);A.useEffect(()=>{if(!n||!t||!r)return;(async()=>{try{const S=pe(te,"teams",t,"matches",r.id,"meta","squad"),v=await js(S);if(v.exists()&&s.length>0){const C=v.data();a(C.formationA||"4-3-3"),c(C.formationB||"4-3-3"),g(C.pins||{}),h(C)}else a("4-3-3"),c("4-3-3"),g({}),h(ep(s,{},"4-3-3","4-3-3"))}catch(S){console.error("  :",S)}})()},[n,t,r,s.length]),A.useEffect(()=>{!n||s.length===0||h(ep(s,p,o,l))},[p,o,l]);const E=(M,S)=>{S==="A"?a(M):c(M)},x=async()=>{var M;if(!(!t||!r||!i))try{await ji(pe(te,"teams",t,"matches",r.id,"meta","squad"),{...y,formationA:o,formationB:l,pins:p,updatedAt:kd(),by:((M=rt.currentUser)==null?void 0:M.uid)||null}),alert(" ."),e()}catch(S){console.error("  :",S),alert("  .")}},L=()=>{const M=ep(s,p,o,l);h(M)};return!n||!r?null:ea.createPortal(T.jsx("div",{className:he.overlay,onMouseDown:e,children:T.jsxs("div",{className:he.content,style:{height:"90vh",maxHeight:"700px"},onMouseDown:M=>M.stopPropagation(),children:[T.jsx(r9,{match:r,page:_,setPage:D,formation:_===0?o:l,onFormationChange:M=>E(M,_===0?"A":"B"),onShuffle:L,onClose:e,avgOvr:w,canManage:i}),T.jsxs("div",{className:he.body,style:{overflowY:"auto",flex:1},children:[y.slots&&_===0&&T.jsx(mE,{title:"1",teamLabel:"A",slots:y.slots.A,bench:y.bench.A,attendeesMap:I,pins:p,canManage:i,onPin:(M,S)=>g(v=>({...v,[M]:S})),onUnpin:M=>g(S=>{const v={...S};return delete v[M],v})}),y.slots&&_===1&&T.jsx(mE,{title:"2",teamLabel:"B",slots:y.slots.B,bench:y.bench.B,attendeesMap:I,pins:p,canManage:i,onPin:(M,S)=>g(v=>({...v,[M]:S})),onUnpin:M=>g(S=>{const v={...S};return delete v[M],v})}),_===2&&T.jsx(s9,{attendees:s})]}),T.jsxs("div",{className:he.footer,children:[i&&T.jsx("button",{className:`${he.button} ${he.primary}`,onClick:x,children:""}),T.jsx("button",{className:`${he.button} ${he.secondary}`,onClick:e,children:""})]})]})}),document.body)},o9="_body_ksklc_6",a9="_matchInfo_ksklc_12",l9="_category_ksklc_17",u9="_categoryTitle_ksklc_21",c9="_noVotes_ksklc_29",d9="_resultsList_ksklc_35",h9="_resultItem_ksklc_41",oi={body:o9,matchInfo:a9,category:l9,categoryTitle:u9,noVotes:c9,resultsList:d9,resultItem:h9},tp=({title:n,results:e=[]})=>T.jsxs("section",{className:oi.category,children:[T.jsxs("h4",{className:oi.categoryTitle,children:[n," "]}),e.length===0?T.jsx("div",{className:oi.noVotes,children:" "}):T.jsx("ul",{className:oi.resultsList,children:e.map(t=>T.jsxs("li",{className:oi.resultItem,children:[T.jsx("span",{children:t.name}),T.jsxs("span",{children:[t.cnt,""]})]},`${n}-${t.uid}`))})]}),f9=({open:n,onClose:e,match:t,data:r})=>{var i;if(!n||!t||!r)return null;const s=(i=t.when)!=null&&i.toDate?new Intl.DateTimeFormat("ko-KR",{dateStyle:"medium",timeStyle:"short"}).format(t.when.toDate()):"-";return ea.createPortal(T.jsx("div",{className:he.overlay,onMouseDown:e,children:T.jsxs("div",{className:he.content,onMouseDown:o=>o.stopPropagation(),children:[T.jsxs("div",{className:he.header,children:[T.jsx("h3",{className:he.title,children:" "}),T.jsx("button",{className:he.closeButton,onClick:e,children:""})]}),T.jsxs("div",{className:`${he.body} ${oi.body}`,children:[T.jsxs("p",{className:oi.matchInfo,children:[T.jsx("strong",{children:s}),T.jsx("br",{}),t.location," "]}),T.jsx(tp,{title:"",results:r.attack}),T.jsx(tp,{title:"",results:r.defense}),T.jsx(tp,{title:"MVP",results:r.mvp})]}),T.jsx("div",{className:he.footer,children:T.jsx("button",{className:`${he.button} ${he.secondary}`,onClick:e,children:""})})]})}),document.body)},p9="_pageContainer_wwgjd_10",m9="_content_wwgjd_16",g9="_loadingContainer_wwgjd_20",v9="_section_wwgjd_28",y9="_emptyState_wwgjd_35",_9="_header_wwgjd_44",w9="_headerMain_wwgjd_52",E9="_headerActions_wwgjd_61",T9="_actionButton_wwgjd_66",S9="_actionLink_wwgjd_79",C9="_inviteCode_wwgjd_85",I9="_card_wwgjd_5",k9="_cardClickableArea_wwgjd_124",D9="_cardActions_wwgjd_5",P9="_attendanceButtons_wwgjd_132",b9="_attButton_wwgjd_137",R9="_active_wwgjd_148",x9="_adminActions_wwgjd_153",A9="_adminButton_wwgjd_159",N9="_primary_wwgjd_167",M9="_danger_wwgjd_171",O9="_deleteButton_wwgjd_175",L9="_cardCompleted_wwgjd_184",V9="_memberCard_wwgjd_190",F9="_captainCard_wwgjd_205",j9="_viceCard_wwgjd_209",B9="_memberHeader_wwgjd_215",U9="_memberName_wwgjd_222",W9="_memberOvr_wwgjd_228",$9="_memberMeta_wwgjd_235",H9="_captainActions_wwgjd_240",Y9="_createMatchButton_wwgjd_269",z9="_topRightActions_wwgjd_299",de={pageContainer:p9,content:m9,loadingContainer:g9,section:v9,emptyState:y9,header:_9,headerMain:w9,headerActions:E9,actionButton:T9,actionLink:S9,inviteCode:C9,card:I9,cardClickableArea:k9,cardActions:D9,attendanceButtons:P9,attButton:b9,active:R9,adminActions:x9,adminButton:A9,primary:N9,danger:M9,deleteButton:O9,cardCompleted:L9,memberCard:V9,captainCard:F9,viceCard:j9,memberHeader:B9,memberName:U9,memberOvr:W9,memberMeta:$9,captainActions:H9,createMatchButton:Y9,topRightActions:z9};function q9({userProfile:n}){const{teamId:e}=Cb(),t=zs(),[r,s]=A.useState(null),[i,o]=A.useState([]),[a,l]=A.useState([]),[c,d]=A.useState({}),[h,p]=A.useState(!0),[g,_]=A.useState(!1),[D,I]=A.useState(!1),[w,y]=A.useState({open:!1,match:null,attendees:[]}),[E,x]=A.useState({open:!1,match:null,attendees:[]}),[L,M]=A.useState({open:!1,match:null,data:null}),S=A.useMemo(()=>(n==null?void 0:n.teamId)===e?((n==null?void 0:n.teamRole)||"member").toLowerCase():"",[n,e]),v=S==="captain",C=S.includes("vice"),P=v||C;A.useEffect(()=>{if(!e)return;p(!0);const F=pe(te,"teams",e),H=qa(F,Se=>{Se.exists()?s(Se.data()):t("/")}),Q=xs(cn(te,"teams",e,"members")),J=qa(Q,async Se=>{var Ui;const ge=Se.docs.map(Ge=>({id:Ge.id,...Ge.data()})),$e=await Promise.all(ge.map(Ge=>js(pe(te,"users",Ge.id)).catch(()=>null))),yt=new Map($e.filter(Boolean).map(Ge=>[Ge.id,Ge.data()])),Gr=[];for(const Ge of ge){const ht=yt.get(Ge.id);if(!ht||ht.teamId!==e){P&&FL(pe(te,"teams",e,"members",Ge.id));continue}let Un=60;if(typeof ht.playerOvr=="number")Un=ht.playerOvr;else if(ht.stats){const pr=Object.values(ht.stats).filter(Jr=>typeof Jr=="number");pr.length>0&&(Un=Math.round(pr.reduce((Jr,Wi)=>Jr+Wi,0)/pr.length))}Gr.push({...Ge,selectedPlayerName:((Ui=ht.selectedPlayer)==null?void 0:Ui.name)||null,position:ht.position||Ge.position,displayOvr:Un})}const Dn=Ge=>{const ht=String(Ge||"member").toLowerCase();return ht==="captain"?0:ht.includes("vice")?1:2},Xr=[...Gr].sort((Ge,ht)=>{const Un=Dn(Ge.role),pr=Dn(ht.role);if(Un!==pr)return Un-pr;const Jr=Ge.displayOvr||0,Wi=ht.displayOvr||0;return Wi!==Jr?Wi-Jr:(Ge.realName||"").localeCompare(ht.realName||"","ko")});o(Xr),p(!1)}),le=xs(cn(te,"teams",e,"matches"),OL("when","desc")),De=qa(le,Se=>{l(Se.docs.map(ge=>({id:ge.id,...ge.data()}))),p(!1)});return()=>{H(),J(),De()}},[e,t,P]),A.useEffect(()=>{var Q;const F=(Q=rt.currentUser)==null?void 0:Q.uid;if(!e||!F||a.length===0){d({});return}const H=a.map(J=>qa(pe(te,"teams",e,"matches",J.id,"attendance",F),le=>{d(De=>({...De,[J.id]:le.exists()?le.data().status:"none"}))}));return()=>H.forEach(J=>J())},[e,a]);const R=A.useCallback(async F=>{if(!e||!(F!=null&&F.id))return[];const H=cn(te,"teams",e,"matches",F.id,"attendance"),Q=xs(H,Wo("status","==","yes")),le=(await er(Q)).docs.map(Se=>Se.id);return le.length===0?[]:(await Promise.all(le.map(Se=>js(pe(te,"users",Se))))).map(Se=>{if(!Se.exists())return null;const ge=Se.data(),$e=ge.realName;let yt=60;if(typeof ge.playerOvr=="number")yt=ge.playerOvr;else if(ge.stats){const Gr=Object.values(ge.stats).filter(Dn=>typeof Dn=="number");Gr.length>0&&(yt=Math.round(Gr.reduce((Dn,Xr)=>Dn+Xr,0)/Gr.length))}return{uid:Se.id,name:$e,pos:ge.position||"CM",ovr:yt}}).filter(Boolean)},[e]),N=A.useCallback(async F=>{try{const H=await R(F);if(F.status==="completed"){const Q=new Map(H.map(ge=>[ge.uid,ge.name])),J=cn(te,"teams",e,"matches",F.id,"surveys"),le=await er(J),De={attack:new Map,defense:new Map,mvp:new Map};le.docs.forEach(ge=>{const $e=ge.data()||{};($e.attack||[]).forEach(yt=>De.attack.set(yt,(De.attack.get(yt)||0)+1)),($e.defense||[]).forEach(yt=>De.defense.set(yt,(De.defense.get(yt)||0)+1)),$e.mvp&&De.mvp.set($e.mvp,(De.mvp.get($e.mvp)||0)+1)});const Se=ge=>[...ge.entries()].map(([$e,yt])=>({uid:$e,cnt:yt,name:Q.get($e)||"()"})).sort(($e,yt)=>yt.cnt-$e.cnt);M({open:!0,match:F,data:{attack:Se(De.attack),defense:Se(De.defense),mvp:Se(De.mvp)}})}else y({open:!0,match:F,attendees:H})}catch(H){console.error("   :",H),alert("    .")}},[e,R]),b=async F=>{if(!e)return;const Q=(F.role||"").toLowerCase().includes("vice")?"member":"vice-captain";try{const J=Qa(te),le=pe(te,"teams",e,"members",F.id);J.update(le,{role:Q});const De=pe(te,"users",F.id);J.update(De,{teamRole:Q}),await J.commit()}catch(J){console.error(" / :",J),alert("    .")}},se=async()=>{var H;const F=(H=rt.currentUser)==null?void 0:H.uid;if(!F||!e){alert(":      .");return}if(window.confirm("   ?     .")){_(!0);try{const Q=Qa(te),J=pe(te,"teams",e,"members",F);Q.delete(J);const le=pe(te,"users",F);Q.update(le,{teamId:cl(),teamRole:cl()}),await Q.commit(),t("/")}catch(Q){console.error("  :",Q),alert("    ."),_(!1)}}},re=async F=>{var Q;const H=(Q=rt.currentUser)==null?void 0:Q.uid;if(!(!e||!H||!F.id||H===F.id)&&window.confirm(`${F.realName}  ?     .`))try{const J=Qa(te),le=pe(te,"teams",e,"members",F.id),De=pe(te,"users",F.id);J.update(le,{role:"captain"}),J.update(De,{teamRole:"captain"});const Se=pe(te,"teams",e,"members",H),ge=pe(te,"users",H);J.update(Se,{role:"member"}),J.update(ge,{teamRole:"member"}),await J.commit()}catch(J){console.error("  :",J),alert("    .")}},ee=async(F,H)=>{var J;const Q=(J=rt.currentUser)==null?void 0:J.uid;if(!Q||!e||!F){console.error("   /  .");return}try{const le=pe(te,"teams",e,"matches",F,"attendance",Q);await ji(le,{status:H})}catch(le){console.error("   :",le),alert("     .")}},ie=async F=>{if(!(!e||!(F!=null&&F.id))&&window.confirm("   ?       ."))try{const H=Qa(te),Q=cn(te,"teams",e,"matches",F.id,"attendance");(await er(Q)).docs.forEach(ge=>H.delete(ge.ref));const le=cn(te,"teams",e,"matches",F.id,"surveys");(await er(le)).docs.forEach(ge=>H.delete(ge.ref));const Se=pe(te,"teams",e,"matches",F.id);H.delete(Se),await H.commit()}catch(H){console.error("  :",H),alert("    .")}},B=async F=>{var H;if(!(!e||!(F!=null&&F.id)))try{const Q=await R(F);if(!Q||Q.length===0){alert(` 0    .
 ''  .`);return}const J=Q.map(ge=>ge.uid),le=pe(te,"teams",e,"matches",F.id);await $o(le,{status:"completed",pendingSurveyParticipants:J});const De=(H=rt.currentUser)==null?void 0:H.uid;J.includes(De)?x({open:!0,match:F,attendees:Q}):alert("  .")}catch(Q){console.error("   :",Q),alert("    .")}};return h&&!r?T.jsx("div",{className:de.loadingContainer,children:"   ..."}):T.jsxs("div",{className:de.pageContainer,children:[T.jsx(Q9,{teamInfo:r,isCaptain:v,onLeaveTeam:se,isLeaving:g}),T.jsxs("main",{className:de.content,children:[T.jsxs("section",{className:de.section,children:[T.jsxs("h3",{children:["  (",a.length,")"]}),a.length===0?T.jsx("div",{className:de.emptyState,children:"  ."}):a.map(F=>T.jsx(K9,{match:F,myStatus:c[F.id]||"none",canManage:P,onCardClick:()=>N(F),onSetAttendance:H=>ee(F.id,H),onComplete:()=>B(F),onCancel:()=>ie(F),onDelete:()=>ie(F)},F.id))]}),P&&T.jsx("section",{className:de.section,children:T.jsxs("button",{className:de.createMatchButton,onClick:()=>I(!0),children:[T.jsx("h4",{children:"  "}),T.jsx("p",{children:"     ."})]})}),T.jsxs("section",{className:de.section,children:[T.jsxs("h3",{children:["  (",i.length,")"]}),i.map(F=>{var H;return T.jsx(G9,{member:F,isMyCard:((H=rt.currentUser)==null?void 0:H.uid)===F.id,isCaptainView:v,onDelegateCaptain:()=>re(F),onSetVice:()=>b(F)},F.id)})]})]}),D&&T.jsx(RW,{teamId:e,onClose:()=>I(!1)}),w.open&&T.jsx(i9,{...w,onClose:()=>y(F=>({...F,open:!1})),teamId:e,canManage:P}),E.open&&T.jsx(nk,{...E,onClose:()=>x(F=>({...F,open:!1})),teamId:e,userProfile:n}),L.open&&T.jsx(f9,{...L,onClose:()=>M(F=>({...F,open:!1}))})]})}const Q9=({teamInfo:n,isCaptain:e,onLeaveTeam:t,isLeaving:r})=>T.jsxs("header",{className:de.header,children:[T.jsxs("div",{className:de.headerMain,children:[T.jsx("h2",{className:de.headerTitle,children:(n==null?void 0:n.teamName)||" "}),T.jsxs("div",{className:de.headerActions,children:[!e&&T.jsx("button",{className:de.actionButton,onClick:t,disabled:r,children:r?" ":" "}),T.jsx(Ci,{to:"/",className:de.actionLink,children:" "})]})]}),T.jsxs("div",{className:de.inviteCode,children:[" : ",T.jsx("strong",{children:(n==null?void 0:n.inviteCode)||"-"})]})]}),K9=({match:n,myStatus:e,canManage:t,onCardClick:r,onSetAttendance:s,onComplete:i,onCancel:o,onDelete:a})=>{var h;const l=(h=n.when)!=null&&h.toDate?JF(n.when.toDate(),"yyyy.MM.dd (EEE) HH:mm",{locale:Em}):"-",c=!n.status||n.status==="pending",d=n.status==="completed";return T.jsxs("div",{className:`${de.card} ${d?de.cardCompleted:""}`,children:[t&&T.jsx("div",{className:de.topRightActions,children:d&&T.jsx("button",{onClick:p=>{p.stopPropagation(),a()},title:" ",className:de.deleteButton,children:""})}),T.jsxs("div",{role:"button",tabIndex:0,className:de.cardClickableArea,onClick:r,onKeyDown:p=>p.key==="Enter"&&r(),children:[T.jsx("h4",{children:l}),T.jsx("p",{children:n.location})]}),c&&T.jsxs("div",{className:de.cardActions,children:[T.jsxs("div",{className:de.attendanceButtons,children:[T.jsx("button",{className:`${de.attButton} ${e==="yes"?de.active:""}`,onClick:()=>s("yes"),children:""}),T.jsx("button",{className:`${de.attButton} ${e==="maybe"?de.active:""}`,onClick:()=>s("maybe"),children:""}),T.jsx("button",{className:`${de.attButton} ${e==="no"?de.active:""}`,onClick:()=>s("no"),children:""})]}),t&&T.jsxs("div",{className:de.adminActions,children:[T.jsx("button",{className:`${de.adminButton} ${de.primary}`,onClick:()=>i(),children:" "}),T.jsx("button",{className:`${de.adminButton} ${de.danger}`,onClick:()=>o(),children:" "})]})]})]})},G9=({member:n,isMyCard:e,isCaptainView:t,onDelegateCaptain:r,onSetVice:s})=>{const i=n.selectedPlayerName?`${n.realName} (${n.selectedPlayerName})`:n.realName,o=(n.role||"member").toLowerCase(),a=o==="captain",l=o.includes("vice");return T.jsxs("div",{className:`${de.memberCard} ${a?de.captainCard:""} ${l?de.viceCard:""}`,children:[T.jsxs("div",{className:de.memberHeader,children:[T.jsx("div",{className:de.memberName,children:i}),T.jsx("div",{className:de.memberOvr,children:n.displayOvr??"-"})]}),T.jsxs("div",{className:de.memberMeta,children:[n.position||"-","  ",n.role||"member"]}),t&&!e&&!a&&T.jsxs("div",{className:de.captainActions,children:[T.jsx("button",{onClick:r,children:" "}),T.jsx("button",{onClick:s,className:l?de.active:"",children:" "})]})]})};function X9(){const[n,e]=A.useState(null),[t,r]=A.useState(null),[s,i]=A.useState(!0);if(A.useEffect(()=>{const a=PA(rt,l=>{e(l),l||i(!1)});return()=>a()},[]),A.useEffect(()=>{if(n){const a=pe(te,"users",n.uid),l=qa(a,c=>{c.exists()?r(c.data()):r(null),i(!1)},c=>{console.error("  :",c),i(!1)});return()=>l()}else r(null)},[n]),s)return T.jsx("div",{className:"loading-container",children:" ..."});const o=()=>n?t!=null&&t.surveyCompleted?T.jsxs(bf,{children:[T.jsx(Rn,{path:"/",element:T.jsx(IV,{userProfile:t})}),T.jsx(Rn,{path:"/create-team",element:T.jsx(LV,{})}),T.jsx(Rn,{path:"/join-team",element:T.jsx(qV,{})}),T.jsx(Rn,{path:"/team/:teamId",element:T.jsx(q9,{userProfile:t})}),T.jsx(Rn,{path:"*",element:T.jsx(Pf,{to:"/"})})]}):T.jsxs(bf,{children:[T.jsx(Rn,{path:"/survey",element:T.jsx(k2,{userProfile:t})}),T.jsx(Rn,{path:"*",element:T.jsx(Pf,{to:"/survey"})})]}):T.jsxs(bf,{children:[T.jsx(Rn,{path:"/login",element:T.jsx(JL,{})}),T.jsx(Rn,{path:"/signup",element:T.jsx(ZL,{})}),T.jsx(Rn,{path:"*",element:T.jsx(Pf,{to:"/login"})})]});return T.jsx(zb,{children:o()})}bS(document.getElementById("root")).render(T.jsx(A.StrictMode,{children:T.jsx(X9,{})}));
